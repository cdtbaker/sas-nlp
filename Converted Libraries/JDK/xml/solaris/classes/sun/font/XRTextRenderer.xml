<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.font">
        <import package="sun.awt"/>
        <import package="sun.java2d.SunGraphics2D"/>
        <import package="sun.java2d.pipe.GlyphListPipe"/>
        <import package="sun.java2d.xr"/>
        <class name="XRTextRenderer" line="33">
            <extends class="GlyphListPipe"/>
            <javadoc line="33">
                A delegate pipe of SG2D for drawing any text to a XRender surface                
                <author>
                    Clemens Eisserer                    
                </author>
            </javadoc>
            <declaration name="glyphCache" type="XRGlyphCache" line="40"/>
            <declaration name="maskBuffer" type="XRCompositeManager" line="41"/>
            <declaration name="backend" type="XRBackend" line="42"/>
            <declaration name="eltList" type="GrowableEltArray" line="44"/>
            <method name="XRTextRenderer" type="constructor" line="46">
                <params>
                    <param name="buffer" type="XRCompositeManager"/>
                </params>
            </method>
            <method name="drawGlyphList" type="void" line="53">
                <params>
                    <param name="sg2d" type="SunGraphics2D"/>
                    <param name="gl" type="GlyphList"/>
                </params>
                <comment line="105">
                    /*In this case advX only stores rounding errors*/                    
                </comment>
                <comment line="113">
                    Calculate next glyph&apos;s position in the case of
                     relative positioning. In XRender we can only position
                     glyphs using integer coordinates, therefor we sum all
                     the advances up as float, and convert them to integer
                     later. This way rounding-error can be corrected, and
                     is required to be consistent with the software loops.                    
                </comment>
                <comment line="124">
                    Advance of ELT = difference between stored
                     relative
                     positioning information and required float.                    
                </comment>
                <comment line="130">
                    Offset of the current glyph is the difference to the last
                     glyph and this one                    
                </comment>
                <scope line="54"/>
                <scope line="58">
                    <declaration name="x11sd" type="XRSurfaceData" line="61"/>
                    <declaration name="advX" type="float" line="65"/>
                    <declaration name="advY" type="float" line="66"/>
                    <declaration name="oldPosX" type="int" line="67"/>
                    <scope line="69"/>
                    <scope line="72"/>
                    <declaration name="cachedGlyphs" type="XRGlyphCacheEntry[]" line="77"/>
                    <declaration name="containsLCDGlyphs" type="boolean" line="78"/>
                    <declaration name="activeGlyphSet" type="int" line="79"/>
                    <declaration name="eltIndex" type="int" line="81"/>
                    <declaration name="positions" type="float[]" line="83"/>
                    <scope line="84">
                        <declaration name="cacheEntry" type="XRGlyphCacheEntry" line="86"/>
                        <declaration name="glyphSet" type="int" line="89"/>
                        <declaration name="posX" type="int" line="93"/>
                        <scope line="96">
                            <scope line="103">
                                <declaration name="x" type="float" line="105"/>
                                <declaration name="y" type="float" line="106"/>
                            </scope>
                            <scope line="111"/>
                        </scope>
                        <scope line="139"/>
                    </scope>
                    <declaration name="maskFormat" type="int" line="144"/>
                </scope>
                <scope line="148"/>
            </method>
        </class>
    </source>