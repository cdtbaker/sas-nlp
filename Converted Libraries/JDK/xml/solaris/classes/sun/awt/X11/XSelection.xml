<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.awt.X11">
        <import package="java.awt.datatransfer.Transferable"/>
        <import package="java.io.ByteArrayOutputStream"/>
        <import package="java.io.IOException"/>
        <import package="java.util.Hashtable"/>
        <import package="java.util.Map"/>
        <import package="sun.awt.AppContext"/>
        <import package="sun.awt.SunToolkit"/>
        <import package="sun.awt.UNIXToolkit"/>
        <import package="sun.awt.datatransfer.DataTransferer"/>
        <class name="XSelection" line="11">
            <javadoc line="11">
                A class which interfaces with the X11 selection service.                
            </javadoc>
            <declaration name="table" type="Hashtable&lt;XAtom,XSelection&gt;" line="15"/>
            <declaration name="lock" type="Object" line="16"/>
            <declaration name="selectionPropertyAtom" type="XAtom" line="17"/>
            <declaration name="MAX_LENGTH" type="long" line="18"/>
            <declaration name="MAX_PROPERTY_SIZE" type="int" line="19"/>
            <scope line="20">
                <scope line="22"/>
                <scope line="25"/>
            </scope>
            <declaration name="incrementalTransferHandler" type="XEventDispatcher" line="29"/>
            <declaration name="propertyGetter" type="WindowPropertyGetter" line="30"/>
            <declaration name="selectionAtom" type="XAtom" line="31"/>
            <declaration name="contents" type="Transferable" line="32"/>
            <declaration name="formatMap" type="Map" line="33"/>
            <declaration name="formats" type="long[]" line="34"/>
            <declaration name="appContext" type="AppContext" line="35"/>
            <declaration name="lastRequestServerTime" type="long" line="36"/>
            <declaration name="ownershipTime" type="long" line="37"/>
            <declaration name="isOwner" type="boolean" line="38"/>
            <declaration name="ownershipListener" type="OwnershipListener" line="39"/>
            <declaration name="stateLock" type="Object" line="40"/>
            <scope line="41"/>
            <method name="getSelection" type="XSelection" line="44">
                <params>
                    <param name="atom" type="XAtom"/>
                </params>
            </method>
            <javadoc line="47">
                Creates a selection object.                
                <param>
                    atom   the selection atom.                    
                </param>
                <param>
                    clpbrd the corresponding clipoboard                    
                </param>
                <exception>
                    NullPointerException if atom is <code>null</code>.                    
                </exception>
            </javadoc>
            <method name="XSelection" type="constructor" line="53">
                <params>
                    <param name="atom" type="XAtom"/>
                </params>
                <scope line="54"/>
            </method>
            <method name="getSelectionAtom" type="XAtom" line="60"/>
            <method name="setOwner" type="boolean" line="63">
                <params>
                    <param name="contents" type="Transferable"/>
                    <param name="formatMap" type="Map"/>
                    <param name="formats" type="long[]"/>
                    <param name="time" type="long"/>
                </params>
                <declaration name="owner" type="long" line="64"/>
                <declaration name="selection" type="long" line="65"/>
                <scope line="66"/>
                <scope line="75">
                    <scope line="77"/>
                </scope>
                <scope line="84"/>
            </method>
            <javadoc line="88">
                Blocks the current thread till SelectionNotify or PropertyNotify (in case of INCR transfer) arrives.                
            </javadoc>
            <method name="waitForSelectionNotify" type="void" line="91">
                <params>
                    <param name="dataGetter" type="WindowPropertyGetter"/>
                </params>
                <declaration name="startTime" type="long" line="92"/>
                <scope line="94">
                    <scope line="95"/>
                </scope>
                <scope line="101"/>
            </method>
            <method name="getTargets" type="long[]" line="105">
                <params>
                    <param name="time" type="long"/>
                </params>
                <scope line="106"/>
                <declaration name="targets" type="long[]" line="109"/>
                <scope line="110">
                    <declaration name="targetsGetter" type="WindowPropertyGetter" line="111"/>
                    <scope line="112">
                        <scope line="114">
                            <scope line="118"/>
                            <scope line="121"/>
                            <scope line="124"/>
                        </scope>
                        <scope line="128"/>
                    </scope>
                    <scope line="133"/>
                </scope>
            </method>
            <method name="getFormats" type="long[]" line="139">
                <params>
                    <param name="targetsGetter" type="WindowPropertyGetter"/>
                </params>
                <declaration name="formats" type="long[]" line="140"/>
                <scope line="141">
                    <declaration name="count" type="int" line="142"/>
                    <scope line="143">
                        <declaration name="atoms" type="long" line="144"/>
                        <scope line="146"/>
                    </scope>
                </scope>
            </method>
            <method name="getData" type="byte[]" line="153">
                <params>
                    <param name="format" type="long"/>
                    <param name="time" type="long"/>
                </params>
                <scope line="154"/>
                <declaration name="data" type="byte[]" line="157"/>
                <scope line="158">
                    <declaration name="dataGetter" type="WindowPropertyGetter" line="159"/>
                    <scope line="160">
                        <scope line="162">
                            <scope line="166"/>
                            <scope line="169"/>
                            <scope line="172"/>
                        </scope>
                        <scope line="176"/>
                        <scope line="180">
                            <scope line="181"/>
                            <declaration name="count" type="int" line="184"/>
                            <scope line="185"/>
                            <declaration name="ptr" type="long" line="188"/>
                            <declaration name="len" type="int" line="189"/>
                            <scope line="190">
                                <declaration name="longLength" type="long" line="191"/>
                                <scope line="192"/>
                                <scope line="195"/>
                            </scope>
                            <declaration name="dataStream" type="ByteArrayOutputStream" line="201"/>
                            <scope line="202">
                                <declaration name="incrDataGetter" type="WindowPropertyGetter" line="203"/>
                                <scope line="204">
                                    <scope line="208"/>
                                    <scope line="212"/>
                                    <scope line="215"/>
                                    <scope line="221"/>
                                    <scope line="225"/>
                                    <scope line="228">
                                        <scope line="230"/>
                                    </scope>
                                </scope>
                                <scope line="236"/>
                            </scope>
                        </scope>
                        <scope line="241">
                            <scope line="243"/>
                            <scope line="246"/>
                            <scope line="249"/>
                            <declaration name="count" type="int" line="252"/>
                            <scope line="253">
                                <declaration name="ptr" type="long" line="255"/>
                                <scope line="256"/>
                            </scope>
                        </scope>
                    </scope>
                    <scope line="262"/>
                </scope>
            </method>
            <method name="validateDataGetter" type="void" line="268">
                <params>
                    <param name="propertyGetter" type="WindowPropertyGetter"/>
                </params>
                <scope line="269"/>
                <scope line="272"/>
            </method>
            <method name="isOwner" type="boolean" line="276"/>
            <method name="setOwnerProp" type="void" line="279">
                <params>
                    <param name="f" type="boolean"/>
                </params>
            </method>
            <method name="lostOwnership" type="void" line="283"/>
            <method name="reset" type="void" line="286"/>
            <method name="convertAndStore" type="boolean" line="293">
                <params>
                    <param name="requestor" type="long"/>
                    <param name="format" type="long"/>
                    <param name="property" type="long"/>
                </params>
                <declaration name="dataFormat" type="int" line="294"/>
                <declaration name="byteData" type="byte[]" line="295"/>
                <declaration name="nativeDataPtr" type="long" line="296"/>
                <declaration name="count" type="int" line="297"/>
                <scope line="298"/>
                <scope line="302"/>
                <scope line="305"/>
                <scope line="309">
                    <scope line="310">
                        <scope line="311"/>
                        <scope line="314"/>
                    </scope>
                    <scope line="324"/>
                    <scope line="327"/>
                </scope>
                <scope line="331">
                    <scope line="332"/>
                </scope>
            </method>
            <method name="handleSelectionRequest" type="void" line="339">
                <params>
                    <param name="xsre" type="XSelectionRequestEvent"/>
                </params>
                <declaration name="property" type="long" line="340"/>
                <declaration name="requestor" type="long" line="341"/>
                <declaration name="requestTime" type="long" line="342"/>
                <declaration name="format" type="long" line="343"/>
                <declaration name="conversionSucceeded" type="boolean" line="344"/>
                <scope line="345">
                    <scope line="346"/>
                    <scope line="349">
                        <scope line="350"/>
                        <scope line="353"/>
                        <scope line="356"/>
                    </scope>
                </scope>
                <scope line="361"/>
                <declaration name="xse" type="XSelectionEvent" line="364"/>
                <scope line="365">
                    <scope line="374"/>
                    <scope line="377"/>
                </scope>
                <scope line="381"/>
            </method>
            <method name="handleMultipleRequest" type="boolean" line="385">
                <params>
                    <param name="requestor" type="long"/>
                    <param name="property" type="long"/>
                </params>
                <scope line="386"/>
                <declaration name="conversionSucceeded" type="boolean" line="389"/>
                <declaration name="wpg" type="WindowPropertyGetter" line="390"/>
                <scope line="391">
                    <scope line="393">
                        <declaration name="count" type="long" line="394"/>
                        <declaration name="pairsPtr" type="long" line="395"/>
                        <declaration name="writeBack" type="boolean" line="396"/>
                        <scope line="397">
                            <declaration name="target" type="long" line="398"/>
                            <declaration name="prop" type="long" line="399"/>
                            <scope line="400"/>
                        </scope>
                        <scope line="405">
                            <scope line="407"/>
                            <scope line="410"/>
                        </scope>
                    </scope>
                </scope>
                <scope line="417"/>
            </method>
            <method name="handleTargetsRequest" type="boolean" line="422">
                <params>
                    <param name="property" type="long"/>
                    <param name="requestor" type="long"/>
                </params>
                <declaration name="conversionSucceeded" type="boolean" line="423"/>
                <declaration name="formatsLocal" type="long[]" line="424"/>
                <scope line="425"/>
                <declaration name="nativeDataPtr" type="long" line="428"/>
                <scope line="429">
                    <declaration name="count" type="int" line="430"/>
                    <declaration name="dataFormat" type="int" line="431"/>
                    <scope line="432"/>
                    <scope line="438"/>
                    <scope line="441"/>
                </scope>
                <scope line="445">
                    <scope line="446"/>
                </scope>
            </method>
            <method name="fireOwnershipChanges" type="void" line="453">
                <params>
                    <param name="isOwner" type="boolean"/>
                </params>
                <declaration name="l" type="OwnershipListener" line="454"/>
                <scope line="455"/>
                <scope line="458"/>
            </method>
            <method name="registerOwershipListener" type="void" line="462">
                <params>
                    <param name="l" type="OwnershipListener"/>
                </params>
                <scope line="463"/>
            </method>
            <method name="unregisterOwnershipListener" type="void" line="467">
                <scope line="468"/>
            </method>
            <class name="SelectionEventHandler" line="472">
                <implements interface="XEventDispatcher"/>
                <method name="dispatchEvent" type="void" line="473">
                    <params>
                        <param name="ev" type="XEvent"/>
                    </params>
                    <scope line="476">
                        <scope line="478">
                            <declaration name="xse" type="XSelectionEvent" line="479"/>
                            <scope line="480">
                                <scope line="481"/>
                                <scope line="485"/>
                            </scope>
                        </scope>
                        <scope line="492"/>
                    </scope>
                    <scope line="498">
                        <declaration name="xsre" type="XSelectionRequestEvent" line="499"/>
                        <declaration name="atom" type="long" line="500"/>
                        <declaration name="selection" type="XSelection" line="501"/>
                        <scope line="502"/>
                    </scope>
                    <scope line="508">
                        <declaration name="xsce" type="XSelectionClearEvent" line="509"/>
                        <declaration name="atom" type="long" line="510"/>
                        <declaration name="selection" type="XSelection" line="511"/>
                        <scope line="512"/>
                        <scope line="516"/>
                        <scope line="519"/>
                    </scope>
                </method>
            </class>
            <class name="IncrementalDataProvider" line="527">
                <implements interface="XEventDispatcher"/>
                <declaration name="requestor" type="long" line="528"/>
                <declaration name="property" type="long" line="529"/>
                <declaration name="target" type="long" line="530"/>
                <declaration name="format" type="int" line="531"/>
                <declaration name="data" type="byte[]" line="532"/>
                <declaration name="offset" type="int" line="533"/>
                <method name="IncrementalDataProvider" type="constructor" line="534">
                    <params>
                        <param name="requestor" type="long"/>
                        <param name="property" type="long"/>
                        <param name="target" type="long"/>
                        <param name="format" type="int"/>
                        <param name="data" type="byte[]"/>
                    </params>
                    <scope line="535"/>
                    <declaration name="wattr" type="XWindowAttributes" line="543"/>
                    <scope line="544">
                        <scope line="546"/>
                        <scope line="550"/>
                    </scope>
                    <scope line="554"/>
                </method>
                <method name="dispatchEvent" type="void" line="559">
                    <params>
                        <param name="ev" type="XEvent"/>
                    </params>
                    <declaration name="xpe" type="XPropertyEvent" line="562"/>
                    <scope line="563">
                        <declaration name="count" type="int" line="564"/>
                        <declaration name="nativeDataPtr" type="long" line="565"/>
                        <scope line="566"/>
                        <scope line="569">
                            <scope line="571"/>
                        </scope>
                        <scope line="575"/>
                        <scope line="580"/>
                        <scope line="583"/>
                        <scope line="586"/>
                    </scope>
                </method>
            </class>
            <class name="IncrementalTransferHandler" line="595">
                <implements interface="XEventDispatcher"/>
                <method name="dispatchEvent" type="void" line="596">
                    <params>
                        <param name="ev" type="XEvent"/>
                    </params>
                    <declaration name="xpe" type="XPropertyEvent" line="599"/>
                    <scope line="600">
                        <scope line="602">
                            <scope line="603"/>
                        </scope>
                        <scope line="609"/>
                    </scope>
                </method>
            </class>
        </class>
    </source>