<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.awt.X11">
        <import package="java.awt"/>
        <import package="java.awt.event.MouseEvent"/>
        <import package="java.awt.event.MouseWheelEvent"/>
        <import package="java.awt.event.AdjustmentEvent"/>
        <import package="java.util.List"/>
        <import package="java.util.ArrayList"/>
        <import package="java.util.Iterator"/>
        <import package="sun.awt.motif.X11FontMetrics"/>
        <import package="sun.util.logging.PlatformLogger"/>
        <class name="ListHelper" line="45">
            <comment line="51">
                Width of border drawn around the list
                 of items                
            </comment>
            <comment line="53">
                Margin between the border of the list
                 of items and and item&apos;s bg, and between
                 items                
            </comment>
            <comment line="56">
                Space between the edge of an item and
                 the text                
            </comment>
            <comment line="59">
                Width of a scrollbar                
            </comment>
            <comment line="61">
                List of items                
            </comment>
            <comment line="63">
                TODO: maybe this would be better as a simple int[]                
            </comment>
            <comment line="64">
                List of selected items                
            </comment>
            <comment line="65">
                Can multiple items be selected
                 at once?                
            </comment>
            <comment line="69">
                # items visible without a vsb                
            </comment>
            <comment line="70">
                null if unsupported                
            </comment>
            <comment line="72">
                null if unsupported                
            </comment>
            <comment line="78">
                So far, only needed for painting
                 on notifyValue()                
            </comment>
            <comment line="80">
                Passed in for painting on notifyValue()                
            </comment>
            <comment line="82">
                Holds the true if mouse is dragging outside of the area of the list
                 The flag is used at the moment of the dragging and releasing mouse
                 See 6243382 for more information                
            </comment>
            <comment line="88">
                Comment                
            </comment>
            <comment line="131">
                                
            </comment>
            <comment line="132">
                                
            </comment>
            <comment line="168">
                docs.....definitely docs
                 merely keeps internal track of which items are selected for painting
                 dealing with target Components happens elsewhere                
            </comment>
            <comment line="187">
                                
            </comment>
            <comment line="192">
                                
            </comment>
            <comment line="193">
                                
            </comment>
            <comment line="204">
                A getter method for XChoicePeer.
                 Returns vsbVisiblityChanged value and sets it to false.                
            </comment>
            <comment line="226">
                                
            </comment>
            <comment line="227">
                                
            </comment>
            <comment line="246">
                Returns width of the text of the longest item                
            </comment>
            <comment line="259">
                Height of an item (this doesn&apos;t include ITEM_MARGIN)                
            </comment>
            <comment line="276">
                write these
                int index2y(int);
                public int numItemsDisplayed() {}                
            </comment>
            <comment line="297">
                If the given index is not visible in the List, scroll so that it is.                
            </comment>
            <comment line="311">
                FIXME: multi-select needs separate focused index                
            </comment>
            <comment line="407">
                Called when items are addedremoved.
                 Update whether the scrollbar is visible or not, scrollbar values                
            </comment>
            <comment line="477">
                public void paintItems(Graphics g,
                Color[] colors,
                Rectangle bounds,
                Font font,
                int first,
                int last,
                XVerticalScrollbar vsb,
                XHorizontalScrollbar hsb) {                
            </comment>
            <comment line="532">
                comment about what is painted (i.e. the focus rect                
            </comment>
            <comment line="612">
                Helper method for Components with integrated scrollbars.
                 Pass in the vertical and horizontal scroll bar (or null for nonehidden)
                 and the MouseWheelEvent, and the appropriate scrollbar will be scrolled
                 correctly.
                 Returns whether or not scrolling actually took place.  This will indicate
                 whether or not repainting is required.                
            </comment>
            <comment line="658">
                Helper method for XChoicePeer with integrated vertical scrollbar.
                 Start or stop vertical scrolling when mouse dragged in  out the area of the list if it&apos;s required
                 Restoring Motif behavior
                 See 6243382 for more information                
            </comment>
            <comment line="685">
                Helper method for XChoicePeer with integrated vertical scrollbar.
                 Stop vertical scrolling when mouse released in  out the area of the list if it&apos;s required
                 Restoring Motif behavior
                 see 6243382 for more information                
            </comment>
            <implements interface="XScrollbarClient"/>
            <declaration name="log" type="PlatformLogger" line="46"/>
            <declaration name="FOCUS_INSET" type="int" line="48"/>
            <declaration name="BORDER_WIDTH" type="int" line="50"/>
            <declaration name="ITEM_MARGIN" type="int" line="52"/>
            <declaration name="TEXT_SPACE" type="int" line="55"/>
            <declaration name="SCROLLBAR_WIDTH" type="int" line="58"/>
            <declaration name="items" type="java.util.List" line="60"/>
            <declaration name="selected" type="java.util.List" line="63"/>
            <declaration name="multiSelect" type="boolean" line="64"/>
            <declaration name="focusedIndex" type="int" line="66"/>
            <declaration name="maxVisItems" type="int" line="68"/>
            <declaration name="vsb" type="XVerticalScrollbar" line="69"/>
            <declaration name="vsbVis" type="boolean" line="70"/>
            <declaration name="hsb" type="XHorizontalScrollbar" line="71"/>
            <declaration name="hsbVis" type="boolean" line="72"/>
            <declaration name="font" type="Font" line="74"/>
            <declaration name="fm" type="FontMetrics" line="75"/>
            <declaration name="peer" type="XWindow" line="77"/>
            <declaration name="colors" type="Color[]" line="79"/>
            <declaration name="mouseDraggedOutVertically" type="boolean" line="84"/>
            <declaration name="vsbVisibilityChanged" type="boolean" line="85"/>
            <method name="ListHelper" type="constructor" line="101">
                <params>
                    <param name="peer" type="XWindow"/>
                    <param name="colors" type="Color[]"/>
                    <param name="initialSize" type="int"/>
                    <param name="multiSelect" type="boolean"/>
                    <param name="scrollVert" type="boolean"/>
                    <param name="scrollHoriz" type="boolean"/>
                    <param name="font" type="Font"/>
                    <param name="maxVisItems" type="int"/>
                    <param name="SPACE" type="int"/>
                    <param name="MARGIN" type="int"/>
                    <param name="BORDER" type="int"/>
                    <param name="SCROLLBAR" type="int"/>
                </params>
                <scope line="110"/>
                <scope line="114"/>
            </method>
            <method name="getEventSource" type="Component" line="126"/>
            <javadoc line="132">
                                
            </javadoc>
            <method name="add" type="void" line="134">
                <params>
                    <param name="item" type="String"/>
                </params>
            </method>
            <method name="add" type="void" line="139">
                <params>
                    <param name="item" type="String"/>
                    <param name="index" type="int"/>
                </params>
            </method>
            <method name="remove" type="void" line="144">
                <params>
                    <param name="item" type="String"/>
                </params>
                <comment line="146">
                    FIXME: need to clean up select list, too?                    
                </comment>
                <comment line="149">
                    Is vsb visible now?                    
                </comment>
            </method>
            <method name="remove" type="void" line="151">
                <params>
                    <param name="index" type="int"/>
                </params>
                <comment line="153">
                    FIXME: need to clean up select list, too?                    
                </comment>
                <comment line="156">
                    Is vsb visible now?                    
                </comment>
            </method>
            <method name="removeAll" type="void" line="158"/>
            <method name="setMultiSelect" type="void" line="163">
                <params>
                    <param name="ms" type="boolean"/>
                </params>
            </method>
            <method name="select" type="void" line="172">
                <params>
                    <param name="index" type="int"/>
                </params>
                <scope line="173"/>
                <scope line="176"/>
                <scope line="179"/>
            </method>
            <method name="deselect" type="void" line="187">
                <params>
                    <param name="index" type="int"/>
                </params>
            </method>
            <method name="getSelectedIndex" type="int" line="193">
                <scope line="194">
                    <declaration name="val" type="Integer" line="195"/>
                </scope>
            </method>
            <method name="getSelectedIndexes" type="int[]" line="201"/>
            <method name="checkVsbVisibilityChangedAndReset" type="boolean" line="207">
                <declaration name="returnVal" type="boolean" line="208"/>
            </method>
            <method name="isEmpty" type="boolean" line="213"/>
            <method name="getItemCount" type="int" line="217"/>
            <method name="getItem" type="String" line="221">
                <params>
                    <param name="index" type="int"/>
                </params>
            </method>
            <javadoc line="227">
                                
            </javadoc>
            <method name="setFocusedIndex" type="void" line="229">
                <params>
                    <param name="index" type="int"/>
                </params>
            </method>
            <method name="isFocusedIndex" type="boolean" line="233">
                <params>
                    <param name="index" type="int"/>
                </params>
            </method>
            <method name="setFont" type="void" line="237">
                <params>
                    <param name="newFont" type="Font"/>
                </params>
                <comment line="242">
                    Also cache stuff like fontHeight?                    
                </comment>
                <scope line="238"/>
            </method>
            <method name="getMaxItemWidth" type="int" line="248">
                <declaration name="m" type="int" line="249"/>
                <declaration name="end" type="int" line="250"/>
                <scope line="251">
                    <declaration name="l" type="int" line="252"/>
                </scope>
            </method>
            <method name="getItemHeight" type="int" line="261"/>
            <method name="y2index" type="int" line="265">
                <params>
                    <param name="y" type="int"/>
                </params>
                <comment line="271">
                    See 6243382 for more information                    
                </comment>
                <scope line="266"/>
                <declaration name="newIdx" type="int" line="271"/>
            </method>
            <method name="firstDisplayedIndex" type="int" line="280">
                <scope line="281"/>
            </method>
            <method name="lastDisplayedIndex" type="int" line="287">
                <comment line="289">
                    FIXME: need to account for horiz scroll bar                    
                </comment>
                <scope line="289"/>
            </method>
            <method name="makeVisible" type="void" line="299">
                <params>
                    <param name="index" type="int"/>
                </params>
                <scope line="300">
                    <scope line="301"/>
                    <scope line="304"/>
                </scope>
            </method>
            <method name="up" type="void" line="311">
                <comment line="325">
                    focus(newIdx);                    
                </comment>
                <declaration name="curIdx" type="int" line="312"/>
                <declaration name="numItems" type="int" line="313"/>
                <declaration name="newIdx" type="int" line="314"/>
                <scope line="318"/>
                <scope line="321"/>
            </method>
            <method name="down" type="void" line="328">
                <declaration name="newIdx" type="int" line="329"/>
            </method>
            <method name="pageUp" type="void" line="333">
                <comment line="335">
                    FIXME: for multi-select, move the focused item, not the selected item                    
                </comment>
                <comment line="342">
                    the vsb does bounds checking                    
                </comment>
                <scope line="335">
                    <scope line="336"/>
                    <scope line="339">
                        <declaration name="selectionOffset" type="int" line="340"/>
                        <declaration name="newIdx" type="int" line="342"/>
                    </scope>
                </scope>
            </method>
            <method name="pageDown" type="void" line="348">
                <comment line="356">
                    the vsb does bounds checking                    
                </comment>
                <scope line="349">
                    <scope line="350"/>
                    <scope line="353">
                        <declaration name="selectionOffset" type="int" line="354"/>
                        <declaration name="newIdx" type="int" line="356"/>
                    </scope>
                </scope>
            </method>
            <method name="home" type="void" line="362"/>
            <method name="end" type="void" line="363"/>
            <method name="isVSBVisible" type="boolean" line="366"/>
            <method name="isHSBVisible" type="boolean" line="367"/>
            <method name="getVSB" type="XVerticalScrollbar" line="369"/>
            <method name="getHSB" type="XHorizontalScrollbar" line="370"/>
            <method name="isInVertSB" type="boolean" line="372">
                <params>
                    <param name="bounds" type="Rectangle"/>
                    <param name="x" type="int"/>
                    <param name="y" type="int"/>
                </params>
                <scope line="373">
                    <declaration name="sbHeight" type="int" line="375"/>
                </scope>
            </method>
            <method name="isInHorizSB" type="boolean" line="384">
                <params>
                    <param name="bounds" type="Rectangle"/>
                    <param name="x" type="int"/>
                    <param name="y" type="int"/>
                </params>
                <scope line="385">
                    <declaration name="sbWidth" type="int" line="388"/>
                </scope>
            </method>
            <method name="handleVSBEvent" type="void" line="397">
                <params>
                    <param name="e" type="MouseEvent"/>
                    <param name="bounds" type="Rectangle"/>
                    <param name="x" type="int"/>
                    <param name="y" type="int"/>
                </params>
                <declaration name="sbHeight" type="int" line="398"/>
            </method>
            <method name="updateScrollbars" type="void" line="410">
                <comment line="419">
                    6405689. If Vert Scrollbar gets disappeared from the dropdown menu we should repaint whole dropdown even if
                     no actual resize gets invoked. This is needed because some painting artifacts remained between dropdown items
                     but draw3DRect doesn&apos;t clear the area inside. Instead it just paints lines as borders.                    
                </comment>
                <comment line="423">
                    FIXME: check if added item makes a hsb necessary (if supported, that of course)                    
                </comment>
                <declaration name="oldVsbVis" type="boolean" line="411"/>
                <scope line="413"/>
            </method>
            <method name="getNumItemsDisplayed" type="int" line="425"/>
            <method name="repaintScrollbarRequest" type="void" line="429">
                <params>
                    <param name="sb" type="XScrollbar"/>
                </params>
                <declaration name="g" type="Graphics" line="430"/>
                <declaration name="bounds" type="Rectangle" line="431"/>
                <scope line="432"/>
                <scope line="435"/>
            </method>
            <method name="notifyValue" type="void" line="441">
                <params>
                    <param name="obj" type="XScrollbar"/>
                    <param name="type" type="int"/>
                    <param name="v" type="int"/>
                    <param name="isAdjusting" type="boolean"/>
                </params>
                <comment line="447">
                    See 6243382 for more information                    
                </comment>
                <comment line="455">
                    FIXME: how are we going to paint!?                    
                </comment>
                <comment line="469">
                    FIXME: how are we going to paint!?                    
                </comment>
                <scope line="442">
                    <declaration name="oldScrollValue" type="int" line="443"/>
                    <declaration name="needRepaint" type="boolean" line="445"/>
                    <scope line="447">
                        <declaration name="oldItemValue" type="int" line="448"/>
                        <declaration name="newItemValue" type="int" line="449"/>
                    </scope>
                    <declaration name="g" type="Graphics" line="455"/>
                    <declaration name="bounds" type="Rectangle" line="456"/>
                    <declaration name="first" type="int" line="457"/>
                    <declaration name="last" type="int" line="458"/>
                    <scope line="460"/>
                </scope>
                <scope line="466"/>
            </method>
            <method name="updateColors" type="void" line="472">
                <params>
                    <param name="newColors" type="Color[]"/>
                </params>
            </method>
            <method name="paintItems" type="void" line="488">
                <params>
                    <param name="g" type="Graphics"/>
                    <param name="colors" type="Color[]"/>
                    <param name="bounds" type="Rectangle"/>
                </params>
                <comment line="490">
                    paint border
                     paint items
                     paint scrollbars
                     paint focus?                    
                </comment>
            </method>
            <method name="paintAllItems" type="void" line="497">
                <params>
                    <param name="g" type="Graphics"/>
                    <param name="colors" type="Color[]"/>
                    <param name="bounds" type="Rectangle"/>
                </params>
            </method>
            <method name="paintItems" type="void" line="505">
                <params>
                    <param name="g" type="Graphics"/>
                    <param name="colors" type="Color[]"/>
                    <param name="bounds" type="Rectangle"/>
                    <param name="first" type="int"/>
                    <param name="last" type="int"/>
                </params>
                <comment line="528">
                    FIXME: if none of the items were focused, paint focus around the
                     entire list.  This is how java.awt.List should work.                    
                </comment>
                <declaration name="x" type="int" line="507"/>
                <declaration name="width" type="int" line="508"/>
                <declaration name="height" type="int" line="509"/>
                <declaration name="y" type="int" line="510"/>
                <scope line="512"/>
                <scope line="520"/>
                <scope line="523"/>
            </method>
            <method name="paintItem" type="void" line="539">
                <params>
                    <param name="g" type="Graphics"/>
                    <param name="colors" type="Color[]"/>
                    <param name="string" type="String"/>
                    <param name="x" type="int"/>
                    <param name="y" type="int"/>
                    <param name="width" type="int"/>
                    <param name="height" type="int"/>
                    <param name="selected" type="boolean"/>
                    <param name="focused" type="boolean"/>
                </params>
                <comment line="541">
                    System.out.println(&quot;LP.pI(): x=&quot;+x+&quot; y=&quot;+y+&quot; w=&quot;+width+&quot; h=&quot;+height);
                    g.setColor(colors[BACKGROUND_COLOR]);                    
                </comment>
                <comment line="544">
                    FIXME: items shouldn&apos;t draw into the scrollbar                    
                </comment>
                <comment line="555">
                    g.setColor(colors[XComponentPeer.FOREGROUND_COLOR]);                    
                </comment>
                <comment line="570">
                    Rectangle clip = g.getClipBounds();
                    g.clipRect(x, y, width, height);
                    g.drawString(string, x + TEXT_SPACE, y + TEXT_SPACE + ITEM_MARGIN);                    
                </comment>
                <comment line="578">
                    g.clipRect(clip.x, clip.y, clip.width, clip.height);                    
                </comment>
                <scope line="545"/>
                <scope line="548"/>
                <scope line="553"/>
                <scope line="562"/>
                <scope line="565"/>
                <declaration name="fontAscent" type="int" line="573"/>
                <declaration name="fontDescent" type="int" line="574"/>
            </method>
            <method name="isItemSelected" type="boolean" line="580">
                <params>
                    <param name="index" type="int"/>
                </params>
                <declaration name="itr" type="Iterator" line="581"/>
                <scope line="582">
                    <declaration name="val" type="Integer" line="583"/>
                    <scope line="584"/>
                </scope>
            </method>
            <method name="paintVSB" type="void" line="591">
                <params>
                    <param name="g" type="Graphics"/>
                    <param name="colors" type="Color"/>
                    <param name="bounds" type="Rectangle"/>
                </params>
                <comment line="600">
                    Update scrollbar&apos;s size                    
                </comment>
                <declaration name="height" type="int" line="592"/>
                <declaration name="ng" type="Graphics" line="593"/>
                <scope line="596"/>
                <scope line="602"/>
            </method>
            <method name="paintHSB" type="void" line="607">
                <params>
                    <param name="g" type="Graphics"/>
                    <param name="colors" type="Color"/>
                    <param name="bounds" type="Rectangle"/>
                </params>
            </method>
            <method name="doWheelScroll" type="boolean" line="621">
                <params>
                    <param name="vsb" type="XVerticalScrollbar"/>
                    <param name="hsb" type="XHorizontalScrollbar"/>
                    <param name="e" type="MouseWheelEvent"/>
                </params>
                <comment line="626">
                    Determine which, if any, sb to scroll                    
                </comment>
                <comment line="633">
                    Neither scrollbar is showing                    
                </comment>
                <comment line="639">
                    Check if scroll is necessary                    
                </comment>
                <comment line="649">
                    type is WHEEL_UNIT_SCROLL                    
                </comment>
                <declaration name="scroll" type="XScrollbar" line="622"/>
                <declaration name="wheelRotation" type="int" line="623"/>
                <scope line="626"/>
                <scope line="629"/>
                <scope line="632"/>
                <scope line="641">
                    <declaration name="type" type="int" line="643"/>
                    <declaration name="incr" type="int" line="644"/>
                    <scope line="645"/>
                    <scope line="648"/>
                </scope>
            </method>
            <method name="trackMouseDraggedScroll" type="void" line="663">
                <params>
                    <param name="mouseX" type="int"/>
                    <param name="mouseY" type="int"/>
                    <param name="listWidth" type="int"/>
                    <param name="listHeight" type="int"/>
                </params>
                <scope line="665">
                    <scope line="666"/>
                    <scope line="668"/>
                </scope>
                <scope line="673"/>
                <scope line="678"/>
            </method>
            <method name="trackMouseReleasedScroll" type="void" line="690">
                <scope line="692"/>
            </method>
        </class>
    </source>