<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.awt.X11">
        <import package="java.awt"/>
        <import package="java.awt.peer"/>
        <import package="java.awt.event"/>
        <import package="java.awt.image.BufferedImage"/>
        <import package="java.awt.geom.Point2D"/>
        <import package="java.util.Vector"/>
        <import package="sun.util.logging.PlatformLogger"/>
        <class name="XMenuWindow" line="37">
            <extends class="XBaseMenuWindow"/>
            <comment line="48">
                Primary members                
            </comment>
            <comment line="53">
                dimension constants                
            </comment>
            <comment line="67">
                Checkmark                
            </comment>
            <comment line="71">
                X-coords                
            </comment>
            <comment line="72">
                Y-coords                
            </comment>
            <comment line="153">
                Construction                
            </comment>
            <comment line="189">
                Implementation of abstract methods                
            </comment>
            <comment line="319">
                Overridable caption-painting functions
                 Necessary to fix 6267144: PIT: Popup menu label is not shown, XToolkit                
            </comment>
            <comment line="343">
                General-purpose utility functions                
            </comment>
            <comment line="427">
                Painting                
            </comment>
            <declaration name="log" type="PlatformLogger" line="39"/>
            <javadoc line="39">
                Data members                
            </javadoc>
            <declaration name="menuPeer" type="XMenuPeer" line="50"/>
            <declaration name="WINDOW_SPACING_LEFT" type="int" line="55"/>
            <declaration name="WINDOW_SPACING_RIGHT" type="int" line="56"/>
            <declaration name="WINDOW_SPACING_TOP" type="int" line="57"/>
            <declaration name="WINDOW_SPACING_BOTTOM" type="int" line="58"/>
            <declaration name="WINDOW_ITEM_INDENT" type="int" line="59"/>
            <declaration name="WINDOW_ITEM_MARGIN_LEFT" type="int" line="60"/>
            <declaration name="WINDOW_ITEM_MARGIN_RIGHT" type="int" line="61"/>
            <declaration name="WINDOW_ITEM_MARGIN_TOP" type="int" line="62"/>
            <declaration name="WINDOW_ITEM_MARGIN_BOTTOM" type="int" line="63"/>
            <declaration name="WINDOW_SHORTCUT_SPACING" type="int" line="64"/>
            <declaration name="CHECKMARK_SIZE" type="int" line="69"/>
            <declaration name="CHECKMARK_X" type="int[]" line="70"/>
            <declaration name="CHECKMARK_Y" type="int[]" line="71"/>
            <class name="MappingData" line="73">
                <extends class="XBaseMenuWindow.MappingData"/>
                <comment line="179">
                    Overriden initialization                    
                </comment>
                <javadoc line="73">
                    Mapping data                    
                </javadoc>
                <declaration name="captionRect" type="Rectangle" line="80"/>
                <javadoc line="80">
                    Rectangle for the caption
                      Necessary to fix 6267144: PIT: Popup menu label is not shown, XToolkit                    
                </javadoc>
                <declaration name="desiredSize" type="Dimension" line="86"/>
                <javadoc line="86">
                    Desired size of menu window                    
                </javadoc>
                <declaration name="leftMarkWidth" type="int" line="91"/>
                <javadoc line="91">
                    Width of largest checkmark
                      At the same time the left origin
                      of all item&apos;s text                    
                </javadoc>
                <declaration name="shortcutOrigin" type="int" line="98"/>
                <javadoc line="98">
                    Left origin of all shortcut labels                    
                </javadoc>
                <declaration name="rightMarkOrigin" type="int" line="103"/>
                <javadoc line="103">
                    The origin of right mark
                      (submenu&apos;s arrow)                    
                </javadoc>
                <method name="MappingData" type="constructor" line="109">
                    <params>
                        <param name="items" type="XMenuItemPeer[]"/>
                        <param name="captionRect" type="Rectangle"/>
                        <param name="desiredSize" type="Dimension"/>
                        <param name="leftMarkWidth" type="int"/>
                        <param name="shortcutOrigin" type="int"/>
                        <param name="rightMarkOrigin" type="int"/>
                    </params>
                </method>
                <javadoc line="118">
                    Constructs MappingData without items
                      This constructor should be used in case of errors                    
                </javadoc>
                <method name="MappingData" type="constructor" line="122"/>
                <method name="getCaptionRect" type="Rectangle" line="129"/>
                <method name="getDesiredSize" type="Dimension" line="133"/>
                <method name="getShortcutOrigin" type="int" line="137"/>
                <method name="getLeftMarkWidth" type="int" line="141"/>
                <method name="getRightMarkOrigin" type="int" line="145"/>
            </class>
            <javadoc line="158">
                Constructs XMenuWindow for specified XMenuPeer
                  null for XPopupMenuWindow                
            </javadoc>
            <method name="XMenuWindow" type="constructor" line="162">
                <params>
                    <param name="menuPeer" type="XMenuPeer"/>
                </params>
                <comment line="167">
                    Get menus from the target.                    
                </comment>
                <scope line="163">
                    <declaration name="targetItemVector" type="Vector" line="167"/>
                </scope>
            </method>
            <javadoc line="173">
                Initialization                
            </javadoc>
            <method name="postInit" type="void" line="181">
                <params>
                    <param name="params" type="XCreateWindowParams"/>
                </params>
                <comment line="179">
                    Overriden initialization                    
                </comment>
                <comment line="184">
                    Fixed 6267182: PIT: Menu is not visible after
                    showing and disposing a file dialog, XToolkit
                    toFront() is called on every show                    
                </comment>
            </method>
            <javadoc line="194">
                @see XBaseMenuWindow.getParentMenuWindow()                
            </javadoc>
            <method name="getParentMenuWindow" type="XBaseMenuWindow" line="197"/>
            <javadoc line="201">
                @see XBaseMenuWindow.map()                
            </javadoc>
            <method name="map" type="MappingData" line="204">
                <comment line="206">
                    TODO:Implement popup-menu caption mapping and painting and tear-off                    
                </comment>
                <comment line="214">
                    We need maximum width of components before calculating item&apos;s bounds                    
                </comment>
                <comment line="235">
                    Calculate bounds                    
                </comment>
                <comment line="244">
                    Caption rectangle                    
                </comment>
                <comment line="252">
                    Item rectangles                    
                </comment>
                <comment line="265">
                    Text metrics could not be determined because of errors
                    Map item with empty rectangle                    
                </comment>
                <declaration name="itemCnt" type="int" line="206"/>
                <scope line="207">
                    <declaration name="mappingData" type="MappingData" line="208"/>
                </scope>
                <declaration name="itemVector" type="XMenuItemPeer[]" line="211"/>
                <declaration name="captionSize" type="Dimension" line="214"/>
                <declaration name="maxWidth" type="int" line="215"/>
                <declaration name="maxLeftIndent" type="int" line="216"/>
                <declaration name="maxRightIndent" type="int" line="217"/>
                <declaration name="maxShortcutWidth" type="int" line="218"/>
                <declaration name="itemMetrics" type="XMenuItemPeer.TextMetrics[]" line="219"/>
                <scope line="220">
                    <declaration name="item" type="XMenuItemPeer" line="221"/>
                    <declaration name="dim" type="Dimension" line="223"/>
                    <scope line="224">
                        <scope line="225"/>
                        <scope line="227"/>
                    </scope>
                </scope>
                <declaration name="nextOffset" type="int" line="235"/>
                <declaration name="shortcutOrigin" type="int" line="236"/>
                <scope line="237"/>
                <declaration name="rightMarkOrigin" type="int" line="240"/>
                <declaration name="itemWidth" type="int" line="241"/>
                <declaration name="width" type="int" line="242"/>
                <declaration name="captionRect" type="Rectangle" line="244"/>
                <scope line="245"/>
                <scope line="248"/>
                <scope line="252">
                    <declaration name="item" type="XMenuItemPeer" line="253"/>
                    <declaration name="metrics" type="XMenuItemPeer.TextMetrics" line="254"/>
                    <declaration name="dim" type="Dimension" line="255"/>
                    <scope line="256">
                        <declaration name="itemHeight" type="int" line="257"/>
                        <declaration name="bounds" type="Rectangle" line="258"/>
                        <declaration name="y" type="int" line="259"/>
                        <declaration name="textOrigin" type="Point" line="260"/>
                    </scope>
                    <scope line="263">
                        <declaration name="bounds" type="Rectangle" line="266"/>
                        <declaration name="textOrigin" type="Point" line="267"/>
                    </scope>
                </scope>
                <declaration name="height" type="int" line="271"/>
                <declaration name="mappingData" type="MappingData" line="272"/>
            </method>
            <javadoc line="276">
                @see XBaseMenuWindow.getSubmenuBounds()                
            </javadoc>
            <method name="getSubmenuBounds" type="Rectangle" line="279">
                <params>
                    <param name="itemBounds" type="Rectangle"/>
                    <param name="windowSize" type="Dimension"/>
                </params>
                <declaration name="globalBounds" type="Rectangle" line="280"/>
                <declaration name="screenSize" type="Dimension" line="281"/>
                <declaration name="res" type="Rectangle" line="282"/>
                <scope line="284"/>
                <scope line="288"/>
                <scope line="292"/>
                <scope line="296"/>
            </method>
            <javadoc line="302">
                It&apos;s likely that size of items was changed
                  invoke resizing of window on eventHandlerThread                
            </javadoc>
            <method name="updateSize" type="void" line="306">
                <scope line="308">
                    <anonymous_class line="309">
                        <method name="run" type="void" line="310">
                            <declaration name="dim" type="Dimension" line="311"/>
                        </method>
                    </anonymous_class>
                </scope>
            </method>
            <javadoc line="325">
                Returns size of menu window&apos;s caption or null
                  if window has no caption.
                  Can be overriden for popup menus and tear-off menus                
            </javadoc>
            <method name="getCaptionSize" type="Dimension" line="330"/>
            <javadoc line="334">
                Paints menu window&apos;s caption.
                  Can be overriden for popup menus and tear-off menus.
                  Default implementation does nothing                
            </javadoc>
            <method name="paintCaption" type="void" line="339">
                <params>
                    <param name="g" type="Graphics"/>
                    <param name="rect" type="Rectangle"/>
                </params>
            </method>
            <javadoc line="348">
                Returns corresponding menu peer                
            </javadoc>
            <method name="getMenuPeer" type="XMenuPeer" line="351"/>
            <javadoc line="355">
                Reads vector of items from target
                  This function is overriden in XPopupMenuPeer                
            </javadoc>
            <method name="getMenuTargetItems" type="Vector" line="359"/>
            <javadoc line="363">
                Returns desired size calculated while mapping                
            </javadoc>
            <method name="getDesiredSize" type="Dimension" line="366">
                <declaration name="mappingData" type="MappingData" line="367"/>
            </method>
            <javadoc line="371">
                Checks if menu window is created                
            </javadoc>
            <method name="isCreated" type="boolean" line="374"/>
            <javadoc line="378">
                Performs delayed creation of menu window if necessary                
            </javadoc>
            <method name="ensureCreated" type="boolean" line="381">
                <scope line="382">
                    <declaration name="params" type="XCreateWindowParams" line="383"/>
                </scope>
            </method>
            <javadoc line="392">
                Init window if it&apos;s not inited yet
                  and show it at specified coordinates                
                <param>
                    bounds bounding rectangle of window
                      in global coordinates                    
                </param>
            </javadoc>
            <method name="show" type="void" line="398">
                <params>
                    <param name="bounds" type="Rectangle"/>
                </params>
                <comment line="410">
                    Fixed 6267182: PIT: Menu is not visible after
                    showing and disposing a file dialog, XToolkit                    
                </comment>
                <scope line="399"/>
                <scope line="402"/>
                <scope line="406"/>
                <scope line="413"/>
            </method>
            <javadoc line="418">
                Hides menu window                
            </javadoc>
            <method name="hide" type="void" line="421"/>
            <javadoc line="432">
                Paints menu window                
            </javadoc>
            <method name="paint" type="void" line="435">
                <params>
                    <param name="g" type="Graphics"/>
                </params>
                <comment line="443">
                    Fill background of rectangle                    
                </comment>
                <comment line="448">
                    Mapping data                    
                </comment>
                <comment line="451">
                    Paint caption                    
                </comment>
                <comment line="454">
                    Paint menus                    
                </comment>
                <comment line="465">
                    paint item                    
                </comment>
                <comment line="481">
                    calculate arrow coordinates                    
                </comment>
                <comment line="486">
                    draw arrow                    
                </comment>
                <comment line="493">
                    calculate checkmark coordinates                    
                </comment>
                <comment line="499">
                    draw checkmark                    
                </comment>
                <declaration name="width" type="int" line="438"/>
                <declaration name="height" type="int" line="439"/>
                <declaration name="mappingData" type="MappingData" line="448"/>
                <declaration name="itemVector" type="XMenuItemPeer[]" line="454"/>
                <declaration name="windowSize" type="Dimension" line="455"/>
                <declaration name="selectedItem" type="XMenuItemPeer" line="456"/>
                <scope line="457">
                    <declaration name="item" type="XMenuItemPeer" line="458"/>
                    <declaration name="metrics" type="XMenuItemPeer.TextMetrics" line="459"/>
                    <declaration name="bounds" type="Rectangle" line="460"/>
                    <scope line="461"/>
                    <scope line="463">
                        <declaration name="textOrigin" type="Point" line="466"/>
                        <declaration name="textDim" type="Dimension" line="467"/>
                        <scope line="468"/>
                        <declaration name="shortcutText" type="String" line="475"/>
                        <scope line="476"/>
                        <scope line="479">
                            <declaration name="markWidth" type="int" line="481"/>
                            <declaration name="markHeight" type="int" line="482"/>
                            <declaration name="markX" type="int" line="483"/>
                            <declaration name="markY" type="int" line="484"/>
                        </scope>
                        <scope line="491">
                            <declaration name="markWidth" type="int" line="493"/>
                            <declaration name="markHeight" type="int" line="494"/>
                            <declaration name="markX" type="int" line="495"/>
                            <declaration name="markY" type="int" line="496"/>
                            <declaration name="checkState" type="boolean" line="497"/>
                            <scope line="499">
                                <declaration name="px" type="int[]" line="503"/>
                                <declaration name="py" type="int[]" line="504"/>
                                <scope line="505"/>
                            </scope>
                            <scope line="511"/>
                        </scope>
                    </scope>
                </scope>
            </method>
        </class>
    </source>