<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.awt.X11">
        <import package="java.awt.datatransfer.Transferable"/>
        <import package="java.awt.dnd.DnDConstants"/>
        <import package="java.awt.dnd.InvalidDnDOperationException"/>
        <import package="java.util.Map"/>
        <import package="sun.util.logging.PlatformLogger"/>
        <import package="sun.misc.Unsafe"/>
        <class name="XDnDDragSourceProtocol" line="39">
            <extends class="XDragSourceProtocol"/>
            <comment line="419">
                TODO: register this runnable with XDnDSelection.                
            </comment>
            <javadoc line="39">
                XDragSourceProtocol implementation for XDnD protocol.                
                <since>
                    1.5                    
                </since>
            </javadoc>
            <declaration name="logger" type="PlatformLogger" line="45"/>
            <declaration name="unsafe" type="Unsafe" line="48"/>
            <method name="XDnDDragSourceProtocol" type="constructor" line="50">
                <params>
                    <param name="listener" type="XDragSourceProtocolListener"/>
                </params>
            </method>
            <javadoc line="54">
                Creates an instance associated with the specified listener.                
                <throws>
                    NullPointerException if listener is &lt;code&gt;null&lt;/code&gt;.                    
                </throws>
            </javadoc>
            <method name="createInstance" type="XDragSourceProtocol" line="59">
                <params>
                    <param name="listener" type="XDragSourceProtocolListener"/>
                </params>
            </method>
            <method name="getProtocolName" type="String" line="63"/>
            <javadoc line="67">
                Performs protocol-specific drag initialization.                
                <returns>
                    true if the initialized successfully.                    
                </returns>
            </javadoc>
            <method name="initializeDragImpl" type="void" line="75">
                <params>
                    <param name="actions" type="int"/>
                    <param name="contents" type="Transferable"/>
                    <param name="formatMap" type="Map"/>
                    <param name="formats" type="long[]"/>
                </params>
                <declaration name="window" type="long" line="78"/>
                <declaration name="data" type="long" line="80"/>
                <declaration name="action_count" type="int" line="81"/>
                <scope line="82">
                    <scope line="83"/>
                    <scope line="88"/>
                    <scope line="93"/>
                    <scope line="106"/>
                </scope>
                <scope line="110"/>
                <scope line="117">
                    <scope line="127"/>
                </scope>
                <scope line="131"/>
                <scope line="137"/>
            </method>
            <method name="processXdndStatus" type="boolean" line="143">
                <params>
                    <param name="xclient" type="XClientMessageEvent"/>
                </params>
                <comment line="147">
                                        
                </comment>
                <comment line="153">
                    This feature is new in XDnD version 2, but we can use it as XDnD                    
                </comment>
                <declaration name="action" type="int" line="144"/>
                <scope line="147"/>
                <scope line="151"/>
            </method>
            <method name="processXdndFinished" type="boolean" line="162">
                <params>
                    <param name="xclient" type="XClientMessageEvent"/>
                </params>
                <comment line="164">
                                        
                </comment>
                <scope line="164"/>
                <scope line="168">
                    <declaration name="success" type="boolean" line="169"/>
                    <declaration name="action" type="int" line="170"/>
                </scope>
                <scope line="172"/>
            </method>
            <method name="processClientMessage" type="boolean" line="181">
                <params>
                    <param name="xclient" type="XClientMessageEvent"/>
                </params>
                <scope line="182"/>
                <scope line="184"/>
                <scope line="186"/>
            </method>
            <method name="getTargetWindowInfo" type="TargetWindowInfo" line="191">
                <params>
                    <param name="window" type="long"/>
                </params>
                <declaration name="wpg1" type="WindowPropertyGetter" line="194"/>
                <declaration name="status" type="int" line="198"/>
                <scope line="201">
                    <declaration name="targetVersion" type="int" line="203"/>
                    <scope line="207">
                        <declaration name="proxy" type="long" line="208"/>
                        <declaration name="protocolVersion" type="int" line="209"/>
                        <declaration name="wpg2" type="WindowPropertyGetter" line="213"/>
                        <scope line="217">
                            <scope line="222"/>
                        </scope>
                        <scope line="226"/>
                        <scope line="230">
                            <declaration name="wpg3" type="WindowPropertyGetter" line="231"/>
                            <scope line="235">
                                <scope line="241"/>
                                <scope line="244">
                                    <declaration name="wpg4" type="WindowPropertyGetter" line="245"/>
                                    <scope line="251">
                                        <scope line="256"/>
                                    </scope>
                                    <scope line="260"/>
                                </scope>
                            </scope>
                            <scope line="264"/>
                        </scope>
                    </scope>
                </scope>
                <scope line="271"/>
            </method>
            <method name="sendEnterMessage" type="void" line="279">
                <params>
                    <param name="formats" type="long[]"/>
                    <param name="sourceAction" type="int"/>
                    <param name="sourceActions" type="int"/>
                    <param name="time" type="long"/>
                </params>
                <declaration name="msg" type="XClientMessageEvent" line="284"/>
                <scope line="285">
                    <declaration name="data1" type="long" line="291"/>
                </scope>
                <scope line="302"/>
            </method>
            <method name="sendMoveMessage" type="void" line="308">
                <params>
                    <param name="xRoot" type="int"/>
                    <param name="yRoot" type="int"/>
                    <param name="sourceAction" type="int"/>
                    <param name="sourceActions" type="int"/>
                    <param name="time" type="long"/>
                </params>
                <comment line="320">
                                        
                </comment>
                <declaration name="msg" type="XClientMessageEvent" line="312"/>
                <scope line="313"/>
                <scope line="327"/>
            </method>
            <method name="sendLeaveMessage" type="void" line="332">
                <params>
                    <param name="time" type="long"/>
                </params>
                <declaration name="msg" type="XClientMessageEvent" line="336"/>
                <scope line="337"/>
                <scope line="351"/>
            </method>
            <method name="sendDropMessage" type="void" line="358">
                <params>
                    <param name="xRoot" type="int"/>
                    <param name="yRoot" type="int"/>
                    <param name="sourceAction" type="int"/>
                    <param name="sourceActions" type="int"/>
                    <param name="time" type="long"/>
                </params>
                <comment line="370">
                                        
                </comment>
                <declaration name="msg" type="XClientMessageEvent" line="362"/>
                <scope line="363"/>
                <scope line="377"/>
            </method>
            <method name="processProxyModeEvent" type="boolean" line="383">
                <params>
                    <param name="xclient" type="XClientMessageEvent"/>
                    <param name="sourceWindow" type="long"/>
                </params>
                <comment line="392">
                    This can happen if the drag operation started in the XEmbed server.
                     In this case there is no need to forward it elsewhere, we should
                     process it here.                    
                </comment>
                <scope line="385">
                    <scope line="387"/>
                    <scope line="394"/>
                    <scope line="398"/>
                </scope>
            </method>
            <method name="run" type="void" line="419">
                <comment line="421">
                    XdndSelection ownership lost.                    
                </comment>
            </method>
        </class>
    </source>