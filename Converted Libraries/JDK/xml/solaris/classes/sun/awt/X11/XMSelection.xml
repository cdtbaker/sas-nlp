<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.awt.X11">
        <import package="java.util"/>
        <import package="sun.util.logging.PlatformLogger"/>
        <class name="XMSelection" line="37">
            <comment line="40">
                A method for a subsytem to express its interest in a certain
                 manager selection.
                
                 If owner changes, the ownerChanged of the XMSelectionListener
                 will be called with the screen
                 number and the new owning window when onwership is established, or
                 None if the owner is gone.
                
                 Events in extra_mask are selected for on owning windows (exsiting
                 ones and on new owners when established) and otherEvent of the
                 XMWSelectionListener will be called with the screen number and an event.
                
                 The function returns an array of current owners.  The size of the
                 array is ScreenCount(awt_display).  The array is &quot;owned&quot; by this
                 module and should be considered by the caller as read-only.                
            </comment>
            <comment line="60">
                                
            </comment>
            <comment line="63">
                                
            </comment>
            <comment line="66">
                                
            </comment>
            <comment line="69">
                                
            </comment>
            <comment line="72">
                                
            </comment>
            <comment line="223">
                Default constructor specifies PropertyChangeMask as well                
            </comment>
            <comment line="232">
                Some users may not need to know about selection changes,
                 just owner ship changes, They would specify a zero extra mask.                
            </comment>
            <declaration name="log" type="PlatformLogger" line="58"/>
            <declaration name="selectionName" type="String" line="60"/>
            <declaration name="listeners" type="Vector" line="63"/>
            <declaration name="atoms" type="XAtom" line="66"/>
            <declaration name="owners" type="long" line="69"/>
            <declaration name="eventMask" type="long" line="72"/>
            <declaration name="numScreens" type="int" line="74"/>
            <declaration name="XA_MANAGER" type="XAtom" line="76"/>
            <declaration name="selectionMap" type="HashMap" line="78"/>
            <scope line="80">
                <declaration name="display" type="long" line="81"/>
                <scope line="83"/>
                <scope line="85"/>
                <scope line="89"/>
            </scope>
            <method name="initScreen" type="void" line="96">
                <params>
                    <param name="display" type="long"/>
                    <param name="screen" type="int"/>
                </params>
                <scope line="98">
                    <declaration name="root" type="long" line="99"/>
                    <anonymous_class line="102">
                        <method name="dispatchEvent" type="void" line="103">
                            <params>
                                <param name="ev" type="XEvent"/>
                            </params>
                        </method>
                    </anonymous_class>
                </scope>
                <scope line="108"/>
            </method>
            <method name="getNumberOfScreens" type="int" line="114"/>
            <method name="select" type="void" line="118">
                <params>
                    <param name="extra_mask" type="long"/>
                </params>
                <scope line="120"/>
            </method>
            <method name="resetOwner" type="void" line="125">
                <params>
                    <param name="owner" type="long"/>
                    <param name="screen" type="int"/>
                </params>
                <scope line="127">
                    <declaration name="display" type="long" line="128"/>
                    <scope line="129">
                        <anonymous_class line="134">
                            <method name="dispatchEvent" type="void" line="135">
                                <params>
                                    <param name="ev" type="XEvent"/>
                                </params>
                            </method>
                        </anonymous_class>
                    </scope>
                </scope>
                <scope line="141"/>
            </method>
            <method name="selectPerScreen" type="void" line="146">
                <params>
                    <param name="screen" type="int"/>
                    <param name="extra_mask" type="long"/>
                </params>
                <comment line="159">
                    add mapping from atom to the instance of XMSelection                    
                </comment>
                <scope line="148">
                    <scope line="149">
                        <declaration name="display" type="long" line="150"/>
                        <scope line="154">
                            <declaration name="selection_name" type="String" line="155"/>
                            <declaration name="atom" type="XAtom" line="157"/>
                            <declaration name="owner" type="long" line="160"/>
                            <scope line="161">
                                <anonymous_class line="166">
                                    <method name="dispatchEvent" type="void" line="167">
                                        <params>
                                            <param name="ev" type="XEvent"/>
                                        </params>
                                    </method>
                                </anonymous_class>
                            </scope>
                        </scope>
                    </scope>
                    <scope line="174"/>
                    <scope line="177"/>
                </scope>
                <scope line="181"/>
            </method>
            <method name="processClientMessage" type="boolean" line="187">
                <params>
                    <param name="xev" type="XEvent"/>
                    <param name="screen" type="int"/>
                </params>
                <declaration name="xce" type="XClientMessageEvent" line="188"/>
                <scope line="189">
                    <declaration name="timestamp" type="long" line="191"/>
                    <declaration name="atom" type="long" line="192"/>
                    <declaration name="owner" type="long" line="193"/>
                    <declaration name="data" type="long" line="194"/>
                    <declaration name="sel" type="XMSelection" line="196"/>
                    <scope line="197"/>
                </scope>
            </method>
            <method name="processRootEvent" type="boolean" line="205">
                <params>
                    <param name="xev" type="XEvent"/>
                    <param name="screen" type="int"/>
                </params>
                <scope line="207"/>
            </method>
            <method name="getInstance" type="XMSelection" line="217">
                <params>
                    <param name="selection" type="long"/>
                </params>
            </method>
            <method name="XMSelection" type="constructor" line="226">
                <params>
                    <param name="selname" type="String"/>
                </params>
            </method>
            <method name="XMSelection" type="constructor" line="236">
                <params>
                    <param name="selname" type="String"/>
                    <param name="extraMask" type="long"/>
                </params>
                <scope line="238"/>
            </method>
            <method name="addSelectionListener" type="void" line="248">
                <params>
                    <param name="listener" type="XMSelectionListener"/>
                </params>
                <scope line="249"/>
            </method>
            <method name="removeSelectionListener" type="void" line="255">
                <params>
                    <param name="listener" type="XMSelectionListener"/>
                </params>
                <scope line="256"/>
            </method>
            <method name="getListeners" type="Collection" line="261"/>
            <method name="getAtom" type="XAtom" line="265">
                <params>
                    <param name="screen" type="int"/>
                </params>
                <scope line="266"/>
            </method>
            <method name="setAtom" type="void" line="272">
                <params>
                    <param name="a" type="XAtom"/>
                    <param name="screen" type="int"/>
                </params>
                <scope line="273"/>
            </method>
            <method name="getOwner" type="long" line="278">
                <params>
                    <param name="screen" type="int"/>
                </params>
                <scope line="279"/>
            </method>
            <method name="setOwner" type="void" line="285">
                <params>
                    <param name="owner" type="long"/>
                    <param name="screen" type="int"/>
                </params>
                <scope line="286"/>
            </method>
            <method name="getName" type="String" line="291"/>
            <method name="dispatchSelectionChanged" type="void" line="296">
                <params>
                    <param name="ev" type="XPropertyEvent"/>
                    <param name="screen" type="int"/>
                </params>
                <scope line="298">
                    <declaration name="iter" type="Iterator" line="299"/>
                    <scope line="300">
                        <declaration name="disp" type="XMSelectionListener" line="301"/>
                    </scope>
                </scope>
            </method>
            <method name="dispatchOwnerDeath" type="void" line="307">
                <params>
                    <param name="de" type="XDestroyWindowEvent"/>
                    <param name="screen" type="int"/>
                </params>
                <scope line="309">
                    <declaration name="iter" type="Iterator" line="310"/>
                    <scope line="311">
                        <declaration name="disp" type="XMSelectionListener" line="312"/>
                    </scope>
                </scope>
            </method>
            <method name="dispatchSelectionEvent" type="void" line="319">
                <params>
                    <param name="xev" type="XEvent"/>
                    <param name="screen" type="int"/>
                </params>
                <scope line="321">
                    <declaration name="de" type="XDestroyWindowEvent" line="322"/>
                </scope>
                <scope line="325">
                    <declaration name="xpe" type="XPropertyEvent" line="326"/>
                </scope>
            </method>
            <method name="dispatchOwnerChangedEvent" type="void" line="332">
                <params>
                    <param name="ev" type="XEvent"/>
                    <param name="screen" type="int"/>
                    <param name="owner" type="long"/>
                    <param name="data" type="long"/>
                    <param name="timestamp" type="long"/>
                </params>
                <scope line="333">
                    <declaration name="iter" type="Iterator" line="334"/>
                    <scope line="335">
                        <declaration name="disp" type="XMSelectionListener" line="336"/>
                    </scope>
                </scope>
            </method>
        </class>
    </source>