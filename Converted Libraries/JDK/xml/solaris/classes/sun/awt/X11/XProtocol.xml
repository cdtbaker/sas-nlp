<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.awt.X11">
        <import package="sun.util.logging.PlatformLogger"/>
        <import package="java.util"/>
        <class name="XProtocol" line="32">
            <comment line="40">
                Check that that the list of protocols specified by WM in property
                 named LIST_NAME on the root window contains protocol PROTO.                
            </comment>
            <comment line="63">
                Check for anchor_prop(anchor_type) on root, take the value as the
                 window id and check if that window exists and has anchor_prop(anchor_type)
                 with the same value (i.e. pointing back to self).
                
                 Returns the anchor window, as some WM may put interesting stuff in
                 its properties (e.g. sawfish).                
            </comment>
            <declaration name="log" type="PlatformLogger" line="33"/>
            <declaration name="atomToList" type="Map&amp;lt;XAtom,XAtomList&amp;gt;" line="35"/>
            <declaration name="atomToAnchor" type="Map&amp;lt;XAtom,Long&amp;gt;" line="36"/>
            <declaration name="firstCheck" type="boolean" line="38"/>
            <method name="checkProtocol" type="boolean" line="43">
                <params>
                    <param name="listName" type="XAtom"/>
                    <param name="protocol" type="XAtom"/>
                </params>
                <declaration name="protocols" type="XAtomList" line="44"/>
                <scope line="46"/>
                <scope line="52"/>
                <scope line="54">
                    <scope line="55"/>
                </scope>
            </method>
            <method name="checkAnchorImpl" type="long" line="70">
                <params>
                    <param name="anchorProp" type="XAtom"/>
                    <param name="anchorType" type="long"/>
                </params>
                <declaration name="root_xref" type="long" line="71"/>
                <scope line="74"/>
                <scope line="77"/>
                <scope line="80"/>
                <scope line="84"/>
            </method>
            <method name="checkAnchor" type="long" line="89">
                <params>
                    <param name="anchorProp" type="XAtom"/>
                    <param name="anchorType" type="long"/>
                </params>
                <declaration name="val" type="Long" line="90"/>
                <scope line="91"/>
                <declaration name="res" type="long" line="94"/>
            </method>
            <method name="checkAnchor" type="long" line="98">
                <params>
                    <param name="anchorProp" type="XAtom"/>
                    <param name="anchorType" type="XAtom"/>
                </params>
            </method>
        </class>
    </source>