<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.awt.windows">
        <import package="java.awt.datatransfer.DataFlavor"/>
        <import package="java.awt.datatransfer.Transferable"/>
        <import package="java.awt.datatransfer.UnsupportedFlavorException"/>
        <import package="java.io.IOException"/>
        <import package="java.util.Iterator"/>
        <import package="java.util.Map"/>
        <import package="sun.awt.datatransfer.SunClipboard"/>
        <import package="sun.awt.datatransfer.DataTransferer"/>
        <class name="WClipboard" line="41">
            <extends class="SunClipboard"/>
            <javadoc line="41">
                A class which interfaces with the Windows clipboard in order to support
                  data transfer via Clipboard operations. Most of the work is provided by
                  sun.awt.datatransfer.DataTransferer.                
                <author>
                    Tom Ball                    
                </author>
                <author>
                    David Mendenhall                    
                </author>
                <author>
                    Danila Sinopalnikov                    
                </author>
                <author>
                    Alexander Gerasimov                    
                </author>
                <since>
                    JDK1.1                    
                </since>
            </javadoc>
            <declaration name="isClipboardViewerRegistered" type="boolean" line="55"/>
            <method name="WClipboard" type="constructor" line="57"/>
            <method name="getID" type="long" line="61"/>
            <method name="setContentsNative" type="void" line="65">
                <params>
                    <param name="contents" type="Transferable"/>
                </params>
                <comment line="68">
                    Don&apos;t use delayed Clipboard rendering for the Transferable&apos;s data.
                     If we did that, we would call Transferable.getTransferData on
                     the Toolkit thread, which is a security hole.
                    
                     Get all of the target formats into which the Transferable can be
                     translated. Then, for each format, translate the data and post
                     it to the Clipboard.                    
                </comment>
                <comment line="92">
                    Fix 4696186: don&apos;t print exception if data with
                     javaJVMLocalObjectMimeType failed to serialize.
                     May remove this if-check when 5078787 is fixed.                    
                </comment>
                <declaration name="formatMap" type="Map" line="74"/>
                <scope line="79">
                    <scope line="81">
                        <declaration name="lFormat" type="Long" line="82"/>
                        <declaration name="format" type="long" line="83"/>
                        <declaration name="flavor" type="DataFlavor" line="84"/>
                        <scope line="86">
                            <declaration name="bytes" type="byte[]" line="87"/>
                        </scope>
                        <scope line="90">
                            <scope line="95"/>
                        </scope>
                    </scope>
                </scope>
                <scope line="100"/>
            </method>
            <method name="lostSelectionOwnershipImpl" type="void" line="105"/>
            <javadoc line="109">
                Currently delayed data rendering is not used for the Windows clipboard,
                  so there is no native context to clear.                
            </javadoc>
            <method name="clearNativeContext" type="void" line="113"/>
            <method name="openClipboard" type="void" line="115"/>
            <javadoc line="115">
                Call the Win32 OpenClipboard function. If newOwner is non-null,
                  we also call EmptyClipboard and take ownership.                
                <throws>
                    IllegalStateException if the clipboard has not been opened                    
                </throws>
            </javadoc>
            <method name="closeClipboard" type="void" line="122"/>
            <javadoc line="122">
                Call the Win32 CloseClipboard function if we have clipboard ownership,
                  does nothing if we have not ownership.                
            </javadoc>
            <method name="publishClipboardData" type="void" line="127"/>
            <javadoc line="127">
                Call the Win32 SetClipboardData function.                
            </javadoc>
            <method name="init" type="void" line="132"/>
            <scope line="133"/>
            <method name="getClipboardFormats" type="long[]" line="137"/>
            <method name="getClipboardData" type="byte[]" line="138"/>
            <method name="registerClipboardViewerChecked" type="void" line="140">
                <scope line="141"/>
            </method>
            <method name="registerClipboardViewer" type="void" line="147"/>
            <javadoc line="149">
                The clipboard viewer (it&apos;s the toolkit window) is not unregistered
                  until the toolkit window disposing since MSDN suggests removing
                  the window from the clipboard viewer chain just before it is destroyed.                
            </javadoc>
            <method name="unregisterClipboardViewerChecked" type="void" line="154"/>
            <javadoc line="156">
                Upcall from native code.                
            </javadoc>
            <method name="handleContentsChanged" type="void" line="159">
                <comment line="170">
                    do nothing to handle the exception, call checkChange(null)                    
                </comment>
                <scope line="160"/>
                <declaration name="formats" type="long[]" line="164"/>
                <scope line="165"/>
                <scope line="168"/>
                <scope line="170"/>
            </method>
            <javadoc line="176">
                The clipboard must be opened.                
                <since>
                    1.5                    
                </since>
            </javadoc>
            <method name="createLocaleTransferable" type="Transferable" line="181">
                <params>
                    <param name="formats" type="long[]"/>
                </params>
                <declaration name="found" type="boolean" line="182"/>
                <scope line="183">
                    <scope line="184"/>
                </scope>
                <scope line="189"/>
                <declaration name="localeData" type="byte[]" line="193"/>
                <scope line="194"/>
                <scope line="196"/>
                <declaration name="localeDataFinal" type="byte[]" line="200"/>
                <anonymous_class line="202">
                    <method name="getTransferDataFlavors" type="DataFlavor[]" line="203"/>
                    <method name="isDataFlavorSupported" type="boolean" line="206">
                        <params>
                            <param name="flavor" type="DataFlavor"/>
                        </params>
                    </method>
                    <method name="getTransferData" type="Object" line="209">
                        <params>
                            <param name="flavor" type="DataFlavor"/>
                        </params>
                        <scope line="210"/>
                    </method>
                </anonymous_class>
            </method>
        </class>
    </source>