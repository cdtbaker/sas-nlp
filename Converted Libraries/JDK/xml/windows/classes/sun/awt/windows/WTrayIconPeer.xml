<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.awt.windows">
        <import package="java.awt.Graphics2D"/>
        <import package="java.awt.AWTEvent"/>
        <import package="java.awt.Frame"/>
        <import package="java.awt.PopupMenu"/>
        <import package="java.awt.Point"/>
        <import package="java.awt.TrayIcon"/>
        <import package="java.awt.Image"/>
        <import package="java.awt.peer.TrayIconPeer"/>
        <import package="java.awt.image"/>
        <import package="sun.awt.SunToolkit"/>
        <import package="sun.awt.image.IntegerComponentRaster"/>
        <import package="sun.awt.windows.WPopupMenuPeer"/>
        <class name="WTrayIconPeer" line="41">
            <extends class="WObjectPeer"/>
            <comment line="112">
                ***********************************************                
            </comment>
            <comment line="113">
                ***********************************************                
            </comment>
            <comment line="176">
                Updatesadds the icon into the system tray.
                 @param doUpdate if &lt;code&gt;true&lt;code&gt;, updates the icon,
                 otherwise, adds the icon                
            </comment>
            <implements interface="TrayIconPeer"/>
            <declaration name="TRAY_ICON_WIDTH" type="int" line="42"/>
            <declaration name="TRAY_ICON_HEIGHT" type="int" line="43"/>
            <declaration name="TRAY_ICON_MASK_SIZE" type="int" line="44"/>
            <declaration name="observer" type="IconObserver" line="46"/>
            <declaration name="firstUpdate" type="boolean" line="47"/>
            <declaration name="popupParent" type="Frame" line="48"/>
            <declaration name="popup" type="PopupMenu" line="49"/>
            <method name="disposeImpl" type="void" line="51">
                <scope line="52"/>
            </method>
            <method name="WTrayIconPeer" type="constructor" line="60">
                <params>
                    <param name="target" type="TrayIcon"/>
                </params>
            </method>
            <method name="updateImage" type="void" line="67">
                <declaration name="image" type="Image" line="68"/>
                <scope line="69"/>
            </method>
            <method name="setToolTip" type="void" line="74"/>
            <method name="showPopupMenu" type="void" line="76">
                <params>
                    <param name="x" type="int"/>
                    <param name="y" type="int"/>
                </params>
                <anonymous_class line="80">
                    <method name="run" type="void" line="81">
                        <declaration name="newPopup" type="PopupMenu" line="82"/>
                        <scope line="83">
                            <scope line="84"/>
                            <scope line="87"/>
                        </scope>
                        <scope line="92"/>
                    </method>
                </anonymous_class>
            </method>
            <method name="displayMessage" type="void" line="99">
                <params>
                    <param name="caption" type="String"/>
                    <param name="text" type="String"/>
                    <param name="messageType" type="String"/>
                </params>
                <comment line="100">
                    The situation when both caption and text are null is processed in the shared code.                    
                </comment>
                <scope line="101"/>
                <scope line="104"/>
            </method>
            <method name="updateNativeImage" type="void" line="115">
                <params>
                    <param name="image" type="Image"/>
                </params>
                <declaration name="autosize" type="boolean" line="119"/>
                <declaration name="bufImage" type="BufferedImage" line="121"/>
                <declaration name="gr" type="Graphics2D" line="123"/>
                <scope line="124">
                    <scope line="125"/>
                    <scope line="136"/>
                </scope>
            </method>
            <method name="createNativeImage" type="void" line="142">
                <params>
                    <param name="bimage" type="BufferedImage"/>
                </params>
                <comment line="154">
                    Transparent bit                    
                </comment>
                <declaration name="raster" type="Raster" line="143"/>
                <declaration name="andMask" type="byte[]" line="144"/>
                <declaration name="pixels" type="int" line="145"/>
                <declaration name="npixels" type="int" line="146"/>
                <declaration name="ficW" type="int" line="147"/>
                <scope line="149">
                    <declaration name="ibyte" type="int" line="150"/>
                    <declaration name="omask" type="int" line="151"/>
                    <scope line="153">
                        <scope line="155"/>
                    </scope>
                </scope>
                <scope line="161"/>
            </method>
            <method name="postEvent" type="void" line="168">
                <params>
                    <param name="event" type="AWTEvent"/>
                </params>
            </method>
            <method name="create" type="void" line="172"/>
            <method name="_dispose" type="void" line="173"/>
            <method name="updateNativeIcon" type="void" line="180"/>
            <method name="setNativeIcon" type="void" line="182"/>
            <method name="_displayMessage" type="void" line="185"/>
            <class name="IconObserver" line="187">
                <implements interface="ImageObserver"/>
                <method name="imageUpdate" type="boolean" line="188">
                    <params>
                        <param name="image" type="Image"/>
                        <param name="flags" type="int"/>
                        <param name="x" type="int"/>
                        <param name="y" type="int"/>
                        <param name="width" type="int"/>
                        <param name="height" type="int"/>
                    </params>
                    <comment line="189">
                        if the image has been changed                        
                    </comment>
                    <scope line="191"/>
                    <scope line="196"/>
                </method>
            </class>
        </class>
    </source>