<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.awt.windows">
        <import package="java.awt"/>
        <import package="java.awt.dnd.DropTarget"/>
        <import package="java.awt.peer"/>
        <import package="java.io.File"/>
        <import package="java.io.FilenameFilter"/>
        <import package="java.security.AccessController"/>
        <import package="java.security.PrivilegedAction"/>
        <import package="java.util.ResourceBundle"/>
        <import package="java.util.MissingResourceException"/>
        <import package="java.util.Vector"/>
        <import package="sun.awt.AppContext"/>
        <import package="sun.awt.CausedFocusEvent"/>
        <import package="sun.awt.AWTAccessor"/>
        <class name="WFileDialogPeer" line="41">
            <extends class="WWindowPeer"/>
            <comment line="53">
                Needed to fix 4152317                
            </comment>
            <comment line="69">
                Toolkit &amp; peer internals                
            </comment>
            <comment line="78">
                don&apos;t use checkCreation() from WComponentPeer to avoid hwnd check                
            </comment>
            <comment line="107">
                called from native code when the dialog is shown or hidden                
            </comment>
            <comment line="122">
                The function converts the file names (the buffer parameter)
                 in the Windows format into the Java format and saves the results
                 into the FileDialog instance.
                
                 If it&apos;s the multi-select mode, the buffer contains the current
                 directory followed by the short names of the files.
                 The directory and file name strings are NULL separated.
                 If it&apos;s the single-select mode, the buffer doesn&apos;t have the NULL
                 separator between the path and the file name.
                
                 NOTE: This method is called by privileged threads.
                       DO NOT INVOKE CLIENT CODE ON THIS THREAD!                
            </comment>
            <comment line="174">
                handleSelected()                
            </comment>
            <comment line="176">
                NOTE: This method is called by privileged threads.                
            </comment>
            <comment line="177">
                DO NOT INVOKE CLIENT CODE ON THIS THREAD!                
            </comment>
            <comment line="189">
                handleCancel()                
            </comment>
            <comment line="191">
                This whole static block is a part of 4152317 fix                
            </comment>
            <comment line="236">
                unused methods.  Overridden to disable this functionality as                
            </comment>
            <comment line="237">
                it requires HWND which is not available for FileDialog                
            </comment>
            <comment line="279">
                The effects are not supported for system dialogs.                
            </comment>
            <comment line="285">
                the file/print dialogs are native dialogs and                
            </comment>
            <comment line="286">
                the native system does their own rendering                
            </comment>
            <implements interface="FileDialogPeer"/>
            <scope line="43"/>
            <declaration name="parent" type="WComponentPeer" line="47"/>
            <declaration name="fileFilter" type="FilenameFilter" line="48"/>
            <declaration name="blockedWindows" type="Vector&lt;WWindowPeer&gt;" line="50"/>
            <method name="setFilterString" type="void" line="53"/>
            <method name="setFilenameFilter" type="void" line="55">
                <params>
                    <param name="filter" type="FilenameFilter"/>
                </params>
            </method>
            <method name="checkFilenameFilter" type="boolean" line="59">
                <params>
                    <param name="filename" type="String"/>
                </params>
                <declaration name="fileDialog" type="FileDialog" line="60"/>
                <scope line="61"/>
                <declaration name="file" type="File" line="64"/>
            </method>
            <method name="WFileDialogPeer" type="constructor" line="69">
                <params>
                    <param name="target" type="FileDialog"/>
                </params>
            </method>
            <method name="create" type="void" line="73">
                <params>
                    <param name="parent" type="WComponentPeer"/>
                </params>
            </method>
            <method name="checkCreation" type="void" line="78"/>
            <method name="initialize" type="void" line="81"/>
            <method name="_dispose" type="void" line="85"/>
            <method name="disposeImpl" type="void" line="86"/>
            <method name="_show" type="void" line="91"/>
            <method name="_hide" type="void" line="92"/>
            <method name="show" type="void" line="94">
                <anonymous_class line="95">
                    <method name="run" type="void" line="96"/>
                </anonymous_class>
            </method>
            <method name="hide" type="void" line="102"/>
            <method name="setHWnd" type="void" line="107">
                <params>
                    <param name="hwnd" type="long"/>
                </params>
                <scope line="108"/>
                <scope line="112">
                    <scope line="113"/>
                    <scope line="115"/>
                </scope>
            </method>
            <method name="handleSelected" type="void" line="136">
                <params>
                    <param name="buffer" type="char[]"/>
                </params>
                <comment line="137">
                    NULL is the delimiter                    
                </comment>
                <comment line="148">
                    choose any file                    
                </comment>
                <declaration name="wFiles" type="String[]" line="137"/>
                <declaration name="multiple" type="boolean" line="138"/>
                <declaration name="jDirectory" type="String" line="140"/>
                <declaration name="jFile" type="String" line="141"/>
                <declaration name="jFiles" type="String" line="142"/>
                <scope line="144"/>
                <scope line="149">
                    <declaration name="index" type="int" line="150"/>
                    <scope line="151"/>
                    <scope line="154"/>
                </scope>
                <declaration name="fileDialog" type="FileDialog" line="161"/>
                <declaration name="fileDialogAccessor" type="AWTAccessor.FileDialogAccessor" line="162"/>
                <anonymous_class line="168">
                    <method name="run" type="void" line="169"/>
                </anonymous_class>
            </method>
            <method name="handleCancel" type="void" line="177">
                <declaration name="fileDialog" type="FileDialog" line="178"/>
                <anonymous_class line="183">
                    <method name="run" type="void" line="184"/>
                </anonymous_class>
            </method>
            <scope line="191">
                <anonymous_class line="193">
                    <method name="run" type="Object" line="194">
                        <scope line="195">
                            <declaration name="rb" type="ResourceBundle" line="196"/>
                        </scope>
                        <scope line="198"/>
                    </method>
                </anonymous_class>
                <declaration name="filterString" type="String" line="192"/>
            </scope>
            <method name="blockWindow" type="void" line="206">
                <params>
                    <param name="window" type="WWindowPeer"/>
                </params>
                <comment line="208">
                    if this dialog hasn&apos;t got an HWND, notification is                    
                </comment>
                <comment line="209">
                    postponed until setHWnd() is called                    
                </comment>
                <scope line="210"/>
            </method>
            <method name="unblockWindow" type="void" line="214">
                <params>
                    <param name="window" type="WWindowPeer"/>
                </params>
                <comment line="216">
                    if this dialog hasn&apos;t got an HWND or has been already                    
                </comment>
                <comment line="217">
                    closed, don&apos;t send notification                    
                </comment>
                <scope line="218"/>
            </method>
            <method name="blockWindows" type="void" line="223">
                <params>
                    <param name="toBlock" type="java.util.List<Window>"/>
                </params>
                <scope line="224">
                    <declaration name="wp" type="WWindowPeer" line="225"/>
                    <scope line="226"/>
                </scope>
            </method>
            <method name="toFront" type="void" line="232"/>
            <method name="toBack" type="void" line="233"/>
            <method name="setAlwaysOnTop" type="void" line="237">
                <params>
                    <param name="value" type="boolean"/>
                </params>
            </method>
            <method name="setDirectory" type="void" line="238">
                <params>
                    <param name="dir" type="String"/>
                </params>
            </method>
            <method name="setFile" type="void" line="239">
                <params>
                    <param name="file" type="String"/>
                </params>
            </method>
            <method name="setTitle" type="void" line="240">
                <params>
                    <param name="title" type="String"/>
                </params>
            </method>
            <method name="setResizable" type="void" line="242">
                <params>
                    <param name="resizable" type="boolean"/>
                </params>
            </method>
            <method name="enable" type="void" line="243"/>
            <method name="disable" type="void" line="244"/>
            <method name="reshape" type="void" line="245">
                <params>
                    <param name="x" type="int"/>
                    <param name="y" type="int"/>
                    <param name="width" type="int"/>
                    <param name="height" type="int"/>
                </params>
            </method>
            <method name="handleEvent" type="boolean" line="246">
                <params>
                    <param name="e" type="Event"/>
                </params>
            </method>
            <method name="setForeground" type="void" line="247">
                <params>
                    <param name="c" type="Color"/>
                </params>
            </method>
            <method name="setBackground" type="void" line="248">
                <params>
                    <param name="c" type="Color"/>
                </params>
            </method>
            <method name="setFont" type="void" line="249">
                <params>
                    <param name="f" type="Font"/>
                </params>
            </method>
            <method name="updateMinimumSize" type="void" line="250"/>
            <method name="updateIconImages" type="void" line="251"/>
            <method name="requestFocus" type="boolean" line="253">
                <params>
                    <param name="temporary" type="boolean"/>
                    <param name="focusedWindowChangeAllowed" type="boolean"/>
                </params>
            </method>
            <method name="requestFocus" type="boolean" line="260">
                <params>
                    <param name="lightweightChild" type="Component"/>
                    <param name="temporary" type="boolean"/>
                    <param name="focusedWindowChangeAllowed" type="boolean"/>
                    <param name="time" type="long"/>
                    <param name="cause" type="CausedFocusEvent.Cause"/>
                </params>
            </method>
            <method name="start" type="void" line="264"/>
            <method name="beginValidate" type="void" line="265"/>
            <method name="endValidate" type="void" line="266"/>
            <method name="invalidate" type="void" line="267">
                <params>
                    <param name="x" type="int"/>
                    <param name="y" type="int"/>
                    <param name="width" type="int"/>
                    <param name="height" type="int"/>
                </params>
            </method>
            <method name="addDropTarget" type="void" line="268">
                <params>
                    <param name="dt" type="DropTarget"/>
                </params>
            </method>
            <method name="removeDropTarget" type="void" line="269">
                <params>
                    <param name="dt" type="DropTarget"/>
                </params>
            </method>
            <method name="updateFocusableWindowState" type="void" line="270"/>
            <method name="setZOrder" type="void" line="271">
                <params>
                    <param name="above" type="ComponentPeer"/>
                </params>
            </method>
            <method name="initIDs" type="void" line="273"/>
            <javadoc line="273">
                Initialize JNI field and method ids                
            </javadoc>
            <method name="applyShape" type="void" line="279">
                <params>
                    <param name="shape" type="sun.java2d.pipe.Region"/>
                </params>
            </method>
            <method name="setOpacity" type="void" line="280">
                <params>
                    <param name="opacity" type="float"/>
                </params>
            </method>
            <method name="setOpaque" type="void" line="281">
                <params>
                    <param name="isOpaque" type="boolean"/>
                </params>
            </method>
            <method name="updateWindow" type="void" line="282">
                <params>
                    <param name="backBuffer" type="java.awt.image.BufferedImage"/>
                </params>
            </method>
            <method name="createScreenSurface" type="void" line="287">
                <params>
                    <param name="isResize" type="boolean"/>
                </params>
            </method>
            <method name="replaceSurfaceData" type="void" line="289"/>
            <method name="isMultipleMode" type="boolean" line="291">
                <declaration name="fileDialog" type="FileDialog" line="292"/>
            </method>
        </class>
    </source>