<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.nio.fs">
        <import package="java.nio.file"/>
        <import package="java.nio.file.attribute"/>
        <import package="java.nio.channels"/>
        <import package="java.net.URI"/>
        <import package="java.util.concurrent.ExecutorService"/>
        <import package="java.io"/>
        <import package="java.util"/>
        <import package="java.security.AccessController"/>
        <import package="sun.misc.Unsafe"/>
        <import package="sun.nio.ch.ThreadPool"/>
        <import package="sun.security.util.SecurityConstants"/>
        <import package="sun.nio.fs.WindowsNativeDispatcher"/>
        <import package="sun.nio.fs.WindowsConstants"/>
        <class name="WindowsFileSystemProvider" line="15">
            <extends class="AbstractFileSystemProvider"/>
            <declaration name="unsafe" type="Unsafe" line="16"/>
            <declaration name="USER_DIR" type="String" line="17"/>
            <declaration name="theFileSystem" type="WindowsFileSystem" line="18"/>
            <method name="WindowsFileSystemProvider" type="constructor" line="19"/>
            <method name="getScheme" type="String" line="22"/>
            <method name="checkUri" type="void" line="25">
                <params>
                    <param name="uri" type="URI"/>
                </params>
            </method>
            <method name="newFileSystem" type="FileSystem" line="33">
                <params>
                    <param name="uri" type="URI"/>
                    <param name="env" type="Map<String,?>"/>
                </params>
            </method>
            <method name="getFileSystem" type="FileSystem" line="37">
                <params>
                    <param name="uri" type="URI"/>
                </params>
            </method>
            <method name="getPath" type="Path" line="41">
                <params>
                    <param name="uri" type="URI"/>
                </params>
            </method>
            <method name="newFileChannel" type="FileChannel" line="44">
                <params>
                    <param name="path" type="Path"/>
                    <param name="options" type="Set<? extends OpenOption>"/>
                    <param name="attrs" type="FileAttribute<?>"/>
                </params>
                <declaration name="file" type="WindowsPath" line="47"/>
                <declaration name="sd" type="WindowsSecurityDescriptor" line="48"/>
                <scope line="49"/>
                <scope line="52"/>
                <scope line="56"/>
            </method>
            <method name="newAsynchronousFileChannel" type="AsynchronousFileChannel" line="60">
                <params>
                    <param name="path" type="Path"/>
                    <param name="options" type="Set<? extends OpenOption>"/>
                    <param name="executor" type="ExecutorService"/>
                    <param name="attrs" type="FileAttribute<?>"/>
                </params>
                <declaration name="file" type="WindowsPath" line="63"/>
                <declaration name="pool" type="ThreadPool" line="64"/>
                <declaration name="sd" type="WindowsSecurityDescriptor" line="65"/>
                <scope line="66"/>
                <scope line="69"/>
                <scope line="73"/>
            </method>
            <method name="getFileAttributeView" type="V" line="77">
                <params>
                    <param name="obj" type="Path"/>
                    <param name="view" type="Class<V>"/>
                    <param name="options" type="LinkOption"/>
                </params>
                <declaration name="file" type="WindowsPath" line="78"/>
                <declaration name="followLinks" type="boolean" line="80"/>
            </method>
            <method name="readAttributes" type="A" line="88">
                <params>
                    <param name="file" type="Path"/>
                    <param name="type" type="Class<A>"/>
                    <param name="options" type="LinkOption"/>
                </params>
                <declaration name="view" type="Class&lt;? extends BasicFileAttributeView&gt;" line="89"/>
            </method>
            <method name="getFileAttributeView" type="DynamicFileAttributeView" line="96">
                <params>
                    <param name="obj" type="Path"/>
                    <param name="name" type="String"/>
                    <param name="options" type="LinkOption"/>
                </params>
                <declaration name="file" type="WindowsPath" line="97"/>
                <declaration name="followLinks" type="boolean" line="98"/>
            </method>
            <method name="newByteChannel" type="SeekableByteChannel" line="106">
                <params>
                    <param name="obj" type="Path"/>
                    <param name="options" type="Set<? extends OpenOption>"/>
                    <param name="attrs" type="FileAttribute<?>"/>
                </params>
                <declaration name="file" type="WindowsPath" line="107"/>
                <declaration name="sd" type="WindowsSecurityDescriptor" line="108"/>
                <scope line="109"/>
                <scope line="112"/>
                <scope line="116"/>
            </method>
            <method name="implDelete" type="boolean" line="120">
                <params>
                    <param name="obj" type="Path"/>
                    <param name="failIfNotExists" type="boolean"/>
                </params>
                <declaration name="file" type="WindowsPath" line="121"/>
                <declaration name="attrs" type="WindowsFileAttributes" line="123"/>
                <scope line="124">
                    <scope line="126"/>
                    <scope line="129"/>
                </scope>
                <scope line="134">
                    <scope line="136">
                        <scope line="137"/>
                    </scope>
                </scope>
            </method>
            <method name="copy" type="void" line="145">
                <params>
                    <param name="source" type="Path"/>
                    <param name="target" type="Path"/>
                    <param name="options" type="CopyOption"/>
                </params>
            </method>
            <method name="move" type="void" line="148">
                <params>
                    <param name="source" type="Path"/>
                    <param name="target" type="Path"/>
                    <param name="options" type="CopyOption"/>
                </params>
            </method>
            <javadoc line="151">
                Returns buffer with SID_AND_ATTRIBUTES structure representing the user
                  associated with the current thread access token.
                  FIXME - this should be cached.                
            </javadoc>
            <method name="getUserInfo" type="NativeBuffer" line="156">
                <params>
                    <param name="file" type="WindowsPath"/>
                </params>
            </method>
            <javadoc line="176">
                Reads the file ACL and return the effective access as ACCESS_MASK                
            </javadoc>
            <method name="getEffectiveAccess" type="int" line="179">
                <params>
                    <param name="file" type="WindowsPath"/>
                </params>
                <declaration name="target" type="String" line="180"/>
                <declaration name="aclBuffer" type="NativeBuffer" line="181"/>
                <declaration name="pAcl" type="long" line="182"/>
                <scope line="183">
                    <declaration name="userBuffer" type="NativeBuffer" line="184"/>
                    <scope line="185">
                        <scope line="186">
                            <declaration name="pSid" type="long" line="187"/>
                            <declaration name="pTrustee" type="long" line="188"/>
                            <scope line="189"/>
                            <scope line="192"/>
                        </scope>
                        <scope line="196"/>
                    </scope>
                    <scope line="200"/>
                </scope>
                <scope line="204"/>
            </method>
            <method name="checkAccess" type="void" line="208">
                <params>
                    <param name="obj" type="Path"/>
                    <param name="modes" type="AccessMode"/>
                </params>
                <declaration name="file" type="WindowsPath" line="209"/>
                <scope line="210">
                    <scope line="212"/>
                    <scope line="215"/>
                </scope>
                <declaration name="r" type="boolean" line="220"/>
                <declaration name="w" type="boolean" line="221"/>
                <declaration name="x" type="boolean" line="222"/>
                <scope line="223"/>
                <declaration name="mask" type="int" line="238"/>
                <scope line="239"/>
                <scope line="243"/>
                <scope line="247">
                    <declaration name="sm" type="SecurityManager" line="248"/>
                </scope>
                <scope line="253">
                    <scope line="254">
                        <declaration name="attrs" type="WindowsFileAttributes" line="255"/>
                    </scope>
                    <scope line="258"/>
                    <scope line="261"/>
                </scope>
            </method>
            <method name="isSameFile" type="boolean" line="267">
                <params>
                    <param name="obj1" type="Path"/>
                    <param name="obj2" type="Path"/>
                </params>
                <declaration name="file1" type="WindowsPath" line="268"/>
                <declaration name="file2" type="WindowsPath" line="272"/>
                <declaration name="h1" type="long" line="275"/>
                <scope line="276"/>
                <scope line="279"/>
                <scope line="282">
                    <declaration name="attrs1" type="WindowsFileAttributes" line="283"/>
                    <scope line="284"/>
                    <scope line="287"/>
                    <declaration name="h2" type="long" line="290"/>
                    <scope line="291"/>
                    <scope line="294"/>
                    <scope line="297">
                        <declaration name="attrs2" type="WindowsFileAttributes" line="298"/>
                        <scope line="299"/>
                        <scope line="302"/>
                    </scope>
                    <scope line="307"/>
                </scope>
                <scope line="311"/>
            </method>
            <method name="isHidden" type="boolean" line="315">
                <params>
                    <param name="obj" type="Path"/>
                </params>
                <declaration name="file" type="WindowsPath" line="316"/>
                <declaration name="attrs" type="WindowsFileAttributes" line="318"/>
                <scope line="319"/>
                <scope line="322"/>
            </method>
            <method name="getFileStore" type="FileStore" line="328">
                <params>
                    <param name="obj" type="Path"/>
                </params>
                <declaration name="file" type="WindowsPath" line="329"/>
                <declaration name="sm" type="SecurityManager" line="330"/>
                <scope line="331"/>
            </method>
            <method name="createDirectory" type="void" line="337">
                <params>
                    <param name="obj" type="Path"/>
                    <param name="attrs" type="FileAttribute<?>"/>
                </params>
                <declaration name="dir" type="WindowsPath" line="338"/>
                <declaration name="sd" type="WindowsSecurityDescriptor" line="340"/>
                <scope line="341"/>
                <scope line="344"/>
                <scope line="347"/>
            </method>
            <method name="newDirectoryStream" type="DirectoryStream<Path>" line="351">
                <params>
                    <param name="obj" type="Path"/>
                    <param name="filter" type="DirectoryStream.Filter<? super Path>"/>
                </params>
                <declaration name="dir" type="WindowsPath" line="352"/>
            </method>
            <method name="createSymbolicLink" type="void" line="357">
                <params>
                    <param name="obj1" type="Path"/>
                    <param name="obj2" type="Path"/>
                    <param name="attrs" type="FileAttribute<?>"/>
                </params>
                <declaration name="link" type="WindowsPath" line="358"/>
                <declaration name="target" type="WindowsPath" line="359"/>
                <scope line="360"/>
                <scope line="363"/>
                <declaration name="sm" type="SecurityManager" line="367"/>
                <scope line="368"/>
                <scope line="372"/>
                <declaration name="resolvedTarget" type="WindowsPath" line="375"/>
                <scope line="376">
                    <declaration name="parent" type="WindowsPath" line="377"/>
                </scope>
                <scope line="380"/>
                <declaration name="flags" type="int" line="383"/>
                <scope line="384">
                    <declaration name="wattrs" type="WindowsFileAttributes" line="385"/>
                </scope>
                <scope line="388"/>
                <scope line="390"/>
                <scope line="393">
                    <scope line="394"/>
                    <scope line="397"/>
                </scope>
            </method>
            <method name="createLink" type="void" line="402">
                <params>
                    <param name="obj1" type="Path"/>
                    <param name="obj2" type="Path"/>
                </params>
                <declaration name="link" type="WindowsPath" line="403"/>
                <declaration name="existing" type="WindowsPath" line="404"/>
                <declaration name="sm" type="SecurityManager" line="405"/>
                <scope line="406"/>
                <scope line="411"/>
                <scope line="414"/>
            </method>
            <method name="readSymbolicLink" type="Path" line="418">
                <params>
                    <param name="obj1" type="Path"/>
                </params>
                <declaration name="link" type="WindowsPath" line="419"/>
                <declaration name="fs" type="WindowsFileSystem" line="420"/>
                <scope line="421"/>
                <declaration name="sm" type="SecurityManager" line="424"/>
                <scope line="425">
                    <declaration name="perm" type="FilePermission" line="426"/>
                </scope>
                <declaration name="target" type="String" line="429"/>
            </method>
        </class>
    </source>