<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.print">
        <import package="java.net.URI"/>
        <import package="java.io.BufferedInputStream"/>
        <import package="java.io.BufferedOutputStream"/>
        <import package="java.io.File"/>
        <import package="java.io.FileOutputStream"/>
        <import package="java.io.InputStream"/>
        <import package="java.io.OutputStream"/>
        <import package="java.io.InputStream"/>
        <import package="java.io.IOException"/>
        <import package="java.io.FileNotFoundException"/>
        <import package="java.io.Reader"/>
        <import package="java.net.URL"/>
        <import package="java.util.Vector"/>
        <import package="javax.print.CancelablePrintJob"/>
        <import package="javax.print.Doc"/>
        <import package="javax.print.DocFlavor"/>
        <import package="javax.print.DocPrintJob"/>
        <import package="javax.print.PrintService"/>
        <import package="javax.print.PrintException"/>
        <import package="javax.print.event.PrintJobEvent"/>
        <import package="javax.print.event.PrintJobListener"/>
        <import package="javax.print.event.PrintJobAttributeListener"/>
        <import package="javax.print.attribute.Attribute"/>
        <import package="javax.print.attribute.AttributeSet"/>
        <import package="javax.print.attribute.AttributeSetUtilities"/>
        <import package="javax.print.attribute.DocAttributeSet"/>
        <import package="javax.print.attribute.HashPrintJobAttributeSet"/>
        <import package="javax.print.attribute.HashPrintRequestAttributeSet"/>
        <import package="javax.print.attribute.PrintJobAttribute"/>
        <import package="javax.print.attribute.PrintJobAttributeSet"/>
        <import package="javax.print.attribute.PrintRequestAttribute"/>
        <import package="javax.print.attribute.PrintRequestAttributeSet"/>
        <import package="javax.print.attribute.standard.Copies"/>
        <import package="javax.print.attribute.standard.DocumentName"/>
        <import package="javax.print.attribute.standard.Fidelity"/>
        <import package="javax.print.attribute.standard.JobName"/>
        <import package="javax.print.attribute.standard.JobOriginatingUserName"/>
        <import package="javax.print.attribute.standard.Media"/>
        <import package="javax.print.attribute.standard.MediaSize"/>
        <import package="javax.print.attribute.standard.MediaSizeName"/>
        <import package="javax.print.attribute.standard.OrientationRequested"/>
        <import package="javax.print.attribute.standard.RequestingUserName"/>
        <import package="javax.print.attribute.standard.Destination"/>
        <import package="javax.print.attribute.standard.PrinterIsAcceptingJobs"/>
        <import package="javax.print.attribute.standard.PrinterState"/>
        <import package="javax.print.attribute.standard.PrinterStateReason"/>
        <import package="javax.print.attribute.standard.PrinterStateReasons"/>
        <import package="java.awt.print"/>
        <class name="Win32PrintJob" line="80">
            <comment line="97">
                these variables used globally to store reference to the print
                 data retrieved as a stream. On completion these are always closed
                 if non-null.                
            </comment>
            <comment line="104">
                                
            </comment>
            <comment line="111">
                                
            </comment>
            <comment line="114">
                                
            </comment>
            <comment line="162">
                Closes any stream already retrieved for the data.
                 We want to avoid unnecessarily asking the Doc to create a stream only
                 to get a reference in order to close it because the job failed.
                 If the representation class is itself a &quot;stream&quot;, this
                 closes that stream too.                
            </comment>
            <comment line="585">
                There&apos;s some inefficiency here as the job set is created even though
                 it may never be requested.                
            </comment>
            <comment line="737">
                                
            </comment>
            <implements interface="CancelablePrintJob"/>
            <declaration name="jobListeners" type="Vector" line="82"/>
            <declaration name="attrListeners" type="Vector" line="83"/>
            <declaration name="listenedAttributeSets" type="Vector" line="84"/>
            <declaration name="service" type="Win32PrintService" line="86"/>
            <declaration name="fidelity" type="boolean" line="87"/>
            <declaration name="printing" type="boolean" line="88"/>
            <declaration name="printReturned" type="boolean" line="89"/>
            <declaration name="reqAttrSet" type="PrintRequestAttributeSet" line="90"/>
            <declaration name="jobAttrSet" type="PrintJobAttributeSet" line="91"/>
            <declaration name="job" type="PrinterJob" line="92"/>
            <declaration name="doc" type="Doc" line="93"/>
            <declaration name="mDestination" type="String" line="94"/>
            <declaration name="instream" type="InputStream" line="100"/>
            <declaration name="reader" type="Reader" line="101"/>
            <declaration name="jobName" type="String" line="104"/>
            <declaration name="copies" type="int" line="105"/>
            <declaration name="mediaName" type="MediaSizeName" line="106"/>
            <declaration name="mediaSize" type="MediaSize" line="107"/>
            <declaration name="orient" type="OrientationRequested" line="108"/>
            <declaration name="hPrintJob" type="long" line="111"/>
            <declaration name="PRINTBUFFERLEN" type="int" line="114"/>
            <method name="Win32PrintJob" type="constructor" line="116">
                <params>
                    <param name="service" type="Win32PrintService"/>
                </params>
            </method>
            <method name="getPrintService" type="PrintService" line="120"/>
            <method name="getAttributes" type="PrintJobAttributeSet" line="124">
                <comment line="127">
                                        
                </comment>
                <scope line="125">
                    <scope line="126">
                        <declaration name="jobSet" type="PrintJobAttributeSet" line="128"/>
                    </scope>
                    <scope line="130"/>
                </scope>
            </method>
            <method name="addPrintJobListener" type="void" line="136">
                <params>
                    <param name="listener" type="PrintJobListener"/>
                </params>
                <scope line="137">
                    <scope line="138"/>
                    <scope line="141"/>
                </scope>
            </method>
            <method name="removePrintJobListener" type="void" line="148">
                <params>
                    <param name="listener" type="PrintJobListener"/>
                </params>
                <scope line="149">
                    <scope line="150"/>
                    <scope line="154"/>
                </scope>
            </method>
            <method name="closeDataStreams" type="void" line="167">
                <scope line="169"/>
                <declaration name="data" type="Object" line="173"/>
                <scope line="175"/>
                <scope line="177"/>
                <scope line="181">
                    <scope line="182"/>
                    <scope line="184"/>
                    <scope line="185"/>
                </scope>
                <scope line="189">
                    <scope line="190"/>
                    <scope line="192"/>
                    <scope line="193"/>
                </scope>
                <scope line="197">
                    <scope line="198"/>
                    <scope line="200"/>
                </scope>
                <scope line="203">
                    <scope line="204"/>
                    <scope line="206"/>
                </scope>
            </method>
            <method name="notifyEvent" type="void" line="211">
                <params>
                    <param name="reason" type="int"/>
                </params>
                <comment line="213">
                    since this method should always get called, here&apos;s where
                     we will perform the clean up of any data stream supplied.                    
                </comment>
                <scope line="225">
                    <scope line="226">
                        <declaration name="listener" type="PrintJobListener" line="227"/>
                        <declaration name="event" type="PrintJobEvent" line="228"/>
                        <scope line="229"/>
                    </scope>
                </scope>
            </method>
            <method name="addPrintJobAttributeListener" type="void" line="263">
                <params>
                    <param name="listener" type="PrintJobAttributeListener"/>
                    <param name="attributes" type="PrintJobAttributeSet"/>
                </params>
                <scope line="264">
                    <scope line="265"/>
                    <scope line="268"/>
                    <scope line="273"/>
                </scope>
            </method>
            <method name="removePrintJobAttributeListener" type="void" line="281">
                <params>
                    <param name="listener" type="PrintJobAttributeListener"/>
                </params>
                <scope line="282">
                    <scope line="283"/>
                    <declaration name="index" type="int" line="286"/>
                    <scope line="287"/>
                    <scope line="289">
                        <scope line="292"/>
                    </scope>
                </scope>
            </method>
            <method name="print" type="void" line="301">
                <params>
                    <param name="doc" type="Doc"/>
                    <param name="attributes" type="PrintRequestAttributeSet"/>
                </params>
                <comment line="332">
                                        
                </comment>
                <comment line="437">
                    if destination attribute is set                    
                </comment>
                <scope line="303">
                    <scope line="304"/>
                    <scope line="306"/>
                </scope>
                <declaration name="prnState" type="PrinterState" line="311"/>
                <scope line="313">
                    <declaration name="prnStateReasons" type="PrinterStateReasons" line="314"/>
                    <scope line="319"/>
                </scope>
                <scope line="326"/>
                <declaration name="flavor" type="DocFlavor" line="333"/>
                <declaration name="data" type="Object" line="334"/>
                <scope line="336"/>
                <scope line="338"/>
                <scope line="343"/>
                <declaration name="repClassName" type="String" line="352"/>
                <scope line="359">
                    <scope line="360">
                        <scope line="362"/>
                    </scope>
                    <scope line="369"/>
                    <scope line="372"/>
                </scope>
                <scope line="378">
                    <scope line="379"/>
                    <scope line="383"/>
                </scope>
                <scope line="387">
                    <scope line="388"/>
                    <scope line="392"/>
                    <scope line="395"/>
                </scope>
                <scope line="399">
                    <scope line="400"/>
                    <scope line="404"/>
                    <scope line="407"/>
                </scope>
                <scope line="413">
                    <scope line="415">
                        <declaration name="url" type="URL" line="416"/>
                        <scope line="417"/>
                        <scope line="419"/>
                    </scope>
                    <scope line="423">
                        <scope line="424"/>
                        <scope line="426"/>
                    </scope>
                    <scope line="432"/>
                    <scope line="437">
                        <scope line="438">
                            <declaration name="fos" type="FileOutputStream" line="439"/>
                            <declaration name="buffer" type="byte[]" line="440"/>
                            <declaration name="cread" type="int" line="441"/>
                            <scope line="443"/>
                        </scope>
                        <scope line="448"/>
                        <scope line="451"/>
                    </scope>
                    <scope line="461"/>
                    <declaration name="bin" type="BufferedInputStream" line="465"/>
                    <declaration name="bread" type="int" line="466"/>
                    <scope line="467">
                        <declaration name="buffer" type="byte[]" line="468"/>
                        <scope line="470">
                            <scope line="471"/>
                        </scope>
                        <scope line="478"/>
                    </scope>
                    <scope line="483"/>
                    <scope line="486"/>
                </scope>
                <scope line="489"/>
            </method>
            <method name="printableJob" type="void" line="496">
                <params>
                    <param name="printable" type="Printable"/>
                </params>
                <comment line="499">
                    shouldn&apos;t happen                    
                </comment>
                <scope line="497">
                    <scope line="498">
                        <scope line="499"/>
                        <scope line="501"/>
                    </scope>
                    <declaration name="svc" type="PrintService" line="505"/>
                    <scope line="507">
                        <declaration name="c" type="Copies" line="508"/>
                    </scope>
                    <scope line="512">
                        <declaration name="media" type="Object" line="513"/>
                        <scope line="514"/>
                    </scope>
                    <scope line="520"/>
                    <declaration name="pf" type="PageFormat" line="527"/>
                    <scope line="528">
                        <declaration name="p" type="Paper" line="529"/>
                    </scope>
                    <scope line="536"/>
                    <scope line="538"/>
                </scope>
                <scope line="545"/>
                <scope line="548"/>
            </method>
            <method name="pageableJob" type="void" line="554">
                <params>
                    <param name="pageable" type="Pageable"/>
                </params>
                <comment line="557">
                    shouldn&apos;t happen                    
                </comment>
                <scope line="555">
                    <scope line="556">
                        <scope line="557"/>
                        <scope line="559"/>
                    </scope>
                    <declaration name="svc" type="PrintService" line="563"/>
                    <scope line="565">
                        <declaration name="c" type="Copies" line="566"/>
                    </scope>
                </scope>
                <scope line="575"/>
                <scope line="578"/>
            </method>
            <method name="initializeAttributeSets" type="void" line="588">
                <params>
                    <param name="doc" type="Doc"/>
                    <param name="reqSet" type="PrintRequestAttributeSet"/>
                </params>
                <comment line="617">
                                        
                </comment>
                <comment line="638">
                    if no job name supplied use doc name (if supplied), if none and                    
                </comment>
                <declaration name="attrs" type="Attribute[]" line="593"/>
                <scope line="594">
                    <scope line="597">
                        <scope line="598"/>
                    </scope>
                </scope>
                <declaration name="docSet" type="DocAttributeSet" line="604"/>
                <scope line="605">
                    <scope line="607">
                        <scope line="608"/>
                        <scope line="611"/>
                    </scope>
                </scope>
                <declaration name="userName" type="String" line="618"/>
                <scope line="619"/>
                <scope line="621"/>
                <scope line="624">
                    <declaration name="ruName" type="RequestingUserName" line="625"/>
                    <scope line="627"/>
                    <scope line="631"/>
                </scope>
                <scope line="634"/>
                <scope line="640">
                    <declaration name="jobName" type="JobName" line="641"/>
                    <scope line="642">
                        <declaration name="docName" type="DocumentName" line="643"/>
                    </scope>
                    <scope line="647">
                        <declaration name="str" type="String" line="648"/>
                        <scope line="649">
                            <declaration name="printData" type="Object" line="650"/>
                            <scope line="651"/>
                        </scope>
                        <scope line="654"/>
                    </scope>
                </scope>
            </method>
            <method name="getAttributeValues" type="void" line="664">
                <params>
                    <param name="flavor" type="DocFlavor"/>
                </params>
                <comment line="700">
                    check write access                    
                </comment>
                <comment line="718">
                    If requested MediaSizeName is not supported,                    
                </comment>
                <comment line="719">
                    get the corresponding media size - this will                    
                </comment>
                <comment line="720">
                    be used to create a new PageFormat.                    
                </comment>
                <scope line="666"/>
                <scope line="668"/>
                <declaration name="category" type="Class" line="672"/>
                <declaration name="attrs" type="Attribute[]" line="673"/>
                <scope line="674">
                    <declaration name="attr" type="Attribute" line="675"/>
                    <scope line="677">
                        <scope line="678"/>
                        <scope line="683"/>
                    </scope>
                    <scope line="689">
                        <declaration name="uri" type="URI" line="690"/>
                        <scope line="691"/>
                        <scope line="694">
                            <scope line="695"/>
                            <scope line="697"/>
                            <declaration name="security" type="SecurityManager" line="701"/>
                            <scope line="702">
                                <scope line="703"/>
                                <scope line="705"/>
                            </scope>
                        </scope>
                    </scope>
                    <scope line="711"/>
                    <scope line="713"/>
                    <scope line="715">
                        <scope line="716">
                            <scope line="721"/>
                        </scope>
                    </scope>
                    <scope line="725"/>
                </scope>
            </method>
            <method name="startPrintRawData" type="boolean" line="731"/>
            <method name="printRawData" type="boolean" line="733"/>
            <method name="endPrintRawData" type="boolean" line="734"/>
            <method name="cancel" type="void" line="737">
                <scope line="738">
                    <scope line="739"/>
                    <scope line="741"/>
                    <scope line="745"/>
                </scope>
            </method>
        </class>
    </source>