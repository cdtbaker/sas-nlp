<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.tools.attach">
        <import package="com.sun.tools.attach.VirtualMachine"/>
        <import package="com.sun.tools.attach.VirtualMachineDescriptor"/>
        <import package="com.sun.tools.attach.AttachNotSupportedException"/>
        <import package="java.util.ArrayList"/>
        <import package="java.util.List"/>
        <import package="java.io.IOException"/>
        <import package="java.net.InetAddress"/>
        <import package="java.net.UnknownHostException"/>
        <class name="WindowsAttachProvider" line="37">
            <extends class="HotSpotAttachProvider"/>
            <comment line="108">
                flag to indicate persistent ACLs are supported                
            </comment>
            <comment line="111">
                indicates if we&apos;ve checked the temporary file system                
            </comment>
            <comment line="114">
                indicates if the temporary file system is secure (only valid when                
            </comment>
            <comment line="115">
                wasTempPathChecked is true)                
            </comment>
            <comment line="118">
                returns the value of TMP/TEMP                
            </comment>
            <comment line="121">
                returns the flags for the given volume                
            </comment>
            <comment line="166">
                enumerates processes using psapi&apos;s EnumProcesses                
            </comment>
            <comment line="169">
                indicates if a library of a given name has been loaded by a process                
            </comment>
            <comment line="174">
                native functions in this library                
            </comment>
            <method name="WindowsAttachProvider" type="constructor" line="39">
                <declaration name="os" type="String" line="40"/>
                <scope line="41"/>
                <declaration name="arch" type="String" line="45"/>
                <scope line="46"/>
            </method>
            <method name="name" type="String" line="52"/>
            <method name="type" type="String" line="56"/>
            <method name="attachVirtualMachine" type="VirtualMachine" line="62">
                <params>
                    <param name="vmid" type="String"/>
                </params>
                <comment line="65">
                    AttachNotSupportedException will be thrown if the target VM can be determined                    
                </comment>
                <comment line="66">
                    to be not attachable.                    
                </comment>
            </method>
            <method name="listVirtualMachines" type="List<VirtualMachineDescriptor>" line="72">
                <comment line="73">
                    If the temporary file system is secure then we use the default                    
                </comment>
                <comment line="74">
                    implementation, otherwise we create a list of Windows processes.                    
                </comment>
                <scope line="75"/>
                <scope line="77"/>
            </method>
            <javadoc line="82">
                Returns true if the temporary file system supports security                
            </javadoc>
            <method name="isTempPathSecure" type="boolean" line="85">
                <comment line="89">
                    get the value of TMP/TEMP, ignoring UNC, and paths that                    
                </comment>
                <comment line="90">
                    aren&apos;t absolute                    
                </comment>
                <comment line="95">
                    check if the volume supports security                    
                </comment>
                <scope line="86">
                    <scope line="87">
                        <scope line="88">
                            <declaration name="temp" type="String" line="91"/>
                            <scope line="94">
                                <declaration name="flags" type="long" line="96"/>
                            </scope>
                        </scope>
                    </scope>
                </scope>
            </method>
            <declaration name="FS_PERSISTENT_ACLS" type="long" line="108"/>
            <declaration name="wasTempPathChecked" type="boolean" line="111"/>
            <declaration name="isTempPathSecure" type="boolean" line="115"/>
            <method name="tempPath" type="String" line="118"/>
            <method name="volumeFlags" type="long" line="121"/>
            <javadoc line="124">
                Returns a list of virtual machine descriptors derived from an enumeration
                  of the process list.                
            </javadoc>
            <method name="listJavaProcesses" type="List<VirtualMachineDescriptor>" line="128">
                <comment line="132">
                    Use localhost in the display name                    
                </comment>
                <comment line="137">
                    ignore                    
                </comment>
                <comment line="140">
                    Enumerate all processes.                    
                </comment>
                <comment line="141">
                    For those processes that have loaded a library named &quot;jvm.dll&quot;                    
                </comment>
                <comment line="142">
                    then we attempt to attach. If we succeed then we have a 6.0+ VM.                    
                </comment>
                <comment line="151">
                    FIXME - for now we don&apos;t have an appropriate display                    
                </comment>
                <comment line="152">
                    name so we use pid@hostname                    
                </comment>
                <declaration name="list" type="ArrayList&lt;VirtualMachineDescriptor&gt;" line="129"/>
                <declaration name="host" type="String" line="133"/>
                <scope line="134"/>
                <scope line="136"/>
                <declaration name="processes" type="int" line="143"/>
                <declaration name="count" type="int" line="144"/>
                <scope line="145">
                    <scope line="146">
                        <declaration name="pid" type="String" line="147"/>
                        <scope line="148">
                            <declaration name="name" type="String" line="153"/>
                        </scope>
                        <scope line="156"/>
                        <scope line="157"/>
                    </scope>
                </scope>
            </method>
            <method name="enumProcesses" type="int" line="166"/>
            <method name="isLibraryLoadedByProcess" type="boolean" line="169"/>
            <scope line="174"/>
        </class>
    </source>