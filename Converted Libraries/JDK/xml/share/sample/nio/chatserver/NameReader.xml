<?xml version="1.0" encoding="UTF-8"?>
    <source package="">
        <import package="java.nio.ByteBuffer"/>
        <class name="NameReader" line="2">
            <implements interface="DataReader"/>
            <javadoc line="2">
                The first state a newly connected {@code Client} is in, this
                  handles writing out the welcoming message and reads the response
                  up to a newline. When a newline character have been received
                  it changes the handler from NameReader to MessageReader on the
                  client.                
            </javadoc>
            <declaration name="buffer" type="StringBuilder" line="10"/>
            <declaration name="chatServer" type="ChatServer" line="11"/>
            <declaration name="once" type="boolean" line="12"/>
            <declaration name="NEWLINE" type="String" line="13"/>
            <method name="NameReader" type="constructor" line="14">
                <params>
                    <param name="chatServer" type="ChatServer"/>
                </params>
            </method>
            <javadoc line="17">
                Writes the welcoming message to the client the first time this method
                  is called.                
                <param>
                    client the client to receive the message                    
                </param>
            </javadoc>
            <method name="beforeRead" type="void" line="22">
                <params>
                    <param name="client" type="Client"/>
                </params>
                <scope line="23"/>
            </method>
            <method name="acceptsMessages" type="boolean" line="28"/>
            <javadoc line="31">
                Receives incoming data from the socket, searches for a newline
                  and tries to set the username if one is found                
            </javadoc>
            <method name="onData" type="void" line="35">
                <params>
                    <param name="client" type="Client"/>
                    <param name="buffer" type="ByteBuffer"/>
                    <param name="bytes" type="int"/>
                </params>
                <declaration name="name" type="String" line="37"/>
                <scope line="39"/>
            </method>
            <javadoc line="43">
                Splits the name on the newlines, takes the first as the username
                  and appends everything else to the clients message buffer.
                  Sets the clients handler to MessageReader.                
                <param>
                    client the client to set the username for                    
                </param>
                <param>
                    name the string containing the buffered input                    
                </param>
            </javadoc>
            <method name="onUserNameRead" type="void" line="50">
                <params>
                    <param name="client" type="Client"/>
                    <param name="name" type="String"/>
                </params>
                <declaration name="strings" type="String[]" line="51"/>
            </method>
            <javadoc line="57">
                Appends the remaining parts to the clients message buffer                
                <param>
                    client the client                    
                </param>
                <param>
                    strings the messages to append to the buffer                    
                </param>
            </javadoc>
            <method name="sendRemainingParts" type="void" line="62">
                <params>
                    <param name="client" type="Client"/>
                    <param name="strings" type="String[]"/>
                </params>
                <scope line="63"/>
            </method>
        </class>
    </source>