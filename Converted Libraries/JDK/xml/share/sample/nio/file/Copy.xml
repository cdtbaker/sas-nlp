<?xml version="1.0" encoding="UTF-8"?>
    <source package="">
        <import package="java.nio.file"/>
        <import package="java.nio.file.StandardCopyOption"/>
        <import package="java.nio.file.attribute"/>
        <import package="java.nio.file.FileVisitResult"/>
        <import package="java.io.IOException"/>
        <import package="java.util"/>
        <class name="Copy" line="39">
            <javadoc line="39">
                Sample code that copies files in a similar manner to the cp(1) program.                
            </javadoc>
            <javadoc line="45">
                Returns {@code true} if okay to overwrite a  file (&quot;cp -i&quot;)                
            </javadoc>
            <method name="okayToOverwrite" type="boolean" line="48">
                <params>
                    <param name="file" type="Path"/>
                </params>
                <declaration name="answer" type="String" line="49"/>
            </method>
            <javadoc line="53">
                Copy source file to target location. If {@code prompt} is true then
                  prompt user to overwrite target if it exists. The {@code preserve}parameter determines if file attributes should be copied/preserved.                
            </javadoc>
            <method name="copyFile" type="void" line="58">
                <params>
                    <param name="source" type="Path"/>
                    <param name="target" type="Path"/>
                    <param name="prompt" type="boolean"/>
                    <param name="preserve" type="boolean"/>
                </params>
                <declaration name="options" type="CopyOption[]" line="59"/>
                <scope line="62">
                    <scope line="63"/>
                    <scope line="65"/>
                </scope>
            </method>
            <class name="TreeCopier" line="71">
                <implements interface="FileVisitor">
                    <type_params>
                        <type_param name="Path"/>
                    </type_params>
                </implements>
                <javadoc line="71">
                    A {@code FileVisitor} that copies a file-tree (&quot;cp -r&quot;)                    
                </javadoc>
                <declaration name="source" type="Path" line="75"/>
                <declaration name="target" type="Path" line="76"/>
                <declaration name="prompt" type="boolean" line="77"/>
                <declaration name="preserve" type="boolean" line="78"/>
                <method name="TreeCopier" type="constructor" line="80">
                    <params>
                        <param name="source" type="Path"/>
                        <param name="target" type="Path"/>
                        <param name="prompt" type="boolean"/>
                        <param name="preserve" type="boolean"/>
                    </params>
                </method>
                <method name="preVisitDirectory" type="FileVisitResult" line="88">
                    <params>
                        <param name="dir" type="Path"/>
                        <param name="attrs" type="BasicFileAttributes"/>
                    </params>
                    <comment line="90">
                        before visiting entries in a directory we copy the directory
                         (okay if directory already exists).                        
                    </comment>
                    <comment line="99">
                        ignore                        
                    </comment>
                    <declaration name="options" type="CopyOption[]" line="91"/>
                    <declaration name="newdir" type="Path" line="94"/>
                    <scope line="95"/>
                    <scope line="97"/>
                    <scope line="99"/>
                </method>
                <method name="visitFile" type="FileVisitResult" line="107">
                    <params>
                        <param name="file" type="Path"/>
                        <param name="attrs" type="BasicFileAttributes"/>
                    </params>
                </method>
                <method name="postVisitDirectory" type="FileVisitResult" line="114">
                    <params>
                        <param name="dir" type="Path"/>
                        <param name="exc" type="IOException"/>
                    </params>
                    <comment line="116">
                        fix up modification time of directory when done                        
                    </comment>
                    <scope line="116">
                        <declaration name="newdir" type="Path" line="117"/>
                        <scope line="118">
                            <declaration name="time" type="FileTime" line="119"/>
                        </scope>
                        <scope line="121"/>
                    </scope>
                </method>
                <method name="visitFileFailed" type="FileVisitResult" line="129">
                    <params>
                        <param name="file" type="Path"/>
                        <param name="exc" type="IOException"/>
                    </params>
                    <scope line="130"/>
                    <scope line="132"/>
                </method>
            </class>
            <method name="usage" type="void" line="139"/>
            <method name="main" type="void" line="145">
                <params>
                    <param name="args" type="String[]"/>
                </params>
                <comment line="151">
                    process options                    
                </comment>
                <comment line="171">
                    remaining arguments are the source files(s) and the target location                    
                </comment>
                <comment line="183">
                    check if target is a directory                    
                </comment>
                <comment line="186">
                    copy each source file/directory to target                    
                </comment>
                <comment line="191">
                    follow links when copying files                    
                </comment>
                <comment line="196">
                    not recursive so source must not be a directory                    
                </comment>
                <declaration name="recursive" type="boolean" line="146"/>
                <declaration name="prompt" type="boolean" line="147"/>
                <declaration name="preserve" type="boolean" line="148"/>
                <declaration name="argi" type="int" line="151"/>
                <scope line="152">
                    <declaration name="arg" type="String" line="153"/>
                    <scope line="158">
                        <declaration name="c" type="char" line="159"/>
                    </scope>
                </scope>
                <declaration name="remaining" type="int" line="171"/>
                <declaration name="source" type="Path[]" line="174"/>
                <declaration name="i" type="int" line="175"/>
                <scope line="176"/>
                <declaration name="target" type="Path" line="180"/>
                <declaration name="isDir" type="boolean" line="183"/>
                <scope line="186">
                    <declaration name="dest" type="Path" line="187"/>
                    <scope line="189">
                        <declaration name="opts" type="EnumSet&amp;lt;FileVisitOption&amp;gt;" line="191"/>
                        <declaration name="tc" type="TreeCopier" line="192"/>
                    </scope>
                    <scope line="194">
                        <scope line="196"/>
                    </scope>
                </scope>
            </method>
        </class>
    </source>