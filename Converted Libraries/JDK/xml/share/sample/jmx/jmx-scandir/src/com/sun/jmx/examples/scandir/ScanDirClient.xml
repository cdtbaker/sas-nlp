<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.jmx.examples.scandir">
        <import package="java.net.InetAddress"/>
        <import package="java.net.UnknownHostException"/>
        <import package="java.util.HashMap"/>
        <import package="java.util.Map"/>
        <import package="javax.management.MBeanServerConnection"/>
        <import package="javax.management.remote.JMXConnector"/>
        <import package="javax.management.remote.JMXConnectorFactory"/>
        <import package="javax.management.remote.JMXServiceURL"/>
        <import package="javax.rmi.ssl.SslRMIClientSocketFactory"/>
        <class name="ScanDirClient" line="44">
            <comment line="61">
                This class has only a main.                
            </comment>
            <javadoc line="44">
                The ScanDirClient class is a very simple programmatic client example
                  which is able to connect to a secured JMX &lt;i&gt;scandir&lt;/i&gt; application.
                  &lt;p&gt;The program initialize the connection environment map with the
                  appropriate properties and credentials, and then connects to the
                  secure JMX &lt;i&gt;scandir&lt;/i&gt; daemon.&lt;/p&gt;
                  &lt;p&gt;It gets the application&apos;s current configuration and prints it on
                  its &lt;code&gt;System.out&lt;/code&gt;.&lt;/p&gt;
                  &lt;p&gt;The {@link #main main} method takes two arguments: the host on which
                  the server is running (localhost), and the port number
                  that was configured to start the server RMI Connector (4545).
                  &lt;/p&gt;                
                <author>
                    Sun Microsystems, 2006 - All rights reserved.                    
                </author>
            </javadoc>
            <method name="ScanDirClient" type="constructor" line="61"/>
            <declaration name="USAGE" type="String" line="63"/>
            <javadoc line="63">
                The usage string for the ScanDirClient.                
            </javadoc>
            <javadoc line="69">
                Connects to a secured JMX &lt;i&gt;scandir&lt;/i&gt; application.                
                <param>
                    args The {@code main} method takes two parameters:
                      &lt;ul&gt;
                      &lt;li&gt;args[0] must be the server&apos;s host&lt;/li&gt;
                      &lt;li&gt;args[1] must be the rmi port number at which the
                      JMX &lt;i&gt;scandir&lt;/i&gt; daemon is listening for connections
                      - that is, the port number of its JMX RMI Connector which
                      was configured in {@code management.properties}&lt;/li&gt;
                      &lt;ul&gt;                    
                </param>
            </javadoc>
            <method name="main" type="void" line="81">
                <params>
                    <param name="args" type="String[]"/>
                </params>
                <comment line="84">
                    Check args                    
                </comment>
                <comment line="114">
                    Create an environment map to hold connection properties
                     like credentials etc... We will later pass this map
                     to the JMX Connector.                    
                </comment>
                <comment line="121">
                    Provide the credentials required by the server
                     to successfully perform user authentication                    
                </comment>
                <comment line="127">
                    Provide the SSL/TLS-based RMI Client Socket Factory required
                     by the JNDI/RMI Registry Service Provider to communicate with
                     the SSL/TLS-protected RMI Registry                    
                </comment>
                <comment line="134">
                    Create the RMI connector client and
                     connect it to the RMI connector server
                     args[0] is the server&apos;s host - localhost
                     args[1] is the secure server port - 4545                    
                </comment>
                <comment line="148">
                    Get an MBeanServerConnection                    
                </comment>
                <comment line="153">
                    Create a proxy for the ScanManager MXBean                    
                </comment>
                <comment line="158">
                    Get the ScanDirConfig MXBean from the scan manager                    
                </comment>
                <comment line="165">
                    Print the scan dir configuration                    
                </comment>
                <comment line="172">
                    Try to invoke the &quot;close&quot; method on the ScanManager MXBean.
                    
                     Should get a SecurityException as the user &quot;guest&quot; doesn&apos;t
                     have readwrite access.                    
                </comment>
                <comment line="184">
                    Close MBeanServer connection                    
                </comment>
                <scope line="82">
                    <scope line="85"/>
                    <scope line="90"/>
                    <scope line="92"/>
                    <scope line="96"/>
                    <scope line="101">
                        <scope line="102"/>
                    </scope>
                    <scope line="107"/>
                    <declaration name="env" type="Map&amp;lt;String,Object&amp;gt;" line="118"/>
                    <declaration name="credentials" type="String[]" line="123"/>
                    <declaration name="url" type="JMXServiceURL" line="140"/>
                    <declaration name="jmxc" type="JMXConnector" line="145"/>
                    <declaration name="mbsc" type="MBeanServerConnection" line="150"/>
                    <declaration name="proxy" type="ScanManagerMXBean" line="154"/>
                    <declaration name="configMBean" type="ScanDirConfigMXBean" line="161"/>
                    <scope line="177"/>
                    <scope line="179"/>
                </scope>
                <scope line="188"/>
            </method>
        </class>
    </source>