<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.jcp.xml.dsig.internal.dom">
        <import package="java.io.ByteArrayInputStream"/>
        <import package="java.net.URI"/>
        <import package="java.net.URISyntaxException"/>
        <import package="java.security.Provider"/>
        <import package="java.util"/>
        <import package="javax.xml.crypto"/>
        <import package="javax.xml.crypto.dsig"/>
        <import package="javax.xml.crypto.dom.DOMCryptoContext"/>
        <import package="javax.xml.crypto.dom.DOMURIReference"/>
        <import package="javax.xml.crypto.dsig.keyinfo.RetrievalMethod"/>
        <import package="javax.xml.parsers"/>
        <import package="org.w3c.dom.Attr"/>
        <import package="org.w3c.dom.Document"/>
        <import package="org.w3c.dom.Element"/>
        <import package="org.w3c.dom.Node"/>
        <import package="com.sun.org.apache.xml.internal.security.signature.XMLSignatureInput"/>
        <class name="DOMRetrievalMethod" line="54">
            <extends class="DOMStructure"/>
            <implements interface="RetrievalMethod"/>
            <implements interface="DOMURIReference"/>
            <javadoc line="54">
                DOM-based implementation of RetrievalMethod.                
                <author>
                    Sean Mullan                    
                </author>
                <author>
                    Joyce Leung                    
                </author>
            </javadoc>
            <declaration name="transforms" type="List" line="63"/>
            <declaration name="uri" type="String" line="64"/>
            <declaration name="type" type="String" line="65"/>
            <declaration name="here" type="Attr" line="66"/>
            <javadoc line="68">
                Creates a &lt;code&gt;DOMRetrievalMethod&lt;/code&gt; containing the specified
                  URIReference and List of Transforms.                
                <param>
                    uri the URI                    
                </param>
                <param>
                    type the type                    
                </param>
                <param>
                    transforms a list of {@link Transform}s. The list is defensively
                      copied to prevent subsequent modification. May be <code>null</code>
                      or empty.                    
                </param>
                <throws>
                    IllegalArgumentException if the format of <code>uri</code> is
                      invalid, as specified by Reference's URI attribute in the W3C
                      specification for XML-Signature Syntax and Processing                    
                </throws>
                <throws>
                    NullPointerException if <code>uriReference</code>
                      is <code>null</code>                    
                </throws>
                <throws>
                    ClassCastException if <code>transforms</code> contains any
                      entries that are not of type {@link Transform}                    
                </throws>
            </javadoc>
            <method name="DOMRetrievalMethod" type="constructor" line="85">
                <params>
                    <param name="uri" type="String"/>
                    <param name="type" type="String"/>
                    <param name="transforms" type="List"/>
                </params>
                <scope line="86"/>
                <scope line="89"/>
                <scope line="91">
                    <declaration name="transformsCopy" type="List" line="92"/>
                    <scope line="93">
                        <scope line="94"/>
                    </scope>
                </scope>
                <scope line="102">
                    <scope line="103"/>
                    <scope line="105"/>
                </scope>
            </method>
            <javadoc line="113">
                Creates a &lt;code&gt;DOMRetrievalMethod&lt;/code&gt; from an element.                
                <param>
                    rmElem a RetrievalMethod element                    
                </param>
            </javadoc>
            <method name="DOMRetrievalMethod" type="constructor" line="119">
                <params>
                    <param name="rmElem" type="Element"/>
                    <param name="context" type="XMLCryptoContext"/>
                    <param name="provider" type="Provider"/>
                </params>
                <comment line="121">
                    get URI and Type attributes                    
                </comment>
                <comment line="125">
                    get here node                    
                </comment>
                <comment line="128">
                    get Transforms, if specified                    
                </comment>
                <declaration name="transforms" type="List" line="128"/>
                <declaration name="transformsElem" type="Element" line="129"/>
                <scope line="130">
                    <declaration name="transformElem" type="Element" line="131"/>
                    <scope line="133"/>
                </scope>
                <scope line="139"/>
                <scope line="141"/>
            </method>
            <method name="getURI" type="String" line="146"/>
            <method name="getType" type="String" line="150"/>
            <method name="getTransforms" type="List" line="154"/>
            <method name="marshal" type="void" line="159">
                <params>
                    <param name="parent" type="Node"/>
                    <param name="dsPrefix" type="String"/>
                    <param name="context" type="DOMCryptoContext"/>
                </params>
                <comment line="166">
                    add URI and Type attributes                    
                </comment>
                <comment line="170">
                    add Transforms elements                    
                </comment>
                <comment line="183">
                    save here node                    
                </comment>
                <declaration name="ownerDoc" type="Document" line="160"/>
                <declaration name="rmElem" type="Element" line="162"/>
                <scope line="170">
                    <declaration name="transformsElem" type="Element" line="171"/>
                    <scope line="174"/>
                </scope>
            </method>
            <method name="getHere" type="Node" line="186"/>
            <method name="dereference" type="Data" line="191">
                <params>
                    <param name="context" type="XMLCryptoContext"/>
                </params>
                <comment line="198">
                    If URIDereferencer is specified in context; use it, otherwise use
                     built-in.                    
                </comment>
                <comment line="209">
                    pass dereferenced data through Transforms                    
                </comment>
                <scope line="193"/>
                <declaration name="deref" type="URIDereferencer" line="201"/>
                <scope line="202"/>
                <declaration name="data" type="Data" line="206"/>
                <scope line="209">
                    <scope line="210">
                        <declaration name="transform" type="Transform" line="211"/>
                    </scope>
                </scope>
                <scope line="214"/>
            </method>
            <method name="dereferenceAsXMLStructure" type="XMLStructure" line="221">
                <params>
                    <param name="context" type="XMLCryptoContext"/>
                </params>
                <comment line="235">
                    unsupported                    
                </comment>
                <scope line="223">
                    <declaration name="data" type="ApacheData" line="224"/>
                    <declaration name="dbf" type="DocumentBuilderFactory" line="225"/>
                    <declaration name="db" type="DocumentBuilder" line="227"/>
                    <declaration name="doc" type="Document" line="228"/>
                    <declaration name="kiElem" type="Element" line="230"/>
                    <scope line="231"/>
                    <scope line="233"/>
                </scope>
                <scope line="236"/>
            </method>
            <method name="equals" type="boolean" line="241">
                <params>
                    <param name="obj" type="Object"/>
                </params>
                <scope line="242"/>
                <scope line="245"/>
                <declaration name="orm" type="RetrievalMethod" line="248"/>
                <declaration name="typesEqual" type="boolean" line="250"/>
            </method>
        </class>
    </source>