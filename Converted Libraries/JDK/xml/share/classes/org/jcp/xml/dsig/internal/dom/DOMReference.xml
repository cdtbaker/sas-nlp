<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.jcp.xml.dsig.internal.dom">
        <import package="javax.xml.crypto"/>
        <import package="javax.xml.crypto.dsig"/>
        <import package="javax.xml.crypto.dom.DOMCryptoContext"/>
        <import package="javax.xml.crypto.dom.DOMURIReference"/>
        <import package="java.io"/>
        <import package="java.net.URI"/>
        <import package="java.net.URISyntaxException"/>
        <import package="java.security"/>
        <import package="java.util"/>
        <import package="java.util.logging.Level"/>
        <import package="java.util.logging.Logger"/>
        <import package="org.w3c.dom.Attr"/>
        <import package="org.w3c.dom.Document"/>
        <import package="org.w3c.dom.Element"/>
        <import package="org.w3c.dom.Node"/>
        <import package="org.jcp.xml.dsig.internal.DigesterOutputStream"/>
        <import package="com.sun.org.apache.xml.internal.security.exceptions.Base64DecodingException"/>
        <import package="com.sun.org.apache.xml.internal.security.signature.XMLSignatureInput"/>
        <import package="com.sun.org.apache.xml.internal.security.utils.Base64"/>
        <import package="com.sun.org.apache.xml.internal.security.utils.UnsyncBufferedOutputStream"/>
        <class name="DOMReference" line="22">
            <extends class="DOMStructure"/>
            <implements interface="Reference"/>
            <implements interface="DOMURIReference"/>
            <javadoc line="22">
                DOM-based implementation of Reference.                
                <author>
                    Sean Mullan                    
                </author>
                <author>
                    Joyce Leung                    
                </author>
            </javadoc>
            <declaration name="useC14N11" type="boolean" line="28"/>
            <javadoc line="28">
                Look up useC14N11 system property. If true, an explicit C14N11 transform
                  will be added if necessary when generating the signature. See section
                  3.1.1 of http://www.w3.org/2007/xmlsec/Drafts/xmldsig-core/ for more info.
                  If true, overrides the same property if set in the XMLSignContext.                
            </javadoc>
            <anonymous_class line="34">
                <method name="run" type="Boolean" line="35"/>
            </anonymous_class>
            <declaration name="log" type="Logger" line="40"/>
            <declaration name="digestMethod" type="DigestMethod" line="41"/>
            <declaration name="id" type="String" line="42"/>
            <declaration name="transforms" type="List" line="43"/>
            <declaration name="allTransforms" type="List" line="44"/>
            <declaration name="appliedTransformData" type="Data" line="45"/>
            <declaration name="here" type="Attr" line="46"/>
            <declaration name="uri" type="String" line="47"/>
            <declaration name="type" type="String" line="48"/>
            <declaration name="digestValue" type="byte[]" line="49"/>
            <declaration name="calcDigestValue" type="byte[]" line="50"/>
            <declaration name="refElem" type="Element" line="51"/>
            <declaration name="digested" type="boolean" line="52"/>
            <declaration name="validated" type="boolean" line="53"/>
            <declaration name="validationStatus" type="boolean" line="54"/>
            <declaration name="derefData" type="Data" line="55"/>
            <declaration name="dis" type="InputStream" line="56"/>
            <declaration name="md" type="MessageDigest" line="57"/>
            <declaration name="provider" type="Provider" line="58"/>
            <javadoc line="59">
                Creates a &lt;code&gt;Reference&lt;/code&gt; from the specified parameters.                
                <param>
                    uri the URI (may be null)                    
                </param>
                <param>
                    type the type (may be null)                    
                </param>
                <param>
                    dm the digest method                    
                </param>
                <param>
                    transforms a list of {@link Transform}s. The list
                      is defensively copied to protect against subsequent modification.
                      May be &lt;code&gt;null&lt;/code&gt; or empty.                    
                </param>
                <param>
                    id the reference ID (may be &lt;code&gt;null&lt;/code&gt;)                    
                </param>
                <return>
                    a &lt;code&gt;Reference&lt;/code&gt;                    
                </return>
                <throws>
                    NullPointerException if &lt;code&gt;dm&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt;                    
                </throws>
                <throws>
                    ClassCastException if any of the &lt;code&gt;transforms&lt;/code&gt; are
                      not of type &lt;code&gt;Transform&lt;/code&gt;                    
                </throws>
            </javadoc>
            <method name="DOMReference" type="constructor" line="73">
                <params>
                    <param name="uri" type="String"/>
                    <param name="type" type="String"/>
                    <param name="dm" type="DigestMethod"/>
                    <param name="transforms" type="List"/>
                    <param name="id" type="String"/>
                    <param name="provider" type="Provider"/>
                </params>
            </method>
            <method name="DOMReference" type="constructor" line="76">
                <params>
                    <param name="uri" type="String"/>
                    <param name="type" type="String"/>
                    <param name="dm" type="DigestMethod"/>
                    <param name="appliedTransforms" type="List"/>
                    <param name="result" type="Data"/>
                    <param name="transforms" type="List"/>
                    <param name="id" type="String"/>
                    <param name="provider" type="Provider"/>
                </params>
            </method>
            <method name="DOMReference" type="constructor" line="79">
                <params>
                    <param name="uri" type="String"/>
                    <param name="type" type="String"/>
                    <param name="dm" type="DigestMethod"/>
                    <param name="appliedTransforms" type="List"/>
                    <param name="result" type="Data"/>
                    <param name="transforms" type="List"/>
                    <param name="id" type="String"/>
                    <param name="digestValue" type="byte[]"/>
                    <param name="provider" type="Provider"/>
                </params>
                <scope line="80"/>
                <scope line="84">
                    <declaration name="transformsCopy" type="List" line="85"/>
                    <scope line="86">
                        <scope line="87"/>
                    </scope>
                </scope>
                <scope line="93"/>
                <scope line="96">
                    <declaration name="transformsCopy" type="List" line="97"/>
                    <scope line="98">
                        <scope line="99"/>
                    </scope>
                </scope>
                <scope line="108">
                    <scope line="109"/>
                    <scope line="112"/>
                </scope>
                <scope line="118"/>
            </method>
            <javadoc line="125">
                Creates a &lt;code&gt;DOMReference&lt;/code&gt; from an element.                
                <param>
                    refElem a Reference element                    
                </param>
            </javadoc>
            <method name="DOMReference" type="constructor" line="129">
                <params>
                    <param name="refElem" type="Element"/>
                    <param name="context" type="XMLCryptoContext"/>
                    <param name="provider" type="Provider"/>
                </params>
                <declaration name="nextSibling" type="Element" line="130"/>
                <declaration name="transforms" type="List" line="131"/>
                <scope line="132">
                    <declaration name="transformElem" type="Element" line="133"/>
                    <scope line="134"/>
                </scope>
                <declaration name="dmElem" type="Element" line="140"/>
                <scope line="142">
                    <declaration name="dvElem" type="Element" line="143"/>
                </scope>
                <scope line="146"/>
            </method>
            <method name="getDigestMethod" type="DigestMethod" line="159"/>
            <method name="getId" type="String" line="162"/>
            <method name="getURI" type="String" line="165"/>
            <method name="getType" type="String" line="168"/>
            <method name="getTransforms" type="List" line="171"/>
            <method name="getDigestValue" type="byte[]" line="174"/>
            <method name="getCalculatedDigestValue" type="byte[]" line="177"/>
            <method name="marshal" type="void" line="180">
                <params>
                    <param name="parent" type="Node"/>
                    <param name="dsPrefix" type="String"/>
                    <param name="context" type="DOMCryptoContext"/>
                </params>
                <scope line="181"/>
                <declaration name="ownerDoc" type="Document" line="184"/>
                <scope line="189">
                    <declaration name="transformsElem" type="Element" line="190"/>
                    <scope line="192">
                        <declaration name="transform" type="DOMStructure" line="193"/>
                    </scope>
                </scope>
                <scope line="198"/>
                <declaration name="digestValueElem" type="Element" line="201"/>
                <scope line="202"/>
            </method>
            <method name="digest" type="void" line="209">
                <params>
                    <param name="signContext" type="XMLSignContext"/>
                </params>
                <declaration name="data" type="Data" line="210"/>
                <scope line="211"/>
                <scope line="214"/>
                <declaration name="encodedDV" type="String" line="218"/>
                <scope line="219"/>
                <declaration name="digestElem" type="Element" line="222"/>
                <scope line="223"/>
                <scope line="229"/>
            </method>
            <method name="validate" type="boolean" line="233">
                <params>
                    <param name="validateContext" type="XMLValidateContext"/>
                </params>
                <scope line="234"/>
                <scope line="237"/>
                <declaration name="data" type="Data" line="240"/>
                <scope line="242"/>
            </method>
            <method name="getDereferencedData" type="Data" line="250"/>
            <method name="getDigestInputStream" type="InputStream" line="253"/>
            <method name="dereference" type="Data" line="256">
                <params>
                    <param name="context" type="XMLCryptoContext"/>
                </params>
                <declaration name="data" type="Data" line="257"/>
                <declaration name="deref" type="URIDereferencer" line="258"/>
                <scope line="259"/>
                <scope line="262">
                    <scope line="264"/>
                </scope>
                <scope line="269"/>
            </method>
            <method name="transform" type="byte[]" line="274">
                <params>
                    <param name="dereferencedData" type="Data"/>
                    <param name="context" type="XMLCryptoContext"/>
                </params>
                <scope line="275">
                    <scope line="276"/>
                    <scope line="279"/>
                </scope>
                <declaration name="dos" type="DigesterOutputStream" line="284"/>
                <declaration name="cache" type="Boolean" line="285"/>
                <scope line="286"/>
                <scope line="290"/>
                <declaration name="os" type="OutputStream" line="293"/>
                <declaration name="data" type="Data" line="294"/>
                <scope line="295">
                    <declaration name="transform" type="DOMTransform" line="296"/>
                    <scope line="297">
                        <scope line="298"/>
                        <scope line="301"/>
                    </scope>
                    <scope line="305"/>
                </scope>
                <scope line="309">
                    <scope line="310">
                        <declaration name="xi" type="XMLSignatureInput" line="311"/>
                        <declaration name="c14n11" type="boolean" line="312"/>
                        <declaration name="c14nalg" type="String" line="313"/>
                        <scope line="314">
                            <scope line="315">
                                <declaration name="prop" type="Boolean" line="316"/>
                                <scope line="318"/>
                            </scope>
                            <scope line="322"/>
                        </scope>
                        <scope line="326"/>
                        <scope line="329"/>
                        <scope line="332">
                            <declaration name="spi" type="TransformService" line="333"/>
                            <scope line="334"/>
                            <scope line="337"/>
                        </scope>
                        <scope line="343"/>
                        <scope line="346">
                            <declaration name="t" type="DOMTransform" line="347"/>
                            <declaration name="transformsElem" type="Element" line="348"/>
                            <declaration name="dsPrefix" type="String" line="349"/>
                            <scope line="350"/>
                            <scope line="354"/>
                        </scope>
                        <scope line="361"/>
                    </scope>
                    <scope line="366"/>
                </scope>
                <scope line="371"/>
            </method>
            <method name="getHere" type="Node" line="375"/>
            <method name="equals" type="boolean" line="378">
                <params>
                    <param name="o" type="Object"/>
                </params>
                <scope line="379"/>
                <scope line="382"/>
                <declaration name="oref" type="Reference" line="385"/>
                <declaration name="idsEqual" type="boolean" line="386"/>
                <declaration name="urisEqual" type="boolean" line="387"/>
                <declaration name="typesEqual" type="boolean" line="388"/>
                <declaration name="digestValuesEqual" type="boolean" line="389"/>
            </method>
            <method name="isDigested" type="boolean" line="392"/>
            <method name="copyDerefData" type="Data" line="395">
                <params>
                    <param name="dereferencedData" type="Data"/>
                </params>
                <scope line="396">
                    <declaration name="ad" type="ApacheData" line="397"/>
                    <declaration name="xsi" type="XMLSignatureInput" line="398"/>
                    <scope line="399">
                        <scope line="400">
                            <declaration name="s" type="Set" line="401"/>
                            <anonymous_class line="402">
                                <method name="iterator" type="Iterator" line="403"/>
                            </anonymous_class>
                        </scope>
                        <scope line="409"/>
                    </scope>
                    <scope line="414"/>
                    <scope line="417">
                        <scope line="418"/>
                        <scope line="421"/>
                    </scope>
                </scope>
            </method>
        </class>
    </source>