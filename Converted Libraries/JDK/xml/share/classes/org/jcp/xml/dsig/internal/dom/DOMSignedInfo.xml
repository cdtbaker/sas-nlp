<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.jcp.xml.dsig.internal.dom">
        <import package="javax.xml.crypto"/>
        <import package="javax.xml.crypto.dom.DOMCryptoContext"/>
        <import package="javax.xml.crypto.dsig"/>
        <import package="java.io.ByteArrayInputStream"/>
        <import package="java.io.ByteArrayOutputStream"/>
        <import package="java.io.InputStream"/>
        <import package="java.io.IOException"/>
        <import package="java.io.InputStreamReader"/>
        <import package="java.io.OutputStream"/>
        <import package="java.security.Provider"/>
        <import package="java.util"/>
        <import package="java.util.logging.Level"/>
        <import package="java.util.logging.Logger"/>
        <import package="org.w3c.dom.Document"/>
        <import package="org.w3c.dom.Element"/>
        <import package="org.w3c.dom.Node"/>
        <import package="com.sun.org.apache.xml.internal.security.utils.Base64"/>
        <import package="com.sun.org.apache.xml.internal.security.utils.UnsyncBufferedOutputStream"/>
        <import package="com.sun.org.apache.xml.internal.security.utils.XMLUtils"/>
        <class name="DOMSignedInfo" line="51">
            <extends class="DOMStructure"/>
            <implements interface="SignedInfo"/>
            <javadoc line="51">
                DOM-based implementation of SignedInfo.                
                <author>
                    Sean Mullan                    
                </author>
            </javadoc>
            <declaration name="log" type="Logger" line="58"/>
            <declaration name="references" type="List" line="59"/>
            <declaration name="canonicalizationMethod" type="CanonicalizationMethod" line="60"/>
            <declaration name="signatureMethod" type="SignatureMethod" line="61"/>
            <declaration name="id" type="String" line="62"/>
            <declaration name="ownerDoc" type="Document" line="63"/>
            <declaration name="localSiElem" type="Element" line="64"/>
            <declaration name="canonData" type="InputStream" line="65"/>
            <javadoc line="67">
                Creates a &lt;code&gt;DOMSignedInfo&lt;/code&gt; from the specified parameters. Use
                  this constructor when the &lt;code&gt;Id&lt;/code&gt; is not specified.                
                <param>
                    cm the canonicalization method                    
                </param>
                <param>
                    sm the signature method                    
                </param>
                <param>
                    references the list of references. The list is copied.                    
                </param>
                <throws>
                    NullPointerException if
                      <code>cm</code>, <code>sm</code>, or <code>references</code> is
                      <code>null</code>                    
                </throws>
                <throws>
                    IllegalArgumentException if <code>references</code> is empty                    
                </throws>
                <throws>
                    ClassCastException if any of the references are not of
                      type <code>Reference</code>                    
                </throws>
            </javadoc>
            <method name="DOMSignedInfo" type="constructor" line="82">
                <params>
                    <param name="cm" type="CanonicalizationMethod"/>
                    <param name="sm" type="SignatureMethod"/>
                    <param name="references" type="List"/>
                </params>
                <scope line="83"/>
                <scope line="90"/>
                <scope line="94">
                    <declaration name="obj" type="Object" line="95"/>
                    <scope line="96"/>
                </scope>
            </method>
            <javadoc line="103">
                Creates a &lt;code&gt;DOMSignedInfo&lt;/code&gt; from the specified parameters.                
                <param>
                    cm the canonicalization method                    
                </param>
                <param>
                    sm the signature method                    
                </param>
                <param>
                    references the list of references. The list is copied.                    
                </param>
                <param>
                    id an optional identifer that will allow this
                      <code>SignedInfo</code> to be referenced by other signatures and
                      objects                    
                </param>
                <throws>
                    NullPointerException if <code>cm</code>, <code>sm</code>,
                      or <code>references</code> is <code>null</code>                    
                </throws>
                <throws>
                    IllegalArgumentException if <code>references</code> is empty                    
                </throws>
                <throws>
                    ClassCastException if any of the references are not of
                      type <code>Reference</code>                    
                </throws>
            </javadoc>
            <method name="DOMSignedInfo" type="constructor" line="119">
                <params>
                    <param name="cm" type="CanonicalizationMethod"/>
                    <param name="sm" type="SignatureMethod"/>
                    <param name="references" type="List"/>
                    <param name="id" type="String"/>
                </params>
            </method>
            <javadoc line="124">
                Creates a &lt;code&gt;DOMSignedInfo&lt;/code&gt; from an element.                
                <param>
                    siElem a SignedInfo element                    
                </param>
            </javadoc>
            <method name="DOMSignedInfo" type="constructor" line="130">
                <params>
                    <param name="siElem" type="Element"/>
                    <param name="context" type="XMLCryptoContext"/>
                    <param name="provider" type="Provider"/>
                </params>
                <comment line="135">
                    get Id attribute, if specified                    
                </comment>
                <comment line="138">
                    unmarshal CanonicalizationMethod                    
                </comment>
                <comment line="143">
                    unmarshal SignatureMethod                    
                </comment>
                <comment line="147">
                    unmarshal References                    
                </comment>
                <declaration name="cmElem" type="Element" line="138"/>
                <declaration name="smElem" type="Element" line="143"/>
                <declaration name="refList" type="ArrayList" line="147"/>
                <declaration name="refElem" type="Element" line="148"/>
                <scope line="149"/>
            </method>
            <method name="getCanonicalizationMethod" type="CanonicalizationMethod" line="156"/>
            <method name="getSignatureMethod" type="SignatureMethod" line="160"/>
            <method name="getId" type="String" line="164"/>
            <method name="getReferences" type="List" line="168"/>
            <method name="getCanonicalizedData" type="InputStream" line="172"/>
            <method name="canonicalize" type="void" line="177">
                <params>
                    <param name="context" type="XMLCryptoContext"/>
                    <param name="bos" type="ByteArrayOutputStream"/>
                </params>
                <comment line="188">
                    Impossible                    
                </comment>
                <comment line="202">
                    this whole block should only be done if logging is enabled                    
                </comment>
                <scope line="179"/>
                <declaration name="os" type="OutputStream" line="183"/>
                <scope line="184"/>
                <scope line="186"/>
                <declaration name="subTree" type="DOMSubTreeData" line="190"/>
                <scope line="192">
                    <declaration name="data" type="Data" line="193"/>
                </scope>
                <scope line="195"/>
                <declaration name="signedInfoBytes" type="byte[]" line="199"/>
                <scope line="202">
                    <declaration name="isr" type="InputStreamReader" line="203"/>
                    <declaration name="siBytes" type="char[]" line="205"/>
                    <scope line="206"/>
                    <scope line="210"/>
                </scope>
            </method>
            <method name="marshal" type="void" line="221">
                <params>
                    <param name="parent" type="Node"/>
                    <param name="dsPrefix" type="String"/>
                    <param name="context" type="DOMCryptoContext"/>
                </params>
                <comment line="228">
                    create and append CanonicalizationMethod element                    
                </comment>
                <comment line="233">
                    create and append SignatureMethod element                    
                </comment>
                <comment line="237">
                    create and append Reference elements                    
                </comment>
                <comment line="243">
                    append Id attribute                    
                </comment>
                <declaration name="siElem" type="Element" line="224"/>
                <declaration name="dcm" type="DOMCanonicalizationMethod" line="228"/>
                <scope line="237">
                    <declaration name="reference" type="DOMReference" line="238"/>
                </scope>
            </method>
            <method name="equals" type="boolean" line="249">
                <params>
                    <param name="o" type="Object"/>
                </params>
                <scope line="250"/>
                <scope line="254"/>
                <declaration name="osi" type="SignedInfo" line="257"/>
                <declaration name="idEqual" type="boolean" line="259"/>
            </method>
        </class>
    </source>