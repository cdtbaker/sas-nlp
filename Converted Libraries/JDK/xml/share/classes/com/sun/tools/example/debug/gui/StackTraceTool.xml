<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.tools.example.debug.gui">
        <import package="javax.swing"/>
        <import package="javax.swing.event"/>
        <import package="java.awt"/>
        <import package="com.sun.jdi"/>
        <import package="com.sun.tools.example.debug.bdi"/>
        <class name="StackTraceTool" line="34">
            <extends class="JPanel"/>
            <comment line="158">
                Point this view at the given thread and frame.                
            </comment>
            <declaration name="serialVersionUID" type="long" line="36"/>
            <declaration name="env" type="Environment" line="38"/>
            <declaration name="runtime" type="ExecutionManager" line="40"/>
            <declaration name="context" type="ContextManager" line="41"/>
            <declaration name="tinfo" type="ThreadInfo" line="43"/>
            <declaration name="list" type="JList" line="45"/>
            <declaration name="stackModel" type="ListModel" line="46"/>
            <method name="StackTraceTool" type="constructor" line="48">
                <params>
                    <param name="env" type="Environment"/>
                </params>
                <comment line="57">
                    empty                    
                </comment>
                <comment line="65">
                    Create listener.                    
                </comment>
                <comment line="70">
                    ### remove listeners on exit!                    
                </comment>
                <declaration name="listView" type="JScrollPane" line="61"/>
                <declaration name="listener" type="StackTraceToolListener" line="65"/>
            </method>
            <class name="StackTraceToolListener" line="72">
                <comment line="77">
                    ContextListener                    
                </comment>
                <comment line="79">
                    If the user selects a new current frame, display it in
                     this view.                    
                </comment>
                <comment line="82">
                    ### I suspect we handle the case badly that the VM is not interrupted.                    
                </comment>
                <comment line="101">
                    ListSelectionListener                    
                </comment>
                <implements interface="ContextListener"/>
                <implements interface="ListSelectionListener"/>
                <method name="currentFrameChanged" type="void" line="84">
                    <params>
                        <param name="e" type="CurrentFrameChangedEvent"/>
                    </params>
                    <comment line="86">
                        If the current frame of the thread appearing in this
                         view is changed, move the selection to track it.                        
                    </comment>
                    <declaration name="frameIndex" type="int" line="87"/>
                    <declaration name="ti" type="ThreadInfo" line="88"/>
                    <scope line="89"/>
                    <scope line="92">
                        <scope line="93"/>
                    </scope>
                </method>
                <method name="valueChanged" type="void" line="103">
                    <params>
                        <param name="e" type="ListSelectionEvent"/>
                    </params>
                    <comment line="107">
                        ### should use listener?                        
                    </comment>
                    <declaration name="index" type="int" line="104"/>
                    <scope line="105">
                        <scope line="107"/>
                        <scope line="109"/>
                    </scope>
                </method>
            </class>
            <class name="StackFrameRenderer" line="115">
                <extends class="DefaultListCellRenderer"/>
                <comment line="77">
                    ContextListener                    
                </comment>
                <comment line="79">
                    If the user selects a new current frame, display it in
                     this view.                    
                </comment>
                <comment line="82">
                    ### I suspect we handle the case badly that the VM is not interrupted.                    
                </comment>
                <comment line="101">
                    ListSelectionListener                    
                </comment>
                <method name="getListCellRendererComponent" type="Component" line="122">
                    <params>
                        <param name="list" type="JList"/>
                        <param name="value" type="Object"/>
                        <param name="index" type="int"/>
                        <param name="isSelected" type="boolean"/>
                        <param name="cellHasFocus" type="boolean"/>
                    </params>
                    <comment line="125">
                        ### We should indicate the current thread independently of the
                        ### selection, e.g., with an icon, because the user may change
                        ### the selection graphically without affecting the current
                        ### thread.                        
                    </comment>
                    <comment line="151">
                        Indices are presented to the user starting from 1, not 0.                        
                    </comment>
                    <scope line="131"/>
                    <scope line="133">
                        <declaration name="frame" type="StackFrame" line="134"/>
                        <declaration name="loc" type="Location" line="135"/>
                        <declaration name="meth" type="Method" line="136"/>
                        <declaration name="methName" type="String" line="137"/>
                        <declaration name="position" type="String" line="139"/>
                        <scope line="140"/>
                        <scope line="142"/>
                        <scope line="144">
                            <declaration name="pc" type="long" line="145"/>
                            <scope line="146"/>
                        </scope>
                    </scope>
                </method>
            </class>
            <method name="showStack" type="void" line="159">
                <params>
                    <param name="tinfo" type="ThreadInfo"/>
                    <param name="selectFrame" type="int"/>
                </params>
                <declaration name="model" type="StackTraceListModel" line="160"/>
            </method>
            <class name="StackTraceListModel" line="167">
                <extends class="AbstractListModel"/>
                <comment line="77">
                    ContextListener                    
                </comment>
                <comment line="79">
                    If the user selects a new current frame, display it in
                     this view.                    
                </comment>
                <comment line="82">
                    ### I suspect we handle the case badly that the VM is not interrupted.                    
                </comment>
                <comment line="101">
                    ListSelectionListener                    
                </comment>
                <declaration name="tinfo" type="ThreadInfo" line="169"/>
                <method name="StackTraceListModel" type="constructor" line="171">
                    <params>
                        <param name="tinfo" type="ThreadInfo"/>
                    </params>
                </method>
                <method name="getElementAt" type="Object" line="176">
                    <params>
                        <param name="index" type="int"/>
                    </params>
                    <comment line="181">
                        ### Is this the right way to handle this?
                        ### Would happen if user scrolled stack trace
                        ### while not interrupted -- should probably
                        ### block user interaction in this case.                        
                    </comment>
                    <scope line="177"/>
                    <scope line="179"/>
                </method>
                <method name="getSize" type="int" line="189">
                    <comment line="194">
                        ### Is this the right way to handle this?                        
                    </comment>
                    <scope line="190"/>
                    <scope line="192"/>
                </method>
            </class>
        </class>
    </source>