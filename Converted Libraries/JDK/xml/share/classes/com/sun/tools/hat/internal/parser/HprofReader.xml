<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.tools.hat.internal.parser">
        <import package="java.io"/>
        <import package="java.util.Date"/>
        <import package="java.util.Hashtable"/>
        <import package="com.sun.tools.hat.internal.model.ArrayTypeCodes"/>
        <import package="com.sun.tools.hat.internal.model"/>
        <class name="HprofReader" line="7">
            <extends class="Reader"/>
            <implements interface="ArrayTypeCodes"/>
            <javadoc line="7">
                Object that&apos;s used to read a hprof file.                
                <author>
                    Bill Foote                    
                </author>
            </javadoc>
            <declaration name="MAGIC_NUMBER" type="int" line="12"/>
            <declaration name="VERSIONS" type="String[]" line="13"/>
            <declaration name="VERSION_JDK12BETA3" type="int" line="14"/>
            <declaration name="VERSION_JDK12BETA4" type="int" line="15"/>
            <declaration name="VERSION_JDK6" type="int" line="16"/>
            <declaration name="HPROF_UTF8" type="int" line="17"/>
            <declaration name="HPROF_LOAD_CLASS" type="int" line="18"/>
            <declaration name="HPROF_UNLOAD_CLASS" type="int" line="19"/>
            <declaration name="HPROF_FRAME" type="int" line="20"/>
            <declaration name="HPROF_TRACE" type="int" line="21"/>
            <declaration name="HPROF_ALLOC_SITES" type="int" line="22"/>
            <declaration name="HPROF_HEAP_SUMMARY" type="int" line="23"/>
            <declaration name="HPROF_START_THREAD" type="int" line="24"/>
            <declaration name="HPROF_END_THREAD" type="int" line="25"/>
            <declaration name="HPROF_HEAP_DUMP" type="int" line="26"/>
            <declaration name="HPROF_CPU_SAMPLES" type="int" line="27"/>
            <declaration name="HPROF_CONTROL_SETTINGS" type="int" line="28"/>
            <declaration name="HPROF_LOCKSTATS_WAIT_TIME" type="int" line="29"/>
            <declaration name="HPROF_LOCKSTATS_HOLD_TIME" type="int" line="30"/>
            <declaration name="HPROF_GC_ROOT_UNKNOWN" type="int" line="31"/>
            <declaration name="HPROF_GC_ROOT_JNI_GLOBAL" type="int" line="32"/>
            <declaration name="HPROF_GC_ROOT_JNI_LOCAL" type="int" line="33"/>
            <declaration name="HPROF_GC_ROOT_JAVA_FRAME" type="int" line="34"/>
            <declaration name="HPROF_GC_ROOT_NATIVE_STACK" type="int" line="35"/>
            <declaration name="HPROF_GC_ROOT_STICKY_CLASS" type="int" line="36"/>
            <declaration name="HPROF_GC_ROOT_THREAD_BLOCK" type="int" line="37"/>
            <declaration name="HPROF_GC_ROOT_MONITOR_USED" type="int" line="38"/>
            <declaration name="HPROF_GC_ROOT_THREAD_OBJ" type="int" line="39"/>
            <declaration name="HPROF_GC_CLASS_DUMP" type="int" line="40"/>
            <declaration name="HPROF_GC_INSTANCE_DUMP" type="int" line="41"/>
            <declaration name="HPROF_GC_OBJ_ARRAY_DUMP" type="int" line="42"/>
            <declaration name="HPROF_GC_PRIM_ARRAY_DUMP" type="int" line="43"/>
            <declaration name="HPROF_HEAP_DUMP_SEGMENT" type="int" line="44"/>
            <declaration name="HPROF_HEAP_DUMP_END" type="int" line="45"/>
            <declaration name="T_CLASS" type="int" line="46"/>
            <declaration name="version" type="int" line="47"/>
            <declaration name="debugLevel" type="int" line="48"/>
            <declaration name="currPos" type="long" line="49"/>
            <declaration name="dumpsToSkip" type="int" line="50"/>
            <declaration name="callStack" type="boolean" line="51"/>
            <declaration name="identifierSize" type="int" line="52"/>
            <declaration name="names" type="Hashtable&lt;Long,String&gt;" line="53"/>
            <declaration name="threadObjects" type="Hashtable&lt;Integer,ThreadObject&gt;" line="54"/>
            <declaration name="classNameFromObjectID" type="Hashtable&lt;Long,String&gt;" line="55"/>
            <declaration name="classNameFromSerialNo" type="Hashtable&lt;Integer,String&gt;" line="56"/>
            <declaration name="stackFrames" type="Hashtable&lt;Long,StackFrame&gt;" line="57"/>
            <declaration name="stackTraces" type="Hashtable&lt;Integer,StackTrace&gt;" line="58"/>
            <declaration name="snapshot" type="Snapshot" line="59"/>
            <method name="HprofReader" type="constructor" line="60">
                <params>
                    <param name="fileName" type="String"/>
                    <param name="in" type="PositionDataInputStream"/>
                    <param name="dumpNumber" type="int"/>
                    <param name="callStack" type="boolean"/>
                    <param name="debugLevel" type="int"/>
                </params>
                <declaration name="file" type="RandomAccessFile" line="62"/>
                <scope line="70"/>
            </method>
            <method name="read" type="Snapshot" line="76">
                <scope line="81"/>
                <scope line="84"/>
                <scope line="88"/>
                <scope line="93">
                    <declaration name="type" type="int" line="94"/>
                    <scope line="95"/>
                    <scope line="98"/>
                    <declaration name="length" type="long" line="102"/>
                    <scope line="103"/>
                    <scope line="106"/>
                    <scope line="112">
                        <declaration name="id" type="long" line="113"/>
                        <declaration name="chars" type="byte[]" line="114"/>
                    </scope>
                    <scope line="120">
                        <declaration name="serialNo" type="int" line="121"/>
                        <declaration name="classID" type="long" line="122"/>
                        <declaration name="stackTraceSerialNo" type="int" line="123"/>
                        <declaration name="classNameID" type="long" line="124"/>
                        <declaration name="classIdI" type="Long" line="125"/>
                        <declaration name="nm" type="String" line="126"/>
                        <scope line="128"/>
                    </scope>
                    <scope line="134">
                        <scope line="135">
                            <scope line="136"/>
                            <scope line="139"/>
                            <scope line="142"/>
                        </scope>
                        <scope line="147"/>
                    </scope>
                    <scope line="154">
                        <scope line="155">
                            <scope line="156"/>
                            <scope line="160"/>
                        </scope>
                        <scope line="164"/>
                    </scope>
                    <scope line="171">
                        <scope line="172">
                            <scope line="173">
                                <scope line="174"/>
                                <scope line="177"/>
                            </scope>
                            <scope line="181"/>
                        </scope>
                        <scope line="185"/>
                    </scope>
                    <scope line="192">
                        <scope line="193"/>
                        <scope line="196">
                            <declaration name="id" type="long" line="197"/>
                            <declaration name="methodName" type="String" line="198"/>
                            <declaration name="methodSig" type="String" line="199"/>
                            <declaration name="sourceFile" type="String" line="200"/>
                            <declaration name="classSer" type="int" line="201"/>
                            <declaration name="className" type="String" line="202"/>
                            <declaration name="lineNumber" type="int" line="203"/>
                            <scope line="204"/>
                        </scope>
                    </scope>
                    <scope line="213">
                        <scope line="214"/>
                        <scope line="217">
                            <declaration name="serialNo" type="int" line="218"/>
                            <declaration name="threadSeq" type="int" line="219"/>
                            <declaration name="frames" type="StackFrame[]" line="220"/>
                            <scope line="221">
                                <declaration name="fid" type="long" line="222"/>
                                <scope line="224"/>
                            </scope>
                        </scope>
                    </scope>
                    <scope line="241"/>
                    <scope line="246"/>
                </scope>
            </method>
            <method name="skipBytes" type="void" line="254">
                <params>
                    <param name="length" type="long"/>
                </params>
            </method>
            <method name="readVersionHeader" type="int" line="257">
                <declaration name="candidatesLeft" type="int" line="258"/>
                <declaration name="matched" type="boolean[]" line="259"/>
                <scope line="260"/>
                <declaration name="pos" type="int" line="263"/>
                <scope line="264">
                    <declaration name="c" type="char" line="265"/>
                    <scope line="267">
                        <scope line="268">
                            <scope line="269"/>
                            <scope line="273"/>
                        </scope>
                    </scope>
                </scope>
            </method>
            <method name="readHeapDump" type="void" line="282">
                <params>
                    <param name="bytesLeft" type="long"/>
                    <param name="posAtEnd" type="long"/>
                </params>
                <scope line="283">
                    <declaration name="type" type="int" line="284"/>
                    <scope line="285"/>
                    <scope line="291">
                        <declaration name="id" type="long" line="292"/>
                    </scope>
                    <scope line="298">
                        <declaration name="id" type="long" line="299"/>
                        <declaration name="threadSeq" type="int" line="300"/>
                        <declaration name="stackSeq" type="int" line="301"/>
                    </scope>
                    <scope line="307">
                        <declaration name="id" type="long" line="308"/>
                        <declaration name="globalRefId" type="long" line="309"/>
                    </scope>
                    <scope line="315">
                        <declaration name="id" type="long" line="316"/>
                        <declaration name="threadSeq" type="int" line="317"/>
                        <declaration name="depth" type="int" line="318"/>
                        <declaration name="to" type="ThreadObject" line="320"/>
                        <declaration name="st" type="StackTrace" line="321"/>
                        <scope line="322"/>
                    </scope>
                    <scope line="329">
                        <declaration name="id" type="long" line="330"/>
                        <declaration name="threadSeq" type="int" line="331"/>
                        <declaration name="depth" type="int" line="332"/>
                        <declaration name="to" type="ThreadObject" line="334"/>
                        <declaration name="st" type="StackTrace" line="335"/>
                        <scope line="336"/>
                    </scope>
                    <scope line="343">
                        <declaration name="id" type="long" line="344"/>
                        <declaration name="threadSeq" type="int" line="345"/>
                        <declaration name="to" type="ThreadObject" line="347"/>
                        <declaration name="st" type="StackTrace" line="348"/>
                    </scope>
                    <scope line="353">
                        <declaration name="id" type="long" line="354"/>
                    </scope>
                    <scope line="360">
                        <declaration name="id" type="long" line="361"/>
                        <declaration name="threadSeq" type="int" line="362"/>
                        <declaration name="to" type="ThreadObject" line="364"/>
                        <declaration name="st" type="StackTrace" line="365"/>
                    </scope>
                    <scope line="370">
                        <declaration name="id" type="long" line="371"/>
                    </scope>
                    <scope line="377">
                        <declaration name="bytesRead" type="int" line="378"/>
                    </scope>
                    <scope line="383">
                        <declaration name="bytesRead" type="int" line="384"/>
                    </scope>
                    <scope line="389">
                        <declaration name="bytesRead" type="int" line="390"/>
                    </scope>
                    <scope line="395">
                        <declaration name="bytesRead" type="int" line="396"/>
                    </scope>
                    <scope line="401"/>
                </scope>
                <scope line="406"/>
                <scope line="410"/>
            </method>
            <method name="readID" type="long" line="414"/>
            <method name="readValue" type="int" line="417">
                <params>
                    <param name="resultArr" type="JavaThing[]"/>
                </params>
                <declaration name="type" type="byte" line="418"/>
            </method>
            <method name="readValueForType" type="int" line="421">
                <params>
                    <param name="type" type="byte"/>
                    <param name="resultArr" type="JavaThing[]"/>
                </params>
                <scope line="422"/>
            </method>
            <method name="readValueForTypeSignature" type="int" line="427">
                <params>
                    <param name="type" type="byte"/>
                    <param name="resultArr" type="JavaThing[]"/>
                </params>
                <scope line="431">
                    <declaration name="id" type="long" line="432"/>
                    <scope line="433"/>
                </scope>
                <scope line="439">
                    <declaration name="b" type="int" line="440"/>
                    <scope line="441"/>
                    <scope line="444"/>
                </scope>
                <scope line="450">
                    <declaration name="b" type="byte" line="451"/>
                    <scope line="452"/>
                </scope>
                <scope line="458">
                    <declaration name="s" type="short" line="459"/>
                    <scope line="460"/>
                </scope>
                <scope line="466">
                    <declaration name="ch" type="char" line="467"/>
                    <scope line="468"/>
                </scope>
                <scope line="474">
                    <declaration name="val" type="int" line="475"/>
                    <scope line="476"/>
                </scope>
                <scope line="482">
                    <declaration name="val" type="long" line="483"/>
                    <scope line="484"/>
                </scope>
                <scope line="490">
                    <declaration name="val" type="float" line="491"/>
                    <scope line="492"/>
                </scope>
                <scope line="498">
                    <declaration name="val" type="double" line="499"/>
                    <scope line="500"/>
                </scope>
                <scope line="506"/>
            </method>
            <method name="getThreadObjectFromSequence" type="ThreadObject" line="511">
                <params>
                    <param name="threadSeq" type="int"/>
                </params>
                <declaration name="to" type="ThreadObject" line="512"/>
                <scope line="513"/>
            </method>
            <method name="getNameFromID" type="String" line="518">
                <params>
                    <param name="id" type="long"/>
                </params>
            </method>
            <method name="getNameFromID" type="String" line="521">
                <params>
                    <param name="id" type="Long"/>
                </params>
                <scope line="522"/>
                <declaration name="result" type="String" line="525"/>
                <scope line="526"/>
            </method>
            <method name="getStackTraceFromSerial" type="StackTrace" line="532">
                <params>
                    <param name="ser" type="int"/>
                </params>
                <scope line="533"/>
                <declaration name="result" type="StackTrace" line="536"/>
                <scope line="537"/>
            </method>
            <method name="readClass" type="int" line="542">
                <declaration name="id" type="long" line="543"/>
                <declaration name="stackTrace" type="StackTrace" line="544"/>
                <declaration name="superId" type="long" line="545"/>
                <declaration name="classLoaderId" type="long" line="546"/>
                <declaration name="signersId" type="long" line="547"/>
                <declaration name="protDomainId" type="long" line="548"/>
                <declaration name="reserved1" type="long" line="549"/>
                <declaration name="reserved2" type="long" line="550"/>
                <declaration name="instanceSize" type="int" line="551"/>
                <declaration name="bytesRead" type="int" line="552"/>
                <declaration name="numConstPoolEntries" type="int" line="553"/>
                <scope line="555">
                    <declaration name="index" type="int" line="556"/>
                </scope>
                <declaration name="numStatics" type="int" line="560"/>
                <declaration name="valueBin" type="JavaThing[]" line="562"/>
                <declaration name="statics" type="JavaStatic[]" line="563"/>
                <scope line="564">
                    <declaration name="nameId" type="long" line="565"/>
                    <declaration name="type" type="byte" line="567"/>
                    <declaration name="fieldName" type="String" line="570"/>
                    <scope line="571"/>
                    <declaration name="signature" type="String" line="574"/>
                    <declaration name="f" type="JavaField" line="575"/>
                </scope>
                <declaration name="numFields" type="int" line="578"/>
                <declaration name="fields" type="JavaField[]" line="580"/>
                <scope line="581">
                    <declaration name="nameId" type="long" line="582"/>
                    <declaration name="type" type="byte" line="584"/>
                    <declaration name="fieldName" type="String" line="586"/>
                    <scope line="587"/>
                    <declaration name="signature" type="String" line="590"/>
                </scope>
                <declaration name="name" type="String" line="593"/>
                <scope line="594"/>
                <declaration name="c" type="JavaClass" line="598"/>
            </method>
            <method name="toHex" type="String" line="603">
                <params>
                    <param name="addr" type="long"/>
                </params>
            </method>
            <method name="readInstance" type="int" line="606">
                <declaration name="start" type="long" line="607"/>
                <declaration name="id" type="long" line="608"/>
                <declaration name="stackTrace" type="StackTrace" line="609"/>
                <declaration name="classID" type="long" line="610"/>
                <declaration name="bytesFollowing" type="int" line="611"/>
                <declaration name="bytesRead" type="int" line="612"/>
                <declaration name="jobj" type="JavaObject" line="613"/>
            </method>
            <method name="readArray" type="int" line="619">
                <params>
                    <param name="isPrimitive" type="boolean"/>
                </params>
                <declaration name="start" type="long" line="620"/>
                <declaration name="id" type="long" line="621"/>
                <declaration name="stackTrace" type="StackTrace" line="622"/>
                <declaration name="num" type="int" line="623"/>
                <declaration name="bytesRead" type="int" line="624"/>
                <declaration name="elementClassID" type="long" line="625"/>
                <scope line="626"/>
                <scope line="630"/>
                <declaration name="primitiveSignature" type="byte" line="634"/>
                <declaration name="elSize" type="int" line="635"/>
                <scope line="636">
                    <scope line="639"/>
                    <scope line="645"/>
                    <scope line="651"/>
                    <scope line="657"/>
                    <scope line="663"/>
                    <scope line="669"/>
                    <scope line="675"/>
                    <scope line="681"/>
                    <scope line="687"/>
                </scope>
                <scope line="691">
                    <declaration name="size" type="int" line="692"/>
                    <declaration name="va" type="JavaValueArray" line="694"/>
                </scope>
                <scope line="699">
                    <declaration name="sz" type="int" line="700"/>
                    <declaration name="arr" type="JavaObjectArray" line="702"/>
                </scope>
            </method>
            <method name="signatureFromTypeId" type="byte" line="709">
                <params>
                    <param name="typeId" type="byte"/>
                </params>
                <scope line="712"/>
                <scope line="716"/>
                <scope line="720"/>
                <scope line="724"/>
                <scope line="728"/>
                <scope line="732"/>
                <scope line="736"/>
                <scope line="740"/>
                <scope line="744"/>
                <scope line="748"/>
            </method>
            <method name="handleEOF" type="void" line="753">
                <params>
                    <param name="exp" type="EOFException"/>
                    <param name="snapshot" type="Snapshot"/>
                </params>
                <scope line="754"/>
            </method>
            <method name="warn" type="void" line="760">
                <params>
                    <param name="msg" type="String"/>
                </params>
            </method>
            <class name="ThreadObject" line="763">
                <declaration name="threadId" type="long" line="764"/>
                <declaration name="stackSeq" type="int" line="765"/>
                <method name="ThreadObject" type="constructor" line="766">
                    <params>
                        <param name="threadId" type="long"/>
                        <param name="stackSeq" type="int"/>
                    </params>
                </method>
            </class>
        </class>
    </source>