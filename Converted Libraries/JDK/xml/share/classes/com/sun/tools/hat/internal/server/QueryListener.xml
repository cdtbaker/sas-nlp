<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.tools.hat.internal.server">
        <import package="java.net.Socket"/>
        <import package="java.net.ServerSocket"/>
        <import package="java.net.InetAddress"/>
        <import package="java.io.InputStream"/>
        <import package="java.io.BufferedInputStream"/>
        <import package="java.io.IOException"/>
        <import package="java.io.Writer"/>
        <import package="java.io.BufferedWriter"/>
        <import package="java.io.PrintWriter"/>
        <import package="java.io.OutputStream"/>
        <import package="java.io.OutputStreamWriter"/>
        <import package="java.io.BufferedOutputStream"/>
        <import package="com.sun.tools.hat.internal.model.Snapshot"/>
        <import package="com.sun.tools.hat.internal.oql.OQLEngine"/>
        <class name="QueryListener" line="16">
            <implements interface="Runnable"/>
            <declaration name="snapshot" type="Snapshot" line="17"/>
            <declaration name="engine" type="OQLEngine" line="18"/>
            <declaration name="port" type="int" line="19"/>
            <method name="QueryListener" type="constructor" line="20">
                <params>
                    <param name="port" type="int"/>
                </params>
            </method>
            <method name="setModel" type="void" line="25">
                <params>
                    <param name="ss" type="Snapshot"/>
                </params>
                <scope line="27"/>
            </method>
            <method name="run" type="void" line="31">
                <scope line="32"/>
                <scope line="35"/>
            </method>
            <method name="waitForRequests" type="void" line="40">
                <declaration name="ss" type="ServerSocket" line="41"/>
                <declaration name="last" type="Thread" line="42"/>
                <scope line="43">
                    <declaration name="s" type="Socket" line="44"/>
                    <declaration name="t" type="Thread" line="45"/>
                    <scope line="46"/>
                    <scope line="49">
                        <scope line="51">
                            <scope line="52"/>
                            <scope line="55"/>
                        </scope>
                    </scope>
                </scope>
            </method>
        </class>
    </source>