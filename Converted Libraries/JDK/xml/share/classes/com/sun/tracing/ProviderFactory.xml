<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.tracing">
        <import package="java.util.HashSet"/>
        <import package="java.io.PrintStream"/>
        <import package="java.lang.reflect.Field"/>
        <import package="java.security.AccessController"/>
        <import package="java.security.PrivilegedActionException"/>
        <import package="java.security.PrivilegedExceptionAction"/>
        <import package="sun.security.action.GetPropertyAction"/>
        <import package="sun.tracing.NullProviderFactory"/>
        <import package="sun.tracing.PrintStreamProviderFactory"/>
        <import package="sun.tracing.MultiplexProviderFactory"/>
        <import package="sun.tracing.dtrace.DTraceProviderFactory"/>
        <class name="ProviderFactory" line="17">
            <javadoc line="17">
                {@code ProviderFactory} is a factory class used to create instances of
                  providers.
                  To enable tracing in an application, this class must be used to create
                  instances of the provider interfaces defined by users.
                  The system-defined factory is obtained by using the{@code getDefaultFactory()} static method.  The resulting instance can be
                  used to create any number of providers.                
                <since>
                    1.7                    
                </since>
            </javadoc>
            <method name="ProviderFactory" type="constructor" line="31"/>
            <method name="createProvider" type="T" line="33"/>
            <javadoc line="33">
                Creates an implementation of a Provider interface.                
                <param>
                    cls the provider interface to be defined.                    
                </param>
                <return>
                    an implementation of {@code cls}, whose methods, when called,
                      will trigger tracepoints in the application.                    
                </return>
                <throws>
                    NullPointerException if cls is null                    
                </throws>
                <throws>
                    IllegalArgumentException if the class definition contains
                      non-void methods                    
                </throws>
            </javadoc>
            <javadoc line="45">
                Returns an implementation of a {@code ProviderFactory} which
                  creates instances of Providers.
                  The created Provider instances will be linked to all appropriate
                  and enabled system-defined tracing mechanisms in the JDK.                
                <return>
                    a {@code ProviderFactory} that is used to create Providers.                    
                </return>
            </javadoc>
            <method name="getDefaultFactory" type="ProviderFactory" line="54">
                <comment line="58">
                    Try to instantiate a DTraceProviderFactory                    
                </comment>
                <comment line="67">
                    Try to instantiate an output stream factory                    
                </comment>
                <comment line="79">
                    See how many factories we instantiated, and return an appropriate
                     factory that encapsulates that.                    
                </comment>
                <declaration name="factories" type="HashSet&lt;ProviderFactory&gt;" line="55"/>
                <declaration name="prop" type="String" line="58"/>
                <scope line="62"/>
                <scope line="69">
                    <scope line="70">
                        <declaration name="ps" type="PrintStream" line="71"/>
                        <scope line="72"/>
                    </scope>
                </scope>
                <scope line="80"/>
                <scope line="82"/>
                <scope line="84"/>
            </method>
            <method name="getPrintStreamFromSpec" type="PrintStream" line="89">
                <params>
                    <param name="spec" type="String"/>
                </params>
                <comment line="92">
                    spec is in the form of &lt;class&gt;.&lt;field&gt;, where &lt;class&gt; is
                     a fully specified class name, and &lt;field&gt; is a static member
                     in that class.  The &lt;field&gt; must be a &apos;PrintStream&apos; or subtype
                     in order to be used.                    
                </comment>
                <scope line="90">
                    <declaration name="fieldpos" type="int" line="95"/>
                    <declaration name="cls" type="Class&lt;?&gt;" line="96"/>
                    <anonymous_class line="98">
                        <method name="run" type="Field" line="99"/>
                    </anonymous_class>
                    <declaration name="f" type="Field" line="98"/>
                </scope>
                <scope line="105"/>
                <scope line="107"/>
                <scope line="109"/>
            </method>
        </class>
    </source>