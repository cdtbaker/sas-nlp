<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.imageio.plugins.jpeg">
        <import package="javax.imageio.metadata.IIOInvalidTreeException"/>
        <import package="javax.imageio.metadata.IIOMetadataNode"/>
        <import package="javax.imageio.stream.ImageOutputStream"/>
        <import package="java.io.IOException"/>
        <import package="org.w3c.dom.Node"/>
        <import package="org.w3c.dom.NamedNodeMap"/>
        <class name="MarkerSegment" line="8">
            <implements interface="Cloneable"/>
            <javadoc line="8">
                All metadata is stored in MarkerSegments.  Marker segments
                  that we know about are stored in subclasses of this
                  basic class, which used for unrecognized APPn marker
                  segments.  XXX break out UnknownMarkerSegment as a subclass
                  and make this abstract, avoiding unused data field.                
            </javadoc>
            <declaration name="LENGTH_SIZE" type="int" line="16"/>
            <declaration name="tag" type="int" line="17"/>
            <declaration name="length" type="int" line="18"/>
            <declaration name="data" type="byte[]" line="19"/>
            <declaration name="unknown" type="boolean" line="20"/>
            <javadoc line="21">
                Constructor for creating &lt;code&gt;MarkerSegment&lt;/code&gt;s by reading
                  from an &lt;code&gt;ImageInputStream&lt;/code&gt;.                
            </javadoc>
            <method name="MarkerSegment" type="constructor" line="25">
                <params>
                    <param name="buffer" type="JPEGBuffer"/>
                </params>
            </method>
            <javadoc line="34">
                Constructor used when creating segments other than by
                  reading them from a stream.                
            </javadoc>
            <method name="MarkerSegment" type="constructor" line="38">
                <params>
                    <param name="tag" type="int"/>
                </params>
            </method>
            <javadoc line="42">
                Construct a MarkerSegment from an &quot;unknown&quot; DOM Node.                
            </javadoc>
            <method name="MarkerSegment" type="constructor" line="45">
                <params>
                    <param name="node" type="Node"/>
                </params>
                <scope line="48">
                    <declaration name="iioNode" type="IIOMetadataNode" line="49"/>
                    <scope line="50"/>
                    <scope line="53">
                        <declaration name="newGuy" type="IIOInvalidTreeException" line="54"/>
                    </scope>
                </scope>
                <scope line="59"/>
            </method>
            <javadoc line="63">
                Deep copy of data array.                
            </javadoc>
            <method name="clone" type="Object" line="66">
                <declaration name="newGuy" type="MarkerSegment" line="67"/>
                <scope line="68"/>
                <scope line="71"/>
                <scope line="73"/>
            </method>
            <javadoc line="78">
                We have determined that we don&apos;t know the type, so load
                  the data using the length parameter.                
            </javadoc>
            <method name="loadData" type="void" line="82">
                <params>
                    <param name="buffer" type="JPEGBuffer"/>
                </params>
            </method>
            <method name="getNativeNode" type="IIOMetadataNode" line="86">
                <declaration name="node" type="IIOMetadataNode" line="87"/>
            </method>
            <method name="getAttributeValue" type="int" line="92">
                <params>
                    <param name="node" type="Node"/>
                    <param name="attrs" type="NamedNodeMap"/>
                    <param name="name" type="String"/>
                    <param name="min" type="int"/>
                    <param name="max" type="int"/>
                    <param name="required" type="boolean"/>
                </params>
                <scope line="93"/>
                <declaration name="valueString" type="String" line="96"/>
                <declaration name="value" type="int" line="97"/>
                <scope line="98">
                    <scope line="99"/>
                </scope>
                <scope line="103">
                    <scope line="105"/>
                </scope>
            </method>
            <javadoc line="111">
                Writes the marker, tag, and length.  Note that length
                  should be verified by the caller as a correct JPEG
                  length, i.e it includes itself.                
            </javadoc>
            <method name="writeTag" type="void" line="116">
                <params>
                    <param name="ios" type="ImageOutputStream"/>
                </params>
            </method>
            <javadoc line="121">
                Writes the data for this segment to the stream in
                  valid JPEG format.                
            </javadoc>
            <method name="write" type="void" line="125">
                <params>
                    <param name="ios" type="ImageOutputStream"/>
                </params>
                <scope line="128"/>
            </method>
            <method name="write2bytes" type="void" line="132">
                <params>
                    <param name="ios" type="ImageOutputStream"/>
                    <param name="value" type="int"/>
                </params>
            </method>
            <method name="printTag" type="void" line="136">
                <params>
                    <param name="prefix" type="String"/>
                </params>
            </method>
            <method name="print" type="void" line="140">
                <scope line="142">
                    <scope line="144"/>
                    <scope line="148"/>
                </scope>
                <scope line="152">
                    <scope line="154"/>
                </scope>
            </method>
        </class>
    </source>