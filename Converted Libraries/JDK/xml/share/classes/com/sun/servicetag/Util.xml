<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.servicetag">
        <import package="java.io"/>
        <import package="java.util.Date"/>
        <import package="java.text.SimpleDateFormat"/>
        <import package="java.text.ParseException"/>
        <import package="java.util.TimeZone"/>
        <import package="java.util.UUID"/>
        <import package="java.lang.reflect.Field"/>
        <import package="java.lang.reflect.Method"/>
        <class name="Util" line="10">
            <declaration name="verbose" type="boolean" line="11"/>
            <declaration name="jrepath" type="String" line="12"/>
            <declaration name="REGKEY_TAIL" type="String" line="13"/>
            <declaration name="STCLIENT_TAIL" type="String" line="14"/>
            <declaration name="WIN32_STCLIENT" type="String" line="15"/>
            <method name="isVerbose" type="boolean" line="16"/>
            <javadoc line="19">
                Gets the pathname of JRE in the running platform
                  This can be a JDK or JRE.                
            </javadoc>
            <method name="getJrePath" type="String" line="23">
                <scope line="24">
                    <declaration name="javaHome" type="String" line="25"/>
                    <declaration name="f" type="File" line="27"/>
                    <scope line="28"/>
                </scope>
            </method>
            <javadoc line="34">
                Tests if the running platform is a JDK.                
            </javadoc>
            <method name="isJdk" type="boolean" line="37"/>
            <javadoc line="40">
                Generates the URN string of &quot;urn:st&quot; namespace                
            </javadoc>
            <method name="generateURN" type="String" line="43"/>
            <method name="getIntValue" type="int" line="46">
                <params>
                    <param name="value" type="String"/>
                </params>
                <scope line="47"/>
                <scope line="50"/>
            </method>
            <javadoc line="54">
                Formats the Date into a timestamp string in YYYY-MM-dd HH:mm:ss GMT.                
                <param>
                    timestamp Date                    
                </param>
                <return>
                    a string representation of the timestamp
                      in the YYYY-MM-dd HH:mm:ss GMT format.                    
                </return>
            </javadoc>
            <method name="formatTimestamp" type="String" line="60">
                <params>
                    <param name="timestamp" type="Date"/>
                </params>
                <scope line="61"/>
                <declaration name="df" type="SimpleDateFormat" line="64"/>
            </method>
            <javadoc line="68">
                Parses a timestamp string in YYYY-MM-dd HH:mm:ss GMT format.                
                <param>
                    timestamp Timestamp in the YYYY-MM-dd HH:mm:ss GMT format.                    
                </param>
                <return>
                    Date                    
                </return>
            </javadoc>
            <method name="parseTimestamp" type="Date" line="73">
                <params>
                    <param name="timestamp" type="String"/>
                </params>
                <declaration name="df" type="SimpleDateFormat" line="74"/>
                <scope line="76"/>
                <scope line="79"/>
            </method>
            <method name="commandOutput" type="String" line="84">
                <params>
                    <param name="p" type="Process"/>
                </params>
                <declaration name="r" type="Reader" line="85"/>
                <declaration name="err" type="Reader" line="86"/>
                <scope line="87">
                    <declaration name="output" type="String" line="90"/>
                    <declaration name="errorMsg" type="String" line="91"/>
                </scope>
                <scope line="95">
                    <scope line="96"/>
                </scope>
                <scope line="101">
                    <scope line="102">
                        <scope line="103"/>
                    </scope>
                    <scope line="107">
                        <scope line="108"/>
                    </scope>
                </scope>
            </method>
            <method name="commandOutput" type="String" line="114">
                <params>
                    <param name="r" type="Reader"/>
                </params>
                <declaration name="sb" type="StringBuilder" line="115"/>
                <declaration name="c" type="int" line="116"/>
                <scope line="117">
                    <scope line="118"/>
                </scope>
            </method>
            <method name="getJdkVersion" type="int" line="124"/>
            <method name="getUpdateVersion" type="int" line="128"/>
            <declaration name="jdkVersion" type="int" line="132"/>
            <declaration name="jdkUpdate" type="int" line="133"/>
            <method name="parseVersion" type="void" line="134">
                <scope line="135"/>
                <declaration name="cs" type="String" line="138"/>
                <scope line="139">
                    <scope line="142">
                        <declaration name="nextChar" type="int" line="143"/>
                        <scope line="144">
                            <declaration name="uu" type="String" line="145"/>
                        </scope>
                        <scope line="148"/>
                    </scope>
                </scope>
                <scope line="153"/>
            </method>
            <javadoc line="157">
                Returns this java string as a null-terminated byte array                
            </javadoc>
            <method name="stringToByteArray" type="byte[]" line="160">
                <params>
                    <param name="str" type="String"/>
                </params>
            </method>
            <javadoc line="163">
                Converts a null-terminated byte array to java string                
            </javadoc>
            <method name="byteArrayToString" type="String" line="166">
                <params>
                    <param name="array" type="byte[]"/>
                </params>
            </method>
            <javadoc line="169">
                Gets the stclient path using a well known location from
                  the Windows platform Registry, ensuring the path returned
                  by the registry is really the one we are looking for,
                  otherwise it will return null.                
            </javadoc>
            <method name="getWindowsStClientFile" type="File" line="175">
                <params>
                    <param name="wow64" type="boolean"/>
                </params>
                <declaration name="out" type="File" line="176"/>
                <declaration name="regKey" type="String" line="177"/>
                <declaration name="keyName" type="String" line="178"/>
                <declaration name="path" type="String" line="179"/>
                <scope line="180"/>
                <scope line="183"/>
            </method>
            <javadoc line="188">
                Finds a stclient in 32 and 64 bit environments, first by querying
                  the windows registry, if not then get the well known paths for
                  64bit see http://support.microsoft.com/kb/896459                
            </javadoc>
            <method name="getWindowsStClientFile" type="File" line="193">
                <declaration name="stclient" type="File" line="194"/>
                <scope line="195">
                    <scope line="197"/>
                </scope>
                <scope line="201">
                    <scope line="203"/>
                    <scope line="207">
                        <scope line="208"/>
                    </scope>
                </scope>
                <scope line="214"/>
            </method>
            <javadoc line="219">
                This uses reflection to access a private java windows registry
                  interface, any changes to that Class must be appropriately adjusted.
                  Returns a null if unsuccessful.                
            </javadoc>
            <method name="getRegistryKey" type="String" line="224">
                <params>
                    <param name="regKey" type="String"/>
                    <param name="keyName" type="String"/>
                </params>
                <declaration name="out" type="String" line="225"/>
                <scope line="226">
                    <declaration name="clazz" type="Class&amp;lt;?&amp;gt;" line="227"/>
                    <declaration name="winRegOpenKeyM" type="Method" line="228"/>
                    <declaration name="winRegCloseKeyM" type="Method" line="230"/>
                    <declaration name="winRegQueryValueM" type="Method" line="232"/>
                    <declaration name="HKLM" type="int" line="234"/>
                    <declaration name="KEY_READ" type="int" line="235"/>
                    <declaration name="ERROR_CODE" type="int" line="236"/>
                    <declaration name="NATIVE_HANDLE" type="int" line="237"/>
                    <declaration name="ERROR_SUCCESS" type="int" line="238"/>
                    <declaration name="reg" type="byte[]" line="239"/>
                    <declaration name="key" type="byte[]" line="240"/>
                    <declaration name="result" type="int[]" line="241"/>
                    <scope line="242">
                        <declaration name="stvalue" type="byte[]" line="243"/>
                    </scope>
                </scope>
                <scope line="248">
                    <scope line="249"/>
                </scope>
            </method>
            <method name="getValueFromStaticField" type="int" line="255">
                <params>
                    <param name="fldName" type="String"/>
                    <param name="klass" type="Class&lt;?&gt;"/>
                </params>
                <declaration name="f" type="Field" line="256"/>
            </method>
        </class>
    </source>