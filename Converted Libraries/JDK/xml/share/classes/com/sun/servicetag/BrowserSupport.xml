<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.servicetag">
        <import package="java.lang.reflect.Field"/>
        <import package="java.lang.reflect.Method"/>
        <import package="java.lang.reflect.InvocationTargetException"/>
        <import package="java.io.IOException"/>
        <import package="java.net.URI"/>
        <class name="BrowserSupport" line="34">
            <javadoc line="34">
                BrowserSupport class.
                  The implementation of the com.sun.servicetag API needs to be
                  compiled with JDK 5 as well since the consumer of this API
                  may require to support JDK 5 (e.g. NetBeans).
                  The Desktop.browse() method can be backported in this class
                  if needed.  The current implementation only supports JDK 6.                
            </javadoc>
            <declaration name="isBrowseSupported" type="boolean" line="45"/>
            <declaration name="browseMethod" type="Method" line="46"/>
            <declaration name="desktop" type="Object" line="47"/>
            <declaration name="result" type="Boolean" line="48"/>
            <method name="initX" type="void" line="51">
                <comment line="60">
                    Determine if java.awt.Desktop is supported                    
                </comment>
                <comment line="69">
                    isDesktopSupported calls getDefaultToolkit which can block
                     infinitely, see 6636099 for details, to workaround we call
                     in a  thread and time it out, noting that the issue is specific
                     to X11, it does not hurt for Windows.                    
                </comment>
                <comment line="76">
                    support only if Desktop.isDesktopSupported() and
                     Desktop.isSupported(Desktop.Action.BROWSE) return true.                    
                </comment>
                <comment line="80">
                    should never reach here                    
                </comment>
                <comment line="85">
                    browser not supported                    
                </comment>
                <comment line="92">
                    set it to daemon, so that the vm will exit.                    
                </comment>
                <comment line="98">
                    ignore the exception                    
                </comment>
                <comment line="106">
                    browser not supported                    
                </comment>
                <comment line="111">
                    browser not supported                    
                </comment>
                <comment line="116">
                    browser not supported                    
                </comment>
                <comment line="121">
                    should never reach here                    
                </comment>
                <comment line="127">
                    browser not supported                    
                </comment>
                <scope line="52"/>
                <declaration name="supported" type="boolean" line="55"/>
                <declaration name="browseM" type="Method" line="56"/>
                <declaration name="desktopObj" type="Object" line="57"/>
                <scope line="58">
                    <declaration name="desktopCls" type="Class&lt;?&gt;" line="60"/>
                    <declaration name="getDesktopM" type="Method" line="61"/>
                    <declaration name="actionCls" type="Class&lt;?&gt;" line="64"/>
                    <declaration name="isDesktopSupportedMethod" type="Method" line="65"/>
                    <declaration name="isSupportedMethod" type="Method" line="66"/>
                    <declaration name="browseField" type="Field" line="67"/>
                    <anonymous_class line="72">
                        <method name="run" type="void" line="73">
                            <comment line="76">
                                support only if Desktop.isDesktopSupported() and
                                 Desktop.isSupported(Desktop.Action.BROWSE) return true.                                
                            </comment>
                            <comment line="80">
                                should never reach here                                
                            </comment>
                            <comment line="85">
                                browser not supported                                
                            </comment>
                            <scope line="74"/>
                            <scope line="78">
                                <declaration name="x" type="InternalError" line="80"/>
                            </scope>
                            <scope line="83">
                                <scope line="85"/>
                            </scope>
                        </method>
                    </anonymous_class>
                    <declaration name="xthread" type="Thread" line="72"/>
                    <scope line="94"/>
                    <scope line="96"/>
                    <scope line="99"/>
                </scope>
                <scope line="104">
                    <scope line="106"/>
                </scope>
                <scope line="109">
                    <scope line="111"/>
                </scope>
                <scope line="114">
                    <scope line="116"/>
                </scope>
                <scope line="119">
                    <declaration name="x" type="InternalError" line="121"/>
                </scope>
                <scope line="125">
                    <scope line="127"/>
                </scope>
            </method>
            <method name="isSupported" type="boolean" line="136"/>
            <javadoc line="141">
                Launches the default browser to display a {@code URI}.
                  If the default browser is not able to handle the specified{@code URI}, the application registered for handling{@code URIs} of the specified type is invoked. The application
                  is determined from the protocol and path of the {@code URI}, as
                  defined by the {@code URI} class.
                  &lt;p&gt;
                  This method calls the Desktop.getDesktop().browse() method.
                  &lt;p&gt;                
                <param>
                    uri the URI to be displayed in the user default browser                    
                </param>
                <throws>
                    NullPointerException if {@code uri} is {@code null}                    
                </throws>
                <throws>
                    UnsupportedOperationException if the current platform
                      does not support the {@link Desktop.Action#BROWSE} action                    
                </throws>
                <throws>
                    IOException if the user default browser is not found,
                      or it fails to be launched, or the default handler application
                      failed to be launched                    
                </throws>
                <throws>
                    IllegalArgumentException if the necessary permissions
                      are not available and the URI can not be converted to a {@code URL}                    
                </throws>
            </javadoc>
            <method name="browse" type="void" line="162">
                <params>
                    <param name="uri" type="URI"/>
                </params>
                <comment line="171">
                    Call Desktop.browse() method                    
                </comment>
                <comment line="178">
                    should never reach here                    
                </comment>
                <comment line="195">
                    ignore                    
                </comment>
                <scope line="163"/>
                <scope line="166"/>
                <scope line="171">
                    <scope line="172"/>
                </scope>
                <scope line="176">
                    <declaration name="x" type="InternalError" line="178"/>
                </scope>
                <scope line="182">
                    <declaration name="x" type="Throwable" line="183"/>
                    <scope line="184">
                        <scope line="185"/>
                        <scope line="187"/>
                        <scope line="189"/>
                        <scope line="191"/>
                        <scope line="193"/>
                    </scope>
                </scope>
            </method>
        </class>
    </source>