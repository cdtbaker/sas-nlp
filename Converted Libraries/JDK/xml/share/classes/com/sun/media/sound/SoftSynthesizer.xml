<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.media.sound">
        <import package="java.io.BufferedInputStream"/>
        <import package="java.io.File"/>
        <import package="java.io.FileInputStream"/>
        <import package="java.io.FileOutputStream"/>
        <import package="java.io.IOException"/>
        <import package="java.io.InputStream"/>
        <import package="java.io.OutputStream"/>
        <import package="java.lang.ref.WeakReference"/>
        <import package="java.security.AccessController"/>
        <import package="java.security.PrivilegedAction"/>
        <import package="java.util.ArrayList"/>
        <import package="java.util.Arrays"/>
        <import package="java.util.HashMap"/>
        <import package="java.util.List"/>
        <import package="java.util.Map"/>
        <import package="java.util.Properties"/>
        <import package="java.util.StringTokenizer"/>
        <import package="java.util.prefs.BackingStoreException"/>
        <import package="java.util.prefs.Preferences"/>
        <import package="javax.sound.midi.Instrument"/>
        <import package="javax.sound.midi.MidiChannel"/>
        <import package="javax.sound.midi.MidiDevice"/>
        <import package="javax.sound.midi.MidiSystem"/>
        <import package="javax.sound.midi.MidiUnavailableException"/>
        <import package="javax.sound.midi.Patch"/>
        <import package="javax.sound.midi.Receiver"/>
        <import package="javax.sound.midi.Soundbank"/>
        <import package="javax.sound.midi.Transmitter"/>
        <import package="javax.sound.midi.VoiceStatus"/>
        <import package="javax.sound.sampled.AudioFormat"/>
        <import package="javax.sound.sampled.AudioInputStream"/>
        <import package="javax.sound.sampled.AudioSystem"/>
        <import package="javax.sound.sampled.LineUnavailableException"/>
        <import package="javax.sound.sampled.SourceDataLine"/>
        <class name="SoftSynthesizer" line="36">
            <implements interface="AudioSynthesizer"/>
            <implements interface="ReferenceCountingDevice"/>
            <javadoc line="36">
                The software synthesizer class.                
                <author>
                    Karl Helgason                    
                </author>
            </javadoc>
            <class name="WeakAudioStream" line="41">
                <extends class="InputStream"/>
                <declaration name="stream" type="AudioInputStream" line="42"/>
                <declaration name="pusher" type="SoftAudioPusher" line="43"/>
                <declaration name="jitter_stream" type="AudioInputStream" line="44"/>
                <declaration name="sourceDataLine" type="SourceDataLine" line="45"/>
                <declaration name="silent_samples" type="long" line="46"/>
                <declaration name="framesize" type="int" line="47"/>
                <declaration name="weak_stream_link" type="WeakReference&amp;lt;AudioInputStream&amp;gt;" line="48"/>
                <declaration name="converter" type="AudioFloatConverter" line="49"/>
                <declaration name="silentbuffer" type="float[]" line="50"/>
                <declaration name="samplesize" type="int" line="51"/>
                <method name="setInputStream" type="void" line="52">
                    <params>
                        <param name="stream" type="AudioInputStream"/>
                    </params>
                </method>
                <method name="available" type="int" line="55">
                    <declaration name="local_stream" type="AudioInputStream" line="56"/>
                </method>
                <method name="read" type="int" line="60">
                    <declaration name="b" type="byte[]" line="61"/>
                </method>
                <method name="read" type="int" line="65">
                    <params>
                        <param name="b" type="byte[]"/>
                        <param name="off" type="int"/>
                        <param name="len" type="int"/>
                    </params>
                    <declaration name="local_stream" type="AudioInputStream" line="66"/>
                    <scope line="68">
                        <declaration name="flen" type="int" line="69"/>
                        <scope line="73">
                            <anonymous_class line="74">
                                <declaration name="_pusher" type="SoftAudioPusher" line="75"/>
                                <declaration name="_jitter_stream" type="AudioInputStream" line="76"/>
                                <declaration name="_sourceDataLine" type="SourceDataLine" line="77"/>
                                <method name="run" type="void" line="78">
                                    <scope line="80"/>
                                    <scope line="83"/>
                                </method>
                            </anonymous_class>
                            <declaration name="runnable" type="Runnable" line="74"/>
                        </scope>
                    </scope>
                </method>
                <method name="WeakAudioStream" type="constructor" line="98">
                    <params>
                        <param name="stream" type="AudioInputStream"/>
                    </params>
                </method>
                <method name="getAudioInputStream" type="AudioInputStream" line="105"/>
                <method name="close" type="void" line="108">
                    <declaration name="astream" type="AudioInputStream" line="109"/>
                </method>
            </class>
            <class name="Info" line="113">
                <extends class="MidiDevice.Info"/>
                <method name="Info" type="constructor" line="114"/>
            </class>
            <declaration name="INFO_NAME" type="String" line="118"/>
            <declaration name="INFO_VENDOR" type="String" line="119"/>
            <declaration name="INFO_DESCRIPTION" type="String" line="120"/>
            <declaration name="INFO_VERSION" type="String" line="121"/>
            <declaration name="info" type="MidiDevice.Info" line="122"/>
            <declaration name="testline" type="SourceDataLine" line="123"/>
            <declaration name="defaultSoundBank" type="Soundbank" line="124"/>
            <declaration name="weakstream" type="WeakAudioStream" line="125"/>
            <declaration name="control_mutex" type="Object" line="126"/>
            <declaration name="voiceIDCounter" type="int" line="127"/>
            <declaration name="voice_allocation_mode" type="int" line="128"/>
            <declaration name="load_default_soundbank" type="boolean" line="129"/>
            <declaration name="reverb_light" type="boolean" line="130"/>
            <declaration name="reverb_on" type="boolean" line="131"/>
            <declaration name="chorus_on" type="boolean" line="132"/>
            <declaration name="agc_on" type="boolean" line="133"/>
            <declaration name="channels" type="SoftChannel[]" line="134"/>
            <declaration name="external_channels" type="SoftChannelProxy[]" line="135"/>
            <declaration name="largemode" type="boolean" line="136"/>
            <declaration name="gmmode" type="int" line="137"/>
            <declaration name="deviceid" type="int" line="138"/>
            <declaration name="format" type="AudioFormat" line="139"/>
            <declaration name="sourceDataLine" type="SourceDataLine" line="140"/>
            <declaration name="pusher" type="SoftAudioPusher" line="141"/>
            <declaration name="pusher_stream" type="AudioInputStream" line="142"/>
            <declaration name="controlrate" type="float" line="143"/>
            <declaration name="open" type="boolean" line="144"/>
            <declaration name="implicitOpen" type="boolean" line="145"/>
            <declaration name="resamplerType" type="String" line="146"/>
            <declaration name="resampler" type="SoftResampler" line="147"/>
            <declaration name="number_of_midi_channels" type="int" line="148"/>
            <declaration name="maxpoly" type="int" line="149"/>
            <declaration name="latency" type="long" line="150"/>
            <declaration name="jitter_correction" type="boolean" line="151"/>
            <declaration name="mainmixer" type="SoftMainMixer" line="152"/>
            <declaration name="voices" type="SoftVoice[]" line="153"/>
            <declaration name="tunings" type="Map&amp;lt;String,SoftTuning&amp;gt;" line="154"/>
            <declaration name="inslist" type="Map&amp;lt;String,SoftInstrument&amp;gt;" line="155"/>
            <declaration name="loadedlist" type="Map&amp;lt;String,ModelInstrument&amp;gt;" line="156"/>
            <declaration name="recvslist" type="ArrayList&amp;lt;Receiver&amp;gt;" line="157"/>
            <method name="getBuffers" type="void" line="158">
                <params>
                    <param name="instrument" type="ModelInstrument"/>
                    <param name="buffers" type="List&lt;ModelByteBuffer&gt;"/>
                </params>
                <scope line="159">
                    <scope line="160">
                        <scope line="161">
                            <scope line="162">
                                <declaration name="w" type="ModelByteBufferWavetable" line="163"/>
                                <declaration name="buff" type="ModelByteBuffer" line="164"/>
                            </scope>
                        </scope>
                    </scope>
                </scope>
            </method>
            <method name="loadSamples" type="boolean" line="173">
                <params>
                    <param name="instruments" type="List&lt;ModelInstrument&gt;"/>
                </params>
                <declaration name="buffers" type="List&amp;lt;ModelByteBuffer&amp;gt;" line="175"/>
                <scope line="177"/>
                <scope line="180"/>
            </method>
            <method name="loadInstruments" type="boolean" line="185">
                <params>
                    <param name="instruments" type="List&lt;ModelInstrument&gt;"/>
                </params>
                <scope line="188">
                    <scope line="189"/>
                    <scope line="193">
                        <declaration name="pat" type="String" line="194"/>
                        <declaration name="softins" type="SoftInstrument" line="195"/>
                    </scope>
                </scope>
            </method>
            <method name="processPropertyInfo" type="void" line="202">
                <params>
                    <param name="info" type="Map&lt;String,Object&gt;"/>
                </params>
                <declaration name="items" type="AudioSynthesizerPropertyInfo[]" line="203"/>
                <declaration name="resamplerType" type="String" line="204"/>
                <scope line="205"/>
                <scope line="209"/>
                <scope line="213"/>
                <scope line="217"/>
                <scope line="221"/>
                <scope line="225"/>
                <scope line="229"/>
            </method>
            <method name="patchToString" type="String" line="247">
                <params>
                    <param name="patch" type="Patch"/>
                </params>
            </method>
            <method name="setFormat" type="void" line="251">
                <params>
                    <param name="format" type="AudioFormat"/>
                </params>
                <scope line="252"/>
            </method>
            <method name="removeReceiver" type="void" line="258">
                <params>
                    <param name="recv" type="Receiver"/>
                </params>
                <declaration name="perform_close" type="boolean" line="259"/>
                <scope line="260">
                    <scope line="261"/>
                </scope>
            </method>
            <method name="getMainMixer" type="SoftMainMixer" line="267"/>
            <method name="findInstrument" type="SoftInstrument" line="271">
                <params>
                    <param name="program" type="int"/>
                    <param name="bank" type="int"/>
                    <param name="channel" type="int"/>
                </params>
                <scope line="272">
                    <declaration name="current_instrument" type="SoftInstrument" line="273"/>
                    <declaration name="p_plaf" type="String" line="275"/>
                </scope>
                <declaration name="p_plaf" type="String" line="288"/>
                <declaration name="current_instrument" type="SoftInstrument" line="291"/>
            </method>
            <method name="getVoiceAllocationMode" type="int" line="299"/>
            <method name="getGeneralMidiMode" type="int" line="302"/>
            <method name="setGeneralMidiMode" type="void" line="305">
                <params>
                    <param name="gmmode" type="int"/>
                </params>
            </method>
            <method name="getDeviceID" type="int" line="308"/>
            <method name="getControlRate" type="float" line="311"/>
            <method name="getVoices" type="SoftVoice[]" line="314"/>
            <method name="getTuning" type="SoftTuning" line="317">
                <params>
                    <param name="patch" type="Patch"/>
                </params>
                <declaration name="t_id" type="String" line="318"/>
                <declaration name="tuning" type="SoftTuning" line="319"/>
                <scope line="320"/>
            </method>
            <method name="getLatency" type="long" line="326">
                <scope line="327"/>
            </method>
            <method name="getFormat" type="AudioFormat" line="331">
                <scope line="332"/>
            </method>
            <method name="getMaxPolyphony" type="int" line="336">
                <scope line="337"/>
            </method>
            <method name="getChannels" type="MidiChannel[]" line="341">
                <scope line="342">
                    <scope line="343"/>
                    <declaration name="ret" type="MidiChannel[]" line="347"/>
                </scope>
            </method>
            <method name="getVoiceStatus" type="VoiceStatus[]" line="354">
                <scope line="355">
                    <declaration name="tempVoiceStatusArray" type="VoiceStatus[]" line="356"/>
                    <scope line="357">
                        <declaration name="b" type="VoiceStatus" line="358"/>
                    </scope>
                </scope>
                <scope line="369">
                    <declaration name="tempVoiceStatusArray" type="VoiceStatus[]" line="370"/>
                    <scope line="371">
                        <declaration name="a" type="VoiceStatus" line="372"/>
                        <declaration name="b" type="VoiceStatus" line="373"/>
                    </scope>
                </scope>
            </method>
            <method name="isSoundbankSupported" type="boolean" line="385">
                <params>
                    <param name="soundbank" type="Soundbank"/>
                </params>
            </method>
            <method name="loadInstrument" type="boolean" line="389">
                <params>
                    <param name="instrument" type="Instrument"/>
                </params>
                <scope line="390"/>
                <declaration name="instruments" type="List&amp;lt;ModelInstrument&amp;gt;" line="393"/>
            </method>
            <method name="unloadInstrument" type="void" line="397">
                <params>
                    <param name="instrument" type="Instrument"/>
                </params>
                <scope line="398"/>
                <declaration name="pat" type="String" line="402"/>
                <scope line="403">
                    <scope line="407"/>
                </scope>
            </method>
            <method name="remapInstrument" type="boolean" line="412">
                <params>
                    <param name="from" type="Instrument"/>
                    <param name="to" type="Instrument"/>
                </params>
                <scope line="415"/>
                <scope line="418"/>
                <scope line="422">
                    <declaration name="mfrom" type="ModelMappedInstrument" line="425"/>
                </scope>
            </method>
            <method name="getDefaultSoundbank" type="Soundbank" line="429">
                <scope line="430">
                    <declaration name="actions" type="List&amp;lt;PrivilegedAction&amp;lt;InputStream&amp;gt;&amp;gt;" line="432"/>
                    <anonymous_class line="433">
                        <method name="run" type="InputStream" line="434">
                            <declaration name="javahome" type="File" line="435"/>
                            <declaration name="libaudio" type="File" line="436"/>
                            <scope line="437">
                                <declaration name="foundfile" type="File" line="438"/>
                                <declaration name="files" type="File[]" line="439"/>
                                <scope line="440">
                                    <scope line="441">
                                        <declaration name="file" type="File" line="442"/>
                                        <scope line="443">
                                            <declaration name="lname" type="String" line="444"/>
                                            <scope line="445">
                                                <scope line="446"/>
                                            </scope>
                                        </scope>
                                    </scope>
                                </scope>
                                <scope line="453">
                                    <scope line="454"/>
                                    <scope line="457"/>
                                </scope>
                            </scope>
                        </method>
                    </anonymous_class>
                    <anonymous_class line="465">
                        <method name="run" type="InputStream" line="466">
                            <scope line="467">
                                <declaration name="gm_dls" type="File" line="468"/>
                                <scope line="469">
                                    <scope line="470"/>
                                    <scope line="473"/>
                                </scope>
                            </scope>
                        </method>
                    </anonymous_class>
                    <anonymous_class line="481">
                        <method name="run" type="InputStream" line="482">
                            <declaration name="userhome" type="File" line="483"/>
                            <declaration name="emg_soundbank_file" type="File" line="484"/>
                            <scope line="485">
                                <scope line="486"/>
                                <scope line="489"/>
                            </scope>
                        </method>
                    </anonymous_class>
                    <scope line="496">
                        <scope line="497">
                            <declaration name="is" type="InputStream" line="498"/>
                            <declaration name="sbk" type="Soundbank" line="500"/>
                            <scope line="501"/>
                            <scope line="504"/>
                            <scope line="507"/>
                        </scope>
                        <scope line="512"/>
                    </scope>
                    <scope line="515"/>
                    <scope line="518"/>
                    <scope line="520">
                        <anonymous_class line="521">
                            <method name="run" type="OutputStream" line="522">
                                <scope line="523">
                                    <declaration name="userhome" type="File" line="524"/>
                                    <declaration name="emg_soundbank_file" type="File" line="526"/>
                                </scope>
                                <scope line="530"/>
                                <scope line="532"/>
                            </method>
                        </anonymous_class>
                        <declaration name="out" type="OutputStream" line="521"/>
                        <scope line="538">
                            <scope line="539"/>
                            <scope line="543"/>
                        </scope>
                    </scope>
                </scope>
            </method>
            <method name="getAvailableInstruments" type="Instrument[]" line="550">
                <declaration name="defsbk" type="Soundbank" line="551"/>
                <declaration name="inslist_array" type="Instrument[]" line="553"/>
            </method>
            <method name="getLoadedInstruments" type="Instrument[]" line="557">
                <scope line="559">
                    <declaration name="inslist_array" type="ModelInstrument[]" line="560"/>
                </scope>
            </method>
            <method name="loadAllInstruments" type="boolean" line="566">
                <params>
                    <param name="soundbank" type="Soundbank"/>
                </params>
                <declaration name="instruments" type="List&amp;lt;ModelInstrument&amp;gt;" line="567"/>
                <scope line="568">
                    <scope line="569"/>
                </scope>
            </method>
            <method name="unloadAllInstruments" type="void" line="576">
                <params>
                    <param name="soundbank" type="Soundbank"/>
                </params>
                <scope line="579">
                    <scope line="580"/>
                </scope>
            </method>
            <method name="loadInstruments" type="boolean" line="585">
                <params>
                    <param name="soundbank" type="Soundbank"/>
                    <param name="patchList" type="Patch[]"/>
                </params>
                <declaration name="instruments" type="List&amp;lt;ModelInstrument&amp;gt;" line="586"/>
                <scope line="587">
                    <declaration name="ins" type="Instrument" line="588"/>
                    <scope line="589"/>
                </scope>
            </method>
            <method name="unloadInstruments" type="void" line="596">
                <params>
                    <param name="soundbank" type="Soundbank"/>
                    <param name="patchList" type="Patch[]"/>
                </params>
                <scope line="599">
                    <declaration name="ins" type="Instrument" line="600"/>
                    <scope line="601"/>
                </scope>
            </method>
            <method name="getDeviceInfo" type="MidiDevice.Info" line="606"/>
            <method name="getStoredProperties" type="Properties" line="609">
                <anonymous_class line="610">
                    <method name="run" type="Properties" line="611">
                        <declaration name="p" type="Properties" line="612"/>
                        <declaration name="notePath" type="String" line="613"/>
                        <scope line="614">
                            <declaration name="prefroot" type="Preferences" line="615"/>
                            <scope line="616">
                                <declaration name="prefs" type="Preferences" line="617"/>
                                <declaration name="prefs_keys" type="String[]" line="618"/>
                                <scope line="619">
                                    <declaration name="val" type="String" line="620"/>
                                </scope>
                            </scope>
                        </scope>
                        <scope line="625"/>
                        <scope line="627"/>
                    </method>
                </anonymous_class>
            </method>
            <method name="getPropertyInfo" type="AudioSynthesizerPropertyInfo[]" line="634">
                <params>
                    <param name="info" type="Map&lt;String,Object&gt;"/>
                </params>
                <declaration name="list" type="List&amp;lt;AudioSynthesizerPropertyInfo&amp;gt;" line="635"/>
                <declaration name="item" type="AudioSynthesizerPropertyInfo" line="636"/>
                <declaration name="o" type="boolean" line="637"/>
                <declaration name="items" type="AudioSynthesizerPropertyInfo[]" line="681"/>
                <declaration name="storedProperties" type="Properties" line="683"/>
                <scope line="684">
                    <declaration name="v" type="Object" line="685"/>
                    <scope line="687">
                        <declaration name="c" type="Class" line="688"/>
                        <scope line="690">
                            <declaration name="s" type="String" line="691"/>
                            <scope line="692"/>
                            <scope line="696">
                                <declaration name="channels" type="int" line="697"/>
                                <declaration name="signed" type="boolean" line="698"/>
                                <declaration name="bigendian" type="boolean" line="699"/>
                                <declaration name="bits" type="int" line="700"/>
                                <declaration name="sampleRate" type="float" line="701"/>
                                <scope line="702">
                                    <declaration name="st" type="StringTokenizer" line="703"/>
                                    <declaration name="prevToken" type="String" line="704"/>
                                    <scope line="705">
                                        <declaration name="token" type="String" line="706"/>
                                    </scope>
                                </scope>
                                <scope line="717"/>
                            </scope>
                            <scope line="720"/>
                            <scope line="728"/>
                        </scope>
                        <scope line="731">
                            <declaration name="n" type="Number" line="732"/>
                        </scope>
                    </scope>
                </scope>
            </method>
            <method name="open" type="void" line="744">
                <scope line="745">
                    <scope line="746"/>
                </scope>
            </method>
            <method name="open" type="void" line="753">
                <params>
                    <param name="line" type="SourceDataLine"/>
                    <param name="info" type="Map&lt;String,Object&gt;"/>
                </params>
                <scope line="754">
                    <scope line="755"/>
                </scope>
                <scope line="760">
                    <declaration name="causeException" type="Throwable" line="761"/>
                    <scope line="762">
                        <scope line="763"/>
                        <declaration name="ais" type="AudioInputStream" line="766"/>
                        <scope line="769">
                            <scope line="770"/>
                            <scope line="773"/>
                        </scope>
                        <declaration name="latency" type="double" line="777"/>
                        <scope line="778">
                            <declaration name="bufferSize" type="int" line="779"/>
                        </scope>
                        <declaration name="controlbuffersize" type="int" line="784"/>
                        <scope line="785"/>
                        <scope line="788"/>
                        <declaration name="buffersize" type="int" line="790"/>
                        <scope line="793"/>
                        <scope line="800"/>
                    </scope>
                    <scope line="805"/>
                    <scope line="808"/>
                    <scope line="811"/>
                    <scope line="814">
                        <declaration name="ex" type="MidiUnavailableException" line="816"/>
                    </scope>
                </scope>
            </method>
            <method name="openStream" type="AudioInputStream" line="822">
                <params>
                    <param name="targetFormat" type="AudioFormat"/>
                    <param name="info" type="Map&lt;String,Object&gt;"/>
                </params>
                <scope line="824">
                    <scope line="831">
                        <declaration name="defbank" type="Soundbank" line="832"/>
                        <scope line="833"/>
                    </scope>
                    <scope line="842"/>
                    <scope line="847">
                        <scope line="848">
                            <declaration name="new_external_channels" type="SoftChannelProxy[]" line="849"/>
                            <scope line="851"/>
                        </scope>
                    </scope>
                    <scope line="858">
                        <declaration name="srecv" type="SoftReceiver" line="859"/>
                    </scope>
                </scope>
            </method>
            <method name="close" type="void" line="867">
                <declaration name="pusher_to_be_closed" type="SoftAudioPusher" line="869"/>
                <declaration name="pusher_stream_to_be_closed" type="AudioInputStream" line="870"/>
                <scope line="871">
                    <scope line="872"/>
                </scope>
                <scope line="879">
                    <scope line="881"/>
                    <scope line="884"/>
                </scope>
                <scope line="887">
                    <scope line="895"/>
                </scope>
            </method>
            <method name="isOpen" type="boolean" line="905">
                <scope line="906"/>
            </method>
            <method name="getMicrosecondPosition" type="long" line="910">
                <scope line="912"/>
            </method>
            <method name="getMaxReceivers" type="int" line="916"/>
            <method name="getMaxTransmitters" type="int" line="919"/>
            <method name="getReceiver" type="Receiver" line="922">
                <scope line="923">
                    <declaration name="receiver" type="SoftReceiver" line="924"/>
                </scope>
            </method>
            <method name="getReceivers" type="List&lt;Receiver&gt;" line="930">
                <scope line="931">
                    <declaration name="recvs" type="ArrayList&amp;lt;Receiver&amp;gt;" line="932"/>
                </scope>
            </method>
            <method name="getTransmitter" type="Transmitter" line="937"/>
            <method name="getTransmitters" type="List&lt;Transmitter&gt;" line="940"/>
            <method name="getReceiverReferenceCounting" type="Receiver" line="943">
                <scope line="944">
                    <scope line="946"/>
                </scope>
            </method>
            <method name="getTransmitterReferenceCounting" type="Transmitter" line="952"/>
        </class>
    </source>