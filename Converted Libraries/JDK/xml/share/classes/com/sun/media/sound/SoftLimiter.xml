<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.media.sound">
        <class name="SoftLimiter" line="2">
            <implements interface="SoftAudioProcessor"/>
            <javadoc line="2">
                A simple look-ahead volume limiter with very fast attack and fast release.
                  This filter is used for preventing clipping.                
                <author>
                    Karl Helgason                    
                </author>
            </javadoc>
            <declaration name="lastmax" type="float" line="8"/>
            <declaration name="gain" type="float" line="9"/>
            <declaration name="temp_bufferL" type="float[]" line="10"/>
            <declaration name="temp_bufferR" type="float[]" line="11"/>
            <declaration name="mix" type="boolean" line="12"/>
            <declaration name="bufferL" type="SoftAudioBuffer" line="13"/>
            <declaration name="bufferR" type="SoftAudioBuffer" line="14"/>
            <declaration name="bufferLout" type="SoftAudioBuffer" line="15"/>
            <declaration name="bufferRout" type="SoftAudioBuffer" line="16"/>
            <declaration name="controlrate" type="float" line="17"/>
            <method name="init" type="void" line="18">
                <params>
                    <param name="samplerate" type="float"/>
                    <param name="controlrate" type="float"/>
                </params>
            </method>
            <method name="setInput" type="void" line="21">
                <params>
                    <param name="pin" type="int"/>
                    <param name="input" type="SoftAudioBuffer"/>
                </params>
            </method>
            <method name="setOutput" type="void" line="25">
                <params>
                    <param name="pin" type="int"/>
                    <param name="output" type="SoftAudioBuffer"/>
                </params>
            </method>
            <method name="setMixMode" type="void" line="29">
                <params>
                    <param name="mix" type="boolean"/>
                </params>
            </method>
            <method name="globalParameterControlChange" type="void" line="32">
                <params>
                    <param name="slothpath" type="int[]"/>
                    <param name="param" type="long"/>
                    <param name="value" type="long"/>
                </params>
            </method>
            <declaration name="silentcounter" type="double" line="34"/>
            <method name="processAudio" type="void" line="35">
                <scope line="36">
                    <scope line="38">
                        <scope line="39"/>
                    </scope>
                </scope>
                <declaration name="bufferL" type="float[]" line="47"/>
                <declaration name="bufferR" type="float[]" line="48"/>
                <declaration name="bufferLout" type="float[]" line="49"/>
                <declaration name="bufferRout" type="float[]" line="50"/>
                <declaration name="max" type="float" line="53"/>
                <declaration name="len" type="int" line="54"/>
                <scope line="55">
                    <scope line="56"/>
                </scope>
                <scope line="61">
                    <scope line="62"/>
                </scope>
                <declaration name="lmax" type="float" line="69"/>
                <declaration name="newgain" type="float" line="72"/>
                <declaration name="gaindelta" type="float" line="76"/>
                <scope line="77">
                    <scope line="78">
                        <scope line="79">
                            <declaration name="bL" type="float" line="81"/>
                            <declaration name="tL" type="float" line="82"/>
                        </scope>
                    </scope>
                    <scope line="87">
                        <scope line="88">
                            <declaration name="bL" type="float" line="90"/>
                            <declaration name="bR" type="float" line="91"/>
                            <declaration name="tL" type="float" line="92"/>
                            <declaration name="tR" type="float" line="93"/>
                        </scope>
                    </scope>
                </scope>
                <scope line="101">
                    <scope line="102">
                        <scope line="103">
                            <declaration name="bL" type="float" line="105"/>
                            <declaration name="tL" type="float" line="106"/>
                        </scope>
                    </scope>
                    <scope line="111">
                        <scope line="112">
                            <declaration name="bL" type="float" line="114"/>
                            <declaration name="bR" type="float" line="115"/>
                            <declaration name="tL" type="float" line="116"/>
                            <declaration name="tR" type="float" line="117"/>
                        </scope>
                    </scope>
                </scope>
            </method>
            <method name="processControlLogic" type="void" line="127"/>
        </class>
    </source>