<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.media.sound">
        <import package="java.io.File"/>
        <import package="java.io.InputStream"/>
        <import package="java.io.OutputStream"/>
        <import package="java.io.IOException"/>
        <import package="java.io.DataInputStream"/>
        <import package="java.net.URL"/>
        <import package="javax.sound.sampled.AudioFileFormat"/>
        <import package="javax.sound.sampled.AudioInputStream"/>
        <import package="javax.sound.sampled.UnsupportedAudioFileException"/>
        <import package="javax.sound.sampled.spi.AudioFileReader"/>
        <class name="SunFileReader" line="42">
            <extends class="AudioFileReader"/>
            <comment line="50">
                buffer size for temporary input streams                
            </comment>
            <comment line="60">
                METHODS TO IMPLEMENT AudioFileReader                
            </comment>
            <comment line="159">
                HELPER METHODS                
            </comment>
            <javadoc line="42">
                Abstract File Reader class.                
                <author>
                    Jan Borgersen                    
                </author>
            </javadoc>
            <declaration name="bisBufferSize" type="int" line="50"/>
            <javadoc line="52">
                Constructs a new SunFileReader object.                
            </javadoc>
            <method name="SunFileReader" type="constructor" line="55"/>
            <method name="getAudioFileFormat" type="AudioFileFormat" line="61"/>
            <javadoc line="61">
                Obtains the audio file format of the input stream provided.  The stream must
                  point to valid audio file data.  In general, audio file providers may
                  need to read some data from the stream before determining whether they
                  support it.  These parsers must
                  be able to mark the stream, read enough data to determine whether they
                  support the stream, and, if not, reset the stream&apos;s read pointer to its original
                  position.  If the input stream does not support this, this method may fail
                  with an IOException.                
                <param>
                    stream the input stream from which file format information should be
                      extracted                    
                </param>
                <return>
                    an <code>AudioFileFormat</code> object describing the audio file format                    
                </return>
                <throws>
                    UnsupportedAudioFileException if the stream does not point to valid audio
                      file data recognized by the system                    
                </throws>
                <throws>
                    IOException if an I/O exception occurs                    
                </throws>
                <see>
                    InputStream#markSupported                    
                </see>
                <see>
                    InputStream#mark                    
                </see>
            </javadoc>
            <method name="getAudioFileFormat" type="AudioFileFormat" line="82"/>
            <javadoc line="82">
                Obtains the audio file format of the URL provided.  The URL must
                  point to valid audio file data.                
                <param>
                    url the URL from which file format information should be
                      extracted                    
                </param>
                <return>
                    an <code>AudioFileFormat</code> object describing the audio file format                    
                </return>
                <throws>
                    UnsupportedAudioFileException if the URL does not point to valid audio
                      file data recognized by the system                    
                </throws>
                <throws>
                    IOException if an I/O exception occurs                    
                </throws>
            </javadoc>
            <method name="getAudioFileFormat" type="AudioFileFormat" line="95"/>
            <javadoc line="95">
                Obtains the audio file format of the File provided.  The File must
                  point to valid audio file data.                
                <param>
                    file the File from which file format information should be
                      extracted                    
                </param>
                <return>
                    an <code>AudioFileFormat</code> object describing the audio file format                    
                </return>
                <throws>
                    UnsupportedAudioFileException if the File does not point to valid audio
                      file data recognized by the system                    
                </throws>
                <throws>
                    IOException if an I/O exception occurs                    
                </throws>
            </javadoc>
            <method name="getAudioInputStream" type="AudioInputStream" line="108"/>
            <javadoc line="108">
                Obtains an audio stream from the input stream provided.  The stream must
                  point to valid audio file data.  In general, audio file providers may
                  need to read some data from the stream before determining whether they
                  support it.  These parsers must
                  be able to mark the stream, read enough data to determine whether they
                  support the stream, and, if not, reset the stream&apos;s read pointer to its original
                  position.  If the input stream does not support this, this method may fail
                  with an IOException.                
                <param>
                    stream the input stream from which the <code>AudioInputStream</code> should be
                      constructed                    
                </param>
                <return>
                    an <code>AudioInputStream</code> object based on the audio file data contained
                      in the input stream.                    
                </return>
                <throws>
                    UnsupportedAudioFileException if the stream does not point to valid audio
                      file data recognized by the system                    
                </throws>
                <throws>
                    IOException if an I/O exception occurs                    
                </throws>
                <see>
                    InputStream#markSupported                    
                </see>
                <see>
                    InputStream#mark                    
                </see>
            </javadoc>
            <method name="getAudioInputStream" type="AudioInputStream" line="130"/>
            <javadoc line="130">
                Obtains an audio stream from the URL provided.  The URL must
                  point to valid audio file data.                
                <param>
                    url the URL for which the <code>AudioInputStream</code> should be
                      constructed                    
                </param>
                <return>
                    an <code>AudioInputStream</code> object based on the audio file data pointed
                      to by the URL                    
                </return>
                <throws>
                    UnsupportedAudioFileException if the URL does not point to valid audio
                      file data recognized by the system                    
                </throws>
                <throws>
                    IOException if an I/O exception occurs                    
                </throws>
            </javadoc>
            <method name="getAudioInputStream" type="AudioInputStream" line="144"/>
            <javadoc line="144">
                Obtains an audio stream from the File provided.  The File must
                  point to valid audio file data.                
                <param>
                    file the File for which the <code>AudioInputStream</code> should be
                      constructed                    
                </param>
                <return>
                    an <code>AudioInputStream</code> object based on the audio file data pointed
                      to by the File                    
                </return>
                <throws>
                    UnsupportedAudioFileException if the File does not point to valid audio
                      file data recognized by the system                    
                </throws>
                <throws>
                    IOException if an I/O exception occurs                    
                </throws>
            </javadoc>
            <javadoc line="162">
                rllong
                  Protected helper method to read 64 bits and changing the order of
                  each bytes.                
                <param>
                    DataInputStream                    
                </param>
                <return>
                    32 bits swapped value.                    
                </return>
                <exception>
                    IOException                    
                </exception>
            </javadoc>
            <method name="rllong" type="int" line="170">
                <params>
                    <param name="dis" type="DataInputStream"/>
                </params>
                <declaration name="b1" type="int" line="172"/>
                <declaration name="i" type="int" line="173"/>
            </method>
            <javadoc line="187">
                big2little
                  Protected helper method to swap the order of bytes in a 32 bit int                
                <param>
                    int                    
                </param>
                <return>
                    32 bits swapped value                    
                </return>
            </javadoc>
            <method name="big2little" type="int" line="193">
                <params>
                    <param name="i" type="int"/>
                </params>
                <declaration name="b1" type="int" line="195"/>
            </method>
            <javadoc line="207">
                rlshort
                  Protected helper method to read 16 bits value. Swap high with low byte.                
                <param>
                    DataInputStream                    
                </param>
                <return>
                    the swapped value.                    
                </return>
                <exception>
                    IOException                    
                </exception>
            </javadoc>
            <method name="rlshort" type="short" line="214">
                <params>
                    <param name="dis" type="DataInputStream"/>
                </params>
                <declaration name="s" type="short" line="216"/>
                <declaration name="high" type="short" line="217"/>
            </method>
            <javadoc line="229">
                big2little
                  Protected helper method to swap the order of bytes in a 16 bit short                
                <param>
                    int                    
                </param>
                <return>
                    16 bits swapped value                    
                </return>
            </javadoc>
            <method name="big2littleShort" type="short" line="235">
                <params>
                    <param name="i" type="short"/>
                </params>
                <declaration name="high" type="short" line="237"/>
            </method>
            <javadoc line="248">
                Calculates the frame size for PCM frames.
                  Note that this method is appropriate for non-packed samples.
                  For instance, 12 bit, 2 channels will return 4 bytes, not 3.                
                <param>
                    sampleSizeInBits the size of a single sample in bits                    
                </param>
                <param>
                    channels the number of channels                    
                </param>
                <return>
                    the size of a PCM frame in bytes.                    
                </return>
            </javadoc>
            <method name="calculatePCMFrameSize" type="int" line="256">
                <params>
                    <param name="sampleSizeInBits" type="int"/>
                    <param name="channels" type="int"/>
                </params>
            </method>
        </class>
    </source>