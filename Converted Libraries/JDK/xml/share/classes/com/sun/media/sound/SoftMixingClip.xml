<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.media.sound">
        <import package="java.io.ByteArrayOutputStream"/>
        <import package="java.io.IOException"/>
        <import package="java.io.InputStream"/>
        <import package="java.util.Arrays"/>
        <import package="javax.sound.sampled.AudioFormat"/>
        <import package="javax.sound.sampled.AudioInputStream"/>
        <import package="javax.sound.sampled.AudioSystem"/>
        <import package="javax.sound.sampled.Clip"/>
        <import package="javax.sound.sampled.DataLine"/>
        <import package="javax.sound.sampled.LineEvent"/>
        <import package="javax.sound.sampled.LineUnavailableException"/>
        <class name="SoftMixingClip" line="40">
            <extends class="SoftMixingDataLine"/>
            <implements interface="Clip"/>
            <javadoc line="40">
                Clip implemention for the SoftMixingMixer.                
                <author>
                    Karl Helgason                    
                </author>
            </javadoc>
            <declaration name="format" type="AudioFormat" line="47"/>
            <declaration name="framesize" type="int" line="49"/>
            <declaration name="data" type="byte[]" line="51"/>
            <declaration name="datastream" type="InputStream" line="53"/>
            <anonymous_class line="53">
                <method name="read" type="int" line="55">
                    <declaration name="b" type="byte[]" line="56"/>
                    <declaration name="ret" type="int" line="57"/>
                </method>
                <method name="read" type="int" line="63">
                    <params>
                        <param name="b" type="byte[]"/>
                        <param name="off" type="int"/>
                        <param name="len" type="int"/>
                    </params>
                    <scope line="65">
                        <declaration name="bloopend" type="int" line="66"/>
                        <declaration name="bloopstart" type="int" line="67"/>
                        <declaration name="pos" type="int" line="68"/>
                        <scope line="71">
                            <declaration name="offend" type="int" line="72"/>
                            <declaration name="o" type="int" line="73"/>
                            <scope line="74">
                                <scope line="75"/>
                                <declaration name="left" type="int" line="83"/>
                            </scope>
                            <scope line="89">
                                <declaration name="left" type="int" line="91"/>
                            </scope>
                        </scope>
                    </scope>
                    <declaration name="pos" type="int" line="102"/>
                    <declaration name="left" type="int" line="103"/>
                </method>
            </anonymous_class>
            <declaration name="offset" type="int" line="115"/>
            <declaration name="bufferSize" type="int" line="117"/>
            <declaration name="readbuffer" type="float[]" line="119"/>
            <declaration name="open" type="boolean" line="121"/>
            <declaration name="outputformat" type="AudioFormat" line="123"/>
            <declaration name="out_nrofchannels" type="int" line="125"/>
            <declaration name="in_nrofchannels" type="int" line="127"/>
            <declaration name="frameposition" type="int" line="129"/>
            <declaration name="frameposition_sg" type="boolean" line="131"/>
            <declaration name="active_sg" type="boolean" line="133"/>
            <declaration name="loopstart" type="int" line="135"/>
            <declaration name="loopend" type="int" line="137"/>
            <declaration name="active" type="boolean" line="139"/>
            <declaration name="loopcount" type="int" line="141"/>
            <declaration name="_active" type="boolean" line="143"/>
            <declaration name="_frameposition" type="int" line="145"/>
            <declaration name="loop_sg" type="boolean" line="147"/>
            <declaration name="_loopcount" type="int" line="149"/>
            <declaration name="_loopstart" type="int" line="151"/>
            <declaration name="_loopend" type="int" line="153"/>
            <declaration name="_rightgain" type="float" line="155"/>
            <declaration name="_leftgain" type="float" line="157"/>
            <declaration name="_eff1gain" type="float" line="159"/>
            <declaration name="_eff2gain" type="float" line="161"/>
            <declaration name="afis" type="AudioFloatInputStream" line="163"/>
            <method name="SoftMixingClip" type="constructor" line="165">
                <params>
                    <param name="mixer" type="SoftMixingMixer"/>
                    <param name="info" type="DataLine.Info"/>
                </params>
            </method>
            <method name="processControlLogic" type="void" line="169">
                <scope line="176"/>
                <scope line="179"/>
                <scope line="183"/>
                <scope line="187"/>
                <scope line="190"/>
                <scope line="196"/>
            </method>
            <method name="processAudioLogic" type="void" line="206">
                <params>
                    <param name="buffers" type="SoftAudioBuffer[]"/>
                </params>
                <scope line="207">
                    <declaration name="left" type="float[]" line="208"/>
                    <declaration name="right" type="float[]" line="209"/>
                    <declaration name="bufferlen" type="int" line="210"/>
                    <declaration name="readlen" type="int" line="212"/>
                    <scope line="213"/>
                    <declaration name="ret" type="int" line="216"/>
                    <scope line="217">
                        <scope line="219"/>
                    </scope>
                    <scope line="225"/>
                    <declaration name="in_c" type="int" line="228"/>
                    <scope line="229"/>
                    <scope line="233">
                        <scope line="234">
                            <scope line="235"/>
                        </scope>
                        <scope line="238">
                            <scope line="239"/>
                        </scope>
                    </scope>
                    <scope line="246">
                        <declaration name="eff1" type="float[]" line="248"/>
                        <scope line="250"/>
                        <scope line="253">
                            <scope line="254"/>
                        </scope>
                    </scope>
                    <scope line="260">
                        <declaration name="eff2" type="float[]" line="261"/>
                        <scope line="263"/>
                        <scope line="266">
                            <scope line="267"/>
                        </scope>
                    </scope>
                </scope>
            </method>
            <method name="getFrameLength" type="int" line="276"/>
            <method name="getMicrosecondLength" type="long" line="280"/>
            <method name="loop" type="void" line="285">
                <params>
                    <param name="count" type="int"/>
                </params>
                <declaration name="event" type="LineEvent" line="286"/>
                <scope line="288">
                    <scope line="289"/>
                </scope>
            </method>
            <method name="open" type="void" line="306">
                <params>
                    <param name="stream" type="AudioInputStream"/>
                </params>
                <scope line="307"/>
                <scope line="315">
                    <declaration name="data" type="byte[]" line="316"/>
                    <declaration name="readsize" type="int" line="318"/>
                    <declaration name="len" type="int" line="319"/>
                    <scope line="320">
                        <declaration name="ret" type="int" line="323"/>
                    </scope>
                </scope>
                <scope line="331">
                    <declaration name="baos" type="ByteArrayOutputStream" line="332"/>
                    <declaration name="b" type="byte[]" line="333"/>
                    <declaration name="r" type="int" line="334"/>
                    <scope line="335"/>
                </scope>
            </method>
            <method name="open" type="void" line="346">
                <params>
                    <param name="format" type="AudioFormat"/>
                    <param name="data" type="byte[]"/>
                    <param name="offset" type="int"/>
                    <param name="bufferSize" type="int"/>
                </params>
                <scope line="347">
                    <scope line="348"/>
                    <scope line="370"/>
                </scope>
            </method>
            <method name="setFramePosition" type="void" line="386">
                <params>
                    <param name="frames" type="int"/>
                </params>
                <scope line="387"/>
            </method>
            <method name="setLoopPoints" type="void" line="393">
                <params>
                    <param name="start" type="int"/>
                    <param name="end" type="int"/>
                </params>
                <scope line="394">
                    <scope line="395"/>
                </scope>
            </method>
            <method name="setMicrosecondPosition" type="void" line="415">
                <params>
                    <param name="microseconds" type="long"/>
                </params>
            </method>
            <method name="available" type="int" line="420"/>
            <method name="drain" type="void" line="424"/>
            <method name="flush" type="void" line="427"/>
            <method name="getBufferSize" type="int" line="430"/>
            <method name="getFormat" type="AudioFormat" line="434"/>
            <method name="getFramePosition" type="int" line="438">
                <scope line="439"/>
            </method>
            <method name="getLevel" type="float" line="444"/>
            <method name="getLongFramePosition" type="long" line="448"/>
            <method name="getMicrosecondPosition" type="long" line="452"/>
            <method name="isActive" type="boolean" line="457">
                <scope line="458"/>
            </method>
            <method name="isRunning" type="boolean" line="463">
                <scope line="464"/>
            </method>
            <method name="start" type="void" line="469">
                <declaration name="event" type="LineEvent" line="471"/>
                <scope line="473">
                    <scope line="474"/>
                </scope>
            </method>
            <method name="stop" type="void" line="489">
                <declaration name="event" type="LineEvent" line="490"/>
                <scope line="492">
                    <scope line="493"/>
                </scope>
            </method>
            <method name="close" type="void" line="507">
                <declaration name="event" type="LineEvent" line="508"/>
                <scope line="510"/>
            </method>
            <method name="isOpen" type="boolean" line="527"/>
            <method name="open" type="void" line="531">
                <scope line="532"/>
            </method>
        </class>
    </source>