<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.media.sound">
        <import package="java.io.ByteArrayOutputStream"/>
        <import package="java.io.IOException"/>
        <import package="java.io.InputStream"/>
        <import package="java.util.Arrays"/>
        <import package="javax.sound.sampled.AudioFormat"/>
        <import package="javax.sound.sampled.AudioInputStream"/>
        <import package="javax.sound.sampled.AudioSystem"/>
        <import package="javax.sound.sampled.Clip"/>
        <import package="javax.sound.sampled.DataLine"/>
        <import package="javax.sound.sampled.LineEvent"/>
        <import package="javax.sound.sampled.LineUnavailableException"/>
        <class name="SoftMixingClip" line="13">
            <extends class="SoftMixingDataLine"/>
            <implements interface="Clip"/>
            <javadoc line="13">
                Clip implemention for the SoftMixingMixer.                
                <author>
                    Karl Helgason                    
                </author>
            </javadoc>
            <declaration name="format" type="AudioFormat" line="18"/>
            <declaration name="framesize" type="int" line="19"/>
            <declaration name="data" type="byte[]" line="20"/>
            <declaration name="datastream" type="InputStream" line="21"/>
            <anonymous_class line="21">
                <method name="read" type="int" line="22">
                    <declaration name="b" type="byte[]" line="23"/>
                    <declaration name="ret" type="int" line="24"/>
                </method>
                <method name="read" type="int" line="28">
                    <params>
                        <param name="b" type="byte[]"/>
                        <param name="off" type="int"/>
                        <param name="len" type="int"/>
                    </params>
                    <scope line="29">
                        <declaration name="bloopend" type="int" line="30"/>
                        <declaration name="bloopstart" type="int" line="31"/>
                        <declaration name="pos" type="int" line="32"/>
                        <scope line="33">
                            <declaration name="offend" type="int" line="34"/>
                            <declaration name="o" type="int" line="35"/>
                            <scope line="36">
                                <scope line="37"/>
                                <declaration name="left" type="int" line="43"/>
                            </scope>
                            <scope line="48">
                                <declaration name="left" type="int" line="50"/>
                            </scope>
                        </scope>
                    </scope>
                    <declaration name="pos" type="int" line="59"/>
                    <declaration name="left" type="int" line="60"/>
                </method>
            </anonymous_class>
            <declaration name="offset" type="int" line="69"/>
            <declaration name="bufferSize" type="int" line="70"/>
            <declaration name="readbuffer" type="float[]" line="71"/>
            <declaration name="open" type="boolean" line="72"/>
            <declaration name="outputformat" type="AudioFormat" line="73"/>
            <declaration name="out_nrofchannels" type="int" line="74"/>
            <declaration name="in_nrofchannels" type="int" line="75"/>
            <declaration name="frameposition" type="int" line="76"/>
            <declaration name="frameposition_sg" type="boolean" line="77"/>
            <declaration name="active_sg" type="boolean" line="78"/>
            <declaration name="loopstart" type="int" line="79"/>
            <declaration name="loopend" type="int" line="80"/>
            <declaration name="active" type="boolean" line="81"/>
            <declaration name="loopcount" type="int" line="82"/>
            <declaration name="_active" type="boolean" line="83"/>
            <declaration name="_frameposition" type="int" line="84"/>
            <declaration name="loop_sg" type="boolean" line="85"/>
            <declaration name="_loopcount" type="int" line="86"/>
            <declaration name="_loopstart" type="int" line="87"/>
            <declaration name="_loopend" type="int" line="88"/>
            <declaration name="_rightgain" type="float" line="89"/>
            <declaration name="_leftgain" type="float" line="90"/>
            <declaration name="_eff1gain" type="float" line="91"/>
            <declaration name="_eff2gain" type="float" line="92"/>
            <declaration name="afis" type="AudioFloatInputStream" line="93"/>
            <method name="SoftMixingClip" type="constructor" line="94">
                <params>
                    <param name="mixer" type="SoftMixingMixer"/>
                    <param name="info" type="DataLine.Info"/>
                </params>
            </method>
            <method name="processControlLogic" type="void" line="97">
                <scope line="102"/>
                <scope line="106"/>
                <scope line="109"/>
                <scope line="114"/>
                <scope line="117"/>
                <scope line="122"/>
            </method>
            <method name="processAudioLogic" type="void" line="127">
                <params>
                    <param name="buffers" type="SoftAudioBuffer[]"/>
                </params>
                <scope line="128">
                    <declaration name="left" type="float[]" line="129"/>
                    <declaration name="right" type="float[]" line="130"/>
                    <declaration name="bufferlen" type="int" line="131"/>
                    <declaration name="readlen" type="int" line="132"/>
                    <scope line="133"/>
                    <declaration name="ret" type="int" line="136"/>
                    <scope line="137">
                        <scope line="139"/>
                    </scope>
                    <scope line="145"/>
                    <declaration name="in_c" type="int" line="147"/>
                    <scope line="148"/>
                    <scope line="151">
                        <scope line="152">
                            <scope line="153"/>
                        </scope>
                        <scope line="157">
                            <scope line="158"/>
                        </scope>
                    </scope>
                    <scope line="163">
                        <declaration name="eff1" type="float[]" line="164"/>
                        <scope line="165"/>
                        <scope line="168">
                            <scope line="169"/>
                        </scope>
                    </scope>
                    <scope line="174">
                        <declaration name="eff2" type="float[]" line="175"/>
                        <scope line="176"/>
                        <scope line="179">
                            <scope line="180"/>
                        </scope>
                    </scope>
                </scope>
            </method>
            <method name="getFrameLength" type="int" line="187"/>
            <method name="getMicrosecondLength" type="long" line="190"/>
            <method name="loop" type="void" line="193">
                <params>
                    <param name="count" type="int"/>
                </params>
                <declaration name="event" type="LineEvent" line="194"/>
                <scope line="195">
                    <scope line="196"/>
                </scope>
            </method>
            <method name="open" type="void" line="206">
                <params>
                    <param name="stream" type="AudioInputStream"/>
                </params>
                <scope line="207"/>
                <scope line="211">
                    <declaration name="data" type="byte[]" line="212"/>
                    <declaration name="readsize" type="int" line="213"/>
                    <declaration name="len" type="int" line="214"/>
                    <scope line="215">
                        <declaration name="ret" type="int" line="217"/>
                    </scope>
                </scope>
                <scope line="224">
                    <declaration name="baos" type="ByteArrayOutputStream" line="225"/>
                    <declaration name="b" type="byte[]" line="226"/>
                    <declaration name="r" type="int" line="227"/>
                    <scope line="228"/>
                </scope>
            </method>
            <method name="open" type="void" line="235">
                <params>
                    <param name="format" type="AudioFormat"/>
                    <param name="data" type="byte[]"/>
                    <param name="offset" type="int"/>
                    <param name="bufferSize" type="int"/>
                </params>
                <scope line="236">
                    <scope line="237"/>
                    <scope line="250"/>
                </scope>
            </method>
            <method name="setFramePosition" type="void" line="261">
                <params>
                    <param name="frames" type="int"/>
                </params>
                <scope line="262"/>
            </method>
            <method name="setLoopPoints" type="void" line="267">
                <params>
                    <param name="start" type="int"/>
                    <param name="end" type="int"/>
                </params>
                <scope line="268">
                    <scope line="269"/>
                </scope>
            </method>
            <method name="setMicrosecondPosition" type="void" line="280">
                <params>
                    <param name="microseconds" type="long"/>
                </params>
            </method>
            <method name="available" type="int" line="283"/>
            <method name="drain" type="void" line="286"/>
            <method name="flush" type="void" line="288"/>
            <method name="getBufferSize" type="int" line="290"/>
            <method name="getFormat" type="AudioFormat" line="293"/>
            <method name="getFramePosition" type="int" line="296">
                <scope line="297"/>
            </method>
            <method name="getLevel" type="float" line="301"/>
            <method name="getLongFramePosition" type="long" line="304"/>
            <method name="getMicrosecondPosition" type="long" line="307"/>
            <method name="isActive" type="boolean" line="310">
                <scope line="311"/>
            </method>
            <method name="isRunning" type="boolean" line="315">
                <scope line="316"/>
            </method>
            <method name="start" type="void" line="320">
                <declaration name="event" type="LineEvent" line="321"/>
                <scope line="322">
                    <scope line="323"/>
                </scope>
            </method>
            <method name="stop" type="void" line="333">
                <declaration name="event" type="LineEvent" line="334"/>
                <scope line="335">
                    <scope line="336"/>
                </scope>
            </method>
            <method name="close" type="void" line="345">
                <declaration name="event" type="LineEvent" line="346"/>
                <scope line="347"/>
            </method>
            <method name="isOpen" type="boolean" line="356"/>
            <method name="open" type="void" line="359">
                <scope line="360"/>
            </method>
        </class>
    </source>