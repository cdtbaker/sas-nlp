<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.jndi.ldap">
        <import package="javax.naming"/>
        <import package="javax.naming.directory"/>
        <import package="javax.naming.event"/>
        <import package="javax.naming.ldap"/>
        <import package="javax.naming.ldap.LdapName"/>
        <import package="java.util.Vector"/>
        <import package="com.sun.jndi.toolkit.ctx.Continuation"/>
        <class name="NamingEventNotifier" line="9">
            <implements interface="Runnable"/>
            <javadoc line="9">
                Gathers information to generate events by using the Persistent Search
                  control.
                  &lt;p&gt;
                  This class maintains a list of listeners all interested in the same
                  &quot;search&quot; request. It creates a thread that does the persistent search
                  and blocks, collecting the results of the search.
                  For each result that it receives from the search, it fires the
                  corresponding event to its listeners. If an exception is encountered,
                  it fires a NamingExceptionEvent.                
                <author>
                    Rosanna Lee                    
                </author>
            </javadoc>
            <declaration name="debug" type="boolean" line="22"/>
            <declaration name="namingListeners" type="Vector" line="23"/>
            <declaration name="worker" type="Thread" line="24"/>
            <declaration name="context" type="LdapCtx" line="25"/>
            <declaration name="eventSrc" type="EventContext" line="26"/>
            <declaration name="support" type="EventSupport" line="27"/>
            <declaration name="results" type="NamingEnumeration" line="28"/>
            <declaration name="info" type="NotifierArgs" line="29"/>
            <method name="NamingEventNotifier" type="constructor" line="30">
                <params>
                    <param name="support" type="EventSupport"/>
                    <param name="ctx" type="LdapCtx"/>
                    <param name="info" type="NotifierArgs"/>
                    <param name="firstListener" type="NamingListener"/>
                </params>
                <declaration name="psearch" type="Control" line="33"/>
                <scope line="34"/>
                <scope line="37">
                    <declaration name="ne" type="NamingException" line="38"/>
                </scope>
            </method>
            <method name="addNamingListener" type="void" line="50">
                <params>
                    <param name="l" type="NamingListener"/>
                </params>
            </method>
            <method name="removeNamingListener" type="void" line="53">
                <params>
                    <param name="l" type="NamingListener"/>
                </params>
            </method>
            <method name="hasNamingListeners" type="boolean" line="56"/>
            <javadoc line="59">
                Execute &quot;persistent search&quot;.
                  For each result, create the appropriate NamingEvent and
                  queue to be dispatched to listeners.                
            </javadoc>
            <method name="run" type="void" line="64">
                <scope line="65">
                    <declaration name="cont" type="Continuation" line="66"/>
                    <declaration name="nm" type="Name" line="68"/>
                    <declaration name="si" type="SearchResult" line="71"/>
                    <declaration name="respctls" type="Control[]" line="72"/>
                    <declaration name="ec" type="EntryChangeResponseControl" line="73"/>
                    <declaration name="changeNum" type="long" line="74"/>
                    <scope line="75">
                        <scope line="78"/>
                        <scope line="82">
                            <scope line="83">
                                <scope line="84"/>
                            </scope>
                        </scope>
                    </scope>
                </scope>
                <scope line="107"/>
                <scope line="110"/>
                <scope line="114"/>
            </method>
            <method name="cleanup" type="void" line="119">
                <scope line="121">
                    <scope line="122"/>
                    <scope line="127"/>
                </scope>
                <scope line="133"/>
            </method>
            <javadoc line="136">
                Stop the dispatcher so we can be destroyed.
                  package private; used by EventSupport                
            </javadoc>
            <method name="stop" type="void" line="140">
                <scope line="142"/>
            </method>
            <javadoc line="147">
                Fire an &quot;object added&quot; event to registered NamingListeners.                
            </javadoc>
            <method name="fireObjectAdded" type="void" line="150">
                <params>
                    <param name="newBd" type="Binding"/>
                    <param name="changeID" type="long"/>
                </params>
                <declaration name="e" type="NamingEvent" line="152"/>
            </method>
            <javadoc line="155">
                Fire an &quot;object removed&quot; event to registered NamingListeners.                
            </javadoc>
            <method name="fireObjectRemoved" type="void" line="158">
                <params>
                    <param name="oldBd" type="Binding"/>
                    <param name="changeID" type="long"/>
                </params>
                <declaration name="e" type="NamingEvent" line="160"/>
            </method>
            <javadoc line="163">
                Fires an &quot;object changed&quot; event to registered NamingListeners.                
            </javadoc>
            <method name="fireObjectChanged" type="void" line="166">
                <params>
                    <param name="newBd" type="Binding"/>
                    <param name="changeID" type="long"/>
                </params>
                <declaration name="oldBd" type="Binding" line="168"/>
                <declaration name="e" type="NamingEvent" line="169"/>
            </method>
            <javadoc line="172">
                Fires an &quot;object renamed&quot; to registered NamingListeners.                
            </javadoc>
            <method name="fireObjectRenamed" type="void" line="175">
                <params>
                    <param name="newBd" type="Binding"/>
                    <param name="oldDN" type="String"/>
                    <param name="changeID" type="long"/>
                </params>
                <declaration name="oldBd" type="Binding" line="177"/>
                <scope line="178">
                    <declaration name="dn" type="LdapName" line="179"/>
                    <scope line="180">
                        <declaration name="relDN" type="String" line="181"/>
                    </scope>
                </scope>
                <scope line="185"/>
                <scope line="187"/>
                <declaration name="e" type="NamingEvent" line="190"/>
            </method>
            <method name="fireNamingException" type="void" line="193">
                <params>
                    <param name="e" type="NamingException"/>
                </params>
                <declaration name="evt" type="NamingExceptionEvent" line="195"/>
            </method>
        </class>
    </source>