<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.jndi.ldap">
        <import package="javax.naming"/>
        <import package="javax.naming.directory"/>
        <import package="javax.naming.spi"/>
        <import package="javax.naming.ldap"/>
        <import package="java.util.Hashtable"/>
        <import package="java.util.StringTokenizer"/>
        <import package="com.sun.jndi.toolkit.dir.SearchFilter"/>
        <class name="LdapReferralContext" line="37">
            <comment line="46">
                override the supplied name                
            </comment>
            <comment line="47">
                override attributes                
            </comment>
            <comment line="48">
                override scope                
            </comment>
            <comment line="49">
                override filter                
            </comment>
            <comment line="770">
                ---------------------- LdapContext ---------------------                
            </comment>
            <comment line="874">
                ---------------------- Private methods  ---------------------                
            </comment>
            <comment line="880">
                Use the DN component from the LDAP URL (if present) to override the
                 supplied DN.                
            </comment>
            <comment line="888">
                Use the attributes and scope components from the LDAP URL (if present)
                 to override the corrpesonding components supplied in SearchControls.                
            </comment>
            <comment line="930">
                Use the filter component from the LDAP URL (if present) to override the
                 supplied filter.                
            </comment>
            <implements interface="DirContext"/>
            <implements interface="LdapContext"/>
            <javadoc line="37">
                A context for handling referrals.                
                <author>
                    Vincent Ryan                    
                </author>
            </javadoc>
            <declaration name="refCtx" type="DirContext" line="44"/>
            <declaration name="urlName" type="Name" line="45"/>
            <declaration name="urlAttrs" type="String" line="46"/>
            <declaration name="urlScope" type="String" line="47"/>
            <declaration name="urlFilter" type="String" line="48"/>
            <declaration name="refEx" type="LdapReferralException" line="50"/>
            <declaration name="skipThisReferral" type="boolean" line="51"/>
            <declaration name="hopCount" type="int" line="52"/>
            <declaration name="previousEx" type="NamingException" line="53"/>
            <method name="LdapReferralContext" type="constructor" line="60">
                <params>
                    <param name="ex" type="LdapReferralException"/>
                    <param name="env" type="Hashtable"/>
                    <param name="connCtls" type="Control[]"/>
                    <param name="reqCtls" type="Control[]"/>
                    <param name="nextName" type="String"/>
                    <param name="skipThisReferral" type="boolean"/>
                    <param name="handleReferrals" type="int"/>
                </params>
                <comment line="66">
                    don&apos;t create a DirContext for this referral                    
                </comment>
                <comment line="71">
                    Make copies of environment and connect controls for our own use.                    
                </comment>
                <comment line="74">
                    Remove old connect controls from environment, unless we have new
                     ones that will override them anyway.                    
                </comment>
                <comment line="85">
                    Add copied controls to environment, replacing any old ones.                    
                </comment>
                <comment line="106">
                    Create a Reference containing the referral URL.                    
                </comment>
                <comment line="120">
                    mask the exception and save it for later                    
                </comment>
                <comment line="123">
                    follow another referral                    
                </comment>
                <scope line="64"/>
                <declaration name="referral" type="String" line="68"/>
                <scope line="71">
                    <scope line="75"/>
                </scope>
                <scope line="78"/>
                <scope line="81">
                    <declaration name="copiedCtls" type="Control[]" line="82"/>
                </scope>
                <scope line="88">
                    <scope line="89">
                        <scope line="91"/>
                    </scope>
                    <scope line="95">
                        <scope line="97"/>
                        <scope line="99"/>
                    </scope>
                    <declaration name="ref" type="Reference" line="106"/>
                    <declaration name="obj" type="Object" line="109"/>
                    <scope line="110"/>
                    <scope line="113">
                        <scope line="115"/>
                    </scope>
                    <scope line="125">
                        <declaration name="e2" type="NamingException" line="126"/>
                    </scope>
                    <scope line="132">
                        <scope line="134"/>
                    </scope>
                    <scope line="140">
                        <declaration name="ne" type="NamingException" line="141"/>
                    </scope>
                </scope>
            </method>
            <method name="initDefaults" type="void" line="150">
                <params>
                    <param name="referral" type="String"/>
                    <param name="nextName" type="String"/>
                </params>
                <comment line="154">
                    parse URL                    
                </comment>
                <comment line="162">
                    Not an LDAP URL; use original URL                    
                </comment>
                <comment line="167">
                    reuse original name if URL DN is absent                    
                </comment>
                <comment line="171">
                    concatenate with remaining name if URL DN is present                    
                </comment>
                <declaration name="urlString" type="String" line="151"/>
                <scope line="152">
                    <declaration name="url" type="LdapURL" line="154"/>
                </scope>
                <scope line="160"/>
                <scope line="167"/>
                <scope line="169"/>
                <scope line="174"/>
                <scope line="176"/>
            </method>
            <method name="close" type="void" line="183">
                <scope line="184"/>
            </method>
            <method name="setHopCount" type="void" line="191">
                <params>
                    <param name="hopCount" type="int"/>
                </params>
                <scope line="193"/>
            </method>
            <method name="lookup" type="Object" line="198">
                <params>
                    <param name="name" type="String"/>
                </params>
            </method>
            <method name="lookup" type="Object" line="202">
                <params>
                    <param name="name" type="Name"/>
                </params>
                <scope line="203"/>
            </method>
            <method name="bind" type="void" line="211">
                <params>
                    <param name="name" type="String"/>
                    <param name="obj" type="Object"/>
                </params>
            </method>
            <method name="bind" type="void" line="215">
                <params>
                    <param name="name" type="Name"/>
                    <param name="obj" type="Object"/>
                </params>
                <scope line="216"/>
            </method>
            <method name="rebind" type="void" line="224">
                <params>
                    <param name="name" type="String"/>
                    <param name="obj" type="Object"/>
                </params>
            </method>
            <method name="rebind" type="void" line="228">
                <params>
                    <param name="name" type="Name"/>
                    <param name="obj" type="Object"/>
                </params>
                <scope line="229"/>
            </method>
            <method name="unbind" type="void" line="237">
                <params>
                    <param name="name" type="String"/>
                </params>
            </method>
            <method name="unbind" type="void" line="241">
                <params>
                    <param name="name" type="Name"/>
                </params>
                <scope line="242"/>
            </method>
            <method name="rename" type="void" line="250">
                <params>
                    <param name="oldName" type="String"/>
                    <param name="newName" type="String"/>
                </params>
            </method>
            <method name="rename" type="void" line="254">
                <params>
                    <param name="oldName" type="Name"/>
                    <param name="newName" type="Name"/>
                </params>
                <scope line="255"/>
            </method>
            <method name="list" type="NamingEnumeration" line="263">
                <params>
                    <param name="name" type="String"/>
                </params>
            </method>
            <method name="list" type="NamingEnumeration" line="267">
                <params>
                    <param name="name" type="Name"/>
                </params>
                <comment line="289">
                    append (referrals from) the exception that generated this
                     context to the new search results, so that referral processing
                     can continue                    
                </comment>
                <comment line="298">
                    append (referrals from) the exception that generated this
                     context to the new exception, so that referral processing
                     can continue                    
                </comment>
                <comment line="307">
                    record the exception if there are no remaining referrals                    
                </comment>
                <scope line="268"/>
                <scope line="272">
                    <declaration name="ne" type="NamingEnumeration" line="273"/>
                    <scope line="275">
                        <declaration name="cons" type="SearchControls" line="276"/>
                    </scope>
                    <scope line="282"/>
                </scope>
                <scope line="295"/>
                <scope line="304">
                    <scope line="307"/>
                    <scope line="312"/>
                    <scope line="315"/>
                </scope>
            </method>
            <method name="listBindings" type="NamingEnumeration" line="321">
                <params>
                    <param name="name" type="String"/>
                </params>
            </method>
            <method name="listBindings" type="NamingEnumeration" line="325">
                <params>
                    <param name="name" type="Name"/>
                </params>
                <comment line="348">
                    append (referrals from) the exception that generated this
                     context to the new search results, so that referral processing
                     can continue                    
                </comment>
                <comment line="357">
                    append (referrals from) the exception that generated this
                     context to the new exception, so that referral processing
                     can continue                    
                </comment>
                <comment line="366">
                    record the exception if there are no remaining referrals                    
                </comment>
                <scope line="326"/>
                <scope line="331">
                    <declaration name="be" type="NamingEnumeration" line="332"/>
                    <scope line="334">
                        <declaration name="cons" type="SearchControls" line="335"/>
                    </scope>
                    <scope line="341"/>
                </scope>
                <scope line="354"/>
                <scope line="363">
                    <scope line="366"/>
                    <scope line="371"/>
                    <scope line="374"/>
                </scope>
            </method>
            <method name="destroySubcontext" type="void" line="380">
                <params>
                    <param name="name" type="String"/>
                </params>
            </method>
            <method name="destroySubcontext" type="void" line="384">
                <params>
                    <param name="name" type="Name"/>
                </params>
                <scope line="385"/>
            </method>
            <method name="createSubcontext" type="Context" line="393">
                <params>
                    <param name="name" type="String"/>
                </params>
            </method>
            <method name="createSubcontext" type="Context" line="397">
                <params>
                    <param name="name" type="Name"/>
                </params>
                <scope line="398"/>
            </method>
            <method name="lookupLink" type="Object" line="406">
                <params>
                    <param name="name" type="String"/>
                </params>
            </method>
            <method name="lookupLink" type="Object" line="410">
                <params>
                    <param name="name" type="Name"/>
                </params>
                <scope line="411"/>
            </method>
            <method name="getNameParser" type="NameParser" line="419">
                <params>
                    <param name="name" type="String"/>
                </params>
            </method>
            <method name="getNameParser" type="NameParser" line="423">
                <params>
                    <param name="name" type="Name"/>
                </params>
                <scope line="424"/>
            </method>
            <method name="composeName" type="String" line="433">
                <params>
                    <param name="name" type="String"/>
                    <param name="prefix" type="String"/>
                </params>
            </method>
            <method name="composeName" type="Name" line="437">
                <params>
                    <param name="name" type="Name"/>
                    <param name="prefix" type="Name"/>
                </params>
                <scope line="438"/>
            </method>
            <method name="addToEnvironment" type="Object" line="446">
                <params>
                    <param name="propName" type="String"/>
                    <param name="propVal" type="Object"/>
                </params>
                <scope line="447"/>
            </method>
            <method name="removeFromEnvironment" type="Object" line="456">
                <params>
                    <param name="propName" type="String"/>
                </params>
                <scope line="457"/>
            </method>
            <method name="getEnvironment" type="Hashtable" line="465">
                <scope line="466"/>
            </method>
            <method name="getAttributes" type="Attributes" line="474">
                <params>
                    <param name="name" type="String"/>
                </params>
            </method>
            <method name="getAttributes" type="Attributes" line="478">
                <params>
                    <param name="name" type="Name"/>
                </params>
                <scope line="479"/>
            </method>
            <method name="getAttributes" type="Attributes" line="488">
                <params>
                    <param name="name" type="String"/>
                    <param name="attrIds" type="String[]"/>
                </params>
            </method>
            <method name="getAttributes" type="Attributes" line="493">
                <params>
                    <param name="name" type="Name"/>
                    <param name="attrIds" type="String[]"/>
                </params>
                <scope line="494"/>
            </method>
            <method name="modifyAttributes" type="void" line="503">
                <params>
                    <param name="name" type="String"/>
                    <param name="mod_op" type="int"/>
                    <param name="attrs" type="Attributes"/>
                </params>
            </method>
            <method name="modifyAttributes" type="void" line="508">
                <params>
                    <param name="name" type="Name"/>
                    <param name="mod_op" type="int"/>
                    <param name="attrs" type="Attributes"/>
                </params>
                <scope line="509"/>
            </method>
            <method name="modifyAttributes" type="void" line="518">
                <params>
                    <param name="name" type="String"/>
                    <param name="mods" type="ModificationItem[]"/>
                </params>
            </method>
            <method name="modifyAttributes" type="void" line="523">
                <params>
                    <param name="name" type="Name"/>
                    <param name="mods" type="ModificationItem[]"/>
                </params>
                <scope line="524"/>
            </method>
            <method name="bind" type="void" line="533">
                <params>
                    <param name="name" type="String"/>
                    <param name="obj" type="Object"/>
                    <param name="attrs" type="Attributes"/>
                </params>
            </method>
            <method name="bind" type="void" line="538">
                <params>
                    <param name="name" type="Name"/>
                    <param name="obj" type="Object"/>
                    <param name="attrs" type="Attributes"/>
                </params>
                <scope line="539"/>
            </method>
            <method name="rebind" type="void" line="548">
                <params>
                    <param name="name" type="String"/>
                    <param name="obj" type="Object"/>
                    <param name="attrs" type="Attributes"/>
                </params>
            </method>
            <method name="rebind" type="void" line="553">
                <params>
                    <param name="name" type="Name"/>
                    <param name="obj" type="Object"/>
                    <param name="attrs" type="Attributes"/>
                </params>
                <scope line="554"/>
            </method>
            <method name="createSubcontext" type="DirContext" line="563">
                <params>
                    <param name="name" type="String"/>
                    <param name="attrs" type="Attributes"/>
                </params>
            </method>
            <method name="createSubcontext" type="DirContext" line="568">
                <params>
                    <param name="name" type="Name"/>
                    <param name="attrs" type="Attributes"/>
                </params>
                <scope line="569"/>
            </method>
            <method name="getSchema" type="DirContext" line="577">
                <params>
                    <param name="name" type="String"/>
                </params>
            </method>
            <method name="getSchema" type="DirContext" line="581">
                <params>
                    <param name="name" type="Name"/>
                </params>
                <scope line="582"/>
            </method>
            <method name="getSchemaClassDefinition" type="DirContext" line="591">
                <params>
                    <param name="name" type="String"/>
                </params>
            </method>
            <method name="getSchemaClassDefinition" type="DirContext" line="596">
                <params>
                    <param name="name" type="Name"/>
                </params>
                <scope line="597"/>
            </method>
            <method name="search" type="NamingEnumeration" line="607">
                <params>
                    <param name="name" type="String"/>
                    <param name="matchingAttributes" type="Attributes"/>
                </params>
            </method>
            <method name="search" type="NamingEnumeration" line="614">
                <params>
                    <param name="name" type="Name"/>
                    <param name="matchingAttributes" type="Attributes"/>
                </params>
            </method>
            <method name="search" type="NamingEnumeration" line="622">
                <params>
                    <param name="name" type="String"/>
                    <param name="matchingAttributes" type="Attributes"/>
                    <param name="attributesToReturn" type="String[]"/>
                </params>
                <declaration name="cons" type="SearchControls" line="623"/>
            </method>
            <method name="search" type="NamingEnumeration" line="633">
                <params>
                    <param name="name" type="Name"/>
                    <param name="matchingAttributes" type="Attributes"/>
                    <param name="attributesToReturn" type="String[]"/>
                </params>
                <declaration name="cons" type="SearchControls" line="634"/>
            </method>
            <method name="search" type="NamingEnumeration" line="643">
                <params>
                    <param name="name" type="String"/>
                    <param name="filter" type="String"/>
                    <param name="cons" type="SearchControls"/>
                </params>
            </method>
            <method name="search" type="NamingEnumeration" line="649">
                <params>
                    <param name="name" type="Name"/>
                    <param name="filter" type="String"/>
                    <param name="cons" type="SearchControls"/>
                </params>
                <comment line="663">
                    append (referrals from) the exception that generated this
                     context to the new search results, so that referral processing
                     can continue                    
                </comment>
                <comment line="672">
                    %%% VR - setNameResolved(true);                    
                </comment>
                <comment line="674">
                    append (referrals from) the exception that generated this
                     context to the new exception, so that referral processing
                     can continue                    
                </comment>
                <comment line="683">
                    record the exception if there are no remaining referrals                    
                </comment>
                <scope line="651"/>
                <scope line="656">
                    <declaration name="se" type="NamingEnumeration" line="657"/>
                </scope>
                <scope line="669"/>
                <scope line="680">
                    <scope line="683"/>
                    <scope line="688"/>
                    <scope line="691"/>
                </scope>
            </method>
            <method name="search" type="NamingEnumeration" line="701">
                <params>
                    <param name="name" type="String"/>
                    <param name="filterExpr" type="String"/>
                    <param name="filterArgs" type="Object[]"/>
                    <param name="cons" type="SearchControls"/>
                </params>
            </method>
            <method name="search" type="NamingEnumeration" line="708">
                <params>
                    <param name="name" type="Name"/>
                    <param name="filterExpr" type="String"/>
                    <param name="filterArgs" type="Object[]"/>
                    <param name="cons" type="SearchControls"/>
                </params>
                <comment line="729">
                    append (referrals from) the exception that generated this
                     context to the new search results, so that referral processing
                     can continue                    
                </comment>
                <comment line="738">
                    append (referrals from) the exception that generated this
                     context to the new exception, so that referral processing
                     can continue                    
                </comment>
                <comment line="747">
                    record the exception if there are no remaining referrals                    
                </comment>
                <scope line="710"/>
                <scope line="715">
                    <declaration name="se" type="NamingEnumeration" line="716"/>
                    <scope line="718"/>
                    <scope line="721"/>
                </scope>
                <scope line="735"/>
                <scope line="744">
                    <scope line="747"/>
                    <scope line="752"/>
                    <scope line="755"/>
                </scope>
            </method>
            <method name="getNameInNamespace" type="String" line="761">
                <scope line="762"/>
            </method>
            <method name="extendedOperation" type="ExtendedResponse" line="772">
                <params>
                    <param name="request" type="ExtendedRequest"/>
                </params>
                <scope line="774"/>
                <scope line="779"/>
            </method>
            <method name="newInstance" type="LdapContext" line="788">
                <params>
                    <param name="requestControls" type="Control[]"/>
                </params>
                <scope line="790"/>
                <scope line="795"/>
            </method>
            <method name="reconnect" type="void" line="803">
                <params>
                    <param name="connCtls" type="Control[]"/>
                </params>
                <scope line="804"/>
                <scope line="809"/>
            </method>
            <method name="getConnectControls" type="Control[]" line="817">
                <scope line="818"/>
                <scope line="823"/>
            </method>
            <method name="setRequestControls" type="void" line="832">
                <params>
                    <param name="requestControls" type="Control[]"/>
                </params>
                <scope line="834"/>
                <scope line="839"/>
            </method>
            <method name="getRequestControls" type="Control[]" line="847">
                <scope line="848"/>
                <scope line="853"/>
            </method>
            <method name="getResponseControls" type="Control[]" line="860">
                <scope line="861"/>
                <scope line="866"/>
            </method>
            <method name="toName" type="Name" line="874">
                <params>
                    <param name="name" type="String"/>
                </params>
            </method>
            <method name="overrideName" type="Name" line="883">
                <params>
                    <param name="name" type="Name"/>
                </params>
            </method>
            <method name="overrideAttributesAndScope" type="SearchControls" line="891">
                <params>
                    <param name="cons" type="SearchControls"/>
                </params>
                <declaration name="urlCons" type="SearchControls" line="892"/>
                <scope line="894">
                    <scope line="902">
                        <scope line="903"/>
                        <scope line="905"/>
                        <scope line="907"/>
                    </scope>
                    <scope line="912">
                        <declaration name="tokens" type="StringTokenizer" line="913"/>
                        <declaration name="count" type="int" line="914"/>
                        <declaration name="attrs" type="String[]" line="915"/>
                        <scope line="916"/>
                    </scope>
                </scope>
                <scope line="924"/>
            </method>
            <method name="overrideFilter" type="String" line="933">
                <params>
                    <param name="filter" type="String"/>
                </params>
            </method>
        </class>
    </source>