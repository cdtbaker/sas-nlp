<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.jndi.cosnaming">
        <import package="javax.naming.Name"/>
        <import package="javax.naming.NamingException"/>
        <import package="java.net.MalformedURLException"/>
        <import package="java.util.Vector"/>
        <import package="java.util.StringTokenizer"/>
        <import package="com.sun.jndi.toolkit.url.UrlUtil"/>
        <class name="IiopUrl" line="36">
            <comment line="206">
                for testing only                
            </comment>
            <comment line="207">
                public static void main(String[] args) {
                try {
                IiopUrl url = new IiopUrl(args[0]);
                Vector addrs = url.getAddresses();
                String name = url.getStringName();
                
                for (int i = 0; i &lt; addrs.size(); i++) {
                Address addr = (Address)addrs.elementAt(i);
                System.out.println(&quot;host: &quot; + addr.host);
                System.out.println(&quot;port: &quot; + addr.port);
                System.out.println(&quot;version: &quot; + addr.major + &quot; &quot; + addr.minor);
                }
                System.out.println(&quot;name: &quot; + name);
                } catch (MalformedURLException e) {
                e.printStackTrace();
                }                
            </comment>
            <javadoc line="36">
                Extract components of an &quot;iiop&quot; or &quot;iiopname&quot; URL.
                  The format of an iiopname URL is defined in INS 98-10-11 as follows:
                  iiopname url = &quot;iiopname://&quot; [addr_list][&quot;/&quot; string_name]
                  addr_list    = [address &quot;,&quot;] address
                  address      = [version host [&quot;:&quot; port]]
                  host         = DNS style host name | IP address
                  version      = major &quot;.&quot; minor &quot;@&quot; | empty_string
                  port         = number
                  major        = number
                  minor        = number
                  string_name = stringified name | empty_string
                  The default port is 9999. The default version is &quot;1.0&quot;
                  US-ASCII alphanumeric characters are not escaped. Any characters outside
                  of this range are escaped except for the following:
                  ; / : ? : @ &amp; = + $ , - _ . ! ~   &apos; ( )
                  Escaped characters is escaped by using a % followed by its 2 hexadecimal
                  numbers representing the octet.
                  For backward compatibility,  the &quot;iiop&quot; URL as defined in INS 97-6-6
                  is also supported:
                  iiop url     = &quot;iiop://&quot; [host [&quot;:&quot; port]] [&quot;/&quot; string_name]
                  The default port is 900.                
                <author>
                    Rosanna Lee                    
                </author>
            </javadoc>
            <declaration name="DEFAULT_IIOPNAME_PORT" type="int" line="68"/>
            <declaration name="DEFAULT_IIOP_PORT" type="int" line="69"/>
            <declaration name="DEFAULT_HOST" type="String" line="70"/>
            <declaration name="addresses" type="Vector" line="71"/>
            <declaration name="stringName" type="String" line="72"/>
            <class name="Address" line="74">
                <declaration name="port" type="int" line="75"/>
                <declaration name="major" type="int" line="76"/>
                <declaration name="host" type="String" line="77"/>
                <method name="Address" type="constructor" line="80">
                    <params>
                        <param name="hostPortVers" type="String"/>
                        <param name="oldFormat" type="boolean"/>
                    </params>
                    <comment line="81">
                        [version host [&quot;:&quot; port]]                        
                    </comment>
                    <comment line="84">
                        Parse version                        
                    </comment>
                    <comment line="89">
                        start at the beginning                        
                    </comment>
                    <comment line="103">
                        skip &apos;@&apos; sign                        
                    </comment>
                    <comment line="106">
                        Parse host and port                        
                    </comment>
                    <comment line="111">
                        at IPv6 literal                        
                    </comment>
                    <comment line="118">
                        include brackets                        
                    </comment>
                    <comment line="121">
                        at hostname or IPv4                        
                    </comment>
                    <comment line="129">
                        skip past host                        
                    </comment>
                    <comment line="132">
                        parse port                        
                    </comment>
                    <comment line="133">
                        skip past &quot;:&quot;                        
                    </comment>
                    <declaration name="start" type="int" line="82"/>
                    <declaration name="at" type="int" line="85"/>
                    <scope line="86"/>
                    <scope line="90">
                        <declaration name="dot" type="int" line="91"/>
                        <scope line="92"/>
                        <scope line="96"/>
                        <scope line="99"/>
                    </scope>
                    <declaration name="slash" type="int" line="107"/>
                    <scope line="108"/>
                    <scope line="111">
                        <declaration name="brac" type="int" line="112"/>
                        <scope line="113"/>
                    </scope>
                    <scope line="121">
                        <declaration name="colon" type="int" line="122"/>
                        <declaration name="hostEnd" type="int" line="123"/>
                        <scope line="126"/>
                    </scope>
                    <scope line="131">
                        <scope line="132"/>
                        <scope line="136"/>
                    </scope>
                    <scope line="142"/>
                    <scope line="145"/>
                </method>
            </class>
            <method name="getAddresses" type="Vector" line="152"/>
            <javadoc line="156">
                Returns a possibly empty but non-null string that is the &quot;string_name&quot;
                  portion of the URL.                
            </javadoc>
            <method name="getStringName" type="String" line="160"/>
            <method name="getCosName" type="Name" line="164"/>
            <method name="IiopUrl" type="constructor" line="168">
                <params>
                    <param name="url" type="String"/>
                </params>
                <comment line="190">
                    Only one host:port part, not multiple                    
                </comment>
                <declaration name="addrStart" type="int" line="169"/>
                <declaration name="oldFormat" type="boolean" line="170"/>
                <scope line="172"/>
                <scope line="175"/>
                <scope line="178"/>
                <declaration name="addrEnd" type="int" line="181"/>
                <scope line="182"/>
                <scope line="185"/>
                <scope line="189"/>
                <scope line="193">
                    <declaration name="tokens" type="StringTokenizer" line="194"/>
                    <scope line="196"/>
                    <scope line="199"/>
                </scope>
            </method>
        </class>
    </source>