<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.jndi.ldap">
        <import package="java.util.Vector"/>
        <import package="javax.naming"/>
        <import package="javax.naming.directory"/>
        <import package="javax.naming.spi"/>
        <import package="javax.naming.ldap"/>
        <import package="javax.naming.ldap.LdapName"/>
        <import package="com.sun.jndi.toolkit.ctx.Continuation"/>
        <class name="LdapSearchEnumeration" line="37">
            <extends class="LdapNamingEnumeration"/>
            <comment line="40">
                prefix of names of search results                
            </comment>
            <declaration name="startName" type="Name" line="39"/>
            <declaration name="searchArgs" type="LdapCtx.SearchArgs" line="40"/>
            <method name="LdapSearchEnumeration" type="constructor" line="44">
                <params>
                    <param name="homeCtx" type="LdapCtx"/>
                    <param name="search_results" type="LdapResult"/>
                    <param name="starter" type="String"/>
                    <param name="args" type="LdapCtx.SearchArgs"/>
                    <param name="cont" type="Continuation"/>
                </params>
                <comment line="47">
                                        
                </comment>
                <comment line="50">
                    fully qualified name of starting context of search                    
                </comment>
            </method>
            <method name="createItem" type="NameClassPair" line="57">
                <params>
                    <param name="dn" type="String"/>
                    <param name="attrs" type="Attributes"/>
                    <param name="respCtls" type="Vector"/>
                </params>
                <comment line="61">
                    name relative to starting search context                    
                </comment>
                <comment line="62">
                    name relative to homeCtx.currentDN                    
                </comment>
                <comment line="63">
                    whether relative to currentDN                    
                </comment>
                <comment line="65">
                    need to strip off all but lowest component of dn                    
                </comment>
                <comment line="66">
                    so that is relative to current context (currentDN)                    
                </comment>
                <comment line="70">
                    System.err.println(&quot;dn string: &quot; + dn);                    
                </comment>
                <comment line="71">
                    System.err.println(&quot;dn name: &quot; + parsed);                    
                </comment>
                <comment line="83">
                    could not parse name                    
                </comment>
                <comment line="90">
                    Name relative to search context                    
                </comment>
                <comment line="96">
                    Name relative to homeCtx                    
                </comment>
                <comment line="101">
                    System.err.println(&quot;relStart: &quot; + cn);                    
                </comment>
                <comment line="102">
                    System.err.println(&quot;relHome: &quot; + rcn);                    
                </comment>
                <comment line="104">
                    Fix attributes to be able to get schema                    
                </comment>
                <comment line="107">
                    only generate object when requested                    
                </comment>
                <comment line="111">
                    Entry contains Java-object attributes (ser/ref object)                    
                </comment>
                <comment line="112">
                    serialized object or object reference                    
                </comment>
                <comment line="120">
                    Call getObjectInstance before removing unrequested attributes                    
                </comment>
                <comment line="122">
                    rcn is either relative to homeCtx or a fully qualified DN                    
                </comment>
                <comment line="136">
                    remove Java attributes from result, if necessary                    
                </comment>
                <comment line="137">
                    Even if CLASSNAME attr not there, there might be some                    
                </comment>
                <comment line="138">
                    residual attributes                    
                </comment>
                <comment line="142">
                    create an attribute set for those requested                    
                </comment>
                <comment line="143">
                    caseignore                    
                </comment>
                <comment line="148">
                    Remove Java-object attributes if not requested                    
                </comment>
                <comment line="157">
                    name in search result is either the stringified composite name
                     relative to the search context that can be passed directly to
                     methods of the search context, or the fully qualified DN
                     which can be used with the initial context.                    
                </comment>
                <declaration name="obj" type="Object" line="59"/>
                <declaration name="relStart" type="String" line="61"/>
                <declaration name="relHome" type="String" line="62"/>
                <declaration name="relative" type="boolean" line="63"/>
                <scope line="68">
                    <declaration name="parsed" type="Name" line="69"/>
                    <scope line="73"/>
                    <scope line="76"/>
                </scope>
                <scope line="82"/>
                <declaration name="cn" type="CompositeName" line="91"/>
                <scope line="92"/>
                <declaration name="rcn" type="CompositeName" line="97"/>
                <scope line="98"/>
                <scope line="108">
                    <scope line="110"/>
                    <scope line="116"/>
                    <scope line="121"/>
                    <scope line="126"/>
                    <scope line="128">
                        <declaration name="ne" type="NamingException" line="129"/>
                    </scope>
                    <declaration name="reqAttrs" type="String[]" line="140"/>
                    <scope line="141">
                        <declaration name="rattrs" type="Attributes" line="143"/>
                        <scope line="144"/>
                        <scope line="147">
                            <scope line="149"/>
                        </scope>
                    </scope>
                </scope>
                <declaration name="sr" type="SearchResult" line="163"/>
                <scope line="164"/>
                <scope line="168"/>
            </method>
            <method name="appendUnprocessedReferrals" type="void" line="177">
                <params>
                    <param name="ex" type="LdapReferralException"/>
                </params>
                <comment line="179">
                    a referral has been followed so do not create relative names                    
                </comment>
            </method>
            <method name="getReferredResults" type="LdapNamingEnumeration" line="185">
                <params>
                    <param name="refCtx" type="LdapReferralContext"/>
                </params>
                <comment line="186">
                    repeat the original operation at the new context                    
                </comment>
            </method>
            <method name="update" type="void" line="191">
                <params>
                    <param name="ne" type="LdapNamingEnumeration"/>
                </params>
                <comment line="194">
                    Update search-specific variables                    
                </comment>
                <comment line="197">
                    VR - keep original args, don&apos;t overwite with current args                    
                </comment>
                <comment line="198">
                    searchArgs = se.searchArgs;                    
                </comment>
                <declaration name="se" type="LdapSearchEnumeration" line="195"/>
            </method>
            <method name="setStartName" type="void" line="201">
                <params>
                    <param name="nm" type="Name"/>
                </params>
            </method>
        </class>
    </source>