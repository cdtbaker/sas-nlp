<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.naming.internal">
        <import package="java.util.List"/>
        <import package="javax.naming.NamingException"/>
        <class name="FactoryEnumeration" line="4">
            <javadoc line="4">
                The FactoryEnumeration is used for returning factory instances.                
                <author>
                    Rosanna Lee                    
                </author>
                <author>
                    Scott Seligman                    
                </author>
            </javadoc>
            <declaration name="factories" type="List" line="10"/>
            <declaration name="posn" type="int" line="11"/>
            <declaration name="loader" type="ClassLoader" line="12"/>
            <javadoc line="13">
                Records the input list and uses it directly to satisfy
                  hasMore()/next() requests. An alternative would have been to use
                  an enumeration/iterator from the list, but we want to update the
                  list so we keep the
                  original list. The list initially contains Class objects.
                  As each element is used, the Class object is replaced by an
                  instance of the Class itself; eventually, the list contains
                  only a list of factory instances and no more updates are required.
                  &lt;p&gt; Both Class objects and factories are wrapped in weak
                  references so as not to prevent GC of the class loader.  Each
                  weak reference is tagged with the factory&apos;s class name so the
                  class can be reloaded if the reference is cleared.                
                <param>
                    factories A non-null list                    
                </param>
                <param>
                    loader    The class loader of the list's contents                    
                </param>
            </javadoc>
            <method name="FactoryEnumeration" type="constructor" line="29">
                <params>
                    <param name="factories" type="List"/>
                    <param name="loader" type="ClassLoader"/>
                </params>
            </method>
            <method name="next" type="Object" line="33">
                <scope line="34">
                    <declaration name="ref" type="NamedWeakReference" line="35"/>
                    <declaration name="answer" type="Object" line="36"/>
                    <scope line="37"/>
                    <declaration name="className" type="String" line="40"/>
                    <scope line="41">
                        <scope line="42"/>
                    </scope>
                    <scope line="50">
                        <declaration name="ne" type="NamingException" line="51"/>
                    </scope>
                    <scope line="55">
                        <declaration name="ne" type="NamingException" line="56"/>
                    </scope>
                    <scope line="60">
                        <declaration name="ne" type="NamingException" line="61"/>
                    </scope>
                </scope>
            </method>
            <method name="hasMore" type="boolean" line="67">
                <scope line="68"/>
            </method>
        </class>
    </source>