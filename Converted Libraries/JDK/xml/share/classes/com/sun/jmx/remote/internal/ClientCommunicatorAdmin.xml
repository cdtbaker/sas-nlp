<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.jmx.remote.internal">
        <import package="java.io.IOException"/>
        <import package="java.io.InterruptedIOException"/>
        <import package="com.sun.jmx.remote.util.ClassLogger"/>
        <import package="com.sun.jmx.remote.util.EnvHelp"/>
        <class name="ClientCommunicatorAdmin" line="34">
            <comment line="166">
                --------------------------------------------------------------                
            </comment>
            <comment line="167">
                private varaibles                
            </comment>
            <comment line="168">
                --------------------------------------------------------------                
            </comment>
            <comment line="234">
                --------------------------------------------------------------                
            </comment>
            <comment line="235">
                private variables                
            </comment>
            <comment line="236">
                --------------------------------------------------------------                
            </comment>
            <comment line="240">
                state                
            </comment>
            <declaration name="threadNo" type="long" line="35"/>
            <method name="ClientCommunicatorAdmin" type="constructor" line="37">
                <params>
                    <param name="period" type="long"/>
                </params>
                <scope line="40">
                    <declaration name="t" type="Thread" line="43"/>
                </scope>
            </method>
            <javadoc line="50">
                Called by a client to inform of getting an IOException.                
            </javadoc>
            <method name="gotIOException" type="void" line="53">
                <params>
                    <param name="ioe" type="IOException"/>
                </params>
            </method>
            <method name="checkConnection" type="void" line="57"/>
            <javadoc line="57">
                Called by this class to check a client connection.                
            </javadoc>
            <method name="doStart" type="void" line="62"/>
            <javadoc line="62">
                Tells a client to re-start again.                
            </javadoc>
            <method name="doStop" type="void" line="67"/>
            <javadoc line="67">
                Tells a client to stop because failing to call checkConnection.                
            </javadoc>
            <javadoc line="72">
                Terminates this object.                
            </javadoc>
            <method name="terminate" type="void" line="75">
                <scope line="76">
                    <scope line="77"/>
                </scope>
            </method>
            <method name="restart" type="void" line="90">
                <params>
                    <param name="ioe" type="IOException"/>
                </params>
                <comment line="91">
                    check state                    
                </comment>
                <comment line="95">
                    already failed to re-start by another thread                    
                </comment>
                <comment line="98">
                    restart process has been called by another thread                    
                </comment>
                <comment line="99">
                    we need to wait                    
                </comment>
                <comment line="104">
                    be asked to give up                    
                </comment>
                <comment line="115">
                    restarted is failed by another thread                    
                </comment>
                <comment line="124">
                    re-starting                    
                </comment>
                <comment line="155">
                    OK.                    
                </comment>
                <comment line="156">
                    We know there is a problem.                    
                </comment>
                <scope line="92">
                    <scope line="93"/>
                    <scope line="95"/>
                    <scope line="97">
                        <scope line="100">
                            <scope line="101"/>
                            <scope line="103">
                                <declaration name="iioe" type="InterruptedIOException" line="105"/>
                            </scope>
                        </scope>
                        <scope line="112"/>
                        <scope line="114"/>
                    </scope>
                    <scope line="118"/>
                </scope>
                <scope line="125">
                    <scope line="127">
                        <scope line="128"/>
                    </scope>
                </scope>
                <scope line="138">
                    <scope line="142">
                        <scope line="143"/>
                    </scope>
                    <scope line="152"/>
                    <scope line="154"/>
                </scope>
            </method>
            <class name="Checker" line="168">
                <implements interface="Runnable"/>
                <method name="run" type="void" line="169">
                    <comment line="176">
                        OK.                        
                    </comment>
                    <comment line="177">
                        We will check the state at the following steps                        
                    </comment>
                    <comment line="212">
                        XXX stop checking?                        
                    </comment>
                    <scope line="172">
                        <scope line="173"/>
                        <scope line="175"/>
                        <scope line="180"/>
                        <scope line="184"/>
                        <scope line="186">
                            <scope line="187">
                                <scope line="188"/>
                            </scope>
                            <scope line="196">
                                <scope line="197"/>
                                <scope line="199"/>
                            </scope>
                            <scope line="207"/>
                        </scope>
                    </scope>
                    <scope line="219"/>
                </method>
                <method name="stop" type="void" line="224">
                    <scope line="225"/>
                </method>
                <declaration name="myThread" type="Thread" line="230"/>
            </class>
            <declaration name="checker" type="Checker" line="236"/>
            <declaration name="period" type="long" line="237"/>
            <declaration name="CONNECTED" type="int" line="240"/>
            <declaration name="RE_CONNECTING" type="int" line="241"/>
            <declaration name="FAILED" type="int" line="242"/>
            <declaration name="TERMINATED" type="int" line="243"/>
            <declaration name="state" type="int" line="245"/>
            <declaration name="lock" type="int[]" line="247"/>
            <declaration name="logger" type="ClassLogger" line="249"/>
        </class>
    </source>