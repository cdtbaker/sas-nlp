<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.jmx.snmp.agent">
        <import package="java.util.Vector"/>
        <import package="java.util.ArrayList"/>
        <import package="java.util.Hashtable"/>
        <import package="java.util.Enumeration"/>
        <import package="java.util.Iterator"/>
        <import package="java.util.List"/>
        <import package="java.util.NoSuchElementException"/>
        <import package="java.util.Arrays"/>
        <import package="java.util.logging.Level"/>
        <import package="com.sun.jmx.defaults.JmxProperties.SNMP_ADAPTOR_LOGGER"/>
        <import package="com.sun.jmx.snmp.SnmpVarBind"/>
        <import package="com.sun.jmx.snmp.SnmpStatusException"/>
        <import package="com.sun.jmx.snmp.SnmpDefinitions"/>
        <import package="com.sun.jmx.snmp.SnmpOid"/>
        <import package="com.sun.jmx.snmp.SnmpPdu"/>
        <import package="com.sun.jmx.snmp.SnmpEngine"/>
        <class name="SnmpRequestTree" line="50">
            <comment line="64">
                Constructor:
                 @param  req The SnmpMibRequest that will be segmented in this
                         tree. It holds the original varbind vector passed
                         by the SnmpSubRequestHandler to this MIB. This
                         varbind vector is used to retrieve the &quot;real&quot;
                         position of a varbind in the vector. There is no other easy
                         way to do this - since as a result of the segmentation the
                         original positions will be lost.
                 @param  creationflag indicates whether the operation involved
                         allows for entry creation (ie: it is a SET request).
                 @param  pdutype indicates the type of the request PDU as defined
                         in SnmpDefinitions                
            </comment>
            <comment line="190">
                -------------------------------------------------------------------
                 This class is a package implementation of the enumeration of
                 SnmSubRequest associated with an Handler node.
                -------------------------------------------------------------------                
            </comment>
            <comment line="226">
                -------------------------------------------------------------------
                 This class is a package implementation of the SnmpMibSubRequest
                 interface. It can only be instantiated by SnmpRequestTree.
                -------------------------------------------------------------------                
            </comment>
            <comment line="455">
                -------------------------------------------------------------------
                 This class implements a node in the SnmpRequestTree.
                 It stores:
                    o The SnmpMibNode involved (key)
                    o The sublist of varbind directly handled by this node
                    o A vector of sublists concerning the entries (existing or not)
                      of the SnmpMIbNode (when it is a table).
                -------------------------------------------------------------------                
            </comment>
            <comment line="708">
                -------------------------------------------------------------------
                -------------------------------------------------------------------
                 Public interface
                -------------------------------------------------------------------
                -------------------------------------------------------------------                
            </comment>
            <comment line="714">
                -------------------------------------------------------------------
                 Returns the contextual object containing user-data allocated
                 through the SnmpUserDataFactory for this request.
                -------------------------------------------------------------------                
            </comment>
            <comment line="721">
                -------------------------------------------------------------------
                 Tells whether creation of new entries is allowed with respect
                 to the operation involved (GET=&gt;false/SET=&gt;true)
                -------------------------------------------------------------------                
            </comment>
            <comment line="730">
                -------------------------------------------------------------------
                 Tells whether we are currently processing a SET request (check/set)
                -------------------------------------------------------------------                
            </comment>
            <comment line="738">
                -------------------------------------------------------------------
                 Returns the protocol version in which the original request is
                 evaluated.
                -------------------------------------------------------------------                
            </comment>
            <comment line="747">
                -------------------------------------------------------------------
                 Returns the actual protocol version of the request PDU.
                -------------------------------------------------------------------                
            </comment>
            <comment line="755">
                -------------------------------------------------------------------
                 Returns the SnmpMibNode associated with the given handler
                -------------------------------------------------------------------                
            </comment>
            <comment line="763">
                -------------------------------------------------------------------
                 Indicates the depth of the arc in the OID that identifies the
                 SnmpMibNode associated with the given handler
                -------------------------------------------------------------------                
            </comment>
            <comment line="772">
                -------------------------------------------------------------------
                 returns an enumeration of the SnmpMibSubRequest&apos;s to be invoked on
                 the SnmpMibNode associated with a given Handler node.
                 If this node is a group, there will be a single subrequest.
                 If it is a table, there will be one subrequest per entry involved.
                -------------------------------------------------------------------                
            </comment>
            <comment line="783">
                -------------------------------------------------------------------
                 returns an enumeration of the Handlers stored in the Hashtable.
                -------------------------------------------------------------------                
            </comment>
            <comment line="791">
                -------------------------------------------------------------------
                 adds a varbind to a handler node sublist
                -------------------------------------------------------------------                
            </comment>
            <comment line="800">
                -------------------------------------------------------------------
                 adds an entry varbind to a handler node sublist
                -------------------------------------------------------------------                
            </comment>
            <comment line="810">
                -------------------------------------------------------------------
                 adds an entry varbind to a handler node sublist - specifying the
                 varbind which holds the row status
                -------------------------------------------------------------------                
            </comment>
            <comment line="823">
                -------------------------------------------------------------------
                -------------------------------------------------------------------
                 Protected interface
                -------------------------------------------------------------------
                -------------------------------------------------------------------                
            </comment>
            <comment line="829">
                -------------------------------------------------------------------
                 Type of the request (see SnmpDefinitions)
                -------------------------------------------------------------------                
            </comment>
            <comment line="839">
                -------------------------------------------------------------------
                 We deal with a GET-NEXT request
                -------------------------------------------------------------------                
            </comment>
            <comment line="847">
                -------------------------------------------------------------------
                 Tell whether creation is allowed.
                -------------------------------------------------------------------                
            </comment>
            <comment line="855">
                -------------------------------------------------------------------
                 Returns the subrequest handled by the SnmpMibNode itself
                 (in principle, only for Groups)
                -------------------------------------------------------------------                
            </comment>
            <comment line="866">
                -------------------------------------------------------------------
                 Returns the subrequest associated with the entry identified by
                 the given entry (only for tables)
                -------------------------------------------------------------------                
            </comment>
            <comment line="883">
                -------------------------------------------------------------------
                 Returns the subrequest associated with the entry identified by
                 the given entry (only for tables). The `entry&apos; parameter is an
                 index relative to the position of the entry in the handler sublist.
                -------------------------------------------------------------------                
            </comment>
            <comment line="898">
                -------------------------------------------------------------------
                -------------------------------------------------------------------
                 Private section
                -------------------------------------------------------------------
                -------------------------------------------------------------------                
            </comment>
            <comment line="905">
                -------------------------------------------------------------------
                 stores a handler node in the Hashtable
                -------------------------------------------------------------------                
            </comment>
            <comment line="916">
                -------------------------------------------------------------------
                 finds a handler node in the Hashtable
                -------------------------------------------------------------------                
            </comment>
            <comment line="926">
                -------------------------------------------------------------------
                 Search for the given oid in `oids&apos;. If none is found, returns -1
                 otherwise, returns the index at which the oid is located.
                -------------------------------------------------------------------                
            </comment>
            <comment line="961">
                -------------------------------------------------------------------
                 Return the index at which the given oid should be inserted in the
                 `oids&apos; array.
                -------------------------------------------------------------------                
            </comment>
            <comment line="1004">
                -------------------------------------------------------------------
                 adds a varbind in a handler node sublist
                -------------------------------------------------------------------                
            </comment>
            <comment line="1056">
                -------------------------------------------------------------------
                 private variables
                -------------------------------------------------------------------                
            </comment>
            <comment line="1061">
                Hashtable of Handler objects                
            </comment>
            <comment line="1062">
                The original list of varbinds                
            </comment>
            <comment line="1063">
                The protocol version                
            </comment>
            <comment line="1064">
                Does the operation allow
                 creation of entries                
            </comment>
            <comment line="1066">
                Does the operation allow
                 creation of entries                
            </comment>
            <comment line="1068">
                Request PDU type as defined
                 in SnmpDefinitions                
            </comment>
            <comment line="1070">
                True if we&apos;re processing a
                 SET request (check/set).                
            </comment>
            <javadoc line="50">
                This class is used to register varbinds from a SNMP varbind list with
                  the SnmpMibNode responsible for handling the requests concerning that
                  varbind.
                  This class holds a hashtable of Handler nodes, whith the involved
                  SnmpMibNode as a key.
                  When the involved SnmpMibNode is a group, the sublist of varbind is
                  directly stored in the Handler node.
                  When the involved SnmpMibNode is a table, the sublist is stored in a
                  sorted array indexed by the OID of the entry involved.                
            </javadoc>
            <method name="SnmpRequestTree" type="constructor" line="76">
                <params>
                    <param name="req" type="SnmpMibRequest"/>
                    <param name="creationflag" type="boolean"/>
                    <param name="pdutype" type="int"/>
                </params>
            </method>
            <method name="mapSetException" type="int" line="85">
                <params>
                    <param name="errorStatus" type="int"/>
                    <param name="version" type="int"/>
                </params>
                <comment line="95">
                    Now take care of V2 errorCodes that can be stored
                     in the varbind itself:                    
                </comment>
                <comment line="98">
                    noSuchObject =&gt; notWritable                    
                </comment>
                <comment line="102">
                    noSuchInstance =&gt; notWritable                    
                </comment>
                <declaration name="errorCode" type="int" line="87"/>
                <declaration name="mappedErrorCode" type="int" line="92"/>
            </method>
            <method name="mapGetException" type="int" line="108">
                <params>
                    <param name="errorStatus" type="int"/>
                    <param name="version" type="int"/>
                </params>
                <comment line="117">
                    Now take care of V2 errorCodes that can be stored
                     in the varbind itself:                    
                </comment>
                <comment line="121">
                    noSuchObject =&gt; noSuchObject                    
                </comment>
                <comment line="126">
                    noSuchInstance =&gt; noSuchInstance                    
                </comment>
                <comment line="129">
                    Now we&apos;re going to try to transform every other
                     global code in either noSuchInstance or noSuchObject,
                     so that the get can return a partial result.
                    
                     Only noSuchInstance or noSuchObject can be stored
                     in the varbind itself.                    
                </comment>
                <comment line="137">
                    According to RFC 1905: noAccess is emitted when the
                     the access is denied because it is not in the MIB view...                    
                </comment>
                <comment line="142">
                    noAccess =&gt; noSuchInstance                    
                </comment>
                <comment line="145">
                    According to RFC 1905: (my interpretation because it is not
                     really clear) The specified variable name exists - but the
                     variable does not exists and cannot be created under the
                     present circumstances (probably because the request specifies
                     another variable/value which is incompatible, or because the
                     value of some other variable in the MIB prevents the creation)
                    
                     Note that this error should never be raised in a GET context
                     but who knows?                    
                </comment>
                <comment line="156">
                    inconsistentName =&gt; noSuchInstance                    
                </comment>
                <comment line="159">
                    All the errors comprised between snmpRspWrongType and
                     snmpRspInconsistentValue concern values: so we&apos;re going
                     to assume the OID was correct, and reply with noSuchInstance.
                    
                     Note that this error should never be raised in a GET context
                     but who knows?                    
                </comment>
                <comment line="170">
                    We&apos;re going to assume the OID was correct, and reply
                     with noSuchInstance.                    
                </comment>
                <comment line="176">
                    For all other errors but genErr, we&apos;re going to reply with
                     noSuchObject                    
                </comment>
                <comment line="183">
                    Only genErr will abort the GET and be returned as global
                     error.                    
                </comment>
                <declaration name="errorCode" type="int" line="110"/>
                <declaration name="mappedErrorCode" type="int" line="114"/>
            </method>
            <class name="Enum" line="194">
                <comment line="252">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibRequest interface.
                     See SnmpMibRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="260">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibRequest interface.
                     See SnmpMibRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="268">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibRequest interface.
                     See SnmpMibRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="277">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibRequest interface.
                     See SnmpMibRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="289">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibSubRequest interface.
                     See SnmpMibSubRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="297">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibSubRequest interface.
                     See SnmpMibSubRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="305">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibRequest interface.
                     See SnmpMibRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="314">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibRequest interface.
                     See SnmpMibRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="321">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibSubRequest interface.
                     See SnmpMibSubRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="364">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibSubRequest interface.
                     See SnmpMibSubRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="387">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibSubRequest interface.
                     See SnmpMibSubRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="410">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibRequest interface.
                     See SnmpMibRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="465">
                    The meta  which handles the sublist.                    
                </comment>
                <comment line="466">
                    The depth of the meta node.                    
                </comment>
                <comment line="467">
                    The sublist of varbinds to be handled.                    
                </comment>
                <comment line="468">
                    List        entryoids;  // Sorted array of entry oids
                     List        entrylists;  Sorted array of entry lists
                     List        isentrynew;  Sorted array of booleans                    
                </comment>
                <comment line="471">
                    Sorted array of entry oids                    
                </comment>
                <comment line="472">
                    Sorted array of entry lists                    
                </comment>
                <comment line="473">
                    Sorted array of booleans                    
                </comment>
                <comment line="474">
                    RowStatus varbind, if any                    
                </comment>
                <comment line="478">
                    request PDU type as defined in SnmpDefinitions                    
                </comment>
                <implements interface="Enumeration"/>
                <method name="Enum" type="constructor" line="195">
                    <params>
                        <param name="hlist" type="SnmpRequestTree"/>
                        <param name="h" type="Handler"/>
                    </params>
                </method>
                <declaration name="handler" type="Handler" line="200"/>
                <declaration name="hlist" type="SnmpRequestTree" line="201"/>
                <declaration name="entry" type="int" line="202"/>
                <declaration name="iter" type="int" line="203"/>
                <declaration name="size" type="int" line="204"/>
                <method name="hasMoreElements" type="boolean" line="206"/>
                <method name="nextElement" type="Object" line="210">
                    <scope line="211">
                        <scope line="212"/>
                    </scope>
                    <declaration name="result" type="Object" line="219"/>
                </method>
            </class>
            <class name="SnmpMibSubRequestImpl" line="230">
                <comment line="252">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibRequest interface.
                     See SnmpMibRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="260">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibRequest interface.
                     See SnmpMibRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="268">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibRequest interface.
                     See SnmpMibRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="277">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibRequest interface.
                     See SnmpMibRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="289">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibSubRequest interface.
                     See SnmpMibSubRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="297">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibSubRequest interface.
                     See SnmpMibSubRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="305">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibRequest interface.
                     See SnmpMibRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="314">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibRequest interface.
                     See SnmpMibRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="321">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibSubRequest interface.
                     See SnmpMibSubRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="364">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibSubRequest interface.
                     See SnmpMibSubRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="387">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibSubRequest interface.
                     See SnmpMibSubRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="410">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibRequest interface.
                     See SnmpMibRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="465">
                    The meta  which handles the sublist.                    
                </comment>
                <comment line="466">
                    The depth of the meta node.                    
                </comment>
                <comment line="467">
                    The sublist of varbinds to be handled.                    
                </comment>
                <comment line="468">
                    List        entryoids;  // Sorted array of entry oids
                     List        entrylists;  Sorted array of entry lists
                     List        isentrynew;  Sorted array of booleans                    
                </comment>
                <comment line="471">
                    Sorted array of entry oids                    
                </comment>
                <comment line="472">
                    Sorted array of entry lists                    
                </comment>
                <comment line="473">
                    Sorted array of booleans                    
                </comment>
                <comment line="474">
                    RowStatus varbind, if any                    
                </comment>
                <comment line="478">
                    request PDU type as defined in SnmpDefinitions                    
                </comment>
                <implements interface="SnmpMibSubRequest"/>
                <method name="SnmpMibSubRequestImpl" type="constructor" line="233">
                    <params>
                        <param name="global" type="SnmpMibRequest"/>
                        <param name="sublist" type="Vector<SnmpVarBind>"/>
                        <param name="entryoid" type="SnmpOid"/>
                        <param name="isnew" type="boolean"/>
                        <param name="getnextflag" type="boolean"/>
                        <param name="rs" type="SnmpVarBind"/>
                    </params>
                </method>
                <declaration name="varbinds" type="Vector&lt;SnmpVarBind&gt;" line="243"/>
                <declaration name="global" type="SnmpMibRequest" line="244"/>
                <declaration name="version" type="int" line="245"/>
                <declaration name="isnew" type="boolean" line="246"/>
                <declaration name="entryoid" type="SnmpOid" line="247"/>
                <declaration name="getnextflag" type="boolean" line="248"/>
                <declaration name="statusvb" type="SnmpVarBind" line="249"/>
                <method name="getElements" type="Enumeration" line="255"/>
                <method name="getSubList" type="Vector<SnmpVarBind>" line="263"/>
                <method name="getSize" type="int" line="271"/>
                <method name="addVarBind" type="void" line="280">
                    <params>
                        <param name="varbind" type="SnmpVarBind"/>
                    </params>
                    <comment line="282">
                        XXX not sure we must also add the varbind in the global
                             request? or whether we should raise an exception:
                             in principle, this method should not be called!                        
                    </comment>
                </method>
                <method name="isNewEntry" type="boolean" line="292"/>
                <method name="getEntryOid" type="SnmpOid" line="300"/>
                <method name="getVarIndex" type="int" line="308">
                    <params>
                        <param name="varbind" type="SnmpVarBind"/>
                    </params>
                </method>
                <method name="getUserData" type="Object" line="317"/>
                <method name="registerGetException" type="void" line="327">
                    <params>
                        <param name="var" type="SnmpVarBind"/>
                        <param name="exception" type="SnmpStatusException"/>
                    </params>
                    <comment line="329">
                        The index in the exception must correspond to
                         the SNMP index ...                        
                    </comment>
                    <comment line="338">
                        If we&apos;re doing a getnext ==&gt; endOfMibView                        
                    </comment>
                    <comment line="347">
                        Now take care of V2 errorCodes that can be stored
                         in the varbind itself:                        
                    </comment>
                    <comment line="351">
                        noSuchObject =&gt; noSuchObject                        
                    </comment>
                    <comment line="356">
                        noSuchInstance =&gt; noSuchInstance                        
                    </comment>
                    <scope line="338"/>
                    <declaration name="errorCode" type="int" line="343"/>
                </method>
                <method name="registerSetException" type="void" line="369">
                    <params>
                        <param name="var" type="SnmpVarBind"/>
                        <param name="exception" type="SnmpStatusException"/>
                    </params>
                    <comment line="371">
                        The index in the exception must correspond to
                         the SNMP index ...                        
                    </comment>
                    <comment line="377">
                        Although the first pass of check() did not fail,
                         the set() phase could not be carried out correctly.
                         Since we don&apos;t know how to make an &quot;undo&quot;, and some
                         assignation may already have been performed, we&apos;re going
                         to throw an snmpRspUndoFailed.                        
                    </comment>
                </method>
                <method name="registerCheckException" type="void" line="392">
                    <params>
                        <param name="var" type="SnmpVarBind"/>
                        <param name="exception" type="SnmpStatusException"/>
                    </params>
                    <comment line="394">
                        The index in the exception must correspond to
                         the SNMP index ...
                        
                         We throw the exception in order to abort the SET operation
                         in an atomic way.                        
                    </comment>
                    <declaration name="errorCode" type="int" line="398"/>
                    <declaration name="mappedErrorCode" type="int" line="399"/>
                </method>
                <method name="getVersion" type="int" line="413"/>
                <method name="getRowStatusVarBind" type="SnmpVarBind" line="417"/>
                <method name="getPdu" type="SnmpPdu" line="421"/>
                <method name="getRequestPduVersion" type="int" line="425"/>
                <method name="getEngine" type="SnmpEngine" line="429"/>
                <method name="getPrincipal" type="String" line="433"/>
                <method name="getSecurityLevel" type="int" line="437"/>
                <method name="getSecurityModel" type="int" line="441"/>
                <method name="getContextName" type="byte[]" line="445"/>
                <method name="getAccessContextName" type="byte[]" line="449"/>
            </class>
            <class name="Handler" line="463">
                <comment line="252">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibRequest interface.
                     See SnmpMibRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="260">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibRequest interface.
                     See SnmpMibRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="268">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibRequest interface.
                     See SnmpMibRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="277">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibRequest interface.
                     See SnmpMibRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="289">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibSubRequest interface.
                     See SnmpMibSubRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="297">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibSubRequest interface.
                     See SnmpMibSubRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="305">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibRequest interface.
                     See SnmpMibRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="314">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibRequest interface.
                     See SnmpMibRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="321">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibSubRequest interface.
                     See SnmpMibSubRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="364">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibSubRequest interface.
                     See SnmpMibSubRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="387">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibSubRequest interface.
                     See SnmpMibSubRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="410">
                    -------------------------------------------------------------
                     Implements the method defined in SnmpMibRequest interface.
                     See SnmpMibRequest for the java doc.
                     -------------------------------------------------------------                    
                </comment>
                <comment line="465">
                    The meta  which handles the sublist.                    
                </comment>
                <comment line="466">
                    The depth of the meta node.                    
                </comment>
                <comment line="467">
                    The sublist of varbinds to be handled.                    
                </comment>
                <comment line="468">
                    List        entryoids;  // Sorted array of entry oids
                     List        entrylists;  Sorted array of entry lists
                     List        isentrynew;  Sorted array of booleans                    
                </comment>
                <comment line="471">
                    Sorted array of entry oids                    
                </comment>
                <comment line="472">
                    Sorted array of entry lists                    
                </comment>
                <comment line="473">
                    Sorted array of booleans                    
                </comment>
                <comment line="474">
                    RowStatus varbind, if any                    
                </comment>
                <comment line="478">
                    request PDU type as defined in SnmpDefinitions                    
                </comment>
                <declaration name="meta" type="SnmpMibNode" line="464"/>
                <declaration name="depth" type="int" line="465"/>
                <declaration name="sublist" type="Vector&lt;SnmpVarBind&gt;" line="466"/>
                <declaration name="entryoids" type="SnmpOid[]" line="470"/>
                <declaration name="entrylists" type="Vector&lt;SnmpVarBind&gt;[]" line="471"/>
                <declaration name="isentrynew" type="boolean[]" line="472"/>
                <declaration name="rowstatus" type="SnmpVarBind[]" line="473"/>
                <declaration name="entrycount" type="int" line="474"/>
                <declaration name="entrysize" type="int" line="475"/>
                <declaration name="type" type="int" line="477"/>
                <declaration name="Delta" type="int" line="478"/>
                <method name="Handler" type="constructor" line="480">
                    <params>
                        <param name="pduType" type="int"/>
                    </params>
                </method>
                <javadoc line="484">
                    Adds a varbind in this node sublist.                    
                </javadoc>
                <method name="addVarbind" type="void" line="487">
                    <params>
                        <param name="varbind" type="SnmpVarBind"/>
                    </params>
                </method>
                <javadoc line="492">
                    register an entry for the given oid at the given position with
                      the given sublist.                    
                </javadoc>
                <method name="add" type="void" line="500">
                    <params>
                        <param name="pos" type="int"/>
                        <param name="oid" type="SnmpOid"/>
                        <param name="v" type="Vector<SnmpVarBind>"/>
                        <param name="isnew" type="boolean"/>
                        <param name="statusvb" type="SnmpVarBind"/>
                    </params>
                    <comment line="498">
                        We need this because of new Vector[n] instead of
                         new Vector&lt;SnmpVarBind&gt;[n], which is illegal.                        
                    </comment>
                    <comment line="504">
                        Vectors are null: Allocate new vectors                        
                    </comment>
                    <comment line="514">
                        Vectors must be enlarged                        
                    </comment>
                    <comment line="516">
                        Save old vectors                        
                    </comment>
                    <comment line="522">
                        Allocate larger vectors                        
                    </comment>
                    <comment line="529">
                        Check pos validity                        
                    </comment>
                    <comment line="536">
                        Copy original vectors up to `pos&apos;                        
                    </comment>
                    <comment line="548">
                        Copy original vectors from `pos&apos; to end, leaving
                         an empty room at `pos&apos; in the new vectors.                        
                    </comment>
                    <comment line="564">
                        Vectors are large enough to accomodate one additional
                         entry.
                        
                         Shift vectors, making an empty room at `pos&apos;                        
                    </comment>
                    <comment line="581">
                        Fill the gap at `pos&apos;                        
                    </comment>
                    <scope line="502"/>
                    <scope line="512">
                        <declaration name="olde" type="SnmpOid[]" line="516"/>
                        <declaration name="oldl" type="Vector[]" line="517"/>
                        <declaration name="oldn" type="boolean[]" line="518"/>
                        <declaration name="oldr" type="SnmpVarBind[]" line="519"/>
                        <declaration name="l1" type="int" line="532"/>
                        <declaration name="l2" type="int" line="533"/>
                        <scope line="536"/>
                        <scope line="549">
                            <declaration name="l3" type="int" line="550"/>
                        </scope>
                    </scope>
                    <scope line="562">
                        <declaration name="l1" type="int" line="567"/>
                        <declaration name="l2" type="int" line="568"/>
                    </scope>
                </method>
                <method name="addVarbind" type="void" line="590">
                    <params>
                        <param name="varbind" type="SnmpVarBind"/>
                        <param name="entryoid" type="SnmpOid"/>
                        <param name="isnew" type="boolean"/>
                        <param name="statusvb" type="SnmpVarBind"/>
                    </params>
                    <comment line="596">
                        entryoids = new ArrayList();
                                      entrylists = new ArrayList();
                                      isentrynew = new ArrayList();                        
                    </comment>
                    <comment line="600">
                        entryoids.add(entryoid);
                                      entrylists.add(v);
                                      isentrynew.add(new Boolean(isnew));                        
                    </comment>
                    <comment line="605">
                        int pos = findOid(entryoids,entryoid);
                         int pos = findOid(entryoids,entrycount,entryoid);                        
                    </comment>
                    <comment line="614">
                        if (pos == -1 || pos &gt;= entryoids.size() ) {
                         if (pos == -1 || pos &gt;= entrycount ) {
                         pos = getInsertionPoint(entryoids,entryoid);
                         pos = getInsertionPoint(entryoids,entrycount,entryoid);                        
                    </comment>
                    <comment line="619">
                        entryoids.add(pos,entryoid);
                                          entrylists.add(pos,v);
                                          isentrynew.add(pos,new Boolean(isnew));                        
                    </comment>
                    <comment line="624">
                        } else v = (Vector) entrylists.get(pos);                        
                    </comment>
                    <comment line="625">
                        } else v = entrylists[pos];                        
                    </comment>
                    <comment line="637">
                        We do not include the status variable in the varbind,
                         because we&apos;re going to set it separately...                        
                    </comment>
                    <declaration name="v" type="Vector&lt;SnmpVarBind&gt;" line="591"/>
                    <declaration name="rs" type="SnmpVarBind" line="592"/>
                    <scope line="594"/>
                    <scope line="603">
                        <declaration name="pos" type="int" line="606"/>
                        <scope line="609"/>
                        <scope line="612"/>
                        <scope line="625">
                            <scope line="628"/>
                        </scope>
                    </scope>
                </method>
                <method name="getSubReqCount" type="int" line="643">
                    <comment line="647">
                        if (entryoids != null) count += entryoids.size();                        
                    </comment>
                    <declaration name="count" type="int" line="644"/>
                </method>
                <method name="getSubList" type="Vector<SnmpVarBind>" line="651"/>
                <method name="getEntryPos" type="int" line="655">
                    <params>
                        <param name="entryoid" type="SnmpOid"/>
                    </params>
                    <comment line="657">
                        return findOid(entryoids,entryoid);                        
                    </comment>
                </method>
                <method name="getEntryOid" type="SnmpOid" line="660">
                    <params>
                        <param name="pos" type="int"/>
                    </params>
                    <comment line="663">
                        if (pos == -1 || pos &gt;= entryoids.size() ) return null;                        
                    </comment>
                    <comment line="665">
                        return (SnmpOid) entryoids.get(pos);                        
                    </comment>
                </method>
                <method name="isNewEntry" type="boolean" line="668">
                    <params>
                        <param name="pos" type="int"/>
                    </params>
                    <comment line="671">
                        if (pos == -1 || pos &gt;= entryoids.size() ) return false;                        
                    </comment>
                    <comment line="673">
                        return ((Boolean)isentrynew.get(pos)).booleanValue();                        
                    </comment>
                </method>
                <method name="getRowStatusVarBind" type="SnmpVarBind" line="676">
                    <params>
                        <param name="pos" type="int"/>
                    </params>
                    <comment line="679">
                        if (pos == -1 || pos &gt;= entryoids.size() ) return false;                        
                    </comment>
                    <comment line="681">
                        return ((Boolean)isentrynew.get(pos)).booleanValue();                        
                    </comment>
                </method>
                <method name="getEntrySubList" type="Vector<SnmpVarBind>" line="684">
                    <params>
                        <param name="pos" type="int"/>
                    </params>
                    <comment line="687">
                        if (pos == -1 || pos &gt;= entrylists.size() ) return null;                        
                    </comment>
                    <comment line="689">
                        return (Vector) entrylists.get(pos);                        
                    </comment>
                </method>
                <method name="getEntryOids" type="Iterator<SnmpOid>" line="692">
                    <comment line="695">
                        return entryoids.iterator();                        
                    </comment>
                </method>
                <method name="getEntryCount" type="int" line="698">
                    <comment line="701">
                        return entryoids.size();                        
                    </comment>
                </method>
            </class>
            <method name="getUserData" type="Object" line="718"/>
            <method name="isCreationAllowed" type="boolean" line="725"/>
            <method name="isSetRequest" type="boolean" line="733"/>
            <method name="getVersion" type="int" line="742"/>
            <method name="getRequestPduVersion" type="int" line="750"/>
            <method name="getMetaNode" type="SnmpMibNode" line="758">
                <params>
                    <param name="handler" type="Handler"/>
                </params>
            </method>
            <method name="getOidDepth" type="int" line="767">
                <params>
                    <param name="handler" type="Handler"/>
                </params>
            </method>
            <method name="getSubRequests" type="Enumeration" line="778">
                <params>
                    <param name="handler" type="Handler"/>
                </params>
            </method>
            <method name="getHandlers" type="Enumeration" line="786"/>
            <method name="add" type="void" line="795">
                <params>
                    <param name="meta" type="SnmpMibNode"/>
                    <param name="depth" type="int"/>
                    <param name="varbind" type="SnmpVarBind"/>
                </params>
            </method>
            <method name="add" type="void" line="805">
                <params>
                    <param name="meta" type="SnmpMibNode"/>
                    <param name="depth" type="int"/>
                    <param name="entryoid" type="SnmpOid"/>
                    <param name="varbind" type="SnmpVarBind"/>
                    <param name="isnew" type="boolean"/>
                </params>
            </method>
            <method name="add" type="void" line="817">
                <params>
                    <param name="meta" type="SnmpMibNode"/>
                    <param name="depth" type="int"/>
                    <param name="entryoid" type="SnmpOid"/>
                    <param name="varbind" type="SnmpVarBind"/>
                    <param name="isnew" type="boolean"/>
                    <param name="statusvb" type="SnmpVarBind"/>
                </params>
            </method>
            <method name="setPduType" type="void" line="832">
                <params>
                    <param name="pduType" type="int"/>
                </params>
            </method>
            <method name="setGetNextFlag" type="void" line="842"/>
            <method name="switchCreationFlag" type="void" line="849">
                <params>
                    <param name="flag" type="boolean"/>
                </params>
            </method>
            <method name="getSubRequest" type="SnmpMibSubRequest" line="859">
                <params>
                    <param name="handler" type="Handler"/>
                </params>
            </method>
            <method name="getSubRequest" type="SnmpMibSubRequest" line="870">
                <params>
                    <param name="handler" type="Handler"/>
                    <param name="oid" type="SnmpOid"/>
                </params>
                <declaration name="pos" type="int" line="872"/>
            </method>
            <method name="getSubRequest" type="SnmpMibSubRequest" line="888">
                <params>
                    <param name="handler" type="Handler"/>
                    <param name="entry" type="int"/>
                </params>
            </method>
            <method name="put" type="void" line="908">
                <params>
                    <param name="key" type="Object"/>
                    <param name="handler" type="Handler"/>
                </params>
            </method>
            <method name="get" type="Handler" line="919">
                <params>
                    <param name="key" type="Object"/>
                </params>
            </method>
            <method name="findOid" type="int" line="930">
                <params>
                    <param name="oids" type="SnmpOid[]"/>
                    <param name="count" type="int"/>
                    <param name="oid" type="SnmpOid"/>
                </params>
                <comment line="936">
                    System.out.println(&quot;Try to retrieve: &quot; + oid.toString());                    
                </comment>
                <comment line="941">
                    System.out.println(&quot;Compare with&quot; + pos.toString());
                     never know ...we might find something ...                    
                </comment>
                <declaration name="size" type="int" line="931"/>
                <declaration name="low" type="int" line="932"/>
                <declaration name="max" type="int" line="933"/>
                <declaration name="curr" type="int" line="934"/>
                <scope line="936">
                    <declaration name="pos" type="SnmpOid" line="938"/>
                    <declaration name="comp" type="int" line="943"/>
                    <scope line="947"/>
                    <scope line="950"/>
                    <scope line="952"/>
                </scope>
            </method>
            <method name="getInsertionPoint" type="int" line="966">
                <params>
                    <param name="oids" type="SnmpOid[]"/>
                    <param name="count" type="int"/>
                    <param name="oid" type="SnmpOid"/>
                </params>
                <comment line="979">
                    never know ...we might find something ...                    
                </comment>
                <comment line="983">
                    In the calling method we will have to check for this case...
                        if (comp == 0)
                           return -1;
                     Returning curr instead of -1 avoids having to call
                     findOid() first and getInsertionPoint() afterwards.
                     We can simply call getInsertionPoint() and then checks whether
                     there&apos;s an OID at the returned position which equals the
                     given OID.                    
                </comment>
                <declaration name="localoids" type="SnmpOid[]" line="967"/>
                <declaration name="size" type="int" line="968"/>
                <declaration name="low" type="int" line="969"/>
                <declaration name="max" type="int" line="970"/>
                <declaration name="curr" type="int" line="971"/>
                <scope line="974">
                    <declaration name="pos" type="SnmpOid" line="976"/>
                    <declaration name="comp" type="int" line="980"/>
                    <scope line="993"/>
                    <scope line="995"/>
                </scope>
            </method>
            <method name="registerNode" type="void" line="1010">
                <params>
                    <param name="meta" type="SnmpMibNode"/>
                    <param name="depth" type="int"/>
                    <param name="entryoid" type="SnmpOid"/>
                    <param name="varbind" type="SnmpVarBind"/>
                    <param name="isnew" type="boolean"/>
                    <param name="statusvb" type="SnmpVarBind"/>
                </params>
                <comment line="1027">
                    retrieve the handler node associated with the given meta,
                     if any                    
                </comment>
                <comment line="1031">
                    If no handler node was found for that meta, create one.                    
                </comment>
                <comment line="1033">
                    if (isDebugOn())
                        debug(&quot;registerNode&quot;, &quot;adding node for &quot; +
                              varbind.oid.toString());                    
                </comment>
                <comment line="1041">
                    else {
                       if (isDebugOn())
                          debug(&quot;registerNode&quot;,&quot;found node for &quot; +
                                varbind.oid.toString());
                     }                    
                </comment>
                <comment line="1047">
                    Adds the varbind in the handler node&apos;s sublist.                    
                </comment>
                <scope line="1011"/>
                <scope line="1017"/>
                <declaration name="key" type="Object" line="1024"/>
                <declaration name="handler" type="Handler" line="1028"/>
                <scope line="1031"/>
            </method>
            <declaration name="hashtable" type="Hashtable&lt;Object,Handler&gt;" line="1059"/>
            <declaration name="request" type="SnmpMibRequest" line="1061"/>
            <declaration name="version" type="int" line="1062"/>
            <declaration name="creationflag" type="boolean" line="1063"/>
            <declaration name="getnextflag" type="boolean" line="1065"/>
            <declaration name="type" type="int" line="1067"/>
            <declaration name="setreqflag" type="boolean" line="1069"/>
        </class>
    </source>