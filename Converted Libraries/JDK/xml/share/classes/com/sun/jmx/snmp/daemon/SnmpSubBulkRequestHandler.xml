<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.jmx.snmp.daemon">
        <import package="java.util.Enumeration"/>
        <import package="java.util.Vector"/>
        <import package="java.util.logging.Level"/>
        <import package="com.sun.jmx.snmp.SnmpPdu"/>
        <import package="com.sun.jmx.snmp.SnmpVarBind"/>
        <import package="com.sun.jmx.snmp.SnmpOid"/>
        <import package="com.sun.jmx.snmp.SnmpValue"/>
        <import package="com.sun.jmx.snmp.SnmpDefinitions"/>
        <import package="com.sun.jmx.snmp.SnmpStatusException"/>
        <import package="com.sun.jmx.snmp.SnmpEngine"/>
        <import package="com.sun.jmx.defaults.JmxProperties.SNMP_ADAPTOR_LOGGER"/>
        <import package="com.sun.jmx.snmp.agent.SnmpMibAgent"/>
        <import package="com.sun.jmx.snmp.agent.SnmpMibRequest"/>
        <import package="com.sun.jmx.snmp.ThreadContext"/>
        <import package="com.sun.jmx.snmp.daemon.SnmpAdaptorServer"/>
        <import package="com.sun.jmx.snmp.internal.SnmpIncomingRequest"/>
        <import package="com.sun.jmx.snmp.ThreadContext"/>
        <class name="SnmpSubBulkRequestHandler" line="55">
            <extends class="SnmpSubRequestHandler"/>
            <comment line="330">
                PROTECTED VARIABLES                
            </comment>
            <comment line="331">
                ------------------                
            </comment>
            <declaration name="server" type="SnmpAdaptorServer" line="56"/>
            <javadoc line="58">
                The constuctor initialize the subrequest with the whole varbind list contained
                  in the original request.                
            </javadoc>
            <method name="SnmpSubBulkRequestHandler" type="constructor" line="69">
                <params>
                    <param name="engine" type="SnmpEngine"/>
                    <param name="server" type="SnmpAdaptorServer"/>
                    <param name="incRequest" type="SnmpIncomingRequest"/>
                    <param name="agent" type="SnmpMibAgent"/>
                    <param name="req" type="SnmpPdu"/>
                    <param name="nonRepeat" type="int"/>
                    <param name="maxRepeat" type="int"/>
                    <param name="R" type="int"/>
                </params>
            </method>
            <javadoc line="74">
                The constuctor initialize the subrequest with the whole varbind list contained
                  in the original request.                
            </javadoc>
            <method name="SnmpSubBulkRequestHandler" type="constructor" line="83">
                <params>
                    <param name="server" type="SnmpAdaptorServer"/>
                    <param name="agent" type="SnmpMibAgent"/>
                    <param name="req" type="SnmpPdu"/>
                    <param name="nonRepeat" type="int"/>
                    <param name="maxRepeat" type="int"/>
                    <param name="R" type="int"/>
                </params>
            </method>
            <method name="run" type="void" line="88">
                <comment line="93">
                    Invoke a getBulk operation                    
                </comment>
                <comment line="94">
                                        
                </comment>
                <comment line="95">
                                        
                </comment>
                <comment line="109">
                                        
                </comment>
                <scope line="92">
                    <declaration name="oldContext" type="ThreadContext" line="96"/>
                    <scope line="98">
                        <scope line="99"/>
                    </scope>
                    <scope line="106"/>
                </scope>
                <scope line="111">
                    <scope line="114"/>
                </scope>
                <scope line="120">
                    <scope line="122"/>
                </scope>
                <scope line="128"/>
            </method>
            <method name="init" type="void" line="139">
                <params>
                    <param name="server" type="SnmpAdaptorServer"/>
                    <param name="req" type="SnmpPdu"/>
                    <param name="nonRepeat" type="int"/>
                    <param name="maxRepeat" type="int"/>
                    <param name="R" type="int"/>
                </params>
                <comment line="151">
                    we need to allocate a new SnmpVarBind. Otherwise the first                    
                </comment>
                <comment line="152">
                    sub request will modify the list...                    
                </comment>
                <comment line="153">
                                        
                </comment>
                <declaration name="max" type="int" line="145"/>
                <declaration name="list" type="SnmpVarBind[]" line="146"/>
                <declaration name="nonSyncVarBind" type="NonSyncVector&lt;SnmpVarBind&gt;" line="147"/>
                <scope line="149">
                    <declaration name="newVarBind" type="SnmpVarBind" line="154"/>
                </scope>
            </method>
            <javadoc line="160">
                The method updates find out which element to use at update time. Handle oid overlapping as well                
            </javadoc>
            <method name="findVarBind" type="SnmpVarBind" line="164">
                <params>
                    <param name="element" type="SnmpVarBind"/>
                    <param name="result" type="SnmpVarBind"/>
                </params>
                <comment line="188">
                    Take the smallest (lexicographically)                    
                </comment>
                <comment line="189">
                                        
                </comment>
                <comment line="194">
                    Must compare agent used for reply                    
                </comment>
                <comment line="195">
                    Take the deeper within the reply                    
                </comment>
                <comment line="225">
                    Vector v = new Vector();
                    SnmpMibRequest getReq = createMibRequest(v,
                    version,
                    null);
                    SnmpVarBind realValue = new SnmpVarBind(oid);
                    getReq.addVarBind(realValue);
                    try {
                    deeperAgent.get(getReq);
                    } catch(SnmpStatusException e) {
                    e.printStackTrace();
                    }
                    
                    if(isDebugOn())
                    trace(&quot;findVarBind&quot;, &quot;Biggest priority value is : &quot; +
                    realValue.value);
                    
                    return realValue;                    
                </comment>
                <scope line="168"/>
                <declaration name="val" type="SnmpValue" line="176"/>
                <declaration name="comp" type="int" line="178"/>
                <scope line="179"/>
                <scope line="187"/>
                <scope line="192">
                    <scope line="193">
                        <scope line="196"/>
                        <declaration name="oid" type="SnmpOid" line="204"/>
                        <declaration name="deeperAgent" type="SnmpMibAgent" line="205"/>
                        <scope line="207"/>
                        <scope line="211">
                            <scope line="212"/>
                        </scope>
                        <scope line="217">
                            <scope line="218"/>
                        </scope>
                    </scope>
                    <scope line="246">
                        <scope line="247"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="255">
                The method updates a given var bind list with the result of a
                  previsouly invoked operation.
                  Prior to calling the method, one must make sure that the operation was
                  successful. As such the method getErrorIndex or getErrorStatus should be
                  called.                
            </javadoc>
            <method name="updateResult" type="void" line="262">
                <params>
                    <param name="result" type="SnmpVarBind[]"/>
                </params>
                <comment line="263">
                    we can assume that the run method is over ...                    
                </comment>
                <comment line="264">
                                        
                </comment>
                <comment line="269">
                    First go through all the values once ...                    
                </comment>
                <comment line="271">
                    May be we should control the position ...                    
                </comment>
                <comment line="272">
                                        
                </comment>
                <comment line="276">
                    bugId 4641694: must check position in order to avoid                    
                </comment>
                <comment line="277">
                    ArrayIndexOutOfBoundException                    
                </comment>
                <comment line="302">
                    Now update the values which have been repeated                    
                </comment>
                <comment line="303">
                    more than once.                    
                </comment>
                <declaration name="e" type="Enumeration" line="266"/>
                <declaration name="max" type="int" line="267"/>
                <scope line="270">
                    <declaration name="pos" type="int" line="278"/>
                    <scope line="279">
                        <scope line="280"/>
                    </scope>
                    <declaration name="element" type="SnmpVarBind" line="287"/>
                    <scope line="290"/>
                    <declaration name="res" type="SnmpVarBind" line="295"/>
                </scope>
                <declaration name="localR" type="int" line="304"/>
                <scope line="305">
                    <scope line="306">
                        <declaration name="pos" type="int" line="307"/>
                        <declaration name="element" type="SnmpVarBind" line="312"/>
                        <scope line="315"/>
                        <declaration name="res" type="SnmpVarBind" line="320"/>
                    </scope>
                </scope>
            </method>
            <declaration name="nonRepeat" type="int" line="332"/>
            <javadoc line="332">
                Specific to the sub request                
            </javadoc>
            <declaration name="maxRepeat" type="int" line="337"/>
            <declaration name="globalR" type="int" line="339"/>
            <javadoc line="339">
                R as defined in RCF 1902 for the global request the sub-request is associated to.                
            </javadoc>
            <declaration name="size" type="int" line="344"/>
        </class>
    </source>