<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.org.apache.xml.internal.security.c14n.implementations">
        <import package="java.io.IOException"/>
        <import package="java.util.ArrayList"/>
        <import package="java.util.Collection"/>
        <import package="java.util.HashMap"/>
        <import package="java.util.Iterator"/>
        <import package="java.util.List"/>
        <import package="java.util.Map"/>
        <import package="java.util.Set"/>
        <import package="java.util.SortedSet"/>
        <import package="java.util.TreeSet"/>
        <import package="javax.xml.parsers.ParserConfigurationException"/>
        <import package="com.sun.org.apache.xml.internal.security.c14n.CanonicalizationException"/>
        <import package="com.sun.org.apache.xml.internal.security.c14n.helper.C14nHelper"/>
        <import package="com.sun.org.apache.xml.internal.security.signature.XMLSignatureInput"/>
        <import package="com.sun.org.apache.xml.internal.security.utils.Constants"/>
        <import package="com.sun.org.apache.xml.internal.security.utils.XMLUtils"/>
        <import package="org.w3c.dom.Attr"/>
        <import package="org.w3c.dom.Document"/>
        <import package="org.w3c.dom.Element"/>
        <import package="org.w3c.dom.NamedNodeMap"/>
        <import package="org.w3c.dom.Node"/>
        <import package="org.xml.sax.SAXException"/>
        <class name="Canonicalizer20010315" line="24">
            <extends class="CanonicalizerBase"/>
            <javadoc line="24">
                Implements &lt;A HREF=&quot;http://www.w3.org/TR/2001/REC-xml-c14n-20010315&quot;&gt;Canonical
                  XML Version 1.0&lt;/A&gt;, a W3C Recommendation from 15 March 2001.                
                <author>
                    Christian Geuer-Pollmann &lt;geuerp@apache.org&gt;                    
                </author>
                <version>
                    $Revision: 1.5 $                    
                </version>
            </javadoc>
            <declaration name="firstCall" type="boolean" line="31"/>
            <declaration name="result" type="SortedSet" line="32"/>
            <declaration name="XMLNS_URI" type="String" line="33"/>
            <declaration name="XML_LANG_URI" type="String" line="34"/>
            <class name="XmlAttrStack" line="35">
                <declaration name="currentLevel" type="int" line="36"/>
                <declaration name="lastlevel" type="int" line="37"/>
                <declaration name="cur" type="XmlsStackElement" line="38"/>
                <class name="XmlsStackElement" line="39">
                    <declaration name="level" type="int" line="40"/>
                    <declaration name="rendered" type="boolean" line="41"/>
                    <declaration name="nodes" type="List" line="42"/>
                </class>
                <declaration name="levels" type="List" line="44"/>
                <method name="push" type="void" line="45">
                    <params>
                        <param name="level" type="int"/>
                    </params>
                    <scope line="49">
                        <scope line="51"/>
                    </scope>
                </method>
                <method name="addXmlnsAttr" type="void" line="58">
                    <params>
                        <param name="n" type="Attr"/>
                    </params>
                    <scope line="59"/>
                </method>
                <method name="getXmlnsAttr" type="void" line="67">
                    <params>
                        <param name="col" type="Collection"/>
                    </params>
                    <declaration name="size" type="int" line="68"/>
                    <scope line="69"/>
                    <declaration name="parentRendered" type="boolean" line="75"/>
                    <declaration name="e" type="XmlsStackElement" line="76"/>
                    <scope line="77"/>
                    <scope line="80"/>
                    <scope line="84"/>
                    <declaration name="loa" type="Map" line="89"/>
                    <scope line="90">
                        <declaration name="it" type="Iterator" line="92"/>
                        <scope line="93">
                            <declaration name="n" type="Attr" line="94"/>
                        </scope>
                    </scope>
                </method>
            </class>
            <declaration name="xmlattrStack" type="XmlAttrStack" line="103"/>
            <javadoc line="104">
                Constructor Canonicalizer20010315                
                <param>
                    includeComments                    
                </param>
            </javadoc>
            <method name="Canonicalizer20010315" type="constructor" line="108">
                <params>
                    <param name="includeComments" type="boolean"/>
                </params>
            </method>
            <javadoc line="111">
                Returns the Attr[]s to be outputted for the given element.
                  &lt;br&gt;
                  The code of this method is a copy of {@link #handleAttributes(Element,NameSpaceSymbTable)},
                  whereas it takes into account that subtree-c14n is -- well -- subtree-based.
                  So if the element in question isRoot of c14n, it&apos;s parent is not in the
                  node set, as well as all other ancestors.                
                <param>
                    E                    
                </param>
                <param>
                    ns                    
                </param>
                <return>
                    the Attr[]s to be outputted                    
                </return>
                <throws>
                    CanonicalizationException                    
                </throws>
            </javadoc>
            <method name="handleAttributesSubtree" type="Iterator" line="123">
                <params>
                    <param name="E" type="Element"/>
                    <param name="ns" type="NameSpaceSymbTable"/>
                </params>
                <scope line="124"/>
                <declaration name="result" type="SortedSet" line="127"/>
                <declaration name="attrs" type="NamedNodeMap" line="129"/>
                <declaration name="attrsLength" type="int" line="130"/>
                <scope line="131">
                    <declaration name="N" type="Attr" line="132"/>
                    <declaration name="NUri" type="String" line="133"/>
                    <scope line="134"/>
                    <declaration name="NName" type="String" line="138"/>
                    <declaration name="NValue" type="String" line="139"/>
                    <scope line="140"/>
                    <declaration name="n" type="Node" line="143"/>
                    <scope line="144">
                        <scope line="146">
                            <declaration name="exArgs" type="Object" line="147"/>
                        </scope>
                    </scope>
                </scope>
                <scope line="152"/>
            </method>
            <javadoc line="159">
                Returns the Attr[]s to be outputted for the given element.
                  &lt;br&gt;
                  IMPORTANT: This method expects to work on a modified DOM tree, i.e. a DOM which has
                  been prepared using {@link com.sun.org.apache.xml.internal.security.utils.XMLUtils#circumventBug2650(org.w3c.dom.Document)}.                
                <param>
                    E                    
                </param>
                <param>
                    ns                    
                </param>
                <return>
                    the Attr[]s to be outputted                    
                </return>
                <throws>
                    CanonicalizationException                    
                </throws>
            </javadoc>
            <method name="handleAttributes" type="Iterator" line="169">
                <params>
                    <param name="E" type="Element"/>
                    <param name="ns" type="NameSpaceSymbTable"/>
                </params>
                <declaration name="isRealVisible" type="boolean" line="171"/>
                <declaration name="attrs" type="NamedNodeMap" line="172"/>
                <declaration name="attrsLength" type="int" line="173"/>
                <scope line="174"/>
                <declaration name="result" type="SortedSet" line="178"/>
                <scope line="180">
                    <declaration name="N" type="Attr" line="181"/>
                    <declaration name="NUri" type="String" line="182"/>
                    <scope line="183">
                        <scope line="184"/>
                        <scope line="187"/>
                    </scope>
                    <declaration name="NName" type="String" line="192"/>
                    <declaration name="NValue" type="String" line="193"/>
                    <scope line="194"/>
                    <scope line="197">
                        <scope line="198"/>
                        <declaration name="n" type="Node" line="201"/>
                        <scope line="202">
                            <scope line="204">
                                <declaration name="exArgs" type="Object" line="205"/>
                            </scope>
                        </scope>
                    </scope>
                    <scope line="210">
                        <scope line="211"/>
                        <scope line="214"/>
                    </scope>
                </scope>
                <scope line="219">
                    <declaration name="xmlns" type="Attr" line="220"/>
                    <declaration name="n" type="Node" line="221"/>
                    <scope line="222"/>
                    <scope line="225"/>
                    <scope line="228"/>
                </scope>
            </method>
            <javadoc line="236">
                Always throws a CanonicalizationException because this is inclusive c14n.                
                <param>
                    xpathNodeSet                    
                </param>
                <param>
                    inclusiveNamespaces                    
                </param>
                <return>
                    none it always fails                    
                </return>
                <throws>
                    CanonicalizationException always                    
                </throws>
            </javadoc>
            <method name="engineCanonicalizeXPathNodeSet" type="byte[]" line="243">
                <params>
                    <param name="xpathNodeSet" type="Set"/>
                    <param name="inclusiveNamespaces" type="String"/>
                </params>
            </method>
            <javadoc line="246">
                Always throws a CanonicalizationException because this is inclusive c14n.                
                <param>
                    rootNode                    
                </param>
                <param>
                    inclusiveNamespaces                    
                </param>
                <return>
                    none it always fails                    
                </return>
                <throws>
                    CanonicalizationException                    
                </throws>
            </javadoc>
            <method name="engineCanonicalizeSubTree" type="byte[]" line="253">
                <params>
                    <param name="rootNode" type="Node"/>
                    <param name="inclusiveNamespaces" type="String"/>
                </params>
            </method>
            <method name="circumventBugIfNeeded" type="void" line="256">
                <params>
                    <param name="input" type="XMLSignatureInput"/>
                </params>
                <declaration name="doc" type="Document" line="258"/>
                <scope line="259"/>
                <scope line="262"/>
            </method>
            <method name="handleParent" type="void" line="267">
                <params>
                    <param name="e" type="Element"/>
                    <param name="ns" type="NameSpaceSymbTable"/>
                </params>
                <scope line="268"/>
                <declaration name="attrs" type="NamedNodeMap" line="272"/>
                <declaration name="attrsLength" type="int" line="273"/>
                <scope line="274">
                    <declaration name="N" type="Attr" line="275"/>
                    <scope line="276">
                        <scope line="277"/>
                    </scope>
                    <declaration name="NName" type="String" line="282"/>
                    <declaration name="NValue" type="String" line="283"/>
                    <scope line="284"/>
                </scope>
            </method>
        </class>
    </source>