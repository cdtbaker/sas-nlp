<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.org.apache.xml.internal.security.signature">
        <import package="java.io.IOException"/>
        <import package="java.util.ArrayList"/>
        <import package="java.util.HashMap"/>
        <import package="java.util.Iterator"/>
        <import package="java.util.List"/>
        <import package="java.util.Set"/>
        <import package="javax.xml.parsers.ParserConfigurationException"/>
        <import package="com.sun.org.apache.xml.internal.security.c14n.CanonicalizationException"/>
        <import package="com.sun.org.apache.xml.internal.security.c14n.InvalidCanonicalizerException"/>
        <import package="com.sun.org.apache.xml.internal.security.exceptions.XMLSecurityException"/>
        <import package="com.sun.org.apache.xml.internal.security.transforms.Transforms"/>
        <import package="com.sun.org.apache.xml.internal.security.utils.Constants"/>
        <import package="com.sun.org.apache.xml.internal.security.utils.I18n"/>
        <import package="com.sun.org.apache.xml.internal.security.utils.IdResolver"/>
        <import package="com.sun.org.apache.xml.internal.security.utils.SignatureElementProxy"/>
        <import package="com.sun.org.apache.xml.internal.security.utils.XMLUtils"/>
        <import package="com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolver"/>
        <import package="com.sun.org.apache.xml.internal.security.utils.resolver.ResourceResolverSpi"/>
        <import package="org.w3c.dom.DOMException"/>
        <import package="org.w3c.dom.Document"/>
        <import package="org.w3c.dom.Element"/>
        <import package="org.w3c.dom.Node"/>
        <import package="org.xml.sax.SAXException"/>
        <class name="Manifest" line="25">
            <extends class="SignatureElementProxy"/>
            <javadoc line="25">
                Handles &lt;code&gt;&amp;lt;ds:Manifest&amp;gt;&lt;/code&gt; elements.
                  &lt;p&gt; This element holds the &lt;code&gt;Reference&lt;/code&gt; elements&lt;/p&gt;                
                <author>
                    $author: $                    
                </author>
            </javadoc>
            <declaration name="log" type="java.util.logging.Logger" line="31"/>
            <javadoc line="31">
                {@link java.util.logging} logging facility                
            </javadoc>
            <declaration name="_references" type="List" line="35"/>
            <javadoc line="35">
                Field _references                
            </javadoc>
            <declaration name="_referencesEl" type="Element[]" line="39"/>
            <declaration name="verificationResults" type="boolean" line="40"/>
            <javadoc line="40">
                Field verificationResults[]                
            </javadoc>
            <declaration name="_resolverProperties" type="HashMap" line="44"/>
            <javadoc line="44">
                Field _resolverProperties                
            </javadoc>
            <declaration name="_perManifestResolvers" type="List" line="48"/>
            <javadoc line="48">
                Field _perManifestResolvers                
            </javadoc>
            <javadoc line="52">
                Consturts {@link Manifest}                
                <param>
                    doc the {@link Document} in which <code>XMLsignature</code> is placed                    
                </param>
            </javadoc>
            <method name="Manifest" type="constructor" line="56">
                <params>
                    <param name="doc" type="Document"/>
                </params>
            </method>
            <javadoc line="61">
                Constructor Manifest                
                <param>
                    element                    
                </param>
                <param>
                    BaseURI                    
                </param>
                <throws>
                    XMLSecurityException                    
                </throws>
            </javadoc>
            <method name="Manifest" type="constructor" line="67">
                <params>
                    <param name="element" type="Element"/>
                    <param name="BaseURI" type="String"/>
                </params>
                <declaration name="le" type="int" line="70"/>
                <scope line="71">
                    <scope line="72">
                        <declaration name="exArgs" type="Object" line="73"/>
                    </scope>
                </scope>
                <scope line="78"/>
            </method>
            <javadoc line="82">
                This &lt;code&gt;addDocument&lt;/code&gt; method is used to add a new resource to the
                  signed info. A {@link com.sun.org.apache.xml.internal.security.signature.Reference} is built
                  from the supplied values.                
                <param>
                    BaseURI the URI of the resource where the XML instance was stored                    
                </param>
                <param>
                    referenceURI <code>URI</code> attribute in <code>Reference</code> for specifing where data is                    
                </param>
                <param>
                    transforms com.sun.org.apache.xml.internal.security.signature.Transforms object with an ordered list of transformations to be performed.                    
                </param>
                <param>
                    digestURI The digest algorthim URI to be used.                    
                </param>
                <param>
                    ReferenceId                    
                </param>
                <param>
                    ReferenceType                    
                </param>
                <throws>
                    XMLSignatureException                    
                </throws>
            </javadoc>
            <method name="addDocument" type="void" line="94">
                <params>
                    <param name="BaseURI" type="String"/>
                    <param name="referenceURI" type="String"/>
                    <param name="transforms" type="Transforms"/>
                    <param name="digestURI" type="String"/>
                    <param name="ReferenceId" type="String"/>
                    <param name="ReferenceType" type="String"/>
                </params>
                <declaration name="ref" type="Reference" line="95"/>
                <scope line="96"/>
                <scope line="99"/>
            </method>
            <javadoc line="106">
                The calculation of the DigestValues in the References must be after the
                  References are already added to the document and during the signing
                  process. This ensures that all neccesary data is in place.                
                <throws>
                    ReferenceNotInitializedException                    
                </throws>
                <throws>
                    XMLSignatureException                    
                </throws>
            </javadoc>
            <method name="generateDigestValues" type="void" line="113">
                <scope line="114">
                    <declaration name="currentRef" type="Reference" line="115"/>
                </scope>
            </method>
            <javadoc line="119">
                Return the nonnegative number of added references.                
                <return>
                    the number of references                    
                </return>
            </javadoc>
            <method name="getLength" type="int" line="123"/>
            <javadoc line="126">
                Return the &lt;it&gt;i&lt;/it&gt;&lt;sup&gt;th&lt;/sup&gt; reference.  Valid &lt;code&gt;i&lt;/code&gt;
                  values are 0 to &lt;code&gt;{link@ getSize}-1&lt;/code&gt;.                
                <param>
                    i Index of the requested {@link Reference}                    
                </param>
                <return>
                    the <it>i</it><sup>th</sup> reference                    
                </return>
                <throws>
                    XMLSecurityException                    
                </throws>
            </javadoc>
            <method name="item" type="Reference" line="133">
                <params>
                    <param name="i" type="int"/>
                </params>
                <scope line="134">
                    <declaration name="ref" type="Reference" line="135"/>
                </scope>
            </method>
            <javadoc line="140">
                Sets the &lt;code&gt;Id&lt;/code&gt; attribute                
                <param>
                    Id the <code>Id</code> attribute in <code>ds:Manifest</code>                    
                </param>
            </javadoc>
            <method name="setId" type="void" line="144">
                <params>
                    <param name="Id" type="String"/>
                </params>
                <scope line="145"/>
            </method>
            <javadoc line="150">
                Returns the &lt;code&gt;Id&lt;/code&gt; attribute                
                <return>
                    the <code>Id</code> attribute in <code>ds:Manifest</code>                    
                </return>
            </javadoc>
            <method name="getId" type="String" line="154"/>
            <javadoc line="157">
                Used to do a &lt;A HREF=&quot;http://www.w3.org/TR/xmldsig-core/#def-ValidationReference&quot;&gt;reference
                  validation&lt;/A&gt; of all enclosed references using the {@link Reference#verify} method.
                  &lt;p&gt;This step loops through all {@link Reference}s and does verify the hash
                  values. If one or more verifications fail, the method returns
                  &lt;code&gt;false&lt;/code&gt;. If &lt;i&gt;all&lt;/i&gt; verifications are successful,
                  it returns &lt;code&gt;true&lt;/code&gt;. The results of the individual reference
                  validations are available by using the {@link #getVerificationResult(int)} method                
                <return>
                    true if all References verify, false if one or more do not verify.                    
                </return>
                <throws>
                    MissingResourceFailureException if a {@link Reference} does not verify (throws a {@link com.sun.org.apache.xml.internal.security.signature.ReferenceNotInitializedException} because of an uninitialized {@link XMLSignatureInput}                    
                </throws>
                <see>
                    com.sun.org.apache.xml.internal.security.signature.Reference#verify                    
                </see>
                <see>
                    com.sun.org.apache.xml.internal.security.signature.SignedInfo#verify()                    
                </see>
                <see>
                    com.sun.org.apache.xml.internal.security.signature.MissingResourceFailureException                    
                </see>
                <throws>
                    XMLSecurityException                    
                </throws>
            </javadoc>
            <method name="verifyReferences" type="boolean" line="172"/>
            <javadoc line="175">
                Used to do a &lt;A HREF=&quot;http://www.w3.org/TR/xmldsig-core/#def-ValidationReference&quot;&gt;reference
                  validation&lt;/A&gt; of all enclosed references using the {@link Reference#verify} method.
                  &lt;p&gt;This step loops through all {@link Reference}s and does verify the hash
                  values. If one or more verifications fail, the method returns
                  &lt;code&gt;false&lt;/code&gt;. If &lt;i&gt;all&lt;/i&gt; verifications are successful,
                  it returns &lt;code&gt;true&lt;/code&gt;. The results of the individual reference
                  validations are available by using the {@link #getVerificationResult(int)} method                
                <param>
                    followManifests                    
                </param>
                <return>
                    true if all References verify, false if one or more do not verify.                    
                </return>
                <throws>
                    MissingResourceFailureException if a {@link Reference} does not verify (throws a {@link com.sun.org.apache.xml.internal.security.signature.ReferenceNotInitializedException} because of an uninitialized {@link XMLSignatureInput}                    
                </throws>
                <see>
                    com.sun.org.apache.xml.internal.security.signature.Reference#verify                    
                </see>
                <see>
                    com.sun.org.apache.xml.internal.security.signature.SignedInfo#verify(boolean)                    
                </see>
                <see>
                    com.sun.org.apache.xml.internal.security.signature.MissingResourceFailureException                    
                </see>
                <throws>
                    XMLSecurityException                    
                </throws>
            </javadoc>
            <method name="verifyReferences" type="boolean" line="191">
                <params>
                    <param name="followManifests" type="boolean"/>
                </params>
                <scope line="192"/>
                <scope line="195"/>
                <declaration name="verify" type="boolean" line="199"/>
                <scope line="200"/>
                <scope line="204">
                    <declaration name="currentRef" type="Reference" line="205"/>
                    <scope line="207">
                        <declaration name="currentRefVerified" type="boolean" line="208"/>
                        <scope line="210"/>
                        <scope line="214">
                            <scope line="216">
                                <declaration name="signedManifestNodes" type="XMLSignatureInput" line="217"/>
                                <declaration name="nl" type="Set" line="218"/>
                                <declaration name="referencedManifest" type="Manifest" line="219"/>
                                <declaration name="nlIterator" type="Iterator" line="220"/>
                                <scope line="221">
                                    <declaration name="n" type="Node" line="222"/>
                                    <scope line="223">
                                        <scope line="224"/>
                                        <scope line="228"/>
                                    </scope>
                                </scope>
                                <scope line="232"/>
                                <declaration name="referencedManifestValid" type="boolean" line="237"/>
                                <scope line="238"/>
                                <scope line="242"/>
                            </scope>
                            <scope line="246"/>
                            <scope line="249"/>
                            <scope line="252"/>
                        </scope>
                    </scope>
                    <scope line="257">
                        <declaration name="exArgs" type="Object" line="258"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="264">
                Method setVerificationResult                
                <param>
                    index                    
                </param>
                <param>
                    verify                    
                </param>
            </javadoc>
            <method name="setVerificationResult" type="void" line="269">
                <params>
                    <param name="index" type="int"/>
                    <param name="verify" type="boolean"/>
                </params>
                <scope line="270"/>
            </method>
            <javadoc line="275">
                After verifying a {@link Manifest} or a {@link SignedInfo} using the{@link Manifest#verifyReferences()} or {@link SignedInfo#verify()} methods,
                  the individual results can be retrieved with this method.                
                <param>
                    index an index of into a {@link Manifest} or a {@link SignedInfo}                    
                </param>
                <return>
                    the results of reference validation at the specified index                    
                </return>
                <throws>
                    XMLSecurityException                    
                </throws>
            </javadoc>
            <method name="getVerificationResult" type="boolean" line="282">
                <params>
                    <param name="index" type="int"/>
                </params>
                <scope line="283">
                    <declaration name="exArgs" type="Object" line="284"/>
                    <declaration name="e" type="Exception" line="285"/>
                </scope>
                <scope line="288">
                    <scope line="289"/>
                    <scope line="292"/>
                </scope>
            </method>
            <javadoc line="298">
                Adds Resource Resolver for retrieving resources at specified &lt;code&gt;URI&lt;/code&gt; attribute in &lt;code&gt;reference&lt;/code&gt; element                
                <param>
                    resolver {@link ResourceResolver} can provide the implemenatin subclass of {@link ResourceResolverSpi} for retrieving resource.                    
                </param>
            </javadoc>
            <method name="addResourceResolver" type="void" line="302">
                <params>
                    <param name="resolver" type="ResourceResolver"/>
                </params>
                <scope line="303"/>
            </method>
            <javadoc line="309">
                Adds Resource Resolver for retrieving resources at specified &lt;code&gt;URI&lt;/code&gt; attribute in &lt;code&gt;reference&lt;/code&gt; element                
                <param>
                    resolverSpi the implemenatin subclass of {@link ResourceResolverSpi} for retrieving resource.                    
                </param>
            </javadoc>
            <method name="addResourceResolver" type="void" line="313">
                <params>
                    <param name="resolverSpi" type="ResourceResolverSpi"/>
                </params>
                <scope line="314"/>
            </method>
            <javadoc line="320">
                Used to pass parameters like proxy servers etc to the ResourceResolver
                  implementation.                
                <param>
                    key the key                    
                </param>
                <param>
                    value the value                    
                </param>
            </javadoc>
            <method name="setResolverProperty" type="void" line="326">
                <params>
                    <param name="key" type="String"/>
                    <param name="value" type="String"/>
                </params>
                <scope line="327"/>
            </method>
            <javadoc line="332">
                Returns the value at specified key                
                <param>
                    key the key                    
                </param>
                <return>
                    the value                    
                </return>
            </javadoc>
            <method name="getResolverProperty" type="String" line="337">
                <params>
                    <param name="key" type="String"/>
                </params>
            </method>
            <javadoc line="340">
                Method getSignedContentItem                
                <param>
                    i                    
                </param>
                <return>
                    The signed content of the i reference.                    
                </return>
                <throws>
                    XMLSignatureException                    
                </throws>
            </javadoc>
            <method name="getSignedContentItem" type="byte[]" line="346">
                <params>
                    <param name="i" type="int"/>
                </params>
                <scope line="347"/>
                <scope line="350"/>
                <scope line="353"/>
                <scope line="356"/>
                <scope line="359"/>
            </method>
            <javadoc line="363">
                Method getReferencedContentPriorTransformsItem                
                <param>
                    i                    
                </param>
                <return>
                    The contents before transformation of the reference i.                    
                </return>
                <throws>
                    XMLSecurityException                    
                </throws>
            </javadoc>
            <method name="getReferencedContentBeforeTransformsItem" type="XMLSignatureInput" line="369">
                <params>
                    <param name="i" type="int"/>
                </params>
            </method>
            <javadoc line="372">
                Method getReferencedContentAfterTransformsItem                
                <param>
                    i                    
                </param>
                <return>
                    The contents after transformation of the reference i.                    
                </return>
                <throws>
                    XMLSecurityException                    
                </throws>
            </javadoc>
            <method name="getReferencedContentAfterTransformsItem" type="XMLSignatureInput" line="378">
                <params>
                    <param name="i" type="int"/>
                </params>
            </method>
            <javadoc line="381">
                Method getSignedContentLength                
                <return>
                    The nu,ber of references contained in this reference.                    
                </return>
            </javadoc>
            <method name="getSignedContentLength" type="int" line="385"/>
            <javadoc line="388">
                Method getBaseLocalName                
                <inheritDoc>
                                        
                </inheritDoc>
            </javadoc>
            <method name="getBaseLocalName" type="String" line="392"/>
        </class>
    </source>