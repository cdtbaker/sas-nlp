<?xml version="1.0" encoding="UTF-8"?>
    <source package="com.sun.org.apache.xml.internal.security.transforms.implementations">
        <import package="java.io.BufferedInputStream"/>
        <import package="java.io.IOException"/>
        <import package="java.io.OutputStream"/>
        <import package="javax.xml.parsers.DocumentBuilderFactory"/>
        <import package="javax.xml.parsers.ParserConfigurationException"/>
        <import package="com.sun.org.apache.xml.internal.security.c14n.CanonicalizationException"/>
        <import package="com.sun.org.apache.xml.internal.security.exceptions.Base64DecodingException"/>
        <import package="com.sun.org.apache.xml.internal.security.signature.XMLSignatureInput"/>
        <import package="com.sun.org.apache.xml.internal.security.transforms.Transform"/>
        <import package="com.sun.org.apache.xml.internal.security.transforms.TransformSpi"/>
        <import package="com.sun.org.apache.xml.internal.security.transforms.TransformationException"/>
        <import package="com.sun.org.apache.xml.internal.security.transforms.Transforms"/>
        <import package="com.sun.org.apache.xml.internal.security.utils.Base64"/>
        <import package="org.w3c.dom.Document"/>
        <import package="org.w3c.dom.Element"/>
        <import package="org.w3c.dom.Node"/>
        <import package="org.w3c.dom.Text"/>
        <import package="org.xml.sax.SAXException"/>
        <class name="TransformBase64Decode" line="46">
            <extends class="TransformSpi"/>
            <javadoc line="46">
                Implements the &lt;CODE&gt;http://www.w3.org/2000/09/xmldsig#base64&lt;/CODE&gt; decoding
                  transform.
                  &lt;p&gt;The normative specification for base64 decoding transforms is
                  &lt;A HREF=&quot;http://www.w3.org/TR/2001/CR-xmldsig-core-20010419/#ref-MIME&quot;&gt;[MIME]&lt;/A&gt;.
                  The base64 Transform element has no content. The input
                  is decoded by the algorithms. This transform is useful if an
                  application needs to sign the raw data associated with the encoded
                  content of an element. &lt;/p&gt;
                  &lt;p&gt;This transform requires an octet stream for input.
                  If an XPath node-set (or sufficiently functional alternative) is
                  given as input, then it is converted to an octet stream by
                  performing operations logically equivalent to 1) applying an XPath
                  transform with expression self::text(), then 2) taking the string-value
                  of the node-set. Thus, if an XML element is identified by a barename
                  XPointer in the Reference URI, and its content consists solely of base64
                  encoded character data, then this transform automatically strips away the
                  start and end tags of the identified element and any of its descendant
                  elements as well as any descendant comments and processing instructions.
                  The output of this transform is an octet stream.&lt;/p&gt;                
                <author>
                    Christian Geuer-Pollmann                    
                </author>
                <see>
                    com.sun.org.apache.xml.internal.security.utils.Base64                    
                </see>
            </javadoc>
            <declaration name="implementedTransformURI" type="String" line="74"/>
            <javadoc line="74">
                Field implementedTransformURI                
            </javadoc>
            <javadoc line="78">
                Method engineGetURI                
                <inheritDoc>
                                        
                </inheritDoc>
            </javadoc>
            <method name="engineGetURI" type="String" line="83"/>
            <javadoc line="87">
                Method enginePerformTransform                
                <param>
                    input                    
                </param>
                <return>
                    {@link XMLSignatureInput} as the result of transformation                    
                </return>
                <inheritDoc>
                                        
                </inheritDoc>
                <throws>
                    CanonicalizationException                    
                </throws>
                <throws>
                    IOException                    
                </throws>
                <throws>
                    TransformationException                    
                </throws>
            </javadoc>
            <method name="enginePerformTransform" type="XMLSignatureInput" line="100">
                <params>
                    <param name="input" type="XMLSignatureInput"/>
                    <param name="_transformObject" type="Transform"/>
                </params>
            </method>
            <method name="enginePerformTransform" type="XMLSignatureInput" line="107">
                <params>
                    <param name="input" type="XMLSignatureInput"/>
                    <param name="os" type="OutputStream"/>
                    <param name="_transformObject" type="Transform"/>
                </params>
                <comment line="149">
                    Exceptional case there is current not text case testing this(Before it was a                    
                </comment>
                <comment line="150">
                    a common case).                    
                </comment>
                <scope line="108">
                    <scope line="109">
                        <declaration name="el" type="Node" line="110"/>
                        <scope line="111"/>
                        <declaration name="sb" type="StringBuffer" line="114"/>
                        <scope line="116">
                            <declaration name="decodedBytes" type="byte[]" line="117"/>
                        </scope>
                        <declaration name="output" type="XMLSignatureInput" line="121"/>
                    </scope>
                    <scope line="126">
                        <scope line="129">
                            <declaration name="base64Bytes" type="byte[]" line="130"/>
                            <declaration name="decodedBytes" type="byte[]" line="131"/>
                        </scope>
                        <scope line="134"/>
                        <scope line="136"/>
                        <declaration name="output" type="XMLSignatureInput" line="140"/>
                    </scope>
                    <scope line="147">
                        <declaration name="doc" type="Document" line="150"/>
                        <declaration name="rootNode" type="Element" line="154"/>
                        <declaration name="sb" type="StringBuffer" line="155"/>
                        <declaration name="decodedBytes" type="byte[]" line="157"/>
                    </scope>
                    <scope line="160"/>
                    <scope line="162"/>
                </scope>
                <scope line="165"/>
            </method>
            <method name="traverseElement" type="void" line="170">
                <params>
                    <param name="node" type="org.w3c.dom.Element"/>
                    <param name="sb" type="StringBuffer"/>
                </params>
                <declaration name="sibling" type="Node" line="171"/>
                <scope line="172"/>
            </method>
        </class>
    </source>