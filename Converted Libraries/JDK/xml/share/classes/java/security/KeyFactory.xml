<?xml version="1.0" encoding="UTF-8"?>
    <source package="java.security">
        <import package="java.util"/>
        <import package="java.security.Provider.Service"/>
        <import package="java.security.spec.KeySpec"/>
        <import package="java.security.spec.InvalidKeySpecException"/>
        <import package="sun.security.util.Debug"/>
        <import package="sun.security.jca"/>
        <import package="sun.security.jca.GetInstance.Instance"/>
        <class name="KeyFactory" line="38">
            <comment line="102">
                The algorithm associated with this key factory                
            </comment>
            <comment line="105">
                The provider                
            </comment>
            <comment line="108">
                The provider implementation (delegate)                
            </comment>
            <comment line="111">
                lock for mutex during provider selection                
            </comment>
            <comment line="114">
                remaining services to try in provider selection
                 null once provider is selected                
            </comment>
            <javadoc line="38">
                Key factories are used to convert &lt;I&gt;keys&lt;/I&gt; (opaque
                  cryptographic keys of type &lt;code&gt;Key&lt;/code&gt;) into &lt;I&gt;key specifications&lt;/I&gt;
                  (transparent representations of the underlying key material), and vice
                  versa.
                  &lt;P&gt; Key factories are bi-directional. That is, they allow you to build an
                  opaque key object from a given key specification (key material), or to
                  retrieve the underlying key material of a key object in a suitable format.
                  &lt;P&gt; Multiple compatible key specifications may exist for the same key.
                  For example, a DSA public key may be specified using
                  &lt;code&gt;DSAPublicKeySpec&lt;/code&gt; or
                  &lt;code&gt;X509EncodedKeySpec&lt;/code&gt;. A key factory can be used to translate
                  between compatible key specifications.
                  &lt;P&gt; The following is an example of how to use a key factory in order to
                  instantiate a DSA public key from its encoding.
                  Assume Alice has received a digital signature from Bob.
                  Bob also sent her his public key (in encoded format) to verify
                  his signature. Alice then performs the following actions:
                  &lt;pre&gt;
                  X509EncodedKeySpec bobPubKeySpec = new X509EncodedKeySpec(bobEncodedPubKey);
                  KeyFactory keyFactory = KeyFactory.getInstance(&quot;DSA&quot;);
                  PublicKey bobPubKey = keyFactory.generatePublic(bobPubKeySpec);
                  Signature sig = Signature.getInstance(&quot;DSA&quot;);
                  sig.initVerify(bobPubKey);
                  sig.update(data);
                  sig.verify(signature);
                  &lt;/pre&gt;
                  &lt;p&gt; Every implementation of the Java platform is required to support the
                  following standard &lt;code&gt;KeyFactory&lt;/code&gt; algorithms:
                  &lt;ul&gt;
                  &lt;li&gt;&lt;tt&gt;DiffieHellman&lt;/tt&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;tt&gt;DSA&lt;/tt&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;tt&gt;RSA&lt;/tt&gt;&lt;/li&gt;
                  &lt;/ul&gt;
                  These algorithms are described in the &lt;a href=
                  &quot;{@docRoot}/../technotes/guides/security/StandardNames.html#KeyFactory&quot;&gt;
                  KeyFactory section&lt;/a&gt; of the
                  Java Cryptography Architecture Standard Algorithm Name Documentation.
                  Consult the release documentation for your implementation to see if any
                  other algorithms are supported.                
                <author>
                    Jan Luehe                    
                </author>
                <see>
                    Key                    
                </see>
                <see>
                    PublicKey                    
                </see>
                <see>
                    PrivateKey                    
                </see>
                <see>
                    java.security.spec.KeySpec                    
                </see>
                <see>
                    java.security.spec.DSAPublicKeySpec                    
                </see>
                <see>
                    java.security.spec.X509EncodedKeySpec                    
                </see>
                <since>
                    1.2                    
                </since>
            </javadoc>
            <declaration name="debug" type="Debug" line="98"/>
            <declaration name="algorithm" type="String" line="102"/>
            <declaration name="provider" type="Provider" line="105"/>
            <declaration name="spi" type="KeyFactorySpi" line="108"/>
            <declaration name="lock" type="Object" line="111"/>
            <declaration name="serviceIterator" type="Iterator&lt;Service&gt;" line="115"/>
            <javadoc line="117">
                Creates a KeyFactory object.                
                <param>
                    keyFacSpi the delegate                    
                </param>
                <param>
                    provider the provider                    
                </param>
                <param>
                    algorithm the name of the algorithm
                      to associate with this <tt>KeyFactory</tt>                    
                </param>
            </javadoc>
            <method name="KeyFactory" type="constructor" line="126">
                <params>
                    <param name="keyFacSpi" type="KeyFactorySpi"/>
                    <param name="provider" type="Provider"/>
                    <param name="algorithm" type="String"/>
                </params>
            </method>
            <method name="KeyFactory" type="constructor" line="132">
                <params>
                    <param name="algorithm" type="String"/>
                </params>
                <comment line="137">
                    fetch and instantiate initial spi                    
                </comment>
                <declaration name="list" type="List&lt;Service&gt;" line="134"/>
                <scope line="137"/>
            </method>
            <javadoc line="143">
                Returns a KeyFactory object that converts
                  public/private keys of the specified algorithm.
                  &lt;p&gt; This method traverses the list of registered security Providers,
                  starting with the most preferred Provider.
                  A new KeyFactory object encapsulating the
                  KeyFactorySpi implementation from the first
                  Provider that supports the specified algorithm is returned.
                  &lt;p&gt; Note that the list of registered providers may be retrieved via
                  the {@link Security#getProviders() Security.getProviders()} method.                
                <param>
                    algorithm the name of the requested key algorithm.
                      See the KeyFactory section in the <a href=
                      "{@docRoot}/../technotes/guides/security/StandardNames.html#KeyFactory">
                      Java Cryptography Architecture Standard Algorithm Name Documentation</a>
                      for information about standard algorithm names.                    
                </param>
                <return>
                    the new KeyFactory object.                    
                </return>
                <exception>
                    NoSuchAlgorithmException if no Provider supports a
                      KeyFactorySpi implementation for the
                      specified algorithm.                    
                </exception>
                <see>
                    Provider                    
                </see>
            </javadoc>
            <method name="getInstance" type="KeyFactory" line="171">
                <params>
                    <param name="algorithm" type="String"/>
                </params>
            </method>
            <javadoc line="175">
                Returns a KeyFactory object that converts
                  public/private keys of the specified algorithm.
                  &lt;p&gt; A new KeyFactory object encapsulating the
                  KeyFactorySpi implementation from the specified provider
                  is returned.  The specified provider must be registered
                  in the security provider list.
                  &lt;p&gt; Note that the list of registered providers may be retrieved via
                  the {@link Security#getProviders() Security.getProviders()} method.                
                <param>
                    algorithm the name of the requested key algorithm.
                      See the KeyFactory section in the <a href=
                      "{@docRoot}/../technotes/guides/security/StandardNames.html#KeyFactory">
                      Java Cryptography Architecture Standard Algorithm Name Documentation</a>
                      for information about standard algorithm names.                    
                </param>
                <param>
                    provider the name of the provider.                    
                </param>
                <return>
                    the new KeyFactory object.                    
                </return>
                <exception>
                    NoSuchAlgorithmException if a KeyFactorySpi
                      implementation for the specified algorithm is not
                      available from the specified provider.                    
                </exception>
                <exception>
                    NoSuchProviderException if the specified provider is not
                      registered in the security provider list.                    
                </exception>
                <exception>
                    IllegalArgumentException if the provider name is null
                      or empty.                    
                </exception>
                <see>
                    Provider                    
                </see>
            </javadoc>
            <method name="getInstance" type="KeyFactory" line="210">
                <params>
                    <param name="algorithm" type="String"/>
                    <param name="provider" type="String"/>
                </params>
                <declaration name="instance" type="Instance" line="211"/>
            </method>
            <javadoc line="217">
                Returns a KeyFactory object that converts
                  public/private keys of the specified algorithm.
                  &lt;p&gt; A new KeyFactory object encapsulating the
                  KeyFactorySpi implementation from the specified Provider
                  object is returned.  Note that the specified Provider object
                  does not have to be registered in the provider list.                
                <param>
                    algorithm the name of the requested key algorithm.
                      See the KeyFactory section in the <a href=
                      "{@docRoot}/../technotes/guides/security/StandardNames.html#KeyFactory">
                      Java Cryptography Architecture Standard Algorithm Name Documentation</a>
                      for information about standard algorithm names.                    
                </param>
                <param>
                    provider the provider.                    
                </param>
                <return>
                    the new KeyFactory object.                    
                </return>
                <exception>
                    NoSuchAlgorithmException if a KeyFactorySpi
                      implementation for the specified algorithm is not available
                      from the specified Provider object.                    
                </exception>
                <exception>
                    IllegalArgumentException if the specified provider is null.                    
                </exception>
                <see>
                    Provider                    
                </see>
                <since>
                    1.4                    
                </since>
            </javadoc>
            <method name="getInstance" type="KeyFactory" line="247">
                <params>
                    <param name="algorithm" type="String"/>
                    <param name="provider" type="Provider"/>
                </params>
                <declaration name="instance" type="Instance" line="248"/>
            </method>
            <javadoc line="254">
                Returns the provider of this key factory object.                
                <return>
                    the provider of this key factory object                    
                </return>
            </javadoc>
            <method name="getProvider" type="Provider" line="259">
                <comment line="262">
                    disable further failover after this call                    
                </comment>
                <scope line="260"/>
            </method>
            <javadoc line="267">
                Gets the name of the algorithm
                  associated with this &lt;tt&gt;KeyFactory&lt;/tt&gt;.                
                <return>
                    the name of the algorithm associated with this
                      <tt>KeyFactory</tt>                    
                </return>
            </javadoc>
            <method name="getAlgorithm" type="String" line="274"/>
            <javadoc line="278">
                Update the active KeyFactorySpi of this class and return the next
                  implementation for failover. If no more implemenations are
                  available, this method returns null. However, the active spi of
                  this class is never set to null.                
            </javadoc>
            <method name="nextSpi" type="KeyFactorySpi" line="284">
                <params>
                    <param name="oldSpi" type="KeyFactorySpi"/>
                </params>
                <comment line="287">
                    somebody else did a failover concurrently
                     try that spi now                    
                </comment>
                <comment line="307">
                    ignore                    
                </comment>
                <scope line="285">
                    <scope line="288"/>
                    <scope line="291"/>
                    <scope line="294">
                        <declaration name="s" type="Service" line="295"/>
                        <scope line="296">
                            <declaration name="obj" type="Object" line="297"/>
                            <scope line="298"/>
                            <declaration name="spi" type="KeyFactorySpi" line="301"/>
                        </scope>
                        <scope line="305"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="314">
                Generates a public key object from the provided key specification
                  (key material).                
                <param>
                    keySpec the specification (key material) of the public key.                    
                </param>
                <return>
                    the public key.                    
                </return>
                <exception>
                    InvalidKeySpecException if the given key specification
                      is inappropriate for this key factory to produce a public key.                    
                </exception>
            </javadoc>
            <method name="generatePublic" type="PublicKey" line="326">
                <params>
                    <param name="keySpec" type="KeySpec"/>
                </params>
                <scope line="327"/>
                <declaration name="failure" type="Exception" line="330"/>
                <declaration name="mySpi" type="KeyFactorySpi" line="331"/>
                <scope line="332">
                    <scope line="333"/>
                    <scope line="335">
                        <scope line="336"/>
                    </scope>
                </scope>
                <scope line="342"/>
                <scope line="345"/>
            </method>
            <javadoc line="352">
                Generates a private key object from the provided key specification
                  (key material).                
                <param>
                    keySpec the specification (key material) of the private key.                    
                </param>
                <return>
                    the private key.                    
                </return>
                <exception>
                    InvalidKeySpecException if the given key specification
                      is inappropriate for this key factory to produce a private key.                    
                </exception>
            </javadoc>
            <method name="generatePrivate" type="PrivateKey" line="364">
                <params>
                    <param name="keySpec" type="KeySpec"/>
                </params>
                <scope line="365"/>
                <declaration name="failure" type="Exception" line="368"/>
                <declaration name="mySpi" type="KeyFactorySpi" line="369"/>
                <scope line="370">
                    <scope line="371"/>
                    <scope line="373">
                        <scope line="374"/>
                    </scope>
                </scope>
                <scope line="380"/>
                <scope line="383"/>
            </method>
            <javadoc line="390">
                Returns a specification (key material) of the given key object.
                  &lt;code&gt;keySpec&lt;/code&gt; identifies the specification class in which
                  the key material should be returned. It could, for example, be
                  &lt;code&gt;DSAPublicKeySpec.class&lt;/code&gt;, to indicate that the
                  key material should be returned in an instance of the
                  &lt;code&gt;DSAPublicKeySpec&lt;/code&gt; class.                
                <param>
                    key the key.                    
                </param>
                <param>
                    keySpec the specification class in which
                      the key material should be returned.                    
                </param>
                <return>
                    the underlying key specification (key material) in an instance
                      of the requested specification class.                    
                </return>
                <exception>
                    InvalidKeySpecException if the requested key specification is
                      inappropriate for the given key, or the given key cannot be processed
                      (e.g., the given key has an unrecognized algorithm or format).                    
                </exception>
            </javadoc>
            <method name="getKeySpec" type="T" line="411">
                <params>
                    <param name="key" type="Key"/>
                    <param name="keySpec" type="Class<T>"/>
                </params>
                <scope line="412"/>
                <declaration name="failure" type="Exception" line="415"/>
                <declaration name="mySpi" type="KeyFactorySpi" line="416"/>
                <scope line="417">
                    <scope line="418"/>
                    <scope line="420">
                        <scope line="421"/>
                    </scope>
                </scope>
                <scope line="427"/>
                <scope line="430"/>
            </method>
            <javadoc line="437">
                Translates a key object, whose provider may be unknown or potentially
                  untrusted, into a corresponding key object of this key factory.                
                <param>
                    key the key whose provider is unknown or untrusted.                    
                </param>
                <return>
                    the translated key.                    
                </return>
                <exception>
                    InvalidKeyException if the given key cannot be processed
                      by this key factory.                    
                </exception>
            </javadoc>
            <method name="translateKey" type="Key" line="448">
                <params>
                    <param name="key" type="Key"/>
                </params>
                <scope line="449"/>
                <declaration name="failure" type="Exception" line="452"/>
                <declaration name="mySpi" type="KeyFactorySpi" line="453"/>
                <scope line="454">
                    <scope line="455"/>
                    <scope line="457">
                        <scope line="458"/>
                    </scope>
                </scope>
                <scope line="464"/>
                <scope line="467"/>
            </method>
        </class>
    </source>