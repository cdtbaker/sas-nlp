<?xml version="1.0" encoding="UTF-8"?>
    <source package="java.net">
        <import package="java.io.IOException"/>
        <import package="java.io.InputStream"/>
        <import package="java.io.OutputStream"/>
        <import package="java.util.Hashtable"/>
        <import package="java.util.StringTokenizer"/>
        <import package="sun.security.util.SecurityConstants"/>
        <class name="URL" line="35">
            <comment line="215">
                Our hash code.
                 @serial                
            </comment>
            <comment line="624">
                Returns true if specified string is a valid protocol name.                
            </comment>
            <comment line="644">
                Checks for permission to specify a stream handler.                
            </comment>
            <implements interface="java.io.Serializable"/>
            <javadoc line="35">
                Class &lt;code&gt;URL&lt;/code&gt; represents a Uniform Resource
                  Locator, a pointer to a &quot;resource&quot; on the World
                  Wide Web. A resource can be something as simple as a file or a
                  directory, or it can be a reference to a more complicated object,
                  such as a query to a database or to a search engine. More
                  information on the types of URLs and their formats can be found at:
                  &lt;blockquote&gt;
                  &lt;a href=&quot;http://www.socs.uts.edu.au/MosaicDocs-old/url-primer.html&quot;&gt;
                  &lt;i&gt;http://www.socs.uts.edu.au/MosaicDocs-old/url-primer.html&lt;/i&gt;&lt;/a&gt;
                  &lt;/blockquote&gt;
                  &lt;p&gt;
                  In general, a URL can be broken into several parts. The previous
                  example of a URL indicates that the protocol to use is
                  &lt;code&gt;http&lt;/code&gt; (HyperText Transfer Protocol) and that the
                  information resides on a host machine named
                  &lt;code&gt;www.socs.uts.edu.au&lt;/code&gt;. The information on that host
                  machine is named &lt;code&gt;/MosaicDocs-old/url-primer.html&lt;/code&gt;. The exact
                  meaning of this name on the host machine is both protocol
                  dependent and host dependent. The information normally resides in
                  a file, but it could be generated on the fly. This component of
                  the URL is called the &lt;i&gt;path&lt;/i&gt; component.
                  &lt;p&gt;
                  A URL can optionally specify a &quot;port&quot;, which is the
                  port number to which the TCP connection is made on the remote host
                  machine. If the port is not specified, the default port for
                  the protocol is used instead. For example, the default port for
                  &lt;code&gt;http&lt;/code&gt; is &lt;code&gt;80&lt;/code&gt;. An alternative port could be
                  specified as:
                  &lt;blockquote&gt;&lt;pre&gt;
                  http://www.socs.uts.edu.au:80/MosaicDocs-old/url-primer.html
                  &lt;/pre&gt;&lt;/blockquote&gt;
                  &lt;p&gt;
                  The syntax of &lt;code&gt;URL&lt;/code&gt; is defined by  &lt;a
                  href=&quot;http://www.ietf.org/rfc/rfc2396.txt&quot;&gt;&lt;i&gt;RFC&amp;nbsp;2396: Uniform
                  Resource Identifiers (URI): Generic Syntax&lt;/i&gt;&lt;/a&gt;, amended by &lt;a
                  href=&quot;http://www.ietf.org/rfc/rfc2732.txt&quot;&gt;&lt;i&gt;RFC&amp;nbsp;2732: Format for
                  Literal IPv6 Addresses in URLs&lt;/i&gt;&lt;/a&gt;. The Literal IPv6 address format
                  also supports scope_ids. The syntax and usage of scope_ids is described
                  &lt;a href=&quot;Inet6Address.html#scoped&quot;&gt;here&lt;/a&gt;.
                  &lt;p&gt;
                  A URL may have appended to it a &quot;fragment&quot;, also known
                  as a &quot;ref&quot; or a &quot;reference&quot;. The fragment is indicated by the sharp
                  sign character &quot;#&quot; followed by more characters. For example,
                  &lt;blockquote&gt;&lt;pre&gt;
                  http://java.sun.com/index.html#chapter1
                  &lt;/pre&gt;&lt;/blockquote&gt;
                  &lt;p&gt;
                  This fragment is not technically part of the URL. Rather, it
                  indicates that after the specified resource is retrieved, the
                  application is specifically interested in that part of the
                  document that has the tag &lt;code&gt;chapter1&lt;/code&gt; attached to it. The
                  meaning of a tag is resource specific.
                  &lt;p&gt;
                  An application can also specify a &quot;relative URL&quot;,
                  which contains only enough information to reach the resource
                  relative to another URL. Relative URLs are frequently used within
                  HTML pages. For example, if the contents of the URL:
                  &lt;blockquote&gt;&lt;pre&gt;
                  http://java.sun.com/index.html
                  &lt;/pre&gt;&lt;/blockquote&gt;
                  contained within it the relative URL:
                  &lt;blockquote&gt;&lt;pre&gt;
                  FAQ.html
                  &lt;/pre&gt;&lt;/blockquote&gt;
                  it would be a shorthand for:
                  &lt;blockquote&gt;&lt;pre&gt;
                  http://java.sun.com/FAQ.html
                  &lt;/pre&gt;&lt;/blockquote&gt;
                  &lt;p&gt;
                  The relative URL need not specify all the components of a URL. If
                  the protocol, host name, or port number is missing, the value is
                  inherited from the fully specified URL. The file component must be
                  specified. The optional fragment is not inherited.
                  &lt;p&gt;
                  The URL class does not itself encode or decode any URL components
                  according to the escaping mechanism defined in RFC2396. It is the
                  responsibility of the caller to encode any fields, which need to be
                  escaped prior to calling URL, and also to decode any escaped fields,
                  that are returned from URL. Furthermore, because URL has no knowledge
                  of URL escaping, it does not recognise equivalence between the encoded
                  or decoded form of the same URL. For example, the two URLs:&lt;br&gt;
                  &lt;pre&gt;    http://foo.com/hello world/ and http://foo.com/hello%20world&lt;/pre&gt;
                  would be considered not equal to each other.
                  &lt;p&gt;
                  Note, the {@link java.net.URI} class does perform escaping of its
                  component fields in certain circumstances. The recommended way
                  to manage the encoding and decoding of URLs is to use {@link java.net.URI},
                  and to convert between these two classes using {@link #toURI()} and{@link URI#toURL()}.
                  &lt;p&gt;
                  The {@link URLEncoder} and {@link URLDecoder} classes can also be
                  used, but only for HTML form encoding, which is not the same
                  as the encoding scheme defined in RFC2396.                
                <author>
                    James Gosling                    
                </author>
                <since>
                    JDK1.0                    
                </since>
            </javadoc>
            <declaration name="serialVersionUID" type="long" line="135"/>
            <declaration name="protocolPathProp" type="String" line="137"/>
            <javadoc line="137">
                The property which specifies the package prefix list to be scanned
                  for protocol handlers.  The value of this property (if any) should
                  be a vertical bar delimited list of package names to search through
                  for a protocol handler to load.  The policy of this class is that
                  all protocol handlers will be in a class called &lt;protocolname&gt;.Handler,
                  and each package in the list is examined in turn for a matching
                  handler.  If none are found (or the property is not specified), the
                  default package prefix, sun.net.www.protocol, is used.  The search
                  proceeds from the first package in the list to the last and stops
                  when a match is found.                
            </javadoc>
            <declaration name="protocol" type="String" line="151"/>
            <javadoc line="151">
                The protocol to use (ftp, http, nntp, ... etc.) .                
                <serial>
                                        
                </serial>
            </javadoc>
            <declaration name="host" type="String" line="157"/>
            <javadoc line="157">
                The host name to connect to.                
                <serial>
                                        
                </serial>
            </javadoc>
            <declaration name="port" type="int" line="163"/>
            <javadoc line="163">
                The protocol port to connect to.                
                <serial>
                                        
                </serial>
            </javadoc>
            <declaration name="file" type="String" line="169"/>
            <javadoc line="169">
                The specified file name on that host. &lt;code&gt;file&lt;/code&gt; is
                  defined as &lt;code&gt;path[?query]&lt;/code&gt;                
                <serial>
                                        
                </serial>
            </javadoc>
            <declaration name="query" type="String" line="176"/>
            <javadoc line="176">
                The query part of this URL.                
            </javadoc>
            <declaration name="authority" type="String" line="181"/>
            <javadoc line="181">
                The authority part of this URL.                
                <serial>
                                        
                </serial>
            </javadoc>
            <declaration name="path" type="String" line="187"/>
            <javadoc line="187">
                The path part of this URL.                
            </javadoc>
            <declaration name="userInfo" type="String" line="192"/>
            <javadoc line="192">
                The userinfo part of this URL.                
            </javadoc>
            <declaration name="ref" type="String" line="197"/>
            <javadoc line="197">
                # reference.                
                <serial>
                                        
                </serial>
            </javadoc>
            <declaration name="hostAddress" type="InetAddress" line="203"/>
            <javadoc line="203">
                The host&apos;s IP address, used in equals and hashCode.
                  Computed on demand. An uninitialized or unknown hostAddress is null.                
            </javadoc>
            <declaration name="handler" type="URLStreamHandler" line="209"/>
            <javadoc line="209">
                The URLStreamHandler for this URL.                
            </javadoc>
            <declaration name="hashCode" type="int" line="217"/>
            <javadoc line="219">
                Creates a &lt;code&gt;URL&lt;/code&gt; object from the specified
                  &lt;code&gt;protocol&lt;/code&gt;, &lt;code&gt;host&lt;/code&gt;, &lt;code&gt;port&lt;/code&gt;
                  number, and &lt;code&gt;file&lt;/code&gt;.&lt;p&gt;
                  &lt;code&gt;host&lt;/code&gt; can be expressed as a host name or a literal
                  IP address. If IPv6 literal address is used, it should be
                  enclosed in square brackets (&lt;tt&gt;&apos;[&apos;&lt;/tt&gt; and &lt;tt&gt;&apos;]&apos;&lt;/tt&gt;), as
                  specified by &lt;a
                  href=&quot;http://www.ietf.org/rfc/rfc2732.txt&quot;&gt;RFC&amp;nbsp;2732&lt;/a&gt;;
                  However, the literal IPv6 address format defined in &lt;a
                  href=&quot;http://www.ietf.org/rfc/rfc2373.txt&quot;&gt;&lt;i&gt;RFC&amp;nbsp;2373: IP
                  Version 6 Addressing Architecture&lt;/i&gt;&lt;/a&gt; is also accepted.&lt;p&gt;
                  Specifying a &lt;code&gt;port&lt;/code&gt; number of &lt;code&gt;-1&lt;/code&gt;
                  indicates that the URL should use the default port for the
                  protocol.&lt;p&gt;
                  If this is the first URL object being created with the specified
                  protocol, a &lt;i&gt;stream protocol handler&lt;/i&gt; object, an instance of
                  class &lt;code&gt;URLStreamHandler&lt;/code&gt;, is created for that protocol:
                  &lt;ol&gt;
                  &lt;li&gt;If the application has previously set up an instance of
                  &lt;code&gt;URLStreamHandlerFactory&lt;/code&gt; as the stream handler factory,
                  then the &lt;code&gt;createURLStreamHandler&lt;/code&gt; method of that instance
                  is called with the protocol string as an argument to create the
                  stream protocol handler.
                  &lt;li&gt;If no &lt;code&gt;URLStreamHandlerFactory&lt;/code&gt; has yet been set up,
                  or if the factory&apos;s &lt;code&gt;createURLStreamHandler&lt;/code&gt; method
                  returns &lt;code&gt;null&lt;/code&gt;, then the constructor finds the
                  value of the system property:
                  &lt;blockquote&gt;&lt;pre&gt;
                  java.protocol.handler.pkgs
                  &lt;/pre&gt;&lt;/blockquote&gt;
                  If the value of that system property is not &lt;code&gt;null&lt;/code&gt;,
                  it is interpreted as a list of packages separated by a vertical
                  slash character &apos;&lt;code&gt;|&lt;/code&gt;&apos;. The constructor tries to load
                  the class named:
                  &lt;blockquote&gt;&lt;pre&gt;
                  &amp;lt;&lt;i&gt;package&lt;/i&gt;&amp;gt;.&amp;lt;&lt;i&gt;protocol&lt;/i&gt;&amp;gt;.Handler
                  &lt;/pre&gt;&lt;/blockquote&gt;
                  where &amp;lt;&lt;i&gt;package&lt;/i&gt;&amp;gt; is replaced by the name of the package
                  and &amp;lt;&lt;i&gt;protocol&lt;/i&gt;&amp;gt; is replaced by the name of the protocol.
                  If this class does not exist, or if the class exists but it is not
                  a subclass of &lt;code&gt;URLStreamHandler&lt;/code&gt;, then the next package
                  in the list is tried.
                  &lt;li&gt;If the previous step fails to find a protocol handler, then the
                  constructor tries to load from a system default package.
                  &lt;blockquote&gt;&lt;pre&gt;
                  &amp;lt;&lt;i&gt;system default package&lt;/i&gt;&amp;gt;.&amp;lt;&lt;i&gt;protocol&lt;/i&gt;&amp;gt;.Handler
                  &lt;/pre&gt;&lt;/blockquote&gt;
                  If this class does not exist, or if the class exists but it is not a
                  subclass of &lt;code&gt;URLStreamHandler&lt;/code&gt;, then a
                  &lt;code&gt;MalformedURLException&lt;/code&gt; is thrown.
                  &lt;/ol&gt;
                  &lt;p&gt;Protocol handlers for the following protocols are guaranteed
                  to exist on the search path :-
                  &lt;blockquote&gt;&lt;pre&gt;
                  http, https, ftp, file, and jar
                  &lt;/pre&gt;&lt;/blockquote&gt;
                  Protocol handlers for additional protocols may also be
                  available.
                  &lt;p&gt;No validation of the inputs is performed by this constructor.                
                <param>
                    protocol   the name of the protocol to use.                    
                </param>
                <param>
                    host       the name of the host.                    
                </param>
                <param>
                    port       the port number on the host.                    
                </param>
                <param>
                    file       the file on the host                    
                </param>
                <exception>
                    MalformedURLException  if an unknown protocol is specified.                    
                </exception>
                <see>
                    java.lang.System#getProperty(java.lang.String)                    
                </see>
                <see>
                    java.net.URL#setURLStreamHandlerFactory(java.net.URLStreamHandlerFactory)                    
                </see>
                <see>
                    java.net.URLStreamHandler                    
                </see>
                <see>
                    java.net.URLStreamHandlerFactory#createURLStreamHandler(java.lang.String)                    
                </see>
            </javadoc>
            <method name="URL" type="constructor" line="299">
                <params>
                    <param name="protocol" type="String"/>
                    <param name="host" type="String"/>
                    <param name="port" type="int"/>
                    <param name="file" type="String"/>
                </params>
            </method>
            <javadoc line="303">
                Creates a URL from the specified &lt;code&gt;protocol&lt;/code&gt;
                  name, &lt;code&gt;host&lt;/code&gt; name, and &lt;code&gt;file&lt;/code&gt; name. The
                  default port for the specified protocol is used.
                  &lt;p&gt;
                  This method is equivalent to calling the four-argument
                  constructor with the arguments being &lt;code&gt;protocol&lt;/code&gt;,
                  &lt;code&gt;host&lt;/code&gt;, &lt;code&gt;-1&lt;/code&gt;, and &lt;code&gt;file&lt;/code&gt;.
                  No validation of the inputs is performed by this constructor.                
                <param>
                    protocol   the name of the protocol to use.                    
                </param>
                <param>
                    host       the name of the host.                    
                </param>
                <param>
                    file       the file on the host.                    
                </param>
                <exception>
                    MalformedURLException  if an unknown protocol is specified.                    
                </exception>
                <see>
                    java.net.URL#URL(java.lang.String,java.lang.String,int,java.lang.String)                    
                </see>
            </javadoc>
            <method name="URL" type="constructor" line="322">
                <params>
                    <param name="protocol" type="String"/>
                    <param name="host" type="String"/>
                    <param name="file" type="String"/>
                </params>
            </method>
            <javadoc line="326">
                Creates a &lt;code&gt;URL&lt;/code&gt; object from the specified
                  &lt;code&gt;protocol&lt;/code&gt;, &lt;code&gt;host&lt;/code&gt;, &lt;code&gt;port&lt;/code&gt;
                  number, &lt;code&gt;file&lt;/code&gt;, and &lt;code&gt;handler&lt;/code&gt;. Specifying
                  a &lt;code&gt;port&lt;/code&gt; number of &lt;code&gt;-1&lt;/code&gt; indicates that
                  the URL should use the default port for the protocol. Specifying
                  a &lt;code&gt;handler&lt;/code&gt; of &lt;code&gt;null&lt;/code&gt; indicates that the URL
                  should use a default stream handler for the protocol, as outlined
                  for:
                  java.net.URL#URL(java.lang.String, java.lang.String, int,
                  java.lang.String)
                  &lt;p&gt;If the handler is not null and there is a security manager,
                  the security manager&apos;s &lt;code&gt;checkPermission&lt;/code&gt;
                  method is called with a
                  &lt;code&gt;NetPermission(&quot;specifyStreamHandler&quot;)&lt;/code&gt; permission.
                  This may result in a SecurityException.
                  No validation of the inputs is performed by this constructor.                
                <param>
                    protocol   the name of the protocol to use.                    
                </param>
                <param>
                    host       the name of the host.                    
                </param>
                <param>
                    port       the port number on the host.                    
                </param>
                <param>
                    file       the file on the host                    
                </param>
                <param>
                    handler    the stream handler for the URL.                    
                </param>
                <exception>
                    MalformedURLException  if an unknown protocol is specified.                    
                </exception>
                <exception>
                    SecurityExceptionif a security manager exists and its
                      <code>checkPermission</code> method doesn't allow
                      specifying a stream handler explicitly.                    
                </exception>
                <see>
                    java.lang.System#getProperty(java.lang.String)                    
                </see>
                <see>
                    java.net.URL#setURLStreamHandlerFactory(java.net.URLStreamHandlerFactory)                    
                </see>
                <see>
                    java.net.URLStreamHandler                    
                </see>
                <see>
                    java.net.URLStreamHandlerFactory#createURLStreamHandler(java.lang.String)                    
                </see>
                <see>
                    SecurityManager#checkPermission                    
                </see>
                <see>
                    java.net.NetPermission                    
                </see>
            </javadoc>
            <method name="URL" type="constructor" line="366">
                <params>
                    <param name="protocol" type="String"/>
                    <param name="host" type="String"/>
                    <param name="port" type="int"/>
                    <param name="file" type="String"/>
                    <param name="handler" type="URLStreamHandler"/>
                </params>
                <comment line="371">
                    check for permission to specify a handler                    
                </comment>
                <comment line="380">
                    if host is a literal IPv6 address,
                     we will make it conform to RFC 2732                    
                </comment>
                <comment line="408">
                    Note: we don&apos;t do validation of the URL here. Too risky to change
                     right now, but worth considering for future reference. -br                    
                </comment>
                <scope line="367">
                    <declaration name="sm" type="SecurityManager" line="368"/>
                    <scope line="369"/>
                </scope>
                <scope line="377">
                    <scope line="383"/>
                    <scope line="388"/>
                </scope>
                <declaration name="parts" type="Parts" line="396"/>
                <scope line="400"/>
                <scope line="402"/>
                <scope line="410"/>
            </method>
            <javadoc line="416">
                Creates a &lt;code&gt;URL&lt;/code&gt; object from the &lt;code&gt;String&lt;/code&gt;
                  representation.
                  &lt;p&gt;
                  This constructor is equivalent to a call to the two-argument
                  constructor with a &lt;code&gt;null&lt;/code&gt; first argument.                
                <param>
                    spec   the <code>String</code> to parse as a URL.                    
                </param>
                <exception>
                    MalformedURLException  if no protocol is specified, or an
                      unknown protocol is found, or <tt>spec</tt> is <tt>null</tt>.                    
                </exception>
                <see>
                    java.net.URL#URL(java.net.URL,java.lang.String)                    
                </see>
            </javadoc>
            <method name="URL" type="constructor" line="428">
                <params>
                    <param name="spec" type="String"/>
                </params>
            </method>
            <javadoc line="432">
                Creates a URL by parsing the given spec within a specified context.
                  The new URL is created from the given context URL and the spec
                  argument as described in
                  RFC2396 &amp;quot;Uniform Resource Identifiers : Generic  Syntax&amp;quot; :
                  &lt;blockquote&gt;&lt;pre&gt;
                  &amp;lt;scheme&amp;gt;://&amp;lt;authority&amp;gt;&amp;lt;path&amp;gt;?&amp;lt;query&amp;gt;#&amp;lt;fragment&amp;gt;
                  &lt;/pre&gt;&lt;/blockquote&gt;
                  The reference is parsed into the scheme, authority, path, query and
                  fragment parts. If the path component is empty and the scheme,
                  authority, and query components are undefined, then the new URL is a
                  reference to the current document. Otherwise, the fragment and query
                  parts present in the spec are used in the new URL.
                  &lt;p&gt;
                  If the scheme component is defined in the given spec and does not match
                  the scheme of the context, then the new URL is created as an absolute
                  URL based on the spec alone. Otherwise the scheme component is inherited
                  from the context URL.
                  &lt;p&gt;
                  If the authority component is present in the spec then the spec is
                  treated as absolute and the spec authority and path will replace the
                  context authority and path. If the authority component is absent in the
                  spec then the authority of the new URL will be inherited from the
                  context.
                  &lt;p&gt;
                  If the spec&apos;s path component begins with a slash character
                  &amp;quot;/&amp;quot; then the
                  path is treated as absolute and the spec path replaces the context path.
                  &lt;p&gt;
                  Otherwise, the path is treated as a relative path and is appended to the
                  context path, as described in RFC2396. Also, in this case,
                  the path is canonicalized through the removal of directory
                  changes made by occurences of &amp;quot;..&amp;quot; and &amp;quot;.&amp;quot;.
                  &lt;p&gt;
                  For a more detailed description of URL parsing, refer to RFC2396.                
                <param>
                    context   the context in which to parse the specification.                    
                </param>
                <param>
                    spec      the <code>String</code> to parse as a URL.                    
                </param>
                <exception>
                    MalformedURLException  if no protocol is specified, or an
                      unknown protocol is found, or <tt>spec</tt> is <tt>null</tt>.                    
                </exception>
                <see>
                    java.net.URL#URL(java.lang.String,java.lang.String,int,java.lang.String)                    
                </see>
                <see>
                    java.net.URLStreamHandler                    
                </see>
                <see>
                    java.net.URLStreamHandler#parseURL(java.net.URL,java.lang.String,int,int)                    
                </see>
            </javadoc>
            <method name="URL" type="constructor" line="479">
                <params>
                    <param name="context" type="URL"/>
                    <param name="spec" type="String"/>
                </params>
            </method>
            <javadoc line="483">
                Creates a URL by parsing the given spec with the specified handler
                  within a specified context. If the handler is null, the parsing
                  occurs as with the two argument constructor.                
                <param>
                    context   the context in which to parse the specification.                    
                </param>
                <param>
                    spec      the <code>String</code> to parse as a URL.                    
                </param>
                <param>
                    handler   the stream handler for the URL.                    
                </param>
                <exception>
                    MalformedURLException  if no protocol is specified, or an
                      unknown protocol is found, or <tt>spec</tt> is <tt>null</tt>.                    
                </exception>
                <exception>
                    SecurityExceptionif a security manager exists and its
                      <code>checkPermission</code> method doesn't allow
                      specifying a stream handler.                    
                </exception>
                <see>
                    java.net.URL#URL(java.lang.String,java.lang.String,int,java.lang.String)                    
                </see>
                <see>
                    java.net.URLStreamHandler                    
                </see>
                <see>
                    java.net.URLStreamHandler#parseURL(java.net.URL,java.lang.String,int,int)                    
                </see>
            </javadoc>
            <method name="URL" type="constructor" line="505">
                <params>
                    <param name="context" type="URL"/>
                    <param name="spec" type="String"/>
                    <param name="handler" type="URLStreamHandler"/>
                </params>
                <comment line="514">
                    Check for permission to specify a handler                    
                </comment>
                <comment line="525">
                    eliminate trailing whitespace                    
                </comment>
                <comment line="528">
                    eliminate leading whitespace                    
                </comment>
                <comment line="535">
                    we&apos;re assuming this is a ref relative to the context URL.
                     This means protocols cannot start w &apos;#&apos;, but we must parse
                     ref URL&apos;s like: &quot;hello:there&quot; w a &apos;:&apos; in them.                    
                </comment>
                <comment line="554">
                    Only use our context if the protocols match.                    
                </comment>
                <comment line="558">
                    inherit the protocol handler from the context
                     if not specified to the constructor                    
                </comment>
                <comment line="564">
                    If the context is a hierarchical URL scheme and the spec
                     contains a matching scheme then maintain backwards
                     compatibility and treat it as if the spec didn&apos;t contain
                     the scheme; see 5.2.3 of RFC2396                    
                </comment>
                <comment line="587">
                    Get the protocol handler if not specified or the protocol
                     of the context could not be used                    
                </comment>
                <comment line="602">
                    Handle special case inheritance of query and fragment
                     implied by RFC2396 section 5.2.2.                    
                </comment>
                <declaration name="original" type="String" line="506"/>
                <declaration name="i" type="int" line="507"/>
                <declaration name="start" type="int" line="508"/>
                <declaration name="newProtocol" type="String" line="509"/>
                <declaration name="aRef" type="boolean" line="510"/>
                <declaration name="isRelative" type="boolean" line="511"/>
                <scope line="514">
                    <declaration name="sm" type="SecurityManager" line="515"/>
                    <scope line="516"/>
                </scope>
                <scope line="521">
                    <scope line="523"/>
                    <scope line="526"/>
                    <scope line="530"/>
                    <scope line="533"/>
                    <scope line="541">
                        <scope line="542">
                            <declaration name="s" type="String" line="544"/>
                            <scope line="545"/>
                        </scope>
                    </scope>
                    <scope line="556">
                        <scope line="559"/>
                        <scope line="570"/>
                    </scope>
                    <scope line="582"/>
                    <scope line="589"/>
                    <scope line="596"/>
                    <scope line="605">
                        <scope line="607"/>
                    </scope>
                </scope>
                <scope line="614"/>
                <scope line="616">
                    <declaration name="exception" type="MalformedURLException" line="617"/>
                </scope>
            </method>
            <method name="isValidProtocol" type="boolean" line="626">
                <params>
                    <param name="protocol" type="String"/>
                </params>
                <declaration name="len" type="int" line="627"/>
                <declaration name="c" type="char" line="630"/>
                <scope line="633">
                    <scope line="636"/>
                </scope>
            </method>
            <method name="checkSpecifyHandler" type="void" line="646">
                <params>
                    <param name="sm" type="SecurityManager"/>
                </params>
            </method>
            <javadoc line="650">
                Sets the fields of the URL. This is not a public method so that
                  only URLStreamHandlers can modify URL fields. URLs are
                  otherwise constant.                
                <param>
                    protocol the name of the protocol to use                    
                </param>
                <param>
                    host the name of the host                    
                </param>
                <param>
                    port the port number on the host                    
                </param>
                <param>
                    file the file on the host                    
                </param>
                <param>
                    ref the internal reference in the URL                    
                </param>
            </javadoc>
            <method name="set" type="void" line="662">
                <params>
                    <param name="protocol" type="String"/>
                    <param name="host" type="String"/>
                    <param name="port" type="int"/>
                    <param name="file" type="String"/>
                    <param name="ref" type="String"/>
                </params>
                <comment line="671">
                    This is very important. We must recompute this after the                    
                </comment>
                <scope line="663">
                    <declaration name="q" type="int" line="674"/>
                    <scope line="675"/>
                </scope>
            </method>
            <javadoc line="683">
                Sets the specified 8 fields of the URL. This is not a public method so
                  that only URLStreamHandlers can modify URL fields. URLs are otherwise
                  constant.                
                <param>
                    protocol the name of the protocol to use                    
                </param>
                <param>
                    host the name of the host                    
                </param>
                <param>
                    port the port number on the host                    
                </param>
                <param>
                    authority the authority part for the url                    
                </param>
                <param>
                    userInfo the username and password                    
                </param>
                <param>
                    path the file on the host                    
                </param>
                <param>
                    ref the internal reference in the URL                    
                </param>
                <param>
                    query the query part of this URL                    
                </param>
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="set" type="void" line="700">
                <params>
                    <param name="protocol" type="String"/>
                    <param name="host" type="String"/>
                    <param name="port" type="int"/>
                    <param name="authority" type="String"/>
                    <param name="userInfo" type="String"/>
                    <param name="path" type="String"/>
                    <param name="query" type="String"/>
                    <param name="ref" type="String"/>
                </params>
                <comment line="710">
                    This is very important. We must recompute this after the                    
                </comment>
                <scope line="701"/>
            </method>
            <javadoc line="718">
                Gets the query part of this &lt;code&gt;URL&lt;/code&gt;.                
                <return>
                    the query part of this <code>URL</code>,
                      or <CODE>null</CODE> if one does not exist                    
                </return>
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="getQuery" type="String" line="725"/>
            <javadoc line="729">
                Gets the path part of this &lt;code&gt;URL&lt;/code&gt;.                
                <return>
                    the path part of this <code>URL</code>, or an
                      empty string if one does not exist                    
                </return>
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="getPath" type="String" line="736"/>
            <javadoc line="740">
                Gets the userInfo part of this &lt;code&gt;URL&lt;/code&gt;.                
                <return>
                    the userInfo part of this <code>URL</code>, or
                      <CODE>null</CODE> if one does not exist                    
                </return>
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="getUserInfo" type="String" line="747"/>
            <javadoc line="751">
                Gets the authority part of this &lt;code&gt;URL&lt;/code&gt;.                
                <return>
                    the authority part of this <code>URL</code>                    
                </return>
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="getAuthority" type="String" line="757"/>
            <javadoc line="761">
                Gets the port number of this &lt;code&gt;URL&lt;/code&gt;.                
                <return>
                    the port number, or -1 if the port is not set                    
                </return>
            </javadoc>
            <method name="getPort" type="int" line="766"/>
            <javadoc line="770">
                Gets the default port number of the protocol associated
                  with this &lt;code&gt;URL&lt;/code&gt;. If the URL scheme or the URLStreamHandler
                  for the URL do not define a default port number,
                  then -1 is returned.                
                <return>
                    the port number                    
                </return>
                <since>
                    1.4                    
                </since>
            </javadoc>
            <method name="getDefaultPort" type="int" line="779"/>
            <javadoc line="783">
                Gets the protocol name of this &lt;code&gt;URL&lt;/code&gt;.                
                <return>
                    the protocol of this <code>URL</code>.                    
                </return>
            </javadoc>
            <method name="getProtocol" type="String" line="788"/>
            <javadoc line="792">
                Gets the host name of this &lt;code&gt;URL&lt;/code&gt;, if applicable.
                  The format of the host conforms to RFC 2732, i.e. for a
                  literal IPv6 address, this method will return the IPv6 address
                  enclosed in square brackets (&lt;tt&gt;&apos;[&apos;&lt;/tt&gt; and &lt;tt&gt;&apos;]&apos;&lt;/tt&gt;).                
                <return>
                    the host name of this <code>URL</code>.                    
                </return>
            </javadoc>
            <method name="getHost" type="String" line="800"/>
            <javadoc line="804">
                Gets the file name of this &lt;code&gt;URL&lt;/code&gt;.
                  The returned file portion will be
                  the same as &lt;CODE&gt;getPath()&lt;/CODE&gt;, plus the concatenation of
                  the value of &lt;CODE&gt;getQuery()&lt;/CODE&gt;, if any. If there is
                  no query portion, this method and &lt;CODE&gt;getPath()&lt;/CODE&gt; will
                  return identical results.                
                <return>
                    the file name of this <code>URL</code>,
                      or an empty string if one does not exist                    
                </return>
            </javadoc>
            <method name="getFile" type="String" line="815"/>
            <javadoc line="819">
                Gets the anchor (also known as the &quot;reference&quot;) of this
                  &lt;code&gt;URL&lt;/code&gt;.                
                <return>
                    the anchor (also known as the "reference") of this
                      <code>URL</code>, or <CODE>null</CODE> if one does not exist                    
                </return>
            </javadoc>
            <method name="getRef" type="String" line="826"/>
            <javadoc line="830">
                Compares this URL for equality with another object.&lt;p&gt;
                  If the given object is not a URL then this method immediately returns
                  &lt;code&gt;false&lt;/code&gt;.&lt;p&gt;
                  Two URL objects are equal if they have the same protocol, reference
                  equivalent hosts, have the same port number on the host, and the same
                  file and fragment of the file.&lt;p&gt;
                  Two hosts are considered equivalent if both host names can be resolved
                  into the same IP addresses; else if either host name can&apos;t be
                  resolved, the host names must be equal without regard to case; or both
                  host names equal to null.&lt;p&gt;
                  Since hosts comparison requires name resolution, this operation is a
                  blocking operation. &lt;p&gt;
                  Note: The defined behavior for &lt;code&gt;equals&lt;/code&gt; is known to
                  be inconsistent with virtual hosting in HTTP.                
                <param>
                    obj   the URL to compare against.                    
                </param>
                <return>
                    <code>true</code> if the objects are the same;
                      <code>false</code> otherwise.                    
                </return>
            </javadoc>
            <method name="equals" type="boolean" line="855">
                <params>
                    <param name="obj" type="Object"/>
                </params>
                <declaration name="u2" type="URL" line="858"/>
            </method>
            <javadoc line="863">
                Creates an integer suitable for hash table indexing.&lt;p&gt;
                  The hash code is based upon all the URL components relevant for URL
                  comparison. As such, this operation is a blocking operation.&lt;p&gt;                
                <return>
                    a hash code for this <code>URL</code>.                    
                </return>
            </javadoc>
            <method name="hashCode" type="int" line="871"/>
            <javadoc line="879">
                Compares two URLs, excluding the fragment component.&lt;p&gt;
                  Returns &lt;code&gt;true&lt;/code&gt; if this &lt;code&gt;URL&lt;/code&gt; and the
                  &lt;code&gt;other&lt;/code&gt; argument are equal without taking the
                  fragment component into consideration.                
                <param>
                    other   the <code>URL</code> to compare against.                    
                </param>
                <return>
                    <code>true</code> if they reference the same remote object;
                      <code>false</code> otherwise.                    
                </return>
            </javadoc>
            <method name="sameFile" type="boolean" line="890">
                <params>
                    <param name="other" type="URL"/>
                </params>
            </method>
            <javadoc line="894">
                Constructs a string representation of this &lt;code&gt;URL&lt;/code&gt;. The
                  string is created by calling the &lt;code&gt;toExternalForm&lt;/code&gt;
                  method of the stream protocol handler for this object.                
                <return>
                    a string representation of this object.                    
                </return>
                <see>
                    java.net.URL#URL(java.lang.String,java.lang.String,int,java.lang.String)                    
                </see>
                <see>
                    java.net.URLStreamHandler#toExternalForm(java.net.URL)                    
                </see>
            </javadoc>
            <method name="toString" type="String" line="904"/>
            <javadoc line="908">
                Constructs a string representation of this &lt;code&gt;URL&lt;/code&gt;. The
                  string is created by calling the &lt;code&gt;toExternalForm&lt;/code&gt;
                  method of the stream protocol handler for this object.                
                <return>
                    a string representation of this object.                    
                </return>
                <see>
                    java.net.URL#URL(java.lang.String,java.lang.String,int,java.lang.String)                    
                </see>
                <see>
                    java.net.URLStreamHandler#toExternalForm(java.net.URL)                    
                </see>
            </javadoc>
            <method name="toExternalForm" type="String" line="918"/>
            <javadoc line="922">
                Returns a {@link java.net.URI} equivalent to this URL.
                  This method functions in the same way as &lt;code&gt;new URI (this.toString())&lt;/code&gt;.
                  &lt;p&gt;Note, any URL instance that complies with RFC 2396 can be converted
                  to a URI. However, some URLs that are not strictly in compliance
                  can not be converted to a URI.                
                <exception>
                    URISyntaxException if this URL is not formatted strictly according to
                      to RFC2396 and cannot be converted to a URI.                    
                </exception>
                <return>
                    a URI instance equivalent to this URL.                    
                </return>
                <since>
                    1.5                    
                </since>
            </javadoc>
            <method name="toURI" type="URI" line="935"/>
            <javadoc line="939">
                Returns a {@link java.net.URLConnection URLConnection} instance that
                  represents a connection to the remote object referred to by the{@code URL}.
                  &lt;P&gt;A new instance of {@linkplain java.net.URLConnection URLConnection} is
                  created every time when invoking the{@linkplain java.net.URLStreamHandler#openConnection(URL)URLStreamHandler.openConnection(URL)} method of the protocol handler for
                  this URL.&lt;/P&gt;
                  &lt;P&gt;It should be noted that a URLConnection instance does not establish
                  the actual network connection on creation. This will happen only when
                  calling {@linkplain java.net.URLConnection#connect() URLConnection.connect()}.&lt;/P&gt;
                  &lt;P&gt;If for the URL&apos;s protocol (such as HTTP or JAR), there
                  exists a public, specialized URLConnection subclass belonging
                  to one of the following packages or one of their subpackages:
                  java.lang, java.io, java.util, java.net, the connection
                  returned will be of that subclass. For example, for HTTP an
                  HttpURLConnection will be returned, and for JAR a
                  JarURLConnection will be returned.&lt;/P&gt;                
                <return>
                    a {@link java.net.URLConnection URLConnection} linking
                      to the URL.                    
                </return>
                <exception>
                    IOException  if an I/O exception occurs.                    
                </exception>
                <see>
                    java.net.URL#URL(java.lang.String,java.lang.String,int,java.lang.String)                    
                </see>
            </javadoc>
            <method name="openConnection" type="URLConnection" line="968"/>
            <javadoc line="972">
                Same as {@link #openConnection()}, except that the connection will be
                  made through the specified proxy; Protocol handlers that do not
                  support proxing will ignore the proxy parameter and make a
                  normal connection.
                  Invoking this method preempts the system&apos;s default ProxySelector
                  settings.                
                <param>
                    proxy the Proxy through which this connection
                      will be made. If direct connection is desired,
                      Proxy.NO_PROXY should be specified.                    
                </param>
                <return>
                    a <code>URLConnection</code> to the URL.                    
                </return>
                <exception>
                    IOException  if an I/O exception occurs.                    
                </exception>
                <exception>
                    SecurityException if a security manager is present
                      and the caller doesn't have permission to connect
                      to the proxy.                    
                </exception>
                <exception>
                    IllegalArgumentException will be thrown if proxy is null,
                      or proxy has the wrong type                    
                </exception>
                <exception>
                    UnsupportedOperationException if the subclass that
                      implements the protocol handler doesn't support
                      this method.                    
                </exception>
                <see>
                    java.net.URL#URL(java.lang.String,java.lang.String,int,java.lang.String)                    
                </see>
                <see>
                    java.net.URLConnection                    
                </see>
                <see>
                    java.net.URLStreamHandler#openConnection(java.net.URL,java.net.Proxy)                    
                </see>
                <since>
                    1.5                    
                </since>
            </javadoc>
            <method name="openConnection" type="URLConnection" line="1002">
                <params>
                    <param name="proxy" type="Proxy"/>
                </params>
                <comment line="1008">
                    Create a copy of Proxy as a security measure                    
                </comment>
                <scope line="1003"/>
                <declaration name="p" type="Proxy" line="1008"/>
                <declaration name="sm" type="SecurityManager" line="1009"/>
                <scope line="1010">
                    <declaration name="epoint" type="InetSocketAddress" line="1011"/>
                </scope>
            </method>
            <javadoc line="1021">
                Opens a connection to this &lt;code&gt;URL&lt;/code&gt; and returns an
                  &lt;code&gt;InputStream&lt;/code&gt; for reading from that connection. This
                  method is a shorthand for:
                  &lt;blockquote&gt;&lt;pre&gt;
                  openConnection().getInputStream()
                  &lt;/pre&gt;&lt;/blockquote&gt;                
                <return>
                    an input stream for reading from the URL connection.                    
                </return>
                <exception>
                    IOException  if an I/O exception occurs.                    
                </exception>
                <see>
                    java.net.URL#openConnection()                    
                </see>
                <see>
                    java.net.URLConnection#getInputStream()                    
                </see>
            </javadoc>
            <method name="openStream" type="InputStream" line="1034"/>
            <javadoc line="1038">
                Gets the contents of this URL. This method is a shorthand for:
                  &lt;blockquote&gt;&lt;pre&gt;
                  openConnection().getContent()
                  &lt;/pre&gt;&lt;/blockquote&gt;                
                <return>
                    the contents of this URL.                    
                </return>
                <exception>
                    IOException  if an I/O exception occurs.                    
                </exception>
                <see>
                    java.net.URLConnection#getContent()                    
                </see>
            </javadoc>
            <method name="getContent" type="Object" line="1048"/>
            <javadoc line="1052">
                Gets the contents of this URL. This method is a shorthand for:
                  &lt;blockquote&gt;&lt;pre&gt;
                  openConnection().getContent(Class[])
                  &lt;/pre&gt;&lt;/blockquote&gt;                
                <param>
                    classes an array of Java types                    
                </param>
                <return>
                    the content object of this URL that is the first match of
                      the types specified in the classes array.
                      null if none of the requested types are supported.                    
                </return>
                <exception>
                    IOException  if an I/O exception occurs.                    
                </exception>
                <see>
                    java.net.URLConnection#getContent(Class[])                    
                </see>
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="getContent" type="Object" line="1067">
                <params>
                    <param name="classes" type="Class[]"/>
                </params>
            </method>
            <declaration name="factory" type="URLStreamHandlerFactory" line="1071"/>
            <javadoc line="1071">
                The URLStreamHandler factory.                
            </javadoc>
            <javadoc line="1076">
                Sets an application&apos;s &lt;code&gt;URLStreamHandlerFactory&lt;/code&gt;.
                  This method can be called at most once in a given Java Virtual
                  Machine.
                  &lt;p&gt; The &lt;code&gt;URLStreamHandlerFactory&lt;/code&gt; instance is used to
                  construct a stream protocol handler from a protocol name.
                  &lt;p&gt; If there is a security manager, this method first calls
                  the security manager&apos;s &lt;code&gt;checkSetFactory&lt;/code&gt; method
                  to ensure the operation is allowed.
                  This could result in a SecurityException.                
                <param>
                    fac   the desired factory.                    
                </param>
                <exception>
                    Error  if the application has already set a factory.                    
                </exception>
                <exception>
                    SecurityException  if a security manager exists and its
                      <code>checkSetFactory</code> method doesn't allow
                      the operation.                    
                </exception>
                <see>
                    java.net.URL#URL(java.lang.String,java.lang.String,int,java.lang.String)                    
                </see>
                <see>
                    java.net.URLStreamHandlerFactory                    
                </see>
                <see>
                    SecurityManager#checkSetFactory                    
                </see>
            </javadoc>
            <method name="setURLStreamHandlerFactory" type="void" line="1099">
                <params>
                    <param name="fac" type="URLStreamHandlerFactory"/>
                </params>
                <scope line="1100">
                    <scope line="1101"/>
                    <declaration name="security" type="SecurityManager" line="1104"/>
                    <scope line="1105"/>
                </scope>
            </method>
            <declaration name="handlers" type="Hashtable" line="1113"/>
            <javadoc line="1113">
                A table of protocol handlers.                
            </javadoc>
            <declaration name="streamHandlerLock" type="Object" line="1117"/>
            <javadoc line="1119">
                Returns the Stream Handler.                
                <param>
                    protocol the protocol to use                    
                </param>
            </javadoc>
            <method name="getURLStreamHandler" type="URLStreamHandler" line="1123">
                <params>
                    <param name="protocol" type="String"/>
                </params>
                <comment line="1131">
                    Use the factory (if any)                    
                </comment>
                <comment line="1137">
                    Try java protocol handler                    
                </comment>
                <comment line="1149">
                    REMIND: decide whether to allow the &quot;null&quot; class prefix
                     or not.                    
                </comment>
                <comment line="1178">
                    any number of exceptions can get thrown here                    
                </comment>
                <comment line="1187">
                    Check again with hashtable just in case another
                     thread created a handler since we last checked                    
                </comment>
                <comment line="1195">
                    Check with factory if another thread set a
                     factory since our last check                    
                </comment>
                <comment line="1202">
                    The handler from the factory must be given more
                     importance. Discard the default handler that
                     this thread created.                    
                </comment>
                <comment line="1208">
                    Insert this handler into the hashtable                    
                </comment>
                <declaration name="handler" type="URLStreamHandler" line="1125"/>
                <scope line="1126">
                    <declaration name="checkedWithFactory" type="boolean" line="1128"/>
                    <scope line="1131"/>
                    <scope line="1137">
                        <declaration name="packagePrefixList" type="String" line="1138"/>
                        <scope line="1144"/>
                        <declaration name="packagePrefixIter" type="StringTokenizer" line="1152"/>
                        <scope line="1156">
                            <declaration name="packagePrefix" type="String" line="1158"/>
                            <scope line="1160">
                                <declaration name="clsName" type="String" line="1161"/>
                                <declaration name="cls" type="Class" line="1163"/>
                                <scope line="1164"/>
                                <scope line="1166">
                                    <declaration name="cl" type="ClassLoader" line="1167"/>
                                    <scope line="1168"/>
                                </scope>
                                <scope line="1172"/>
                            </scope>
                            <scope line="1176"/>
                        </scope>
                    </scope>
                    <scope line="1182">
                        <declaration name="handler2" type="URLStreamHandler" line="1184"/>
                        <scope line="1190"/>
                        <scope line="1196"/>
                        <scope line="1200"/>
                        <scope line="1208"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="1219">
                WriteObject is called to save the state of the URL to an
                  ObjectOutputStream. The handler is not saved since it is
                  specific to this system.                
                <serialData>
                    the default write object value. When read back in,
                      the reader must ensure that calling getURLStreamHandler with
                      the protocol variable returns a valid URLStreamHandler and
                      throw an IOException if it does not.                    
                </serialData>
            </javadoc>
            <method name="writeObject" type="void" line="1231">
                <params>
                    <param name="s" type="java.io.ObjectOutputStream"/>
                </params>
                <comment line="1233">
                    write the fields                    
                </comment>
            </method>
            <javadoc line="1235">
                readObject is called to restore the state of the URL from the
                  stream.  It reads the components of the URL and finds the local
                  stream handler.                
            </javadoc>
            <method name="readObject" type="void" line="1242">
                <params>
                    <param name="s" type="java.io.ObjectInputStream"/>
                </params>
                <comment line="1244">
                    read the fields                    
                </comment>
                <comment line="1249">
                    Construct authority part                    
                </comment>
                <comment line="1256">
                    Handle hosts with userInfo in them                    
                </comment>
                <comment line="1263">
                    Construct user info part                    
                </comment>
                <comment line="1269">
                    Construct path and query part                    
                </comment>
                <comment line="1273">
                    Fix: only do this if hierarchical?                    
                </comment>
                <scope line="1244"/>
                <scope line="1250">
                    <declaration name="at" type="int" line="1256"/>
                    <scope line="1257"/>
                </scope>
                <scope line="1261">
                    <declaration name="ind" type="int" line="1263"/>
                </scope>
                <scope line="1271">
                    <declaration name="q" type="int" line="1273"/>
                    <scope line="1274"/>
                </scope>
            </method>
        </class>
        <class name="Parts" line="1283">
            <comment line="215">
                Our hash code.
                 @serial                
            </comment>
            <comment line="624">
                Returns true if specified string is a valid protocol name.                
            </comment>
            <comment line="644">
                Checks for permission to specify a stream handler.                
            </comment>
            <declaration name="path" type="String" line="1284"/>
            <method name="Parts" type="constructor" line="1286">
                <params>
                    <param name="file" type="String"/>
                </params>
                <declaration name="ind" type="int" line="1287"/>
                <declaration name="q" type="int" line="1290"/>
                <scope line="1291"/>
                <scope line="1294"/>
            </method>
            <method name="getPath" type="String" line="1299"/>
            <method name="getQuery" type="String" line="1303"/>
            <method name="getRef" type="String" line="1307"/>
        </class>
    </source>