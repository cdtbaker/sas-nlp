<?xml version="1.0" encoding="UTF-8"?>
    <source package="java.net">
        <import package="java.net.URI"/>
        <import package="java.net.CookieStore"/>
        <import package="java.net.HttpCookie"/>
        <import package="java.net.URISyntaxException"/>
        <import package="java.util.List"/>
        <import package="java.util.Map"/>
        <import package="java.util.ArrayList"/>
        <import package="java.util.HashMap"/>
        <import package="java.util.Collections"/>
        <import package="java.util.Iterator"/>
        <import package="java.util.concurrent.locks.ReentrantLock"/>
        <class name="InMemoryCookieStore" line="13">
            <implements interface="CookieStore"/>
            <javadoc line="13">
                A simple in-memory java.net.CookieStore implementation                
                <author>
                    Edward Wang                    
                </author>
                <since>
                    1.6                    
                </since>
            </javadoc>
            <declaration name="cookieJar" type="List&lt;HttpCookie&gt;" line="19"/>
            <declaration name="domainIndex" type="Map&lt;String,List&lt;HttpCookie&gt;&gt;" line="20"/>
            <declaration name="uriIndex" type="Map&lt;URI,List&lt;HttpCookie&gt;&gt;" line="21"/>
            <declaration name="lock" type="ReentrantLock" line="22"/>
            <javadoc line="23">
                The default ctor                
            </javadoc>
            <method name="InMemoryCookieStore" type="constructor" line="26"/>
            <javadoc line="32">
                Add one cookie into cookie store.                
            </javadoc>
            <method name="add" type="void" line="35">
                <params>
                    <param name="uri" type="URI"/>
                    <param name="cookie" type="HttpCookie"/>
                </params>
                <scope line="36"/>
                <scope line="40">
                    <scope line="42">
                        <scope line="44"/>
                    </scope>
                </scope>
                <scope line="50"/>
            </method>
            <javadoc line="54">
                Get all cookies, which:
                  1) given uri domain-matches with, or, associated with
                  given uri when added to the cookie store.
                  3) not expired.
                  See RFC 2965 sec. 3.3.4 for more detail.                
            </javadoc>
            <method name="get" type="List<HttpCookie>" line="61">
                <params>
                    <param name="uri" type="URI"/>
                </params>
                <scope line="62"/>
                <declaration name="cookies" type="List&lt;HttpCookie&gt;" line="65"/>
                <declaration name="secureLink" type="boolean" line="66"/>
                <scope line="68"/>
                <scope line="72"/>
            </method>
            <javadoc line="77">
                Get all cookies in cookie store, except those have expired                
            </javadoc>
            <method name="getCookies" type="List<HttpCookie>" line="80">
                <declaration name="rt" type="List&lt;HttpCookie&gt;" line="81"/>
                <scope line="83">
                    <declaration name="it" type="Iterator&lt;HttpCookie&gt;" line="84"/>
                    <scope line="85">
                        <scope line="86"/>
                    </scope>
                </scope>
                <scope line="91"/>
            </method>
            <javadoc line="97">
                Get all URIs, which are associated with at least one cookie
                  of this cookie store.                
            </javadoc>
            <method name="getURIs" type="List<URI>" line="101">
                <declaration name="uris" type="List&lt;URI&gt;" line="102"/>
                <scope line="104">
                    <declaration name="it" type="Iterator&lt;URI&gt;" line="105"/>
                    <scope line="106">
                        <declaration name="uri" type="URI" line="107"/>
                        <declaration name="cookies" type="List&lt;HttpCookie&gt;" line="108"/>
                        <scope line="109"/>
                    </scope>
                </scope>
                <scope line="114"/>
            </method>
            <javadoc line="120">
                Remove a cookie from store                
            </javadoc>
            <method name="remove" type="boolean" line="123">
                <params>
                    <param name="uri" type="URI"/>
                    <param name="ck" type="HttpCookie"/>
                </params>
                <scope line="124"/>
                <declaration name="modified" type="boolean" line="127"/>
                <scope line="129"/>
                <scope line="132"/>
            </method>
            <javadoc line="137">
                Remove all cookies in this cookie store.                
            </javadoc>
            <method name="removeAll" type="boolean" line="140">
                <scope line="142"/>
                <scope line="147"/>
            </method>
            <method name="netscapeDomainMatches" type="boolean" line="152">
                <params>
                    <param name="domain" type="String"/>
                    <param name="host" type="String"/>
                </params>
                <scope line="153"/>
                <declaration name="isLocalDomain" type="boolean" line="156"/>
                <declaration name="embeddedDotInDomain" type="int" line="157"/>
                <scope line="158"/>
                <scope line="161"/>
                <declaration name="firstDotInHost" type="int" line="164"/>
                <scope line="165"/>
                <declaration name="domainLength" type="int" line="168"/>
                <declaration name="lengthDiff" type="int" line="169"/>
                <scope line="170"/>
                <scope line="173">
                    <declaration name="H" type="String" line="174"/>
                    <declaration name="D" type="String" line="175"/>
                </scope>
                <scope line="178"/>
            </method>
            <method name="getInternal1" type="void" line="183">
                <params>
                    <param name="cookies" type="List<HttpCookie>"/>
                    <param name="cookieIndex" type="Map<String,List<HttpCookie>>"/>
                    <param name="host" type="String"/>
                    <param name="secureLink" type="boolean"/>
                </params>
                <declaration name="toRemove" type="ArrayList&lt;HttpCookie&gt;" line="184"/>
                <scope line="185">
                    <declaration name="domain" type="String" line="186"/>
                    <declaration name="lst" type="List&lt;HttpCookie&gt;" line="187"/>
                    <scope line="188">
                        <scope line="189">
                            <scope line="190">
                                <scope line="191">
                                    <scope line="192"/>
                                </scope>
                                <scope line="196"/>
                            </scope>
                            <scope line="200"/>
                        </scope>
                    </scope>
                    <scope line="205"/>
                </scope>
            </method>
            <method name="getInternal2" type="void" line="212">
                <params>
                    <param name="cookies" type="List<HttpCookie>"/>
                    <param name="cookieIndex" type="Map<T,List<HttpCookie>>"/>
                    <param name="comparator" type="Comparable<T>"/>
                    <param name="secureLink" type="boolean"/>
                </params>
                <scope line="213">
                    <scope line="214">
                        <declaration name="indexedCookies" type="List&lt;HttpCookie&gt;" line="215"/>
                        <scope line="216">
                            <declaration name="it" type="Iterator&lt;HttpCookie&gt;" line="217"/>
                            <scope line="218">
                                <declaration name="ck" type="HttpCookie" line="219"/>
                                <scope line="220">
                                    <scope line="221"/>
                                    <scope line="224"/>
                                </scope>
                                <scope line="229"/>
                            </scope>
                        </scope>
                    </scope>
                </scope>
            </method>
            <method name="addIndex" type="void" line="237">
                <params>
                    <param name="indexStore" type="Map<T,List<HttpCookie>>"/>
                    <param name="index" type="T"/>
                    <param name="cookie" type="HttpCookie"/>
                </params>
                <scope line="238">
                    <declaration name="cookies" type="List&lt;HttpCookie&gt;" line="239"/>
                    <scope line="240"/>
                    <scope line="244"/>
                </scope>
            </method>
            <method name="getEffectiveURI" type="URI" line="251">
                <params>
                    <param name="uri" type="URI"/>
                </params>
                <declaration name="effectiveURI" type="URI" line="252"/>
                <scope line="253"/>
                <scope line="256"/>
            </method>
        </class>
    </source>