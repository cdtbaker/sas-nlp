<?xml version="1.0" encoding="UTF-8"?>
    <source package="java.nio.file">
        <import package="java.util.Iterator"/>
        <import package="java.io.Closeable"/>
        <import package="java.io.IOException"/>
        <interface name="DirectoryStream">
            <type_params>
                <type_param name="T"/>
            </type_params>
            <implements interface="Closeable"/>
            <implements interface="Iterable">
                <type_params>
                    <type_param name="T"/>
                </type_params>
            </implements>
            <javadoc line="32">
                An object to iterate over the entries in a directory. A directory stream
                  allows for the convenient use of the for-each construct to iterate over a
                  directory.
                  &lt;p&gt; &lt;b&gt; While {@code DirectoryStream} extends {@code Iterable}, it is not a
                  general-purpose {@code Iterable} as it supports only a single {@codeIterator}; invoking the {@link #iterator iterator} method to obtain a second
                  or subsequent iterator throws {@code IllegalStateException}. &lt;/b&gt;
                  &lt;p&gt; An important property of the directory stream&apos;s {@code Iterator} is that
                  its {@link Iterator#hasNext() hasNext} method is guaranteed to read-ahead by
                  at least one element. If {@code hasNext} method returns {@code true}, and is
                  followed by a call to the {@code next} method, it is guaranteed that the{@code next} method will not throw an exception due to an I/O error, or
                  because the stream has been {@link #close closed}. The {@code Iterator} does
                  not support the {@link Iterator#remove remove} operation.
                  &lt;p&gt; A {@code DirectoryStream} is opened upon creation and is closed by
                  invoking the {@code close} method. Closing a directory stream releases any
                  resources associated with the stream. Failure to close the stream may result
                  in a resource leak. The try-with-resources statement provides a useful
                  construct to ensure that the stream is closed:
                  &lt;pre&gt;
                  Path dir = ...
                  try (DirectoryStream&amp;lt;Path&amp;gt; stream = Files.newDirectoryStream(dir)) {
                  for (Path entry: stream) {
                  ...
                  }
                  }
                  &lt;/pre&gt;
                  &lt;p&gt; Once a directory stream is closed, then further access to the directory,
                  using the {@code Iterator}, behaves as if the end of stream has been reached.
                  Due to read-ahead, the {@code Iterator} may return one or more elements
                  after the directory stream has been closed. Once these buffered elements
                  have been read, then subsequent calls to the {@code hasNext} method returns{@code false}, and subsequent calls to the {@code next} method will throw{@code NoSuchElementException}.
                  &lt;p&gt; A directory stream is not required to be &lt;i&gt;asynchronously closeable&lt;/i&gt;.
                  If a thread is blocked on the directory stream&apos;s iterator reading from the
                  directory, and another thread invokes the {@code close} method, then the
                  second thread may block until the read operation is complete.
                  &lt;p&gt; If an I/O error is encountered when accessing the directory then it
                  causes the {@code Iterator}&apos;s {@code hasNext} or {@code next} methods to
                  throw {@link DirectoryIteratorException} with the {@link IOException} as the
                  cause. As stated above, the {@code hasNext} method is guaranteed to
                  read-ahead by at least one element. This means that if {@code hasNext} method
                  returns {@code true}, and is followed by a call to the {@code next} method,
                  then it is guaranteed that the {@code next} method will not fail with a{@code DirectoryIteratorException}.
                  &lt;p&gt; The elements returned by the iterator are in no specific order. Some file
                  systems maintain special links to the directory itself and the directory&apos;s
                  parent directory. Entries representing these links are not returned by the
                  iterator.
                  &lt;p&gt; The iterator is &lt;i&gt;weakly consistent&lt;/i&gt;. It is thread safe but does not
                  freeze the directory while iterating, so it may (or may not) reflect updates
                  to the directory that occur after the {@code DirectoryStream} is created.
                  &lt;p&gt; &lt;b&gt;Usage Examples:&lt;/b&gt;
                  Suppose we want a list of the source files in a directory. This example uses
                  both the for-each and try-with-resources constructs.
                  &lt;pre&gt;
                  List&amp;lt;Path&amp;gt; listSourceFiles(Path dir) throws IOException {
                  List&amp;lt;Path&amp;gt; result = new ArrayList&amp;lt;&amp;gt;();
                  try (DirectoryStream&amp;lt;Path&amp;gt; stream = Files.newDirectoryStream(dir, &quot;.{c,h,cpp,hpp,java}&quot;)) {
                  for (Path entry: stream) {
                  result.add(entry);
                  }
                  } catch (DirectoryIteratorException ex) {
                  // I/O error encounted during the iteration, the cause is an IOException
                  throw ex.getCause();
                  }
                  return result;
                  }
                  &lt;/pre&gt;                
                <param>
                    &lt;T&gt;
                           The type of element returned by the iterator                    
                </param>
                <since>
                    1.7                    
                </since>
                <see>
                    Files#newDirectoryStream(Path)                    
                </see>
            </javadoc>
            <interface name="Filter">
                <type_params>
                    <type_param name="T"/>
                </type_params>
                <javadoc line="122">
                    An interface that is implemented by objects that decide if a directory
                      entry should be accepted or filtered. A {@code Filter} is passed as the
                      parameter to the {@link Files#newDirectoryStream(Path,DirectoryStream.Filter)}method when opening a directory to iterate over the entries in the
                      directory.                    
                    <param>
                        &lt;T&gt;
                               the type of the directory entry                        
                    </param>
                    <since>
                        1.7                        
                    </since>
                </javadoc>
                <method name="accept" type="boolean" line="134"/>
                <javadoc line="134">
                    Decides if the given directory entry should be accepted or filtered.                    
                    <param>
                        entrythe directory entry to be tested                        
                    </param>
                    <return>
                        {@code true} if the directory entry should be accepted                        
                    </return>
                    <throws>
                        IOExceptionIf an I/O error occurs                        
                    </throws>
                </javadoc>
            </interface>
            <method name="iterator" type="Iterator<T>" line="148"/>
            <javadoc line="148">
                Returns the iterator associated with this {@code DirectoryStream}.                
                <return>
                    the iterator associated with this {@code DirectoryStream}                    
                </return>
                <throws>
                    IllegalStateExceptionif this directory stream is closed or the iterator has already
                      been returned                    
                </throws>
            </javadoc>
        </interface>
    </source>