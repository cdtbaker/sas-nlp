<?xml version="1.0" encoding="UTF-8"?>
    <source package="java.nio.file">
        <import package="java.util.Set"/>
        <import package="java.util.EnumSet"/>
        <import package="java.security.SecureRandom"/>
        <import package="java.security.AccessController"/>
        <import package="java.io.IOException"/>
        <import package="java.nio.file.attribute.FileAttribute"/>
        <import package="java.nio.file.attribute.PosixFilePermission"/>
        <import package="java.nio.file.attribute.PosixFilePermissions"/>
        <import package="java.nio.file.attribute.PosixFilePermission"/>
        <import package="sun.security.action.GetPropertyAction"/>
        <class name="TempFileHelper" line="40">
            <comment line="49">
                temporary directory location                
            </comment>
            <comment line="56">
                file name generation, same as java.io.File for now                
            </comment>
            <comment line="68">
                default file and directory permissions (lazily initialized)                
            </comment>
            <javadoc line="40">
                Helper class to support creation of temporary files and directories with
                  initial attributes.                
            </javadoc>
            <method name="TempFileHelper" type="constructor" line="46"/>
            <declaration name="tmpdir" type="Path" line="49"/>
            <declaration name="isPosix" type="boolean" line="52"/>
            <declaration name="random" type="SecureRandom" line="56"/>
            <method name="generatePath" type="Path" line="57">
                <params>
                    <param name="prefix" type="String"/>
                    <param name="suffix" type="String"/>
                    <param name="dir" type="Path"/>
                </params>
                <comment line="62">
                    the generated name should be a simple file name                    
                </comment>
                <declaration name="n" type="long" line="58"/>
                <declaration name="name" type="Path" line="60"/>
            </method>
            <class name="PosixPermissions" line="68">
                <declaration name="filePermissions" type="FileAttribute&lt;Set&lt;PosixFilePermission&gt;&gt;" line="69"/>
                <declaration name="dirPermissions" type="FileAttribute&lt;Set&lt;PosixFilePermission&gt;&gt;" line="71"/>
            </class>
            <javadoc line="76">
                Creates a file or directory in in the given given directory (or in the
                  temporary directory if dir is {@code null}).                
            </javadoc>
            <method name="create" type="Path" line="86">
                <params>
                    <param name="dir" type="Path"/>
                    <param name="prefix" type="String"/>
                    <param name="suffix" type="String"/>
                    <param name="createDirectory" type="boolean"/>
                    <param name="attrs" type="FileAttribute[]"/>
                </params>
                <comment line="95">
                    in POSIX environments use default file and directory permissions
                     if initial permissions not given by caller.                    
                </comment>
                <comment line="99">
                    no attributes so use default permissions                    
                </comment>
                <comment line="104">
                    check if posix permissions given; if not use default                    
                </comment>
                <comment line="123">
                    loop generating random names until file or directory can be created                    
                </comment>
                <comment line="130">
                    don&apos;t reveal temporary directory location                    
                </comment>
                <comment line="142">
                    don&apos;t reveal temporary directory location                    
                </comment>
                <comment line="147">
                    ignore                    
                </comment>
                <scope line="96">
                    <scope line="97"/>
                    <scope line="102">
                        <declaration name="hasPermissions" type="boolean" line="104"/>
                        <scope line="105">
                            <scope line="106"/>
                        </scope>
                        <scope line="111">
                            <declaration name="copy" type="FileAttribute&lt;?&gt;[]" line="112"/>
                        </scope>
                    </scope>
                </scope>
                <declaration name="sm" type="SecurityManager" line="123"/>
                <scope line="124">
                    <declaration name="f" type="Path" line="125"/>
                    <scope line="126"/>
                    <scope line="128"/>
                    <scope line="134">
                        <scope line="135"/>
                        <scope line="137"/>
                    </scope>
                    <scope line="140"/>
                    <scope line="145"/>
                </scope>
            </method>
            <javadoc line="151">
                Creates a temporary file in the given directory, or in in the
                  temporary directory if dir is {@code null}.                
            </javadoc>
            <method name="createTempFile" type="Path" line="160">
                <params>
                    <param name="dir" type="Path"/>
                    <param name="prefix" type="String"/>
                    <param name="suffix" type="String"/>
                    <param name="attrs" type="FileAttribute[]"/>
                </params>
            </method>
            <javadoc line="164">
                Creates a temporary directory in the given directory, or in in the
                  temporary directory if dir is {@code null}.                
            </javadoc>
            <method name="createTempDirectory" type="Path" line="172">
                <params>
                    <param name="dir" type="Path"/>
                    <param name="prefix" type="String"/>
                    <param name="attrs" type="FileAttribute[]"/>
                </params>
            </method>
        </class>
    </source>