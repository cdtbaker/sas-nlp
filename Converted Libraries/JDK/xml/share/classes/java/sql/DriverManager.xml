<?xml version="1.0" encoding="UTF-8"?>
    <source package="java.sql">
        <import package="java.util.Iterator"/>
        <import package="java.util.ServiceLoader"/>
        <import package="java.security.AccessController"/>
        <import package="java.security.PrivilegedAction"/>
        <import package="java.util.concurrent.CopyOnWriteArrayList"/>
        <class name="DriverManager" line="35">
            <comment line="83">
                List of registered JDBC drivers                
            </comment>
            <comment line="88">
                Used in println() to synchronize logWriter                
            </comment>
            <comment line="91">
                                
            </comment>
            <comment line="112">
                --------------------------JDBC 2.0-----------------------------                
            </comment>
            <comment line="169">
                ---------------------------------------------------------------                
            </comment>
            <comment line="464">
                ------------------------------------------------------------------------                
            </comment>
            <comment line="466">
                Indicates whether the class object that would be created if the code calling                
            </comment>
            <comment line="467">
                DriverManager is accessible.                
            </comment>
            <comment line="548">
                Worker method called by the public getConnection() methods.                
            </comment>
            <comment line="608">
                                
            </comment>
            <javadoc line="35">
                &lt;P&gt;The basic service for managing a set of JDBC drivers.&lt;br&gt;
                  &lt;B&gt;NOTE:&lt;/B&gt; The {@link &lt;code&gt;DataSource&lt;/code&gt;} interface, new in the
                  JDBC 2.0 API, provides another way to connect to a data source.
                  The use of a &lt;code&gt;DataSource&lt;/code&gt; object is the preferred means of
                  connecting to a data source.
                  &lt;P&gt;As part of its initialization, the &lt;code&gt;DriverManager&lt;/code&gt; class will
                  attempt to load the driver classes referenced in the &quot;jdbc.drivers&quot;
                  system property. This allows a user to customize the JDBC Drivers
                  used by their applications. For example in your
                  ~/.hotjava/properties file you might specify:
                  &lt;pre&gt;
                  &lt;CODE&gt;jdbc.drivers=foo.bah.Driver:wombat.sql.Driver:bad.taste.ourDriver&lt;/CODE&gt;
                  &lt;/pre&gt;
                  &lt;P&gt; The &lt;code&gt;DriverManager&lt;/code&gt; methods &lt;code&gt;getConnection&lt;/code&gt; and
                  &lt;code&gt;getDrivers&lt;/code&gt; have been enhanced to support the Java Standard Edition
                  &lt;a href=&quot;../../../technotes/guides/jar/jar.html#Service%20Provider&quot;&gt;Service Provider&lt;/a&gt; mechanism. JDBC 4.0 Drivers must
                  include the file &lt;code&gt;META-INF/services/java.sql.Driver&lt;/code&gt;. This file contains the name of the JDBC drivers
                  implementation of &lt;code&gt;java.sql.Driver&lt;/code&gt;.  For example, to load the &lt;code&gt;my.sql.Driver&lt;/code&gt; class,
                  the &lt;code&gt;META-INF/services/java.sql.Driver&lt;/code&gt; file would contain the entry:
                  &lt;pre&gt;
                  &lt;code&gt;my.sql.Driver&lt;/code&gt;
                  &lt;/pre&gt;
                  &lt;P&gt;Applications no longer need to explictly load JDBC drivers using &lt;code&gt;Class.forName()&lt;/code&gt;. Existing programs
                  which currently load JDBC drivers using &lt;code&gt;Class.forName()&lt;/code&gt; will continue to work without
                  modification.
                  &lt;P&gt;When the method &lt;code&gt;getConnection&lt;/code&gt; is called,
                  the &lt;code&gt;DriverManager&lt;/code&gt; will attempt to
                  locate a suitable driver from amongst those loaded at
                  initialization and those loaded explicitly using the same classloader
                  as the current applet or application.
                  &lt;P&gt;
                  Starting with the Java 2 SDK, Standard Edition, version 1.3, a
                  logging stream can be set only if the proper
                  permission has been granted.  Normally this will be done with
                  the tool PolicyTool, which can be used to grant &lt;code&gt;permission
                  java.sql.SQLPermission &quot;setLog&quot;&lt;/code&gt;.                
                <see>
                    Driver                    
                </see>
                <see>
                    Connection                    
                </see>
            </javadoc>
            <declaration name="registeredDrivers" type="CopyOnWriteArrayList&lt;DriverInfo&gt;" line="83"/>
            <declaration name="loginTimeout" type="int" line="84"/>
            <declaration name="logWriter" type="java.io.PrintWriter" line="85"/>
            <declaration name="logStream" type="java.io.PrintStream" line="86"/>
            <declaration name="logSync" type="Object" line="88"/>
            <method name="DriverManager" type="constructor" line="91"/>
            <javadoc line="94">
                Load the initial JDBC drivers by checking the System property
                  jdbc.properties and then use the {@code ServiceLoader} mechanism                
            </javadoc>
            <scope line="98"/>
            <declaration name="SET_LOG_PERMISSION" type="SQLPermission" line="103"/>
            <javadoc line="103">
                The &lt;code&gt;SQLPermission&lt;/code&gt; constant that allows the
                  setting of the logging stream.                
                <since>
                    1.3                    
                </since>
            </javadoc>
            <javadoc line="113">
                Retrieves the log writer.
                  The &lt;code&gt;getLogWriter&lt;/code&gt; and &lt;code&gt;setLogWriter&lt;/code&gt;
                  methods should be used instead
                  of the &lt;code&gt;get/setlogStream&lt;/code&gt; methods, which are deprecated.                
                <return>
                    a <code>java.io.PrintWriter</code> object                    
                </return>
                <see>
                    #setLogWriter                    
                </see>
                <since>
                    1.2                    
                </since>
            </javadoc>
            <method name="getLogWriter" type="java.io.PrintWriter" line="123"/>
            <javadoc line="127">
                Sets the logging/tracing &lt;code&gt;PrintWriter&lt;/code&gt; object
                  that is used by the &lt;code&gt;DriverManager&lt;/code&gt; and all drivers.
                  &lt;P&gt;
                  There is a minor versioning problem created by the introduction
                  of the method &lt;code&gt;setLogWriter&lt;/code&gt;.  The
                  method &lt;code&gt;setLogWriter&lt;/code&gt; cannot create a &lt;code&gt;PrintStream&lt;/code&gt; object
                  that will be returned by &lt;code&gt;getLogStream&lt;/code&gt;---the Java platform does
                  not provide a backward conversion.  As a result, a new application
                  that uses &lt;code&gt;setLogWriter&lt;/code&gt; and also uses a JDBC 1.0 driver that uses
                  &lt;code&gt;getLogStream&lt;/code&gt; will likely not see debugging information written
                  by that driver.
                  &lt;P&gt;
                  Starting with the Java 2 SDK, Standard Edition, version 1.3 release, this method checks
                  to see that there is an &lt;code&gt;SQLPermission&lt;/code&gt; object before setting
                  the logging stream.  If a &lt;code&gt;SecurityManager&lt;/code&gt; exists and its
                  &lt;code&gt;checkPermission&lt;/code&gt; method denies setting the log writer, this
                  method throws a &lt;code&gt;java.lang.SecurityException&lt;/code&gt;.                
                <param>
                    out the new logging/tracing <code>PrintStream</code> object;
                      <code>null</code> to disable logging and tracing                    
                </param>
                <throws>
                    SecurityExceptionif a security manager exists and its
                      <code>checkPermission</code> method denies
                      setting the log writer                    
                </throws>
                <see>
                    SecurityManager#checkPermission                    
                </see>
                <see>
                    #getLogWriter                    
                </see>
                <since>
                    1.2                    
                </since>
            </javadoc>
            <method name="setLogWriter" type="void" line="157">
                <params>
                    <param name="out" type="java.io.PrintWriter"/>
                </params>
                <declaration name="sec" type="SecurityManager" line="159"/>
                <scope line="160"/>
            </method>
            <javadoc line="170">
                Attempts to establish a connection to the given database URL.
                  The &lt;code&gt;DriverManager&lt;/code&gt; attempts to select an appropriate driver from
                  the set of registered JDBC drivers.                
                <param>
                    url a database url of the form
                      <code> jdbc:<em>subprotocol</em>:<em>subname</em></code>                    
                </param>
                <param>
                    info a list of arbitrary string tag/value pairs as
                      connection arguments; normally at least a "user" and
                      "password" property should be included                    
                </param>
                <return>
                    a Connection to the URL                    
                </return>
                <exception>
                    SQLException if a database access error occurs                    
                </exception>
            </javadoc>
            <method name="getConnection" type="Connection" line="184">
                <params>
                    <param name="url" type="String"/>
                    <param name="info" type="java.util.Properties"/>
                </params>
                <comment line="186">
                    Gets the classloader of the code that called this method, may                    
                </comment>
                <comment line="187">
                    be null.                    
                </comment>
                <declaration name="callerCL" type="ClassLoader" line="188"/>
            </method>
            <javadoc line="193">
                Attempts to establish a connection to the given database URL.
                  The &lt;code&gt;DriverManager&lt;/code&gt; attempts to select an appropriate driver from
                  the set of registered JDBC drivers.                
                <param>
                    url a database url of the form
                      <code>jdbc:<em>subprotocol</em>:<em>subname</em></code>                    
                </param>
                <param>
                    user the database user on whose behalf the connection is being
                      made                    
                </param>
                <param>
                    password the user's password                    
                </param>
                <return>
                    a connection to the URL                    
                </return>
                <exception>
                    SQLException if a database access error occurs                    
                </exception>
            </javadoc>
            <method name="getConnection" type="Connection" line="207">
                <params>
                    <param name="url" type="String"/>
                    <param name="user" type="String"/>
                    <param name="password" type="String"/>
                </params>
                <comment line="210">
                    Gets the classloader of the code that called this method, may                    
                </comment>
                <comment line="211">
                    be null.                    
                </comment>
                <declaration name="info" type="java.util.Properties" line="208"/>
                <declaration name="callerCL" type="ClassLoader" line="212"/>
                <scope line="214"/>
                <scope line="217"/>
            </method>
            <javadoc line="224">
                Attempts to establish a connection to the given database URL.
                  The &lt;code&gt;DriverManager&lt;/code&gt; attempts to select an appropriate driver from
                  the set of registered JDBC drivers.                
                <param>
                    url a database url of the form
                      <code> jdbc:<em>subprotocol</em>:<em>subname</em></code>                    
                </param>
                <return>
                    a connection to the URL                    
                </return>
                <exception>
                    SQLException if a database access error occurs                    
                </exception>
            </javadoc>
            <method name="getConnection" type="Connection" line="235">
                <params>
                    <param name="url" type="String"/>
                </params>
                <comment line="239">
                    Gets the classloader of the code that called this method, may                    
                </comment>
                <comment line="240">
                    be null.                    
                </comment>
                <declaration name="info" type="java.util.Properties" line="237"/>
                <declaration name="callerCL" type="ClassLoader" line="241"/>
            </method>
            <javadoc line="246">
                Attempts to locate a driver that understands the given URL.
                  The &lt;code&gt;DriverManager&lt;/code&gt; attempts to select an appropriate driver from
                  the set of registered JDBC drivers.                
                <param>
                    url a database URL of the form
                      <code>jdbc:<em>subprotocol</em>:<em>subname</em></code>                    
                </param>
                <return>
                    a <code>Driver</code> object representing a driver
                      that can connect to the given URL                    
                </return>
                <exception>
                    SQLException if a database access error occurs                    
                </exception>
            </javadoc>
            <method name="getDriver" type="Driver" line="258">
                <params>
                    <param name="url" type="String"/>
                </params>
                <comment line="262">
                    Gets the classloader of the code that called this method, may                    
                </comment>
                <comment line="263">
                    be null.                    
                </comment>
                <comment line="266">
                    Walk through the loaded registeredDrivers attempting to locate someone                    
                </comment>
                <comment line="267">
                    who understands the given URL.                    
                </comment>
                <comment line="269">
                    If the caller does not have permission to load the driver then                    
                </comment>
                <comment line="270">
                    skip it.                    
                </comment>
                <comment line="274">
                    Success!                    
                </comment>
                <comment line="280">
                    Drop through and try the next driver.                    
                </comment>
                <declaration name="callerCL" type="ClassLoader" line="264"/>
                <scope line="268">
                    <scope line="271">
                        <scope line="272">
                            <scope line="273"/>
                        </scope>
                        <scope line="279"/>
                    </scope>
                    <scope line="282"/>
                </scope>
            </method>
            <javadoc line="293">
                Registers the given driver with the &lt;code&gt;DriverManager&lt;/code&gt;.
                  A newly-loaded driver class should call
                  the method &lt;code&gt;registerDriver&lt;/code&gt; to make itself
                  known to the &lt;code&gt;DriverManager&lt;/code&gt;.                
                <param>
                    driver the new JDBC Driver that is to be registered with the
                      <code>DriverManager</code>                    
                </param>
                <exception>
                    SQLException if a database access error occurs                    
                </exception>
            </javadoc>
            <method name="registerDriver" type="void" line="304">
                <params>
                    <param name="driver" type="java.sql.Driver"/>
                </params>
                <comment line="306">
                                        
                </comment>
                <comment line="310">
                    This is for compatibility with the original DriverManager                    
                </comment>
                <scope line="307"/>
                <scope line="309"/>
            </method>
            <javadoc line="318">
                Drops a driver from the &lt;code&gt;DriverManager&lt;/code&gt;&apos;s list.
                  Applets can only deregister drivers from their own classloaders.                
                <param>
                    driver the JDBC Driver to drop                    
                </param>
                <exception>
                    SQLException if a database access error occurs                    
                </exception>
            </javadoc>
            <method name="deregisterDriver" type="void" line="326">
                <params>
                    <param name="driver" type="Driver"/>
                </params>
                <comment line="331">
                    Gets the classloader of the code that called this method,                    
                </comment>
                <comment line="332">
                    may be null.                    
                </comment>
                <comment line="341">
                    If the caller does not have permission to load the driver then                    
                </comment>
                <comment line="342">
                    throw a SecurityException.                    
                </comment>
                <scope line="327"/>
                <declaration name="callerCL" type="ClassLoader" line="333"/>
                <declaration name="aDriver" type="DriverInfo" line="336"/>
                <scope line="337">
                    <scope line="338"/>
                    <scope line="340"/>
                </scope>
                <scope line="345"/>
            </method>
            <javadoc line="350">
                Retrieves an Enumeration with all of the currently loaded JDBC drivers
                  to which the current caller has access.
                  &lt;P&gt;&lt;B&gt;Note:&lt;/B&gt; The classname of a driver can be found using
                  &lt;CODE&gt;d.getClass().getName()&lt;/CODE&gt;                
                <return>
                    the list of JDBC Drivers loaded by the caller's class loader                    
                </return>
            </javadoc>
            <method name="getDrivers" type="java.util.Enumeration<Driver>" line="359">
                <comment line="362">
                    Gets the classloader of the code that called this method, may                    
                </comment>
                <comment line="363">
                    be null.                    
                </comment>
                <comment line="366">
                    Walk through the loaded registeredDrivers.                    
                </comment>
                <comment line="368">
                    If the caller does not have permission to load the driver then                    
                </comment>
                <comment line="369">
                    skip it.                    
                </comment>
                <declaration name="result" type="java.util.Vector&lt;Driver&gt;" line="360"/>
                <declaration name="callerCL" type="ClassLoader" line="364"/>
                <scope line="367">
                    <scope line="370"/>
                    <scope line="372"/>
                </scope>
            </method>
            <javadoc line="380">
                Sets the maximum time in seconds that a driver will wait
                  while attempting to connect to a database.                
                <param>
                    seconds the login time limit in seconds; zero means there is no limit                    
                </param>
                <see>
                    #getLoginTimeout                    
                </see>
            </javadoc>
            <method name="setLoginTimeout" type="void" line="387">
                <params>
                    <param name="seconds" type="int"/>
                </params>
            </method>
            <javadoc line="391">
                Gets the maximum time in seconds that a driver can wait
                  when attempting to log in to a database.                
                <return>
                    the driver login time limit in seconds                    
                </return>
                <see>
                    #setLoginTimeout                    
                </see>
            </javadoc>
            <method name="getLoginTimeout" type="int" line="398"/>
            <javadoc line="402">
                Sets the logging/tracing PrintStream that is used
                  by the &lt;code&gt;DriverManager&lt;/code&gt;
                  and all drivers.
                  &lt;P&gt;
                  In the Java 2 SDK, Standard Edition, version 1.3 release, this method checks
                  to see that there is an &lt;code&gt;SQLPermission&lt;/code&gt; object before setting
                  the logging stream.  If a &lt;code&gt;SecurityManager&lt;/code&gt; exists and its
                  &lt;code&gt;checkPermission&lt;/code&gt; method denies setting the log writer, this
                  method throws a &lt;code&gt;java.lang.SecurityException&lt;/code&gt;.                
                <param>
                    out the new logging/tracing PrintStream; to disable, set to <code>null</code>                    
                </param>
                <deprecated>
                                        
                </deprecated>
                <throws>
                    SecurityException if a security manager exists and its
                      <code>checkPermission</code> method denies setting the log stream                    
                </throws>
                <see>
                    SecurityManager#checkPermission                    
                </see>
                <see>
                    #getLogStream                    
                </see>
            </javadoc>
            <method name="setLogStream" type="void" line="421">
                <params>
                    <param name="out" type="java.io.PrintStream"/>
                </params>
                <declaration name="sec" type="SecurityManager" line="423"/>
                <scope line="424"/>
            </method>
            <javadoc line="435">
                Retrieves the logging/tracing PrintStream that is used by the &lt;code&gt;DriverManager&lt;/code&gt;
                  and all drivers.                
                <return>
                    the logging/tracing PrintStream; if disabled, is <code>null</code>                    
                </return>
                <deprecated>
                                        
                </deprecated>
                <see>
                    #setLogStream                    
                </see>
            </javadoc>
            <method name="getLogStream" type="java.io.PrintStream" line="443"/>
            <javadoc line="447">
                Prints a message to the current JDBC log stream.                
                <param>
                    message a log or tracing message                    
                </param>
            </javadoc>
            <method name="println" type="void" line="452">
                <params>
                    <param name="message" type="String"/>
                </params>
                <comment line="457">
                    automatic flushing is never enabled, so we must do it ourselves                    
                </comment>
                <scope line="453">
                    <scope line="454"/>
                </scope>
            </method>
            <method name="isDriverAllowed" type="boolean" line="467">
                <params>
                    <param name="driver" type="Driver"/>
                    <param name="classLoader" type="ClassLoader"/>
                </params>
                <declaration name="result" type="boolean" line="468"/>
                <scope line="469">
                    <declaration name="aClass" type="Class&lt;?&gt;" line="470"/>
                    <scope line="471"/>
                    <scope line="473"/>
                </scope>
            </method>
            <method name="loadInitialDrivers" type="void" line="483">
                <comment line="494">
                    If the driver is packaged as a Service Provider, load it.                    
                </comment>
                <comment line="495">
                    Get all the drivers through the classloader                    
                </comment>
                <comment line="496">
                    exposed as a java.sql.Driver.class service.                    
                </comment>
                <comment line="497">
                    ServiceLoader.load() replaces the sun.misc.Providers()                    
                </comment>
                <comment line="505">
                    Load these drivers, so that they can be instantiated.
                     It may be the case that the driver class may not be there
                     i.e. there may be a packaged driver with the service class
                     as implementation of java.sql.Driver but the actual class
                     may be missing. In that case a java.util.ServiceConfigurationError
                     will be thrown at runtime by the VM trying to locate
                     and load the service.
                    
                     Adding a try catch block to catch those runtime errors
                     if driver not available in classpath but it&apos;s
                     packaged as service and that service is there in classpath.                    
                </comment>
                <comment line="522">
                    Do nothing                    
                </comment>
                <declaration name="drivers" type="String" line="484"/>
                <scope line="485">
                    <anonymous_class line="486">
                        <method name="run" type="String" line="487"/>
                    </anonymous_class>
                </scope>
                <scope line="491"/>
                <anonymous_class line="499">
                    <method name="run" type="Void" line="500">
                        <comment line="505">
                            Load these drivers, so that they can be instantiated.
                             It may be the case that the driver class may not be there
                             i.e. there may be a packaged driver with the service class
                             as implementation of java.sql.Driver but the actual class
                             may be missing. In that case a java.util.ServiceConfigurationError
                             will be thrown at runtime by the VM trying to locate
                             and load the service.
                            
                             Adding a try catch block to catch those runtime errors
                             if driver not available in classpath but it&apos;s
                             packaged as service and that service is there in classpath.                            
                        </comment>
                        <comment line="522">
                            Do nothing                            
                        </comment>
                        <declaration name="loadedDrivers" type="ServiceLoader&lt;Driver&gt;" line="502"/>
                        <declaration name="driversIterator" type="Iterator" line="503"/>
                        <scope line="517">
                            <scope line="518"/>
                        </scope>
                        <scope line="521"/>
                    </method>
                </anonymous_class>
                <scope line="530"/>
                <declaration name="driversList" type="String[]" line="533"/>
                <scope line="535">
                    <scope line="536"/>
                    <scope line="540"/>
                </scope>
            </method>
            <method name="getConnection" type="Connection" line="549">
                <params>
                    <param name="url" type="String"/>
                    <param name="info" type="java.util.Properties"/>
                    <param name="callerCL" type="ClassLoader"/>
                </params>
                <comment line="550">
                    When callerCl is null, we should check the application&apos;s
                     (which is invoking this class indirectly)
                     classloader, so that the JDBC driver class outside rt.jar
                     can be loaded from here.                    
                </comment>
                <comment line="557">
                    synchronize loading of the correct classloader.                    
                </comment>
                <comment line="569">
                    Walk through the loaded registeredDrivers attempting to make a connection.                    
                </comment>
                <comment line="570">
                    Remember the first exception that gets raised so we can reraise it.                    
                </comment>
                <comment line="574">
                    If the caller does not have permission to load the driver then                    
                </comment>
                <comment line="575">
                    skip it.                    
                </comment>
                <comment line="581">
                    Success!                    
                </comment>
                <comment line="597">
                    if we got here nobody could connect.                    
                </comment>
                <scope line="556">
                    <scope line="558"/>
                </scope>
                <scope line="563"/>
                <declaration name="reason" type="SQLException" line="571"/>
                <scope line="573">
                    <scope line="576">
                        <scope line="577">
                            <declaration name="con" type="Connection" line="579"/>
                            <scope line="580"/>
                        </scope>
                        <scope line="585">
                            <scope line="586"/>
                        </scope>
                    </scope>
                    <scope line="591"/>
                </scope>
                <scope line="598"/>
            </method>
            <method name="getCallerClassLoader" type="ClassLoader" line="608"/>
        </class>
        <class name="DriverInfo" line="617">
            <comment line="83">
                List of registered JDBC drivers                
            </comment>
            <comment line="88">
                Used in println() to synchronize logWriter                
            </comment>
            <comment line="91">
                                
            </comment>
            <comment line="112">
                --------------------------JDBC 2.0-----------------------------                
            </comment>
            <comment line="169">
                ---------------------------------------------------------------                
            </comment>
            <comment line="464">
                ------------------------------------------------------------------------                
            </comment>
            <comment line="466">
                Indicates whether the class object that would be created if the code calling                
            </comment>
            <comment line="467">
                DriverManager is accessible.                
            </comment>
            <comment line="548">
                Worker method called by the public getConnection() methods.                
            </comment>
            <comment line="608">
                                
            </comment>
            <declaration name="driver" type="Driver" line="619"/>
            <method name="DriverInfo" type="constructor" line="620">
                <params>
                    <param name="driver" type="Driver"/>
                </params>
            </method>
            <method name="equals" type="boolean" line="624">
                <params>
                    <param name="other" type="Object"/>
                </params>
            </method>
            <method name="hashCode" type="int" line="629"/>
            <method name="toString" type="String" line="633"/>
        </class>
    </source>