<?xml version="1.0" encoding="UTF-8"?>
    <source package="java.awt.image">
        <import package="java.awt.GraphicsEnvironment"/>
        <import package="java.awt.color.ICC_Profile"/>
        <import package="java.awt.geom.Rectangle2D"/>
        <import package="java.awt.Rectangle"/>
        <import package="java.awt.geom.Point2D"/>
        <import package="java.awt.RenderingHints"/>
        <import package="sun.awt.image.ImagingLib"/>
        <import package="java.util.Arrays"/>
        <class name="BandCombineOp" line="37">
            <implements interface="RasterOp"/>
            <javadoc line="37">
                This class performs an arbitrary linear combination of the bands
                  in a &lt;CODE&gt;Raster&lt;/CODE&gt;, using a specified matrix.
                  &lt;p&gt;
                  The width of the matrix must be equal to the number of bands in the
                  source &lt;CODE&gt;Raster&lt;/CODE&gt;, optionally plus one.  If there is one more
                  column in the matrix than the number of bands, there is an implied 1 at the
                  end of the vector of band samples representing a pixel.  The height
                  of the matrix must be equal to the number of bands in the destination.
                  &lt;p&gt;
                  For example, a 3-banded &lt;CODE&gt;Raster&lt;/CODE&gt; might have the following
                  transformation applied to each pixel in order to invert the second band of
                  the &lt;CODE&gt;Raster&lt;/CODE&gt;.
                  &lt;pre&gt;
                  [ 1.0   0.0   0.0    0.0  ]     [ b1 ]
                  [ 0.0  -1.0   0.0  255.0  ]  x  [ b2 ]
                  [ 0.0   0.0   1.0    0.0  ]     [ b3 ]
                  [ 1 ]
                  &lt;/pre&gt;
                  &lt;p&gt;
                  Note that the source and destination can be the same object.                
            </javadoc>
            <declaration name="matrix" type="float[][]" line="61"/>
            <declaration name="nrows" type="int" line="62"/>
            <declaration name="ncols" type="int" line="63"/>
            <declaration name="hints" type="RenderingHints" line="64"/>
            <javadoc line="66">
                Constructs a &lt;CODE&gt;BandCombineOp&lt;/CODE&gt; with the specified matrix.
                  The width of the matrix must be equal to the number of bands in
                  the source &lt;CODE&gt;Raster&lt;/CODE&gt;, optionally plus one.  If there is one
                  more column in the matrix than the number of bands, there is an implied
                  1 at the end of the vector of band samples representing a pixel.  The
                  height of the matrix must be equal to the number of bands in the
                  destination.
                  &lt;p&gt;
                  The first subscript is the row index and the second
                  is the column index.  This operation uses none of the currently
                  defined rendering hints; the &lt;CODE&gt;RenderingHints&lt;/CODE&gt; argument can be
                  null.                
                <param>
                    matrix The matrix to use for the band combine operation.                    
                </param>
                <param>
                    hints The &lt;CODE&gt;RenderingHints&lt;/CODE&gt; object for this operation.
                      Not currently used so it can be null.                    
                </param>
            </javadoc>
            <method name="BandCombineOp" type="constructor" line="84">
                <params>
                    <param name="matrix" type="float[][]"/>
                    <param name="hints" type="RenderingHints"/>
                </params>
                <comment line="90">
                    Arrays.copyOf is forgiving of the source array being
                     too short, but it is also faster than other cloning
                     methods, so we provide our own protection for short
                     matrix rows.                    
                </comment>
                <scope line="88">
                    <scope line="94"/>
                </scope>
            </method>
            <javadoc line="102">
                Returns a copy of the linear combination matrix.                
                <return>
                    The matrix associated with this band combine operation.                    
                </return>
            </javadoc>
            <method name="getMatrix" type="float[][]" line="107">
                <declaration name="ret" type="float[][]" line="108"/>
                <scope line="109"/>
            </method>
            <javadoc line="115">
                Transforms the &lt;CODE&gt;Raster&lt;/CODE&gt; using the matrix specified in the
                  constructor. An &lt;CODE&gt;IllegalArgumentException&lt;/CODE&gt; may be thrown if
                  the number of bands in the source or destination is incompatible with
                  the matrix.  See the class comments for more details.
                  &lt;p&gt;
                  If the destination is null, it will be created with a number of bands
                  equalling the number of rows in the matrix. No exception is thrown
                  if the operation causes a data overflow.                
                <param>
                    src The &lt;CODE&gt;Raster&lt;/CODE&gt; to be filtered.                    
                </param>
                <param>
                    dst The &lt;CODE&gt;Raster&lt;/CODE&gt; in which to store the results
                      of the filter operation.                    
                </param>
                <return>
                    The filtered &lt;CODE&gt;Raster&lt;/CODE&gt;.                    
                </return>
                <throws>
                    IllegalArgumentException If the number of bands in the
                      source or destination is incompatible with the matrix.                    
                </throws>
            </javadoc>
            <method name="filter" type="WritableRaster" line="134">
                <params>
                    <param name="src" type="Raster"/>
                    <param name="dst" type="WritableRaster"/>
                </params>
                <comment line="186">
                    Need to add constant                    
                </comment>
                <declaration name="nBands" type="int" line="135"/>
                <scope line="136"/>
                <scope line="143"/>
                <scope line="146"/>
                <scope line="154"/>
                <declaration name="pixel" type="int[]" line="158"/>
                <declaration name="dstPixel" type="int[]" line="159"/>
                <declaration name="accum" type="float" line="160"/>
                <declaration name="sminX" type="int" line="161"/>
                <declaration name="sY" type="int" line="162"/>
                <declaration name="dminX" type="int" line="163"/>
                <declaration name="dY" type="int" line="164"/>
                <declaration name="sX" type="int" line="165"/>
                <declaration name="dX" type="int" line="166"/>
                <scope line="167">
                    <scope line="168">
                        <scope line="171">
                            <scope line="173">
                                <scope line="175"/>
                            </scope>
                        </scope>
                    </scope>
                </scope>
                <scope line="184">
                    <scope line="186">
                        <scope line="189">
                            <scope line="191">
                                <scope line="193"/>
                            </scope>
                        </scope>
                    </scope>
                </scope>
            </method>
            <javadoc line="206">
                Returns the bounding box of the transformed destination.  Since
                  this is not a geometric operation, the bounding box is the same for
                  the source and destination.
                  An &lt;CODE&gt;IllegalArgumentException&lt;/CODE&gt; may be thrown if the number of
                  bands in the source is incompatible with the matrix.  See
                  the class comments for more details.                
                <param>
                    src The &lt;CODE&gt;Raster&lt;/CODE&gt; to be filtered.                    
                </param>
                <return>
                    The &lt;CODE&gt;Rectangle2D&lt;/CODE&gt; representing the destination
                      image&apos;s bounding box.                    
                </return>
                <throws>
                    IllegalArgumentException If the number of bands in the source
                      is incompatible with the matrix.                    
                </throws>
            </javadoc>
            <method name="getBounds2D" type="Rectangle2D" line="222">
                <params>
                    <param name="src" type="Raster"/>
                </params>
            </method>
            <javadoc line="227">
                Creates a zeroed destination &lt;CODE&gt;Raster&lt;/CODE&gt; with the correct size
                  and number of bands.
                  An &lt;CODE&gt;IllegalArgumentException&lt;/CODE&gt; may be thrown if the number of
                  bands in the source is incompatible with the matrix.  See
                  the class comments for more details.                
                <param>
                    src The &lt;CODE&gt;Raster&lt;/CODE&gt; to be filtered.                    
                </param>
                <return>
                    The zeroed destination &lt;CODE&gt;Raster&lt;/CODE&gt;.                    
                </return>
            </javadoc>
            <method name="createCompatibleDestRaster" type="WritableRaster" line="238">
                <params>
                    <param name="src" type="Raster"/>
                </params>
                <declaration name="nBands" type="int" line="239"/>
                <scope line="240"/>
                <scope line="247"/>
                <scope line="250"/>
            </method>
            <javadoc line="257">
                Returns the location of the corresponding destination point given a
                  point in the source &lt;CODE&gt;Raster&lt;/CODE&gt;.  If &lt;CODE&gt;dstPt&lt;/CODE&gt; is
                  specified, it is used to hold the return value.
                  Since this is not a geometric operation, the point returned
                  is the same as the specified &lt;CODE&gt;srcPt&lt;/CODE&gt;.                
                <param>
                    srcPt The &lt;code&gt;Point2D&lt;/code&gt; that represents the point in
                      the source &lt;code&gt;Raster&lt;/code&gt;                    
                </param>
                <param>
                    dstPt The &lt;CODE&gt;Point2D&lt;/CODE&gt; in which to store the result.                    
                </param>
                <return>
                    The &lt;CODE&gt;Point2D&lt;/CODE&gt; in the destination image that
                      corresponds to the specified point in the source image.                    
                </return>
            </javadoc>
            <method name="getPoint2D" type="Point2D" line="271">
                <params>
                    <param name="srcPt" type="Point2D"/>
                    <param name="dstPt" type="Point2D"/>
                </params>
                <scope line="272"/>
            </method>
            <javadoc line="280">
                Returns the rendering hints for this operation.                
                <return>
                    The &lt;CODE&gt;RenderingHints&lt;/CODE&gt; object associated with this
                      operation.  Returns null if no hints have been set.                    
                </return>
            </javadoc>
            <method name="getRenderingHints" type="RenderingHints" line="286"/>
        </class>
    </source>