<?xml version="1.0" encoding="UTF-8"?>
    <source package="java.util.concurrent.atomic">
        <class name="AtomicStampedReference" line="2">
            <type_params>
                <type_param name="V"/>
            </type_params>
            <javadoc line="2">
                An {@code AtomicStampedReference} maintains an object reference
                  along with an integer &quot;stamp&quot;, that can be updated atomically.
                  &lt;p&gt;Implementation note: This implementation maintains stamped
                  references by creating internal objects representing &quot;boxed&quot;
                  [reference, integer] pairs.                
                <since>
                    1.5                    
                </since>
                <author>
                    Doug Lea                    
                </author>
                <param>
                    <V>
                      The type of object referred to by this reference                    
                </param>
            </javadoc>
            <class name="Pair" line="14">
                <type_params>
                    <type_param name="T"/>
                </type_params>
                <declaration name="reference" type="T" line="15"/>
                <declaration name="stamp" type="int" line="16"/>
                <method name="Pair" type="constructor" line="17">
                    <params>
                        <param name="reference" type="T"/>
                        <param name="stamp" type="int"/>
                    </params>
                </method>
                <method name="of" type="Pair<T>" line="21">
                    <params>
                        <param name="reference" type="T"/>
                        <param name="stamp" type="int"/>
                    </params>
                </method>
            </class>
            <declaration name="pair" type="Pair&lt;V&gt;" line="25"/>
            <javadoc line="26">
                Creates a new {@code AtomicStampedReference} with the given
                  initial values.                
                <param>
                    initialRef the initial reference                    
                </param>
                <param>
                    initialStamp the initial stamp                    
                </param>
            </javadoc>
            <method name="AtomicStampedReference" type="constructor" line="32">
                <params>
                    <param name="initialRef" type="V"/>
                    <param name="initialStamp" type="int"/>
                </params>
            </method>
            <javadoc line="35">
                Returns the current value of the reference.                
                <return>
                    the current value of the reference                    
                </return>
            </javadoc>
            <method name="getReference" type="V" line="39"/>
            <javadoc line="42">
                Returns the current value of the stamp.                
                <return>
                    the current value of the stamp                    
                </return>
            </javadoc>
            <method name="getStamp" type="int" line="46"/>
            <javadoc line="49">
                Returns the current values of both the reference and the stamp.
                  Typical usage is {@code int[1] holder; ref = v.get(holder); }.                
                <param>
                    stampHolder an array of size of at least one.  On return,{@code stampholder[0]} will hold the value of the stamp.                    
                </param>
                <return>
                    the current value of the reference                    
                </return>
            </javadoc>
            <method name="get" type="V" line="55">
                <params>
                    <param name="stampHolder" type="int[]"/>
                </params>
                <declaration name="pair" type="Pair&lt;V&gt;" line="56"/>
            </method>
            <javadoc line="60">
                Atomically sets the value of both the reference and stamp
                  to the given update values if the
                  current reference is {@code ==} to the expected reference
                  and the current stamp is equal to the expected stamp.
                  &lt;p&gt;May &lt;a href=&quot;package-summary.html#Spurious&quot;&gt;fail spuriously&lt;/a&gt;
                  and does not provide ordering guarantees, so is only rarely an
                  appropriate alternative to {@code compareAndSet}.                
                <param>
                    expectedReference the expected value of the reference                    
                </param>
                <param>
                    newReference the new value for the reference                    
                </param>
                <param>
                    expectedStamp the expected value of the stamp                    
                </param>
                <param>
                    newStamp the new value for the stamp                    
                </param>
                <return>
                    true if successful                    
                </return>
            </javadoc>
            <method name="weakCompareAndSet" type="boolean" line="74">
                <params>
                    <param name="expectedReference" type="V"/>
                    <param name="newReference" type="V"/>
                    <param name="expectedStamp" type="int"/>
                    <param name="newStamp" type="int"/>
                </params>
            </method>
            <javadoc line="77">
                Atomically sets the value of both the reference and stamp
                  to the given update values if the
                  current reference is {@code ==} to the expected reference
                  and the current stamp is equal to the expected stamp.                
                <param>
                    expectedReference the expected value of the reference                    
                </param>
                <param>
                    newReference the new value for the reference                    
                </param>
                <param>
                    expectedStamp the expected value of the stamp                    
                </param>
                <param>
                    newStamp the new value for the stamp                    
                </param>
                <return>
                    true if successful                    
                </return>
            </javadoc>
            <method name="compareAndSet" type="boolean" line="88">
                <params>
                    <param name="expectedReference" type="V"/>
                    <param name="newReference" type="V"/>
                    <param name="expectedStamp" type="int"/>
                    <param name="newStamp" type="int"/>
                </params>
                <declaration name="current" type="Pair&lt;V&gt;" line="89"/>
            </method>
            <javadoc line="92">
                Unconditionally sets the value of both the reference and stamp.                
                <param>
                    newReference the new value for the reference                    
                </param>
                <param>
                    newStamp the new value for the stamp                    
                </param>
            </javadoc>
            <method name="set" type="void" line="97">
                <params>
                    <param name="newReference" type="V"/>
                    <param name="newStamp" type="int"/>
                </params>
                <declaration name="current" type="Pair&lt;V&gt;" line="98"/>
            </method>
            <javadoc line="101">
                Atomically sets the value of the stamp to the given update value
                  if the current reference is {@code ==} to the expected
                  reference.  Any given invocation of this operation may fail
                  (return {@code false}) spuriously, but repeated invocation
                  when the current value holds the expected value and no other
                  thread is also attempting to set the value will eventually
                  succeed.                
                <param>
                    expectedReference the expected value of the reference                    
                </param>
                <param>
                    newStamp the new value for the stamp                    
                </param>
                <return>
                    true if successful                    
                </return>
            </javadoc>
            <method name="attemptStamp" type="boolean" line="113">
                <params>
                    <param name="expectedReference" type="V"/>
                    <param name="newStamp" type="int"/>
                </params>
                <declaration name="current" type="Pair&lt;V&gt;" line="114"/>
            </method>
            <declaration name="UNSAFE" type="sun.misc.Unsafe" line="117"/>
            <declaration name="pairOffset" type="long" line="118"/>
            <method name="casPair" type="boolean" line="119">
                <params>
                    <param name="cmp" type="Pair<V>"/>
                    <param name="val" type="Pair<V>"/>
                </params>
            </method>
            <method name="objectFieldOffset" type="long" line="122">
                <params>
                    <param name="UNSAFE" type="sun.misc.Unsafe"/>
                    <param name="field" type="String"/>
                    <param name="klazz" type="Class<?>"/>
                </params>
                <scope line="123"/>
                <scope line="126">
                    <declaration name="error" type="NoSuchFieldError" line="127"/>
                </scope>
            </method>
        </class>
    </source>