<?xml version="1.0" encoding="UTF-8"?>
    <source package="javax.swing.text">
        <import package="java.util.Arrays"/>
        <import package="java.awt"/>
        <import package="java.awt.font.TextAttribute"/>
        <import package="javax.swing.event"/>
        <import package="javax.swing.SizeRequirements"/>
        <class name="ParagraphView" line="33">
            <extends class="FlowView"/>
            <comment line="350">
                --- FlowView methods ---------------------------------------------                
            </comment>
            <comment line="399">
                --- TabExpander methods ------------------------------------------                
            </comment>
            <comment line="574">
                ---- View methods ----------------------------------------------------                
            </comment>
            <comment line="800">
                --- variables -----------------------------------------------                
            </comment>
            <implements interface="TabExpander"/>
            <javadoc line="33">
                View of a simple line-wrapping paragraph that supports
                  multiple fonts, colors, components, icons, etc.  It is
                  basically a vertical box with a margin around it.  The
                  contents of the box are a bunch of rows which are special
                  horizontal boxes.  This view creates a collection of
                  views that represent the child elements of the paragraph
                  element.  Each of these views are placed into a row
                  directly if they will fit, otherwise the &lt;code&gt;breakView&lt;/code&gt;
                  method is called to try and carve the view into pieces
                  that fit.                
                <author>
                    Timothy Prinzing                    
                </author>
                <author>
                    Scott Violet                    
                </author>
                <author>
                    Igor Kushnirskiy                    
                </author>
                <see>
                    View                    
                </see>
            </javadoc>
            <javadoc line="52">
                Constructs a &lt;code&gt;ParagraphView&lt;/code&gt; for the given element.                
                <param>
                    elem the element that this view is responsible for                    
                </param>
            </javadoc>
            <method name="ParagraphView" type="constructor" line="57">
                <params>
                    <param name="elem" type="Element"/>
                </params>
                <comment line="66">
                    the classname should probably come from a property file.                    
                </comment>
                <declaration name="doc" type="Document" line="60"/>
                <declaration name="i18nFlag" type="Object" line="61"/>
                <scope line="62">
                    <scope line="63">
                        <scope line="64">
                            <declaration name="classname" type="String" line="66"/>
                            <declaration name="loader" type="ClassLoader" line="67"/>
                            <scope line="68"/>
                            <scope line="70"/>
                        </scope>
                        <declaration name="o" type="Object" line="74"/>
                        <scope line="75"/>
                    </scope>
                    <scope line="78"/>
                </scope>
            </method>
            <javadoc line="85">
                Sets the type of justification.                
                <param>
                    j one of the following values:
                      <ul>
                      <li><code>StyleConstants.ALIGN_LEFT</code>
                      <li><code>StyleConstants.ALIGN_CENTER</code>
                      <li><code>StyleConstants.ALIGN_RIGHT</code>
                      </ul>                    
                </param>
            </javadoc>
            <method name="setJustification" type="void" line="95">
                <params>
                    <param name="j" type="int"/>
                </params>
            </method>
            <javadoc line="99">
                Sets the line spacing.                
                <param>
                    ls the value is a factor of the line hight                    
                </param>
            </javadoc>
            <method name="setLineSpacing" type="void" line="104">
                <params>
                    <param name="ls" type="float"/>
                </params>
            </method>
            <javadoc line="108">
                Sets the indent on the first line.                
                <param>
                    fi the value in points                    
                </param>
            </javadoc>
            <method name="setFirstLineIndent" type="void" line="113">
                <params>
                    <param name="fi" type="float"/>
                </params>
            </method>
            <javadoc line="117">
                Set the cached properties from the attributes.                
            </javadoc>
            <method name="setPropertiesFromAttributes" type="void" line="120">
                <declaration name="attr" type="AttributeSet" line="121"/>
                <scope line="122">
                    <declaration name="a" type="Integer" line="124"/>
                    <declaration name="alignment" type="int" line="125"/>
                    <scope line="126">
                        <declaration name="doc" type="Document" line="127"/>
                        <declaration name="o" type="Object" line="128"/>
                        <scope line="129"/>
                        <scope line="131"/>
                    </scope>
                    <scope line="134"/>
                </scope>
            </method>
            <javadoc line="143">
                Returns the number of views that this view is
                  responsible for.
                  The child views of the paragraph are rows which
                  have been used to arrange pieces of the &lt;code&gt;View&lt;/code&gt;s
                  that represent the child elements.  This is the number
                  of views that have been tiled in two dimensions,
                  and should be equivalent to the number of child elements
                  to the element this view is responsible for.                
                <return>
                    the number of views that this <code>ParagraphView</code>
                      is responsible for                    
                </return>
            </javadoc>
            <method name="getLayoutViewCount" type="int" line="156"/>
            <javadoc line="160">
                Returns the view at a given &lt;code&gt;index&lt;/code&gt;.
                  The child views of the paragraph are rows which
                  have been used to arrange pieces of the &lt;code&gt;Views&lt;/code&gt;
                  that represent the child elements.  This methods returns
                  the view responsible for the child element index
                  (prior to breaking).  These are the Views that were
                  produced from a factory (to represent the child
                  elements) and used for layout.                
                <param>
                    index the <code>index</code> of the desired view                    
                </param>
                <return>
                    the view at <code>index</code>                    
                </return>
            </javadoc>
            <method name="getLayoutView" type="View" line="173">
                <params>
                    <param name="index" type="int"/>
                </params>
            </method>
            <javadoc line="177">
                Returns the next visual position for the cursor, in
                  either the east or west direction.
                  Overridden from &lt;code&gt;CompositeView&lt;/code&gt;.                
                <param>
                    pos position into the model                    
                </param>
                <param>
                    b either <code>Position.Bias.Forward</code> or
                      <code>Position.Bias.Backward</code>                    
                </param>
                <param>
                    a the allocated region to render into                    
                </param>
                <param>
                    direction either <code>SwingConstants.NORTH</code>
                      or <code>SwingConstants.SOUTH</code>                    
                </param>
                <param>
                    biasRet an array containing the bias that were checked
                      in this method                    
                </param>
                <return>
                    the location in the model that represents the
                      next location visual position                    
                </return>
            </javadoc>
            <method name="getNextNorthSouthVisualPositionFrom" type="int" line="195">
                <params>
                    <param name="pos" type="int"/>
                    <param name="b" type="Position.Bias"/>
                    <param name="a" type="Shape"/>
                    <param name="direction" type="int"/>
                    <param name="biasRet" type="Position.Bias[]"/>
                </params>
                <comment line="219">
                    vIndex gives index of row to look in.                    
                </comment>
                <declaration name="vIndex" type="int" line="196"/>
                <scope line="197"/>
                <scope line="201">
                    <scope line="202"/>
                    <scope line="205"/>
                    <scope line="208">
                        <scope line="209"/>
                    </scope>
                    <scope line="214"/>
                </scope>
                <declaration name="text" type="JTextComponent" line="219"/>
                <declaration name="c" type="Caret" line="220"/>
                <declaration name="magicPoint" type="Point" line="221"/>
                <declaration name="x" type="int" line="223"/>
                <scope line="224">
                    <declaration name="posBounds" type="Shape" line="225"/>
                    <scope line="226"/>
                    <scope line="228"/>
                    <scope line="231"/>
                    <scope line="234"/>
                </scope>
                <scope line="238"/>
            </method>
            <javadoc line="244">
                Returns the closest model position to &lt;code&gt;x&lt;/code&gt;.
                  &lt;code&gt;rowIndex&lt;/code&gt; gives the index of the view that corresponds
                  that should be looked in.                
                <param>
                    pos  position into the model                    
                </param>
                <param>
                    a the allocated region to render into                    
                </param>
                <param>
                    direction one of the following values:
                      <ul>
                      <li><code>SwingConstants.NORTH</code>
                      <li><code>SwingConstants.SOUTH</code>
                      </ul>                    
                </param>
                <param>
                    biasRet an array containing the bias that were checked
                      in this method                    
                </param>
                <param>
                    rowIndex the index of the view                    
                </param>
                <param>
                    x the x coordinate of interest                    
                </param>
                <return>
                    the closest model position to <code>x</code>                    
                </return>
            </javadoc>
            <method name="getClosestPositionTo" type="int" line="267">
                <params>
                    <param name="pos" type="int"/>
                    <param name="b" type="Position.Bias"/>
                    <param name="a" type="Shape"/>
                    <param name="direction" type="int"/>
                    <param name="biasRet" type="Position.Bias[]"/>
                    <param name="rowIndex" type="int"/>
                    <param name="x" type="int"/>
                </params>
                <comment line="262">
                    NOTE: This will not properly work if ParagraphView contains
                     other ParagraphViews. It won&apos;t raise, but this does not message
                     the children views with getNextVisualPositionFrom.                    
                </comment>
                <comment line="275">
                    This could be made better to check backward positions too.                    
                </comment>
                <declaration name="text" type="JTextComponent" line="268"/>
                <declaration name="doc" type="Document" line="269"/>
                <declaration name="aDoc" type="AbstractDocument" line="270"/>
                <declaration name="row" type="View" line="272"/>
                <declaration name="lastPos" type="int" line="273"/>
                <scope line="276">
                    <declaration name="v" type="View" line="277"/>
                    <declaration name="start" type="int" line="278"/>
                    <declaration name="ltr" type="boolean" line="279"/>
                    <scope line="281">
                        <scope line="283">
                            <declaration name="xx" type="float" line="284"/>
                            <scope line="285">
                                <scope line="287"/>
                            </scope>
                        </scope>
                    </scope>
                    <scope line="294">
                        <scope line="296">
                            <declaration name="xx" type="float" line="297"/>
                            <scope line="298">
                                <scope line="300"/>
                            </scope>
                        </scope>
                    </scope>
                </scope>
                <scope line="308"/>
            </method>
            <javadoc line="314">
                Determines in which direction the next view lays.
                  Consider the &lt;code&gt;View&lt;/code&gt; at index n.
                  Typically the &lt;code&gt;View&lt;/code&gt;s are layed out
                  from left to right, so that the &lt;code&gt;View&lt;/code&gt;
                  to the EAST will be at index n + 1, and the
                  &lt;code&gt;View&lt;/code&gt; to the WEST will be at index n - 1.
                  In certain situations, such as with bidirectional text,
                  it is possible that the &lt;code&gt;View&lt;/code&gt; to EAST is not
                  at index n + 1, but rather at index n - 1,
                  or that the &lt;code&gt;View&lt;/code&gt; to the WEST is not at
                  index n - 1, but index n + 1.  In this case this method
                  would return true, indicating the &lt;code&gt;View&lt;/code&gt;s are
                  layed out in descending order.
                  &lt;p&gt;
                  This will return true if the text is layed out right
                  to left at position, otherwise false.                
                <param>
                    position position into the model                    
                </param>
                <param>
                    bias either <code>Position.Bias.Forward</code> or
                      <code>Position.Bias.Backward</code>                    
                </param>
                <return>
                    true if the text is layed out right to left at
                      position, otherwise false.                    
                </return>
            </javadoc>
            <method name="flipEastAndWestAtEnds" type="boolean" line="339">
                <params>
                    <param name="position" type="int"/>
                    <param name="bias" type="Position.Bias"/>
                </params>
                <declaration name="doc" type="Document" line="340"/>
                <scope line="343"/>
            </method>
            <javadoc line="351">
                Fetches the constraining span to flow against for
                  the given child index.                
                <param>
                    index the index of the view being queried                    
                </param>
                <return>
                    the constraining span for the given view at
                      <code>index</code>                    
                </return>
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="getFlowSpan" type="int" line="359">
                <params>
                    <param name="index" type="int"/>
                </params>
                <declaration name="child" type="View" line="360"/>
                <declaration name="adjust" type="int" line="361"/>
                <scope line="362">
                    <declaration name="row" type="Row" line="363"/>
                </scope>
            </method>
            <javadoc line="370">
                Fetches the location along the flow axis that the
                  flow span will start at.                
                <param>
                    index the index of the view being queried                    
                </param>
                <return>
                    the location for the given view at
                      <code>index</code>                    
                </return>
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="getFlowStart" type="int" line="378">
                <params>
                    <param name="index" type="int"/>
                </params>
                <declaration name="child" type="View" line="379"/>
                <declaration name="adjust" type="int" line="380"/>
                <scope line="381">
                    <declaration name="row" type="Row" line="382"/>
                </scope>
            </method>
            <javadoc line="388">
                Create a &lt;code&gt;View&lt;/code&gt; that should be used to hold a
                  a row&apos;s worth of children in a flow.                
                <return>
                    the new <code>View</code>                    
                </return>
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="createRow" type="View" line="394"/>
            <javadoc line="400">
                Returns the next tab stop position given a reference position.
                  This view implements the tab coordinate system, and calls
                  &lt;code&gt;getTabbedSpan&lt;/code&gt; on the logical children in the process
                  of layout to determine the desired span of the children.  The
                  logical children can delegate their tab expansion upward to
                  the paragraph which knows how to expand tabs.
                  &lt;code&gt;LabelView&lt;/code&gt; is an example of a view that delegates
                  its tab expansion needs upward to the paragraph.
                  &lt;p&gt;
                  This is implemented to try and locate a &lt;code&gt;TabSet&lt;/code&gt;
                  in the paragraph element&apos;s attribute set.  If one can be
                  found, its settings will be used, otherwise a default expansion
                  will be provided.  The base location for for tab expansion
                  is the left inset from the paragraphs most recent allocation
                  (which is what the layout of the children is based upon).                
                <param>
                    x the X reference position                    
                </param>
                <param>
                    tabOffset the position within the text stream
                      that the tab occurred at >= 0                    
                </param>
                <return>
                    the trailing end of the tab expansion >= 0                    
                </return>
                <see>
                    TabSet                    
                </see>
                <see>
                    TabStop                    
                </see>
                <see>
                    LabelView                    
                </see>
            </javadoc>
            <method name="nextTabStop" type="float" line="425">
                <params>
                    <param name="x" type="float"/>
                    <param name="tabOffset" type="int"/>
                </params>
                <comment line="427">
                    If the text isn&apos;t left justified, offset by 10 pixels!                    
                </comment>
                <comment line="433">
                    a tab every 72 pixels.                    
                </comment>
                <comment line="438">
                    no tab, do a default of 5 pixels.
                     Should this cause a wrapping of the line?                    
                </comment>
                <comment line="447">
                    Simple case, left tab.                    
                </comment>
                <comment line="450">
                    PENDING: what does this mean?                    
                </comment>
                <comment line="469">
                    right and decimal are treated the same way, the new
                     position will be the location of the tab less the
                     partialSize.                    
                </comment>
                <comment line="474">
                    Similar to right, but half the partialSize.                    
                </comment>
                <comment line="477">
                    will never get here!                    
                </comment>
                <declaration name="tabs" type="TabSet" line="430"/>
                <scope line="431"/>
                <declaration name="tab" type="TabStop" line="435"/>
                <scope line="436"/>
                <declaration name="alignment" type="int" line="441"/>
                <declaration name="offset" type="int" line="442"/>
                <scope line="461"/>
                <declaration name="charsSize" type="float" line="464"/>
            </method>
            <javadoc line="480">
                Gets the &lt;code&gt;Tabset&lt;/code&gt; to be used in calculating tabs.                
                <return>
                    the <code>TabSet</code>                    
                </return>
            </javadoc>
            <method name="getTabSet" type="TabSet" line="485"/>
            <javadoc line="489">
                Returns the size used by the views between
                  &lt;code&gt;startOffset&lt;/code&gt; and &lt;code&gt;endOffset&lt;/code&gt;.
                  This uses &lt;code&gt;getPartialView&lt;/code&gt; to calculate the
                  size if the child view implements the
                  &lt;code&gt;TabableView&lt;/code&gt; interface. If a
                  size is needed and a &lt;code&gt;View&lt;/code&gt; does not implement
                  the &lt;code&gt;TabableView&lt;/code&gt; interface,
                  the &lt;code&gt;preferredSpan&lt;/code&gt; will be used.                
                <param>
                    startOffset the starting document offset >= 0                    
                </param>
                <param>
                    endOffset the ending document offset >= startOffset                    
                </param>
                <return>
                    the size >= 0                    
                </return>
            </javadoc>
            <method name="getPartialSize" type="float" line="503">
                <params>
                    <param name="startOffset" type="int"/>
                    <param name="endOffset" type="int"/>
                </params>
                <comment line="512">
                    Have to search layoutPool!
                     PENDING: when ParagraphView supports breaking location
                     into layoutPool will have to change!                    
                </comment>
                <comment line="527">
                    PENDING: should we handle this better?                    
                </comment>
                <declaration name="size" type="float" line="504"/>
                <declaration name="viewIndex" type="int" line="505"/>
                <declaration name="numViews" type="int" line="506"/>
                <declaration name="view" type="View" line="507"/>
                <declaration name="viewEnd" type="int" line="508"/>
                <declaration name="tempEnd" type="int" line="509"/>
                <scope line="516"/>
            </method>
            <javadoc line="533">
                Finds the next character in the document with a character in
                  &lt;code&gt;string&lt;/code&gt;, starting at offset &lt;code&gt;start&lt;/code&gt;. If
                  there are no characters found, -1 will be returned.                
                <param>
                    string the string of characters                    
                </param>
                <param>
                    start where to start in the model >= 0                    
                </param>
                <return>
                    the document offset, or -1 if no characters found                    
                </return>
            </javadoc>
            <method name="findOffsetToCharactersInString" type="int" line="543">
                <params>
                    <param name="string" type="char[]"/>
                    <param name="start" type="int"/>
                </params>
                <comment line="562">
                    No match.                    
                </comment>
                <declaration name="stringLength" type="int" line="544"/>
                <declaration name="end" type="int" line="545"/>
                <declaration name="seg" type="Segment" line="546"/>
                <scope line="547"/>
                <scope line="549"/>
                <scope line="553">
                    <declaration name="currentChar" type="char" line="554"/>
                    <scope line="556"/>
                </scope>
            </method>
            <javadoc line="565">
                Returns where the tabs are calculated from.                
                <return>
                    where tabs are calculated from                    
                </return>
            </javadoc>
            <method name="getTabBase" type="float" line="569"/>
            <javadoc line="575">
                Renders using the given rendering surface and area on that
                  surface.  This is implemented to delgate to the superclass
                  after stashing the base coordinate for tab calculations.                
                <param>
                    g the rendering surface to use                    
                </param>
                <param>
                    a the allocated region to render into                    
                </param>
                <see>
                    View#paint                    
                </see>
            </javadoc>
            <method name="paint" type="void" line="584">
                <params>
                    <param name="g" type="Graphics"/>
                    <param name="a" type="Shape"/>
                </params>
                <comment line="590">
                    line with the negative firstLineIndent value needs
                     special handling                    
                </comment>
                <declaration name="alloc" type="Rectangle" line="585"/>
                <scope line="591">
                    <declaration name="sh" type="Shape" line="592"/>
                    <scope line="593">
                        <declaration name="x" type="int" line="594"/>
                        <declaration name="y" type="int" line="595"/>
                        <declaration name="clip" type="Rectangle" line="597"/>
                        <scope line="602"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="610">
                Determines the desired alignment for this view along an
                  axis.  This is implemented to give the alignment to the
                  center of the first row along the y axis, and the default
                  along the x axis.                
                <param>
                    axis may be either <code>View.X_AXIS</code> or
                      <code>View.Y_AXIS</code>                    
                </param>
                <return>
                    the desired alignment.  This should be a value
                      between 0.0 and 1.0 inclusive, where 0 indicates alignment at the
                      origin and 1.0 indicates alignment to the full span
                      away from the origin.  An alignment of 0.5 would be the
                      center of the view.                    
                </return>
            </javadoc>
            <method name="getAlignment" type="float" line="624">
                <params>
                    <param name="axis" type="int"/>
                </params>
                <declaration name="a" type="float" line="627"/>
                <scope line="628">
                    <declaration name="paragraphSpan" type="int" line="629"/>
                    <declaration name="v" type="View" line="630"/>
                    <declaration name="rowSpan" type="int" line="631"/>
                </scope>
            </method>
            <javadoc line="642">
                Breaks this view on the given axis at the given length.
                  &lt;p&gt;
                  &lt;code&gt;ParagraphView&lt;/code&gt; instances are breakable
                  along the &lt;code&gt;Y_AXIS&lt;/code&gt; only, and only if
                  &lt;code&gt;len&lt;/code&gt; is after the first line.                
                <param>
                    axis may be either <code>View.X_AXIS</code>
                      or <code>View.Y_AXIS</code>                    
                </param>
                <param>
                    len specifies where a potential break is desired
                      along the given axis >= 0                    
                </param>
                <param>
                    a the current allocation of the view                    
                </param>
                <return>
                    the fragment of the view that represents the
                      given span, if the view can be broken; if the view
                      doesn't support breaking behavior, the view itself is
                      returned                    
                </return>
                <see>
                    View#breakView                    
                </see>
            </javadoc>
            <method name="breakView" type="View" line="660">
                <params>
                    <param name="axis" type="int"/>
                    <param name="len" type="float"/>
                    <param name="a" type="Shape"/>
                </params>
                <comment line="667">
                    Determine what row to break on.                    
                </comment>
                <comment line="669">
                    PENDING(prinz) add break support                    
                </comment>
                <scope line="661">
                    <scope line="662">
                        <declaration name="alloc" type="Rectangle" line="663"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="674">
                Gets the break weight for a given location.
                  &lt;p&gt;
                  &lt;code&gt;ParagraphView&lt;/code&gt; instances are breakable
                  along the &lt;code&gt;Y_AXIS&lt;/code&gt; only, and only if
                  &lt;code&gt;len&lt;/code&gt; is after the first row.  If the length
                  is less than one row, a value of &lt;code&gt;BadBreakWeight&lt;/code&gt;
                  is returned.                
                <param>
                    axis may be either <code>View.X_AXIS</code>
                      or <code>View.Y_AXIS</code>                    
                </param>
                <param>
                    len specifies where a potential break is desired >= 0                    
                </param>
                <return>
                    a value indicating the attractiveness of breaking here;
                      either <code>GoodBreakWeight</code> or <code>BadBreakWeight</code>                    
                </return>
                <see>
                    View#getBreakWeight                    
                </see>
            </javadoc>
            <method name="getBreakWeight" type="int" line="690">
                <params>
                    <param name="axis" type="int"/>
                    <param name="len" type="float"/>
                </params>
                <comment line="693">
                    PENDING(prinz) make this return a reasonable value
                     when paragraph breaking support is re-implemented.
                     If less than one row, bad weight value should be
                     returned.
                    return GoodBreakWeight;                    
                </comment>
                <scope line="691"/>
            </method>
            <javadoc line="702">
                Calculate the needs for the paragraph along the minor axis.
                  &lt;p&gt;This uses size requirements of the superclass, modified to take into
                  account the non-breakable areas at the adjacent views edges.  The minimal
                  size requirements for such views should be no less than the sum of all
                  adjacent fragments.&lt;/p&gt;
                  &lt;p&gt;If the {@code axis} parameter is neither {@code View.X_AXIS} nor{@code View.Y_AXIS}, {@link IllegalArgumentException} is thrown.  If the{@code r} parameter is {@code null,} a new {@code SizeRequirements}object is created, otherwise the supplied {@code SizeRequirements}object is returned.&lt;/p&gt;                
                <param>
                    axis  the minor axis                    
                </param>
                <param>
                    r     the input {@code SizeRequirements} object                    
                </param>
                <return>
                    the new or adjusted {@code SizeRequirements} object                    
                </return>
                <throws>
                    IllegalArgumentException  if the {@code axis} parameter is invalid                    
                </throws>
            </javadoc>
            <method name="calculateMinorAxisRequirements" type="SizeRequirements" line="723">
                <params>
                    <param name="axis" type="int"/>
                    <param name="r" type="SizeRequirements"/>
                </params>
                <comment line="734">
                    find the longest non-breakable fragments at the view edges                    
                </comment>
                <comment line="743">
                    non-breakable view                    
                </comment>
                <declaration name="min" type="float" line="726"/>
                <declaration name="glue" type="float" line="727"/>
                <declaration name="n" type="int" line="728"/>
                <scope line="729">
                    <declaration name="v" type="View" line="730"/>
                    <declaration name="span" type="float" line="731"/>
                    <scope line="732">
                        <declaration name="p0" type="int" line="734"/>
                        <declaration name="p1" type="int" line="735"/>
                        <declaration name="start" type="float" line="736"/>
                        <declaration name="end" type="float" line="737"/>
                    </scope>
                    <scope line="741"/>
                </scope>
            </method>
            <javadoc line="754">
                Binary search for the longest non-breakable fragment at the view edge.                
            </javadoc>
            <method name="findEdgeSpan" type="float" line="757">
                <params>
                    <param name="v" type="View"/>
                    <param name="axis" type="int"/>
                    <param name="fp" type="int"/>
                    <param name="p0" type="int"/>
                    <param name="p1" type="int"/>
                </params>
                <comment line="761">
                    further fragmentation is not possible                    
                </comment>
                <comment line="766">
                    initial view is breakable hence must support fragmentation                    
                </comment>
                <declaration name="len" type="int" line="758"/>
                <scope line="759"/>
                <scope line="762">
                    <declaration name="mid" type="int" line="763"/>
                    <declaration name="startEdge" type="boolean" line="764"/>
                    <declaration name="f" type="View" line="766"/>
                    <declaration name="breakable" type="boolean" line="768"/>
                    <scope line="770"/>
                    <scope line="772"/>
                </scope>
            </method>
            <javadoc line="779">
                Gives notification from the document that attributes were changed
                  in a location that this view is responsible for.                
                <param>
                    changes the change information from the
                      associated document                    
                </param>
                <param>
                    a the current allocation of the view                    
                </param>
                <param>
                    f the factory to use to rebuild if the view has children                    
                </param>
                <see>
                    View#changedUpdate                    
                </see>
            </javadoc>
            <method name="changedUpdate" type="void" line="789">
                <params>
                    <param name="changes" type="DocumentEvent"/>
                    <param name="a" type="Shape"/>
                    <param name="f" type="ViewFactory"/>
                </params>
                <comment line="791">
                    update any property settings stored, and layout should be
                     recomputed                    
                </comment>
            </method>
            <declaration name="justification" type="int" line="801"/>
            <declaration name="lineSpacing" type="float" line="802"/>
            <declaration name="firstLineIndent" type="int" line="803"/>
            <javadoc line="803">
                Indentation for the first line, from the left inset.                
            </javadoc>
            <declaration name="tabBase" type="int" line="806"/>
            <javadoc line="806">
                Used by the TabExpander functionality to determine
                  where to base the tab calculations.  This is basically
                  the location of the left side of the paragraph.                
            </javadoc>
            <declaration name="i18nStrategy" type="Class" line="813"/>
            <javadoc line="813">
                Used to create an i18n-based layout strategy                
            </javadoc>
            <declaration name="tabChars" type="char[]" line="818"/>
            <javadoc line="818">
                Used for searching for a tab.                
            </javadoc>
            <declaration name="tabDecimalChars" type="char[]" line="820"/>
            <javadoc line="820">
                Used for searching for a tab or decimal character.                
            </javadoc>
            <scope line="823"/>
            <class name="Row" line="831">
                <extends class="BoxView"/>
                <comment line="262">
                    NOTE: This will not properly work if ParagraphView contains
                     other ParagraphViews. It won&apos;t raise, but this does not message
                     the children views with getNextVisualPositionFrom.                    
                </comment>
                <comment line="1017">
                    Calls super method after setting spaceAddon to 0.
                    Justification should not affect MajorAxisRequirements                    
                </comment>
                <comment line="1134">
                    for justified row we assume the maximum horizontal span
                    is MAX_VALUE.                    
                </comment>
                <comment line="1196">
                    this should be the last index in justificationData                    
                </comment>
                <javadoc line="831">
                    Internally created view that has the purpose of holding
                      the views that represent the children of the paragraph
                      that have been arranged in rows.                    
                </javadoc>
                <method name="Row" type="constructor" line="838">
                    <params>
                        <param name="elem" type="Element"/>
                    </params>
                </method>
                <javadoc line="842">
                    This is reimplemented to do nothing since the
                      paragraph fills in the row with its needed
                      children.                    
                </javadoc>
                <method name="loadChildren" type="void" line="847">
                    <params>
                        <param name="f" type="ViewFactory"/>
                    </params>
                </method>
                <javadoc line="850">
                    Fetches the attributes to use when rendering.  This view
                      isn&apos;t directly responsible for an element so it returns
                      the outer classes attributes.                    
                </javadoc>
                <method name="getAttributes" type="AttributeSet" line="855">
                    <declaration name="p" type="View" line="856"/>
                </method>
                <method name="getAlignment" type="float" line="860">
                    <params>
                        <param name="axis" type="int"/>
                    </params>
                    <comment line="872">
                        if we can justifiy the content always align to
                        the left.                        
                    </comment>
                    <scope line="861">
                        <declaration name="rv" type="float" line="870"/>
                        <scope line="873"/>
                    </scope>
                </method>
                <javadoc line="882">
                    Provides a mapping from the document model coordinate space
                      to the coordinate space of the view mapped to it.  This is
                      implemented to let the superclass find the position along
                      the major axis and the allocation of the row is used
                      along the minor axis, so that even though the children
                      are different heights they all get the same caret height.                    
                    <param>
                        pos the position to convert                        
                    </param>
                    <param>
                        a the allocated region to render into                        
                    </param>
                    <return>
                        the bounding box of the given position                        
                    </return>
                    <exception>
                        BadLocationException  if the given position does not represent a
                          valid location in the associated document                        
                    </exception>
                    <see>
                        View#modelToView                        
                    </see>
                </javadoc>
                <method name="modelToView" type="Shape" line="897">
                    <params>
                        <param name="pos" type="int"/>
                        <param name="a" type="Shape"/>
                        <param name="b" type="Position.Bias"/>
                    </params>
                    <comment line="902">
                        Don&apos;t adjust the height if the view represents a branch.                        
                    </comment>
                    <declaration name="r" type="Rectangle" line="898"/>
                    <declaration name="v" type="View" line="899"/>
                    <scope line="900"/>
                    <declaration name="height" type="int" line="905"/>
                    <declaration name="y" type="int" line="906"/>
                    <declaration name="loc" type="Shape" line="907"/>
                </method>
                <javadoc line="914">
                    Range represented by a row in the paragraph is only
                      a subset of the total range of the paragraph element.                    
                    <see>
                        View#getRange                        
                    </see>
                </javadoc>
                <method name="getStartOffset" type="int" line="919">
                    <declaration name="offs" type="int" line="920"/>
                    <declaration name="n" type="int" line="921"/>
                    <scope line="922">
                        <declaration name="v" type="View" line="923"/>
                    </scope>
                </method>
                <method name="getEndOffset" type="int" line="929">
                    <declaration name="offs" type="int" line="930"/>
                    <declaration name="n" type="int" line="931"/>
                    <scope line="932">
                        <declaration name="v" type="View" line="933"/>
                    </scope>
                </method>
                <javadoc line="939">
                    Perform layout for the minor axis of the box (i.e. the
                      axis orthoginal to the axis that it represents).  The results
                      of the layout should be placed in the given arrays which represent
                      the allocations to the children along the minor axis.
                      &lt;p&gt;
                      This is implemented to do a baseline layout of the children
                      by calling BoxView.baselineLayout.                    
                    <param>
                        targetSpan the total span given to the view, which
                          whould be used to layout the children.                        
                    </param>
                    <param>
                        axis the axis being layed out.                        
                    </param>
                    <param>
                        offsets the offsets from the origin of the view for
                          each of the child views.  This is a return value and is
                          filled in by the implementation of this method.                        
                    </param>
                    <param>
                        spans the span of each child view.  This is a return
                          value and is filled in by the implementation of this method.                        
                    </param>
                    <return>
                        the offset and span for each child view in the
                          offsets and spans parameters                        
                    </return>
                </javadoc>
                <method name="layoutMinorAxis" type="void" line="959">
                    <params>
                        <param name="targetSpan" type="int"/>
                        <param name="axis" type="int"/>
                        <param name="offsets" type="int[]"/>
                        <param name="spans" type="int[]"/>
                    </params>
                </method>
                <method name="calculateMinorAxisRequirements" type="SizeRequirements" line="964">
                    <params>
                        <param name="axis" type="int"/>
                        <param name="r" type="SizeRequirements"/>
                    </params>
                </method>
                <method name="isLastRow" type="boolean" line="969">
                    <declaration name="parent" type="View" line="970"/>
                </method>
                <method name="isBrokenRow" type="boolean" line="975">
                    <declaration name="rv" type="boolean" line="976"/>
                    <declaration name="viewsCount" type="int" line="977"/>
                    <scope line="978">
                        <declaration name="lastView" type="View" line="979"/>
                        <scope line="981"/>
                    </scope>
                </method>
                <method name="isJustifiableDocument" type="boolean" line="988"/>
                <javadoc line="993">
                    Whether we need to justify this {@code Row}.
                      At this time (jdk1.6) we support justification on for non
                      18n text.                    
                    <return>
                        {@code true} if this {@code Row} should be justified.                        
                    </return>
                </javadoc>
                <method name="isJustifyEnabled" type="boolean" line="1000">
                    <comment line="1004">
                        no justification for i18n documents                        
                    </comment>
                    <comment line="1007">
                        no justification for the last row                        
                    </comment>
                    <comment line="1010">
                        no justification for the broken rows                        
                    </comment>
                    <declaration name="ret" type="boolean" line="1001"/>
                </method>
                <method name="calculateMajorAxisRequirements" type="SizeRequirements" line="1020">
                    <params>
                        <param name="axis" type="int"/>
                        <param name="r" type="SizeRequirements"/>
                    </params>
                    <declaration name="oldJustficationData" type="int" line="1021"/>
                    <declaration name="ret" type="SizeRequirements" line="1023"/>
                    <scope line="1024"/>
                </method>
                <method name="layoutMajorAxis" type="void" line="1032">
                    <params>
                        <param name="targetSpan" type="int"/>
                        <param name="axis" type="int"/>
                        <param name="offsets" type="int[]"/>
                        <param name="spans" type="int[]"/>
                    </params>
                    <comment line="1046">
                        no need to justify                        
                    </comment>
                    <comment line="1050">
                        we justify text by enlarging spaces by the {@code spaceAddon}.
                         justification is started to the right of the rightmost TAB.
                         leading and trailing spaces are not extendable.
                        
                         GlyphPainter1 uses
                         justificationData
                         for all painting and measurement.                        
                    </comment>
                    <comment line="1104">
                        there is nothing we can do to justify                        
                    </comment>
                    <declaration name="oldJustficationData" type="int" line="1033"/>
                    <scope line="1036"/>
                    <declaration name="currentSpan" type="int" line="1040"/>
                    <scope line="1041"/>
                    <scope line="1044"/>
                    <declaration name="extendableSpaces" type="int" line="1057"/>
                    <declaration name="startJustifiableContent" type="int" line="1058"/>
                    <declaration name="endJustifiableContent" type="int" line="1059"/>
                    <declaration name="lastLeadingSpaces" type="int" line="1060"/>
                    <declaration name="rowStartOffset" type="int" line="1062"/>
                    <declaration name="rowEndOffset" type="int" line="1063"/>
                    <declaration name="spaceMap" type="int" line="1064"/>
                    <scope line="1066">
                        <declaration name="view" type="View" line="1067"/>
                        <scope line="1068">
                            <declaration name="justificationInfo" type="GlyphView.JustificationInfo" line="1069"/>
                            <declaration name="viewStartOffset" type="int" line="1071"/>
                            <declaration name="offset" type="int" line="1072"/>
                            <scope line="1073">
                                <scope line="1074"/>
                            </scope>
                            <scope line="1078">
                                <scope line="1079"/>
                                <scope line="1081"/>
                            </scope>
                            <scope line="1085"/>
                            <scope line="1091"/>
                            <scope line="1097"/>
                        </scope>
                    </scope>
                    <scope line="1102"/>
                    <declaration name="adjustment" type="int" line="1106"/>
                    <declaration name="spaceAddon" type="int" line="1107"/>
                    <declaration name="spaceAddonLeftoverEnd" type="int" line="1110"/>
                    <scope line="1115"/>
                    <scope line="1118"/>
                </method>
                <method name="getMaximumSpan" type="float" line="1136">
                    <params>
                        <param name="axis" type="int"/>
                    </params>
                    <declaration name="ret" type="float" line="1137"/>
                    <scope line="1139"/>
                    <scope line="1141"/>
                </method>
                <javadoc line="1147">
                    Fetches the child view index representing the given position in
                      the model.                    
                    <param>
                        pos the position >= 0                        
                    </param>
                    <return>
                        index of the view representing the given position, or
                          -1 if no view represents that position                        
                    </return>
                </javadoc>
                <method name="getViewIndexAtPosition" type="int" line="1155">
                    <params>
                        <param name="pos" type="int"/>
                    </params>
                    <comment line="1157">
                        This is expensive, but are views are not necessarily layed
                         out in model order.                        
                    </comment>
                    <scope line="1160">
                        <declaration name="v" type="View" line="1161"/>
                        <scope line="1163"/>
                    </scope>
                </method>
                <javadoc line="1170">
                    Gets the left inset.                    
                    <return>
                        the inset                        
                    </return>
                </javadoc>
                <method name="getLeftInset" type="short" line="1175">
                    <comment line="1179">
                        use firstLineIdent for the first row                        
                    </comment>
                    <declaration name="parentView" type="View" line="1176"/>
                    <declaration name="adjustment" type="int" line="1177"/>
                    <scope line="1178">
                        <scope line="1179"/>
                    </scope>
                </method>
                <method name="getBottomInset" type="short" line="1186"/>
                <declaration name="SPACE_ADDON" type="int" line="1192"/>
                <declaration name="SPACE_ADDON_LEFTOVER_END" type="int" line="1193"/>
                <declaration name="START_JUSTIFIABLE" type="int" line="1194"/>
                <declaration name="END_JUSTIFIABLE" type="int" line="1196"/>
                <declaration name="justificationData" type="int" line="1198"/>
            </class>
        </class>
    </source>