<?xml version="1.0" encoding="UTF-8"?>
    <source package="javax.swing.text">
        <import package="java.util.Vector"/>
        <import package="java.io.Serializable"/>
        <import package="javax.swing.undo"/>
        <import package="javax.swing.SwingUtilities"/>
        <class name="StringContent" line="32">
            <comment line="183">
                --- local methods ---------------------------------------                
            </comment>
            <implements interface="AbstractDocument.Content"/>
            <implements interface="Serializable"/>
            <javadoc line="32">
                An implementation of the AbstractDocument.Content interface that is
                  a brute force implementation that is useful for relatively small
                  documents and/or debugging.  It manages the character content
                  as a simple character array.  It is also quite inefficient.
                  &lt;p&gt;
                  It is generally recommended that the gap buffer or piece table
                  implementations be used instead.  This buffer does not scale up
                  to large sizes.
                  &lt;p&gt;
                  &lt;strong&gt;Warning:&lt;/strong&gt;
                  Serialized objects of this class will not be compatible with
                  future Swing releases. The current serialization support is
                  appropriate for short term storage or RMI between applications running
                  the same version of Swing.  As of 1.4, support for long term storage
                  of all JavaBeans&lt;sup&gt;&lt;font size=&quot;-2&quot;&gt;TM&lt;/font&gt;&lt;/sup&gt;
                  has been added to the &lt;code&gt;java.beans&lt;/code&gt; package.
                  Please see {@link java.beans.XMLEncoder}.                
                <author>
                    Timothy Prinzing                    
                </author>
            </javadoc>
            <javadoc line="55">
                Creates a new StringContent object.  Initial size defaults to 10.                
            </javadoc>
            <method name="StringContent" type="constructor" line="58"/>
            <javadoc line="62">
                Creates a new StringContent object, with the initial
                  size specified.  If the length is &lt; 1, a size of 1 is used.                
                <param>
                    initialLength the initial size                    
                </param>
            </javadoc>
            <method name="StringContent" type="constructor" line="68">
                <params>
                    <param name="initialLength" type="int"/>
                </params>
                <scope line="69"/>
            </method>
            <javadoc line="77">
                Returns the length of the content.                
                <return>
                    the length &gt;= 1                    
                </return>
                <see>
                    AbstractDocument.Content#length                    
                </see>
            </javadoc>
            <method name="length" type="int" line="83"/>
            <javadoc line="87">
                Inserts a string into the content.                
                <param>
                    where the starting position &gt;= 0 &amp;&amp; &lt; length()                    
                </param>
                <param>
                    str the non-null string to insert                    
                </param>
                <return>
                    an UndoableEdit object for undoing                    
                </return>
                <exception>
                    BadLocationException if the specified position is invalid                    
                </exception>
                <see>
                    AbstractDocument.Content#insertString                    
                </see>
            </javadoc>
            <method name="insertString" type="UndoableEdit" line="96">
                <params>
                    <param name="where" type="int"/>
                    <param name="str" type="String"/>
                </params>
                <scope line="97"/>
                <declaration name="chars" type="char[]" line="100"/>
                <scope line="102"/>
            </method>
            <javadoc line="108">
                Removes part of the content.  where + nitems must be &lt; length().                
                <param>
                    where the starting position &gt;= 0                    
                </param>
                <param>
                    nitems the number of characters to remove &gt;= 0                    
                </param>
                <return>
                    an UndoableEdit object for undoing                    
                </return>
                <exception>
                    BadLocationException if the specified position is invalid                    
                </exception>
                <see>
                    AbstractDocument.Content#remove                    
                </see>
            </javadoc>
            <method name="remove" type="UndoableEdit" line="117">
                <params>
                    <param name="where" type="int"/>
                    <param name="nitems" type="int"/>
                </params>
                <scope line="118"/>
                <declaration name="removedString" type="String" line="121"/>
                <declaration name="edit" type="UndoableEdit" line="122"/>
                <scope line="124"/>
            </method>
            <javadoc line="131">
                Retrieves a portion of the content.  where + len must be &lt;= length().                
                <param>
                    where the starting position &gt;= 0                    
                </param>
                <param>
                    len the length to retrieve &gt;= 0                    
                </param>
                <return>
                    a string representing the content; may be empty                    
                </return>
                <exception>
                    BadLocationException if the specified position is invalid                    
                </exception>
                <see>
                    AbstractDocument.Content#getString                    
                </see>
            </javadoc>
            <method name="getString" type="String" line="140">
                <params>
                    <param name="where" type="int"/>
                    <param name="len" type="int"/>
                </params>
                <scope line="141"/>
            </method>
            <javadoc line="147">
                Retrieves a portion of the content.  where + len must be &lt;= length()                
                <param>
                    where the starting position &gt;= 0                    
                </param>
                <param>
                    len the number of characters to retrieve &gt;= 0                    
                </param>
                <param>
                    chars the Segment object to return the characters in                    
                </param>
                <exception>
                    BadLocationException if the specified position is invalid                    
                </exception>
                <see>
                    AbstractDocument.Content#getChars                    
                </see>
            </javadoc>
            <method name="getChars" type="void" line="156">
                <params>
                    <param name="where" type="int"/>
                    <param name="len" type="int"/>
                    <param name="chars" type="Segment"/>
                </params>
                <scope line="157"/>
            </method>
            <javadoc line="165">
                Creates a position within the content that will
                  track change as the content is mutated.                
                <param>
                    offset the offset to create a position for &gt;= 0                    
                </param>
                <return>
                    the position                    
                </return>
                <exception>
                    BadLocationException if the specified position is invalid                    
                </exception>
            </javadoc>
            <method name="createPosition" type="Position" line="173">
                <params>
                    <param name="offset" type="int"/>
                </params>
                <comment line="175">
                    some small documents won&apos;t have any sticky positions
                     at all, so the buffer is created lazily.                    
                </comment>
                <scope line="176"/>
            </method>
            <javadoc line="184">
                Replaces some of the characters in the array                
                <param>
                    offset  offset into the array to start the replace                    
                </param>
                <param>
                    length  number of characters to remove                    
                </param>
                <param>
                    replArray replacement array                    
                </param>
                <param>
                    replOffset offset into the replacement array                    
                </param>
                <param>
                    replLength number of character to use from the
                      replacement array.                    
                </param>
            </javadoc>
            <method name="replace" type="void" line="194">
                <params>
                    <param name="offset" type="int"/>
                    <param name="length" type="int"/>
                    <param name="replArray" type="char[]"/>
                    <param name="replOffset" type="int"/>
                    <param name="replLength" type="int"/>
                </params>
                <comment line="201">
                    need to grow the array                    
                </comment>
                <comment line="209">
                    patch the existing array                    
                </comment>
                <declaration name="delta" type="int" line="195"/>
                <declaration name="src" type="int" line="196"/>
                <declaration name="nmove" type="int" line="197"/>
                <declaration name="dest" type="int" line="198"/>
                <scope line="199">
                    <declaration name="newLength" type="int" line="201"/>
                    <declaration name="newData" type="char[]" line="202"/>
                </scope>
                <scope line="207"/>
            </method>
            <method name="resize" type="void" line="215">
                <params>
                    <param name="ncount" type="int"/>
                </params>
                <declaration name="ndata" type="char[]" line="216"/>
            </method>
            <method name="updateMarksForInsert" type="void" line="221">
                <params>
                    <param name="offset" type="int"/>
                    <param name="length" type="int"/>
                </params>
                <comment line="224">
                    zero is a special case where we update only
                     marks after it.                    
                </comment>
                <comment line="232">
                    this record is no longer used, get rid of it                    
                </comment>
                <scope line="222"/>
                <declaration name="n" type="int" line="227"/>
                <scope line="228">
                    <declaration name="mark" type="PosRec" line="229"/>
                    <scope line="230"/>
                    <scope line="235"/>
                </scope>
            </method>
            <method name="updateMarksForRemove" type="void" line="241">
                <params>
                    <param name="offset" type="int"/>
                    <param name="length" type="int"/>
                </params>
                <comment line="247">
                    this record is no longer used, get rid of it                    
                </comment>
                <declaration name="n" type="int" line="242"/>
                <scope line="243">
                    <declaration name="mark" type="PosRec" line="244"/>
                    <scope line="245"/>
                    <scope line="250"/>
                    <scope line="252"/>
                </scope>
            </method>
            <javadoc line="258">
                Returns a Vector containing instances of UndoPosRef for the
                  Positions in the range
                  &lt;code&gt;offset&lt;/code&gt; to &lt;code&gt;offset&lt;/code&gt; + &lt;code&gt;length&lt;/code&gt;.
                  If &lt;code&gt;v&lt;/code&gt; is not null the matching Positions are placed in
                  there. The vector with the resulting Positions are returned.
                  &lt;p&gt;
                  This is meant for internal usage, and is generally not of interest
                  to subclasses.                
                <param>
                    v the Vector to use, with a new one created on null                    
                </param>
                <param>
                    offset the starting offset &gt;= 0                    
                </param>
                <param>
                    length the length &gt;= 0                    
                </param>
                <return>
                    the set of instances                    
                </return>
            </javadoc>
            <method name="getPositionsInRange" type="Vector" line="274">
                <params>
                    <param name="v" type="Vector"/>
                    <param name="offset" type="int"/>
                    <param name="length" type="int"/>
                </params>
                <comment line="282">
                    this record is no longer used, get rid of it                    
                </comment>
                <declaration name="n" type="int" line="275"/>
                <declaration name="end" type="int" line="276"/>
                <declaration name="placeIn" type="Vector" line="277"/>
                <scope line="278">
                    <declaration name="mark" type="PosRec" line="279"/>
                    <scope line="280"/>
                </scope>
            </method>
            <javadoc line="291">
                Resets the location for all the UndoPosRef instances
                  in &lt;code&gt;positions&lt;/code&gt;.
                  &lt;p&gt;
                  This is meant for internal usage, and is generally not of interest
                  to subclasses.                
                <param>
                    positions the positions of the instances                    
                </param>
            </javadoc>
            <method name="updateUndoPositions" type="void" line="300">
                <params>
                    <param name="positions" type="Vector"/>
                </params>
                <comment line="304">
                    Check if the Position is still valid.                    
                </comment>
                <scope line="301">
                    <declaration name="ref" type="UndoPosRef" line="302"/>
                    <scope line="304"/>
                </scope>
            </method>
            <declaration name="empty" type="char[]" line="312"/>
            <declaration name="data" type="char[]" line="313"/>
            <declaration name="count" type="int" line="314"/>
            <declaration name="marks" type="Vector&lt;PosRec&gt;" line="315"/>
            <class name="PosRec" line="317">
                <comment line="431">
                    Where the string goes.                    
                </comment>
                <comment line="433">
                    Length of the string.                    
                </comment>
                <comment line="435">
                    The string that was inserted. To cut down on space needed this
                     will only be valid after an undo.                    
                </comment>
                <comment line="438">
                    An array of instances of UndoPosRef for the Positions in the
                     range that was removed, valid after undo.                    
                </comment>
                <comment line="489">
                    Where the string goes.                    
                </comment>
                <comment line="491">
                    Length of the string.                    
                </comment>
                <comment line="493">
                    The string that was inserted. This will be null after an undo.                    
                </comment>
                <comment line="495">
                    An array of instances of UndoPosRef for the Positions in the
                     range that was removed, valid before undo.                    
                </comment>
                <javadoc line="317">
                    holds the data for a mark... separately from
                      the real mark so that the real mark can be
                      collected if there are no more references to
                      it.... the update table holds only a reference
                      to this grungy thing.                    
                </javadoc>
                <method name="PosRec" type="constructor" line="326">
                    <params>
                        <param name="offset" type="int"/>
                    </params>
                </method>
                <declaration name="offset" type="int" line="330"/>
                <declaration name="unused" type="boolean" line="331"/>
            </class>
            <class name="StickyPosition" line="334">
                <comment line="431">
                    Where the string goes.                    
                </comment>
                <comment line="433">
                    Length of the string.                    
                </comment>
                <comment line="435">
                    The string that was inserted. To cut down on space needed this
                     will only be valid after an undo.                    
                </comment>
                <comment line="438">
                    An array of instances of UndoPosRef for the Positions in the
                     range that was removed, valid after undo.                    
                </comment>
                <comment line="489">
                    Where the string goes.                    
                </comment>
                <comment line="491">
                    Length of the string.                    
                </comment>
                <comment line="493">
                    The string that was inserted. This will be null after an undo.                    
                </comment>
                <comment line="495">
                    An array of instances of UndoPosRef for the Positions in the
                     range that was removed, valid before undo.                    
                </comment>
                <implements interface="Position"/>
                <javadoc line="334">
                    This really wants to be a weak reference but
                      in 1.1 we don&apos;t have a 100% pure solution for
                      this... so this class trys to hack a solution
                      to causing the marks to be collected.                    
                </javadoc>
                <method name="StickyPosition" type="constructor" line="342">
                    <params>
                        <param name="offset" type="int"/>
                    </params>
                </method>
                <method name="getOffset" type="int" line="347"/>
                <method name="finalize" type="void" line="351">
                    <comment line="353">
                        schedule the record to be removed later
                         on another thread.                        
                    </comment>
                </method>
                <method name="toString" type="String" line="357"/>
                <declaration name="rec" type="PosRec" line="361"/>
            </class>
            <class name="UndoPosRef" line="364">
                <comment line="431">
                    Where the string goes.                    
                </comment>
                <comment line="433">
                    Length of the string.                    
                </comment>
                <comment line="435">
                    The string that was inserted. To cut down on space needed this
                     will only be valid after an undo.                    
                </comment>
                <comment line="438">
                    An array of instances of UndoPosRef for the Positions in the
                     range that was removed, valid after undo.                    
                </comment>
                <comment line="489">
                    Where the string goes.                    
                </comment>
                <comment line="491">
                    Length of the string.                    
                </comment>
                <comment line="493">
                    The string that was inserted. This will be null after an undo.                    
                </comment>
                <comment line="495">
                    An array of instances of UndoPosRef for the Positions in the
                     range that was removed, valid before undo.                    
                </comment>
                <javadoc line="364">
                    Used to hold a reference to a Position that is being reset as the
                      result of removing from the content.                    
                </javadoc>
                <method name="UndoPosRef" type="constructor" line="369">
                    <params>
                        <param name="rec" type="PosRec"/>
                    </params>
                </method>
                <javadoc line="374">
                    Resets the location of the Position to the offset when the
                      receiver was instantiated.                    
                </javadoc>
                <method name="resetLocation" type="void" line="378"/>
                <declaration name="undoLocation" type="int" line="382"/>
                <javadoc line="382">
                    Location to reset to when resetLocatino is invoked.                    
                </javadoc>
                <declaration name="rec" type="PosRec" line="384"/>
                <javadoc line="384">
                    Position to reset offset.                    
                </javadoc>
            </class>
            <class name="InsertUndo" line="388">
                <extends class="AbstractUndoableEdit"/>
                <comment line="431">
                    Where the string goes.                    
                </comment>
                <comment line="433">
                    Length of the string.                    
                </comment>
                <comment line="435">
                    The string that was inserted. To cut down on space needed this
                     will only be valid after an undo.                    
                </comment>
                <comment line="438">
                    An array of instances of UndoPosRef for the Positions in the
                     range that was removed, valid after undo.                    
                </comment>
                <comment line="489">
                    Where the string goes.                    
                </comment>
                <comment line="491">
                    Length of the string.                    
                </comment>
                <comment line="493">
                    The string that was inserted. This will be null after an undo.                    
                </comment>
                <comment line="495">
                    An array of instances of UndoPosRef for the Positions in the
                     range that was removed, valid before undo.                    
                </comment>
                <javadoc line="388">
                    UnoableEdit created for inserts.                    
                </javadoc>
                <method name="InsertUndo" type="constructor" line="392">
                    <params>
                        <param name="offset" type="int"/>
                        <param name="length" type="int"/>
                    </params>
                </method>
                <method name="undo" type="void" line="398">
                    <comment line="403">
                        Get the Positions in the range being removed.                        
                    </comment>
                    <scope line="400">
                        <scope line="401"/>
                    </scope>
                    <scope line="408"/>
                </method>
                <method name="redo" type="void" line="413">
                    <comment line="420">
                        Update the Positions that were in the range removed.                        
                    </comment>
                    <scope line="415">
                        <scope line="416">
                            <scope line="420"/>
                        </scope>
                    </scope>
                    <scope line="425"/>
                </method>
                <declaration name="offset" type="int" line="431"/>
                <declaration name="length" type="int" line="433"/>
                <declaration name="string" type="String" line="436"/>
                <declaration name="posRefs" type="Vector" line="439"/>
            </class>
            <class name="RemoveUndo" line="443">
                <extends class="AbstractUndoableEdit"/>
                <comment line="431">
                    Where the string goes.                    
                </comment>
                <comment line="433">
                    Length of the string.                    
                </comment>
                <comment line="435">
                    The string that was inserted. To cut down on space needed this
                     will only be valid after an undo.                    
                </comment>
                <comment line="438">
                    An array of instances of UndoPosRef for the Positions in the
                     range that was removed, valid after undo.                    
                </comment>
                <comment line="489">
                    Where the string goes.                    
                </comment>
                <comment line="491">
                    Length of the string.                    
                </comment>
                <comment line="493">
                    The string that was inserted. This will be null after an undo.                    
                </comment>
                <comment line="495">
                    An array of instances of UndoPosRef for the Positions in the
                     range that was removed, valid before undo.                    
                </comment>
                <javadoc line="443">
                    UndoableEdit created for removes.                    
                </javadoc>
                <method name="RemoveUndo" type="constructor" line="447">
                    <params>
                        <param name="offset" type="int"/>
                        <param name="string" type="String"/>
                    </params>
                </method>
                <method name="undo" type="void" line="456">
                    <comment line="462">
                        Update the Positions that were in the range removed.                        
                    </comment>
                    <scope line="458">
                        <scope line="459">
                            <scope line="462"/>
                        </scope>
                    </scope>
                    <scope line="468"/>
                </method>
                <method name="redo" type="void" line="473">
                    <comment line="479">
                        Get the Positions in the range being removed.                        
                    </comment>
                    <scope line="475">
                        <scope line="476"/>
                    </scope>
                    <scope line="483"/>
                </method>
                <declaration name="offset" type="int" line="489"/>
                <declaration name="length" type="int" line="491"/>
                <declaration name="string" type="String" line="493"/>
                <declaration name="posRefs" type="Vector" line="496"/>
            </class>
        </class>
    </source>