<?xml version="1.0" encoding="UTF-8"?>
    <source package="javax.swing.text">
        <import package="java.util"/>
        <import package="java.io"/>
        <import package="java.awt.font.TextAttribute"/>
        <import package="java.text.Bidi"/>
        <import package="javax.swing.UIManager"/>
        <import package="javax.swing.undo"/>
        <import package="javax.swing.event.ChangeListener"/>
        <import package="javax.swing.event"/>
        <import package="javax.swing.tree.TreeNode"/>
        <import package="sun.font.BidiUtils"/>
        <import package="sun.swing.SwingUtilities2"/>
        <class name="AbstractDocument" line="41">
            <comment line="386">
                --- Document methods -----------------------------------------                
            </comment>
            <comment line="893">
                ---- local methods -----------------------------------------                
            </comment>
            <comment line="1290">
                --- Document locking ----------------------------------                
            </comment>
            <comment line="1427">
                --- serialization ---------------------------------------------                
            </comment>
            <comment line="1467">
                ----- member variables ------------------------------------------                
            </comment>
            <implements interface="Document"/>
            <implements interface="Serializable"/>
            <javadoc line="41">
                An implementation of the document interface to serve as a
                  basis for implementing various kinds of documents.  At this
                  level there is very little policy, so there is a corresponding
                  increase in difficulty of use.
                  &lt;p&gt;
                  This class implements a locking mechanism for the document.  It
                  allows multiple readers or one writer, and writers must wait until
                  all observers of the document have been notified of a previous
                  change before beginning another mutation to the document.  The
                  read lock is acquired and released using the &lt;code&gt;render&lt;/code&gt;
                  method.  A write lock is aquired by the methods that mutate the
                  document, and are held for the duration of the method call.
                  Notification is done on the thread that produced the mutation,
                  and the thread has full read access to the document for the
                  duration of the notification, but other readers are kept out
                  until the notification has finished.  The notification is a
                  beans event notification which does not allow any further
                  mutations until all listeners have been notified.
                  &lt;p&gt;
                  Any models subclassed from this class and used in conjunction
                  with a text component that has a look and feel implementation
                  that is derived from BasicTextUI may be safely updated
                  asynchronously, because all access to the View hierarchy
                  is serialized by BasicTextUI if the document is of type
                  &lt;code&gt;AbstractDocument&lt;/code&gt;.  The locking assumes that an
                  independent thread will access the View hierarchy only from
                  the DocumentListener methods, and that there will be only
                  one event thread active at a time.
                  &lt;p&gt;
                  If concurrency support is desired, there are the following
                  additional implications.  The code path for any DocumentListener
                  implementation and any UndoListener implementation must be threadsafe,
                  and not access the component lock if trying to be safe from deadlocks.
                  The &lt;code&gt;repaint&lt;/code&gt; and &lt;code&gt;revalidate&lt;/code&gt; methods
                  on JComponent are safe.
                  &lt;p&gt;
                  AbstractDocument models an implied break at the end of the document.
                  Among other things this allows you to position the caret after the last
                  character. As a result of this, &lt;code&gt;getLength&lt;/code&gt; returns one less
                  than the length of the Content. If you create your own Content, be
                  sure and initialize it to have an additional character. Refer to
                  StringContent and GapContent for examples of this. Another implication
                  of this is that Elements that model the implied end character will have
                  an endOffset == (getLength() + 1). For example, in DefaultStyledDocument
                  &lt;code&gt;getParagraphElement(getLength()).getEndOffset() == getLength() + 1
                  &lt;/code&gt;.
                  &lt;p&gt;
                  &lt;strong&gt;Warning:&lt;/strong&gt;
                  Serialized objects of this class will not be compatible with
                  future Swing releases. The current serialization support is
                  appropriate for short term storage or RMI between applications running
                  the same version of Swing.  As of 1.4, support for long term storage
                  of all JavaBeans&lt;sup&gt;&lt;font size=&quot;-2&quot;&gt;TM&lt;/font&gt;&lt;/sup&gt;
                  has been added to the &lt;code&gt;java.beans&lt;/code&gt; package.
                  Please see {@link java.beans.XMLEncoder}.                
                <author>
                    Timothy Prinzing                    
                </author>
            </javadoc>
            <javadoc line="102">
                Constructs a new &lt;code&gt;AbstractDocument&lt;/code&gt;, wrapped around some
                  specified content storage mechanism.                
                <param>
                    data the content                    
                </param>
            </javadoc>
            <method name="AbstractDocument" type="constructor" line="108">
                <params>
                    <param name="data" type="Content"/>
                </params>
            </method>
            <javadoc line="112">
                Constructs a new &lt;code&gt;AbstractDocument&lt;/code&gt;, wrapped around some
                  specified content storage mechanism.                
                <param>
                    data the content                    
                </param>
                <param>
                    context the attribute context                    
                </param>
            </javadoc>
            <method name="AbstractDocument" type="constructor" line="119">
                <params>
                    <param name="data" type="Content"/>
                    <param name="context" type="AttributeContext"/>
                </params>
                <comment line="125">
                    determine default setting for i18n support                    
                </comment>
                <comment line="141">
                    REMIND(bcb) This creates an initial bidi element to account for                    
                </comment>
                <comment line="142">
                    the \n that exists by default in the content.  Doing it this way                    
                </comment>
                <comment line="143">
                    seems to expose a little too much knowledge of the content given                    
                </comment>
                <comment line="144">
                    to us by the sub-class.  Consider having the sub-class&apos; constructor                    
                </comment>
                <comment line="145">
                    make an initial call to insertUpdate.                    
                </comment>
                <scope line="124">
                    <anonymous_class line="127">
                        <method name="run" type="String" line="128"/>
                    </anonymous_class>
                    <declaration name="o" type="String" line="126"/>
                    <scope line="133"/>
                    <scope line="135"/>
                </scope>
                <scope line="147">
                    <declaration name="p" type="Element[]" line="148"/>
                </scope>
                <scope line="151"/>
            </method>
            <javadoc line="156">
                Supports managing a set of properties. Callers
                  can use the &lt;code&gt;documentProperties&lt;/code&gt; dictionary
                  to annotate the document with document-wide properties.                
                <return>
                    a non-<code>null</code> <code>Dictionary</code>                    
                </return>
                <see>
                    #setDocumentProperties                    
                </see>
            </javadoc>
            <method name="getDocumentProperties" type="Dictionary<Object,Object>" line="164">
                <scope line="165"/>
            </method>
            <javadoc line="171">
                Replaces the document properties dictionary for this document.                
                <param>
                    x the new dictionary                    
                </param>
                <see>
                    #getDocumentProperties                    
                </see>
            </javadoc>
            <method name="setDocumentProperties" type="void" line="177">
                <params>
                    <param name="x" type="Dictionary<Object,Object>"/>
                </params>
            </method>
            <javadoc line="181">
                Notifies all listeners that have registered interest for
                  notification on this event type.  The event instance
                  is lazily created using the parameters passed into
                  the fire method.                
                <param>
                    e the event                    
                </param>
                <see>
                    EventListenerList                    
                </see>
            </javadoc>
            <method name="fireInsertUpdate" type="void" line="190">
                <params>
                    <param name="e" type="DocumentEvent"/>
                </params>
                <comment line="193">
                    Guaranteed to return a non-null array                    
                </comment>
                <comment line="195">
                    Process the listeners last to first, notifying                    
                </comment>
                <comment line="196">
                    those that are interested in this event                    
                </comment>
                <comment line="199">
                    Lazily create the event:                    
                </comment>
                <comment line="200">
                    if (e == null)                    
                </comment>
                <comment line="201">
                    e = new ListSelectionEvent(this, firstIndex, lastIndex);                    
                </comment>
                <scope line="192">
                    <declaration name="listeners" type="Object[]" line="194"/>
                    <scope line="197">
                        <scope line="198"/>
                    </scope>
                </scope>
                <scope line="205"/>
            </method>
            <javadoc line="210">
                Notifies all listeners that have registered interest for
                  notification on this event type.  The event instance
                  is lazily created using the parameters passed into
                  the fire method.                
                <param>
                    e the event                    
                </param>
                <see>
                    EventListenerList                    
                </see>
            </javadoc>
            <method name="fireChangedUpdate" type="void" line="219">
                <params>
                    <param name="e" type="DocumentEvent"/>
                </params>
                <comment line="222">
                    Guaranteed to return a non-null array                    
                </comment>
                <comment line="224">
                    Process the listeners last to first, notifying                    
                </comment>
                <comment line="225">
                    those that are interested in this event                    
                </comment>
                <comment line="228">
                    Lazily create the event:                    
                </comment>
                <comment line="229">
                    if (e == null)                    
                </comment>
                <comment line="230">
                    e = new ListSelectionEvent(this, firstIndex, lastIndex);                    
                </comment>
                <scope line="221">
                    <declaration name="listeners" type="Object[]" line="223"/>
                    <scope line="226">
                        <scope line="227"/>
                    </scope>
                </scope>
                <scope line="234"/>
            </method>
            <javadoc line="239">
                Notifies all listeners that have registered interest for
                  notification on this event type.  The event instance
                  is lazily created using the parameters passed into
                  the fire method.                
                <param>
                    e the event                    
                </param>
                <see>
                    EventListenerList                    
                </see>
            </javadoc>
            <method name="fireRemoveUpdate" type="void" line="248">
                <params>
                    <param name="e" type="DocumentEvent"/>
                </params>
                <comment line="251">
                    Guaranteed to return a non-null array                    
                </comment>
                <comment line="253">
                    Process the listeners last to first, notifying                    
                </comment>
                <comment line="254">
                    those that are interested in this event                    
                </comment>
                <comment line="257">
                    Lazily create the event:                    
                </comment>
                <comment line="258">
                    if (e == null)                    
                </comment>
                <comment line="259">
                    e = new ListSelectionEvent(this, firstIndex, lastIndex);                    
                </comment>
                <scope line="250">
                    <declaration name="listeners" type="Object[]" line="252"/>
                    <scope line="255">
                        <scope line="256"/>
                    </scope>
                </scope>
                <scope line="263"/>
            </method>
            <javadoc line="268">
                Notifies all listeners that have registered interest for
                  notification on this event type.  The event instance
                  is lazily created using the parameters passed into
                  the fire method.                
                <param>
                    e the event                    
                </param>
                <see>
                    EventListenerList                    
                </see>
            </javadoc>
            <method name="fireUndoableEditUpdate" type="void" line="277">
                <params>
                    <param name="e" type="UndoableEditEvent"/>
                </params>
                <comment line="278">
                    Guaranteed to return a non-null array                    
                </comment>
                <comment line="280">
                    Process the listeners last to first, notifying                    
                </comment>
                <comment line="281">
                    those that are interested in this event                    
                </comment>
                <comment line="284">
                    Lazily create the event:                    
                </comment>
                <comment line="285">
                    if (e == null)                    
                </comment>
                <comment line="286">
                    e = new ListSelectionEvent(this, firstIndex, lastIndex);                    
                </comment>
                <declaration name="listeners" type="Object[]" line="279"/>
                <scope line="282">
                    <scope line="283"/>
                </scope>
            </method>
            <javadoc line="292">
                Returns an array of all the objects currently registered
                  as &lt;code&gt;&lt;em&gt;Foo&lt;/em&gt;Listener&lt;/code&gt;s
                  upon this document.
                  &lt;code&gt;&lt;em&gt;Foo&lt;/em&gt;Listener&lt;/code&gt;s are registered using the
                  &lt;code&gt;add&lt;em&gt;Foo&lt;/em&gt;Listener&lt;/code&gt; method.
                  &lt;p&gt;
                  You can specify the &lt;code&gt;listenerType&lt;/code&gt; argument
                  with a class literal, such as
                  &lt;code&gt;&lt;em&gt;Foo&lt;/em&gt;Listener.class&lt;/code&gt;.
                  For example, you can query a
                  document &lt;code&gt;d&lt;/code&gt;
                  for its document listeners with the following code:
                  &lt;pre&gt;DocumentListener[] mls = (DocumentListener[])(d.getListeners(DocumentListener.class));&lt;/pre&gt;
                  If no such listeners exist, this method returns an empty array.                
                <param>
                    listenerType the type of listeners requested; this parameter
                      should specify an interface that descends from
                      <code>java.util.EventListener</code>                    
                </param>
                <return>
                    an array of all objects registered as
                      <code><em>Foo</em>Listener</code>s on this component,
                      or an empty array if no such
                      listeners have been added                    
                </return>
                <exception>
                    ClassCastException if <code>listenerType</code>
                      doesn't specify a class or interface that implements
                      <code>java.util.EventListener</code>                    
                </exception>
                <see>
                    #getDocumentListeners                    
                </see>
                <see>
                    #getUndoableEditListeners                    
                </see>
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="getListeners" type="T[]" line="327">
                <params>
                    <param name="listenerType" type="Class<T>"/>
                </params>
            </method>
            <javadoc line="331">
                Gets the asynchronous loading priority.  If less than zero,
                  the document should not be loaded asynchronously.                
                <return>
                    the asynchronous loading priority, or <code>-1</code>
                      if the document should not be loaded asynchronously                    
                </return>
            </javadoc>
            <method name="getAsynchronousLoadPriority" type="int" line="338">
                <declaration name="loadPriority" type="Integer" line="339"/>
                <scope line="341"/>
            </method>
            <javadoc line="347">
                Sets the asynchronous loading priority.                
                <param>
                    p the new asynchronous loading priority; a value
                      less than zero indicates that the document should not be
                      loaded asynchronously                    
                </param>
            </javadoc>
            <method name="setAsynchronousLoadPriority" type="void" line="353">
                <params>
                    <param name="p" type="int"/>
                </params>
                <declaration name="loadPriority" type="Integer" line="354"/>
            </method>
            <javadoc line="358">
                Sets the &lt;code&gt;DocumentFilter&lt;/code&gt;. The &lt;code&gt;DocumentFilter&lt;/code&gt;
                  is passed &lt;code&gt;insert&lt;/code&gt; and &lt;code&gt;remove&lt;/code&gt; to conditionally
                  allow inserting/deleting of the text.  A &lt;code&gt;null&lt;/code&gt; value
                  indicates that no filtering will occur.                
                <param>
                    filter the <code>DocumentFilter</code> used to constrain text                    
                </param>
                <see>
                    #getDocumentFilter                    
                </see>
                <since>
                    1.4                    
                </since>
            </javadoc>
            <method name="setDocumentFilter" type="void" line="368">
                <params>
                    <param name="filter" type="DocumentFilter"/>
                </params>
            </method>
            <javadoc line="372">
                Returns the &lt;code&gt;DocumentFilter&lt;/code&gt; that is responsible for
                  filtering of insertion/removal. A &lt;code&gt;null&lt;/code&gt; return value
                  implies no filtering is to occur.                
                <since>
                    1.4                    
                </since>
                <see>
                    #setDocumentFilter                    
                </see>
                <return>
                    the DocumentFilter                    
                </return>
            </javadoc>
            <method name="getDocumentFilter" type="DocumentFilter" line="381"/>
            <javadoc line="387">
                This allows the model to be safely rendered in the presence
                  of currency, if the model supports being updated asynchronously.
                  The given runnable will be executed in a way that allows it
                  to safely read the model with no changes while the runnable
                  is being executed.  The runnable itself may &lt;em&gt;not&lt;/em&gt;
                  make any mutations.
                  &lt;p&gt;
                  This is implemented to aquire a read lock for the duration
                  of the runnables execution.  There may be multiple runnables
                  executing at the same time, and all writers will be blocked
                  while there are active rendering runnables.  If the runnable
                  throws an exception, its lock will be safely released.
                  There is no protection against a runnable that never exits,
                  which will effectively leave the document locked for it&apos;s
                  lifetime.
                  &lt;p&gt;
                  If the given runnable attempts to make any mutations in
                  this implementation, a deadlock will occur.  There is
                  no tracking of individual rendering threads to enable
                  detecting this situation, but a subclass could incur
                  the overhead of tracking them and throwing an error.
                  &lt;p&gt;
                  This method is thread safe, although most Swing methods
                  are not. Please see
                  &lt;A HREF=&quot;http://java.sun.com/docs/books/tutorial/uiswing/misc/threads.html&quot;&gt;How
                  to Use Threads&lt;/A&gt; for more information.                
                <param>
                    r the renderer to execute                    
                </param>
            </javadoc>
            <method name="render" type="void" line="417">
                <params>
                    <param name="r" type="Runnable"/>
                </params>
                <scope line="419"/>
                <scope line="421"/>
            </method>
            <javadoc line="426">
                Returns the length of the data.  This is the number of
                  characters of content that represents the users data.                
                <return>
                    the length >= 0                    
                </return>
                <see>
                    Document#getLength                    
                </see>
            </javadoc>
            <method name="getLength" type="int" line="433"/>
            <javadoc line="437">
                Adds a document listener for notification of any changes.                
                <param>
                    listener the <code>DocumentListener</code> to add                    
                </param>
                <see>
                    Document#addDocumentListener                    
                </see>
            </javadoc>
            <method name="addDocumentListener" type="void" line="443">
                <params>
                    <param name="listener" type="DocumentListener"/>
                </params>
            </method>
            <javadoc line="447">
                Removes a document listener.                
                <param>
                    listener the <code>DocumentListener</code> to remove                    
                </param>
                <see>
                    Document#removeDocumentListener                    
                </see>
            </javadoc>
            <method name="removeDocumentListener" type="void" line="453">
                <params>
                    <param name="listener" type="DocumentListener"/>
                </params>
            </method>
            <javadoc line="457">
                Returns an array of all the document listeners
                  registered on this document.                
                <return>
                    all of this document's <code>DocumentListener</code>s
                      or an empty array if no document listeners are
                      currently registered                    
                </return>
                <see>
                    #addDocumentListener                    
                </see>
                <see>
                    #removeDocumentListener                    
                </see>
                <since>
                    1.4                    
                </since>
            </javadoc>
            <method name="getDocumentListeners" type="DocumentListener[]" line="469"/>
            <javadoc line="473">
                Adds an undo listener for notification of any changes.
                  Undo/Redo operations performed on the &lt;code&gt;UndoableEdit&lt;/code&gt;
                  will cause the appropriate DocumentEvent to be fired to keep
                  the view(s) in sync with the model.                
                <param>
                    listener the <code>UndoableEditListener</code> to add                    
                </param>
                <see>
                    Document#addUndoableEditListener                    
                </see>
            </javadoc>
            <method name="addUndoableEditListener" type="void" line="482">
                <params>
                    <param name="listener" type="UndoableEditListener"/>
                </params>
            </method>
            <javadoc line="486">
                Removes an undo listener.                
                <param>
                    listener the <code>UndoableEditListener</code> to remove                    
                </param>
                <see>
                    Document#removeDocumentListener                    
                </see>
            </javadoc>
            <method name="removeUndoableEditListener" type="void" line="492">
                <params>
                    <param name="listener" type="UndoableEditListener"/>
                </params>
            </method>
            <javadoc line="496">
                Returns an array of all the undoable edit listeners
                  registered on this document.                
                <return>
                    all of this document's <code>UndoableEditListener</code>s
                      or an empty array if no undoable edit listeners are
                      currently registered                    
                </return>
                <see>
                    #addUndoableEditListener                    
                </see>
                <see>
                    #removeUndoableEditListener                    
                </see>
                <since>
                    1.4                    
                </since>
            </javadoc>
            <method name="getUndoableEditListeners" type="UndoableEditListener[]" line="509"/>
            <javadoc line="513">
                A convenience method for looking up a property value. It is
                  equivalent to:
                  &lt;pre&gt;
                  getDocumentProperties().get(key);
                  &lt;/pre&gt;                
                <param>
                    key the non-<code>null</code> property key                    
                </param>
                <return>
                    the value of this property or <code>null</code>                    
                </return>
                <see>
                    #getDocumentProperties                    
                </see>
            </javadoc>
            <method name="getProperty" type="Object" line="524">
                <params>
                    <param name="key" type="Object"/>
                </params>
            </method>
            <javadoc line="529">
                A convenience method for storing up a property value.  It is
                  equivalent to:
                  &lt;pre&gt;
                  getDocumentProperties().put(key, value);
                  &lt;/pre&gt;
                  If &lt;code&gt;value&lt;/code&gt; is &lt;code&gt;null&lt;/code&gt; this method will
                  remove the property.                
                <param>
                    key the non-<code>null</code> key                    
                </param>
                <param>
                    value the property value                    
                </param>
                <see>
                    #getDocumentProperties                    
                </see>
            </javadoc>
            <method name="putProperty" type="void" line="542">
                <params>
                    <param name="key" type="Object"/>
                    <param name="value" type="Object"/>
                </params>
                <comment line="551">
                    REMIND - this needs to flip on the i18n property if run dir                    
                </comment>
                <comment line="552">
                    is rtl and the i18n property is not already on.                    
                </comment>
                <scope line="543"/>
                <scope line="545"/>
                <scope line="550">
                    <scope line="554">
                        <declaration name="e" type="DefaultDocumentEvent" line="555"/>
                    </scope>
                    <scope line="559"/>
                </scope>
            </method>
            <javadoc line="565">
                Removes some content from the document.
                  Removing content causes a write lock to be held while the
                  actual changes are taking place.  Observers are notified
                  of the change on the thread that called this method.
                  &lt;p&gt;
                  This method is thread safe, although most Swing methods
                  are not. Please see
                  &lt;A HREF=&quot;http://java.sun.com/docs/books/tutorial/uiswing/misc/threads.html&quot;&gt;How
                  to Use Threads&lt;/A&gt; for more information.                
                <param>
                    offs the starting offset >= 0                    
                </param>
                <param>
                    len the number of characters to remove >= 0                    
                </param>
                <exception>
                    BadLocationException  the given remove position is not a valid
                      position within the document                    
                </exception>
                <see>
                    Document#remove                    
                </see>
            </javadoc>
            <method name="remove" type="void" line="582">
                <params>
                    <param name="offs" type="int"/>
                    <param name="len" type="int"/>
                </params>
                <declaration name="filter" type="DocumentFilter" line="583"/>
                <scope line="586">
                    <scope line="587"/>
                    <scope line="590"/>
                </scope>
                <scope line="593"/>
            </method>
            <javadoc line="598">
                Performs the actual work of the remove. It is assumed the caller
                  will have obtained a &lt;code&gt;writeLock&lt;/code&gt; before invoking this.                
            </javadoc>
            <method name="handleRemove" type="void" line="602">
                <params>
                    <param name="offs" type="int"/>
                    <param name="len" type="int"/>
                </params>
                <comment line="612">
                    Check whether the position of interest is the composed text                    
                </comment>
                <comment line="621">
                    Mark the edit as done.                    
                </comment>
                <comment line="624">
                    only fire undo if Content implementation supports it                    
                </comment>
                <comment line="625">
                    undo for the composed text is not supported for now                    
                </comment>
                <scope line="603">
                    <scope line="604"/>
                    <declaration name="chng" type="DefaultDocumentEvent" line="608"/>
                    <declaration name="isComposedTextElement" type="boolean" line="611"/>
                    <declaration name="u" type="UndoableEdit" line="616"/>
                    <scope line="617"/>
                    <scope line="626"/>
                </scope>
            </method>
            <javadoc line="632">
                Deletes the region of text from &lt;code&gt;offset&lt;/code&gt; to
                  &lt;code&gt;offset + length&lt;/code&gt;, and replaces it with &lt;code&gt;text&lt;/code&gt;.
                  It is up to the implementation as to how this is implemented, some
                  implementations may treat this as two distinct operations: a remove
                  followed by an insert, others may treat the replace as one atomic
                  operation.                
                <param>
                    offset index of child element                    
                </param>
                <param>
                    length length of text to delete, may be 0 indicating don't
                      delete anything                    
                </param>
                <param>
                    text text to insert, <code>null</code> indicates no text to insert                    
                </param>
                <param>
                    attrs AttributeSet indicating attributes of inserted text,
                      <code>null</code>
                      is legal, and typically treated as an empty attributeset,
                      but exact interpretation is left to the subclass                    
                </param>
                <exception>
                    BadLocationException the given position is not a valid
                      position within the document                    
                </exception>
                <since>
                    1.4                    
                </since>
            </javadoc>
            <method name="replace" type="void" line="653">
                <params>
                    <param name="offset" type="int"/>
                    <param name="length" type="int"/>
                    <param name="text" type="String"/>
                    <param name="attrs" type="AttributeSet"/>
                </params>
                <scope line="654"/>
                <declaration name="filter" type="DocumentFilter" line="657"/>
                <scope line="660">
                    <scope line="661"/>
                    <scope line="665">
                        <scope line="666"/>
                        <scope line="669"/>
                    </scope>
                </scope>
                <scope line="673"/>
            </method>
            <javadoc line="678">
                Inserts some content into the document.
                  Inserting content causes a write lock to be held while the
                  actual changes are taking place, followed by notification
                  to the observers on the thread that grabbed the write lock.
                  &lt;p&gt;
                  This method is thread safe, although most Swing methods
                  are not. Please see
                  &lt;A HREF=&quot;http://java.sun.com/docs/books/tutorial/uiswing/misc/threads.html&quot;&gt;How
                  to Use Threads&lt;/A&gt; for more information.                
                <param>
                    offs the starting offset >= 0                    
                </param>
                <param>
                    str the string to insert; does nothing with null/empty strings                    
                </param>
                <param>
                    a the attributes for the inserted content                    
                </param>
                <exception>
                    BadLocationException  the given insert position is not a valid
                      position within the document                    
                </exception>
                <see>
                    Document#insertString                    
                </see>
            </javadoc>
            <method name="insertString" type="void" line="696">
                <params>
                    <param name="offs" type="int"/>
                    <param name="str" type="String"/>
                    <param name="a" type="AttributeSet"/>
                </params>
                <scope line="697"/>
                <declaration name="filter" type="DocumentFilter" line="700"/>
                <scope line="703">
                    <scope line="704"/>
                    <scope line="707"/>
                </scope>
                <scope line="710"/>
            </method>
            <javadoc line="715">
                Performs the actual work of inserting the text; it is assumed the
                  caller has obtained a write lock before invoking this.                
            </javadoc>
            <method name="handleInsertString" type="void" line="720">
                <params>
                    <param name="offs" type="int"/>
                    <param name="str" type="String"/>
                    <param name="a" type="AttributeSet"/>
                </params>
                <comment line="731">
                    see if complex glyph layout support is needed                    
                </comment>
                <comment line="733">
                    if a default direction of right-to-left has been specified,                    
                </comment>
                <comment line="734">
                    we want complex layout even if the text is all left to right.                    
                </comment>
                <comment line="747">
                    Mark the edit as done.                    
                </comment>
                <comment line="750">
                    only fire undo if Content implementation supports it                    
                </comment>
                <comment line="751">
                    undo for the composed text is not supported for now                    
                </comment>
                <scope line="721"/>
                <declaration name="u" type="UndoableEdit" line="724"/>
                <declaration name="e" type="DefaultDocumentEvent" line="725"/>
                <scope line="727"/>
                <scope line="732">
                    <declaration name="d" type="Object" line="735"/>
                    <scope line="736"/>
                    <scope line="738">
                        <declaration name="chars" type="char[]" line="739"/>
                        <scope line="740"/>
                    </scope>
                </scope>
                <scope line="753"/>
            </method>
            <javadoc line="758">
                Gets a sequence of text from the document.                
                <param>
                    offset the starting offset >= 0                    
                </param>
                <param>
                    length the number of characters to retrieve >= 0                    
                </param>
                <return>
                    the text                    
                </return>
                <exception>
                    BadLocationException  the range given includes a position
                      that is not a valid position within the document                    
                </exception>
                <see>
                    Document#getText                    
                </see>
            </javadoc>
            <method name="getText" type="String" line="768">
                <params>
                    <param name="offset" type="int"/>
                    <param name="length" type="int"/>
                </params>
                <scope line="769"/>
                <declaration name="str" type="String" line="772"/>
            </method>
            <javadoc line="776">
                Fetches the text contained within the given portion
                  of the document.
                  &lt;p&gt;
                  If the partialReturn property on the txt parameter is false, the
                  data returned in the Segment will be the entire length requested and
                  may or may not be a copy depending upon how the data was stored.
                  If the partialReturn property is true, only the amount of text that
                  can be returned without creating a copy is returned.  Using partial
                  returns will give better performance for situations where large
                  parts of the document are being scanned.  The following is an example
                  of using the partial return to access the entire document:
                  &lt;p&gt;
                  &lt;pre&gt;
                  &amp;nbsp; int nleft = doc.getDocumentLength();
                  &amp;nbsp; Segment text = new Segment();
                  &amp;nbsp; int offs = 0;
                  &amp;nbsp; text.setPartialReturn(true);
                  &amp;nbsp; while (nleft &gt; 0) {
                  &amp;nbsp;     doc.getText(offs, nleft, text);
                  &amp;nbsp;     // do something with text
                  &amp;nbsp;     nleft -= text.count;
                  &amp;nbsp;     offs += text.count;
                  &amp;nbsp; }
                  &lt;/pre&gt;                
                <param>
                    offset the starting offset >= 0                    
                </param>
                <param>
                    length the number of characters to retrieve >= 0                    
                </param>
                <param>
                    txt the Segment object to retrieve the text into                    
                </param>
                <exception>
                    BadLocationException  the range given includes a position
                      that is not a valid position within the document                    
                </exception>
            </javadoc>
            <method name="getText" type="void" line="808">
                <params>
                    <param name="offset" type="int"/>
                    <param name="length" type="int"/>
                    <param name="txt" type="Segment"/>
                </params>
                <scope line="809"/>
            </method>
            <javadoc line="815">
                Returns a position that will track change as the document
                  is altered.
                  &lt;p&gt;
                  This method is thread safe, although most Swing methods
                  are not. Please see
                  &lt;A HREF=&quot;http://java.sun.com/docs/books/tutorial/uiswing/misc/threads.html&quot;&gt;How
                  to Use Threads&lt;/A&gt; for more information.                
                <param>
                    offs the position in the model >= 0                    
                </param>
                <return>
                    the position                    
                </return>
                <exception>
                    BadLocationException  if the given position does not
                      represent a valid location in the associated document                    
                </exception>
                <see>
                    Document#createPosition                    
                </see>
            </javadoc>
            <method name="createPosition" type="Position" line="830">
                <params>
                    <param name="offs" type="int"/>
                </params>
            </method>
            <javadoc line="834">
                Returns a position that represents the start of the document.  The
                  position returned can be counted on to track change and stay
                  located at the beginning of the document.                
                <return>
                    the position                    
                </return>
            </javadoc>
            <method name="getStartPosition" type="Position" line="841">
                <declaration name="p" type="Position" line="842"/>
                <scope line="843"/>
                <scope line="845"/>
            </method>
            <javadoc line="851">
                Returns a position that represents the end of the document.  The
                  position returned can be counted on to track change and stay
                  located at the end of the document.                
                <return>
                    the position                    
                </return>
            </javadoc>
            <method name="getEndPosition" type="Position" line="858">
                <declaration name="p" type="Position" line="859"/>
                <scope line="860"/>
                <scope line="862"/>
            </method>
            <javadoc line="868">
                Gets all root elements defined.  Typically, there
                  will only be one so the default implementation
                  is to return the default root element.                
                <return>
                    the root element                    
                </return>
            </javadoc>
            <method name="getRootElements" type="Element[]" line="875">
                <declaration name="elems" type="Element[]" line="876"/>
            </method>
            <method name="getDefaultRootElement" type="Element" line="882"/>
            <javadoc line="882">
                Returns the root element that views should be based upon
                  unless some other mechanism for assigning views to element
                  structures is provided.                
                <return>
                    the root element                    
                </return>
                <see>
                    Document#getDefaultRootElement                    
                </see>
            </javadoc>
            <javadoc line="894">
                Returns the &lt;code&gt;FilterBypass&lt;/code&gt;. This will create one if one
                  does not yet exist.                
            </javadoc>
            <method name="getFilterBypass" type="DocumentFilter.FilterBypass" line="898">
                <scope line="899"/>
            </method>
            <javadoc line="905">
                Returns the root element of the bidirectional structure for this
                  document.  Its children represent character runs with a given
                  Unicode bidi level.                
            </javadoc>
            <method name="getBidiRootElement" type="Element" line="910"/>
            <javadoc line="914">
                Returns true if the text in the range &lt;code&gt;p0&lt;/code&gt; to
                  &lt;code&gt;p1&lt;/code&gt; is left to right.                
            </javadoc>
            <method name="isLeftToRight" type="boolean" line="918">
                <params>
                    <param name="p0" type="int"/>
                    <param name="p1" type="int"/>
                </params>
                <scope line="919"/>
                <declaration name="bidiRoot" type="Element" line="922"/>
                <declaration name="index" type="int" line="923"/>
                <declaration name="bidiElem" type="Element" line="924"/>
                <scope line="925">
                    <declaration name="bidiAttrs" type="AttributeSet" line="926"/>
                </scope>
            </method>
            <method name="getParagraphElement" type="Element" line="932"/>
            <javadoc line="932">
                Get the paragraph element containing the given position.  Sub-classes
                  must define for themselves what exactly constitutes a paragraph.  They
                  should keep in mind however that a paragraph should at least be the
                  unit of text over which to run the Unicode bidirectional algorithm.                
                <param>
                    pos the starting offset >= 0                    
                </param>
                <return>
                    the element                    
                </return>
            </javadoc>
            <javadoc line="943">
                Fetches the context for managing attributes.  This
                  method effectively establishes the strategy used
                  for compressing AttributeSet information.                
                <return>
                    the context                    
                </return>
            </javadoc>
            <method name="getAttributeContext" type="AttributeContext" line="950"/>
            <javadoc line="954">
                Updates document structure as a result of text insertion.  This
                  will happen within a write lock.  If a subclass of
                  this class reimplements this method, it should delegate to the
                  superclass as well.                
                <param>
                    chng a description of the change                    
                </param>
                <param>
                    attr the attributes for the change                    
                </param>
            </javadoc>
            <method name="insertUpdate" type="void" line="963">
                <params>
                    <param name="chng" type="DefaultDocumentEvent"/>
                    <param name="attr" type="AttributeSet"/>
                </params>
                <comment line="967">
                    Check if a multi byte is encountered in the inserted text.                    
                </comment>
                <comment line="982">
                    Should never happen                    
                </comment>
                <scope line="970">
                    <declaration name="segment" type="Segment" line="971"/>
                    <scope line="972">
                        <scope line="975">
                            <scope line="976"/>
                        </scope>
                    </scope>
                    <scope line="981"/>
                </scope>
            </method>
            <javadoc line="988">
                Updates any document structure as a result of text removal.  This
                  method is called before the text is actually removed from the Content.
                  This will happen within a write lock. If a subclass
                  of this class reimplements this method, it should delegate to the
                  superclass as well.                
                <param>
                    chng a description of the change                    
                </param>
            </javadoc>
            <method name="removeUpdate" type="void" line="997">
                <params>
                    <param name="chng" type="DefaultDocumentEvent"/>
                </params>
            </method>
            <javadoc line="1000">
                Updates any document structure as a result of text removal.  This
                  method is called after the text has been removed from the Content.
                  This will happen within a write lock. If a subclass
                  of this class reimplements this method, it should delegate to the
                  superclass as well.                
                <param>
                    chng a description of the change                    
                </param>
            </javadoc>
            <method name="postRemoveUpdate" type="void" line="1009">
                <params>
                    <param name="chng" type="DefaultDocumentEvent"/>
                </params>
            </method>
            <javadoc line="1015">
                Update the bidi element structure as a result of the given change
                  to the document.  The given change will be updated to reflect the
                  changes made to the bidi structure.
                  This method assumes that every offset in the model is contained in
                  exactly one paragraph.  This method also assumes that it is called
                  after the change is made to the default element structure.                
            </javadoc>
            <method name="updateBidi" type="void" line="1024">
                <params>
                    <param name="chng" type="DefaultDocumentEvent"/>
                </params>
                <comment line="1026">
                    Calculate the range of paragraphs affected by the change.                    
                </comment>
                <comment line="1043">
                    System.out.println(&quot;updateBidi: firstPStart = &quot; + firstPStart + &quot; lastPEnd = &quot; + lastPEnd );                    
                </comment>
                <comment line="1046">
                    Calculate the bidi levels for the affected range of paragraphs.  The                    
                </comment>
                <comment line="1047">
                    levels array will contain a bidi level for each character in the                    
                </comment>
                <comment line="1048">
                    affected text.                    
                </comment>
                <comment line="1054">
                    Calculate the first span of characters in the affected range with                    
                </comment>
                <comment line="1055">
                    the same bidi level.  If this level is the same as the level of the                    
                </comment>
                <comment line="1056">
                    previous bidi element (the existing bidi element containing                    
                </comment>
                <comment line="1057">
                    firstPStart-1), then merge in the previous element.  If not, but                    
                </comment>
                <comment line="1058">
                    the previous element overlaps the affected range, truncate the                    
                </comment>
                <comment line="1059">
                    previous element at firstPStart.                    
                </comment>
                <comment line="1067">
                    System.out.println(&quot;createbidiElements: prevElem= &quot; + prevElem  + &quot; prevLevel= &quot; + prevLevel + &quot;level[0] = &quot; + levels[0]);                    
                </comment>
                <comment line="1084">
                    Calculate the last span of characters in the affected range with                    
                </comment>
                <comment line="1085">
                    the same bidi level.  If this level is the same as the level of the                    
                </comment>
                <comment line="1086">
                    next bidi element (the existing bidi element containing lastPEnd),                    
                </comment>
                <comment line="1087">
                    then merge in the next element.  If not, but the next element                    
                </comment>
                <comment line="1088">
                    overlaps the affected range, adjust the next element to start at                    
                </comment>
                <comment line="1089">
                    lastPEnd.                    
                </comment>
                <comment line="1115">
                    If the first and last spans are contiguous and have the same level,                    
                </comment>
                <comment line="1116">
                    merge them and create a single new element for the entire span.                    
                </comment>
                <comment line="1117">
                    Otherwise, create elements for the first and last spans as well as                    
                </comment>
                <comment line="1118">
                    any spans in between.                    
                </comment>
                <comment line="1123">
                    Create an element for the first span.                    
                </comment>
                <comment line="1127">
                    Create elements for the spans in between the first and last                    
                </comment>
                <comment line="1129">
                    System.out.println(&quot;executed line 872&quot;);                    
                </comment>
                <comment line="1137">
                    Create an element for the last span.                    
                </comment>
                <comment line="1148">
                    Calculate the set of existing bidi elements which must be                    
                </comment>
                <comment line="1149">
                    removed.                    
                </comment>
                <comment line="1162">
                    Update the change record.                    
                </comment>
                <comment line="1167">
                    Update the bidi element structure.                    
                </comment>
                <declaration name="firstPStart" type="int" line="1027"/>
                <declaration name="lastPEnd" type="int" line="1028"/>
                <scope line="1031">
                    <declaration name="chngStart" type="int" line="1032"/>
                    <declaration name="chngEnd" type="int" line="1033"/>
                </scope>
                <scope line="1036">
                    <declaration name="paragraph" type="Element" line="1037"/>
                </scope>
                <scope line="1040"/>
                <declaration name="levels" type="byte" line="1049"/>
                <declaration name="newElements" type="Vector&lt;Element&gt;" line="1052"/>
                <declaration name="firstSpanStart" type="int" line="1060"/>
                <declaration name="removeFromIndex" type="int" line="1061"/>
                <scope line="1062">
                    <declaration name="prevElemIndex" type="int" line="1063"/>
                    <declaration name="prevElem" type="Element" line="1065"/>
                    <declaration name="prevLevel" type="int" line="1066"/>
                    <scope line="1068"/>
                    <scope line="1070"/>
                    <scope line="1074"/>
                </scope>
                <declaration name="firstSpanEnd" type="int" line="1079"/>
                <declaration name="lastSpanEnd" type="int" line="1090"/>
                <declaration name="newNextElem" type="Element" line="1091"/>
                <declaration name="removeToIndex" type="int" line="1092"/>
                <scope line="1093">
                    <declaration name="nextElemIndex" type="int" line="1094"/>
                    <declaration name="nextElem" type="Element" line="1096"/>
                    <declaration name="nextLevel" type="int" line="1097"/>
                    <scope line="1098"/>
                    <scope line="1100"/>
                    <scope line="1104"/>
                </scope>
                <declaration name="lastSpanStart" type="int" line="1109"/>
                <scope line="1119"/>
                <scope line="1122">
                    <scope line="1128">
                        <declaration name="j" type="int" line="1130"/>
                    </scope>
                </scope>
                <declaration name="removedElemCount" type="int" line="1150"/>
                <scope line="1151"/>
                <declaration name="removedElems" type="Element[]" line="1154"/>
                <scope line="1155"/>
                <declaration name="addedElems" type="Element[]" line="1159"/>
                <declaration name="ee" type="ElementEdit" line="1163"/>
            </method>
            <javadoc line="1172">
                Calculate the levels array for a range of paragraphs.                
            </javadoc>
            <method name="calculateBidiLevels" type="byte[]" line="1175">
                <params>
                    <param name="firstPStart" type="int"/>
                    <param name="lastPEnd" type="int"/>
                </params>
                <comment line="1185">
                    For each paragraph in the given range of paragraphs, get its                    
                </comment>
                <comment line="1186">
                    levels array and add it to the levels array for the entire span.                    
                </comment>
                <comment line="1192">
                    default run direction for the paragraph.  This will be                    
                </comment>
                <comment line="1193">
                    null if there is no direction override specified (i.e.                    
                </comment>
                <comment line="1194">
                    the direction will be determined from the content).                    
                </comment>
                <comment line="1201">
                    System.out.println(&quot;updateBidi: paragraph start = &quot; + pStart + &quot; paragraph end = &quot; + pEnd);                    
                </comment>
                <comment line="1203">
                    Create a Bidi over this paragraph then get the level                    
                </comment>
                <comment line="1204">
                    array.                    
                </comment>
                <comment line="1211">
                    REMIND(bcb) we should really be using a Segment here.                    
                </comment>
                <comment line="1230">
                    REMIND(bcb) remove this code when debugging is done.                    
                </comment>
                <declaration name="levels" type="byte" line="1177"/>
                <declaration name="levelsEnd" type="int" line="1178"/>
                <declaration name="defaultDirection" type="Boolean" line="1179"/>
                <declaration name="d" type="Object" line="1180"/>
                <scope line="1181"/>
                <scope line="1187">
                    <declaration name="p" type="Element" line="1188"/>
                    <declaration name="pStart" type="int" line="1189"/>
                    <declaration name="pEnd" type="int" line="1190"/>
                    <declaration name="direction" type="Boolean" line="1195"/>
                    <scope line="1197"/>
                    <declaration name="seg" type="Segment" line="1205"/>
                    <scope line="1206"/>
                    <scope line="1208"/>
                    <declaration name="bidiAnalyzer" type="Bidi" line="1212"/>
                    <declaration name="bidiflag" type="int" line="1213"/>
                    <scope line="1214">
                        <scope line="1215"/>
                        <scope line="1217"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="1237">
                Gives a diagnostic dump.                
                <param>
                    out the output stream                    
                </param>
            </javadoc>
            <method name="dump" type="void" line="1242">
                <params>
                    <param name="out" type="PrintStream"/>
                </params>
                <declaration name="root" type="Element" line="1243"/>
                <scope line="1244"/>
            </method>
            <javadoc line="1250">
                Gets the content for the document.                
                <return>
                    the content                    
                </return>
            </javadoc>
            <method name="getContent" type="Content" line="1255"/>
            <javadoc line="1259">
                Creates a document leaf element.
                  Hook through which elements are created to represent the
                  document structure.  Because this implementation keeps
                  structure and content separate, elements grow automatically
                  when content is extended so splits of existing elements
                  follow.  The document itself gets to decide how to generate
                  elements to give flexibility in the type of elements used.                
                <param>
                    parent the parent element                    
                </param>
                <param>
                    a the attributes for the element                    
                </param>
                <param>
                    p0 the beginning of the range >= 0                    
                </param>
                <param>
                    p1 the end of the range >= p0                    
                </param>
                <return>
                    the new element                    
                </return>
            </javadoc>
            <method name="createLeafElement" type="Element" line="1274">
                <params>
                    <param name="parent" type="Element"/>
                    <param name="a" type="AttributeSet"/>
                    <param name="p0" type="int"/>
                    <param name="p1" type="int"/>
                </params>
            </method>
            <javadoc line="1278">
                Creates a document branch element, that can contain other elements.                
                <param>
                    parent the parent element                    
                </param>
                <param>
                    a the attributes                    
                </param>
                <return>
                    the element                    
                </return>
            </javadoc>
            <method name="createBranchElement" type="Element" line="1285">
                <params>
                    <param name="parent" type="Element"/>
                    <param name="a" type="AttributeSet"/>
                </params>
            </method>
            <javadoc line="1291">
                Fetches the current writing thread if there is one.
                  This can be used to distinguish whether a method is
                  being called as part of an existing modification or
                  if a lock needs to be acquired and a new transaction
                  started.                
                <return>
                    the thread actively modifying the document
                      or <code>null</code> if there are no modifications in progress                    
                </return>
            </javadoc>
            <method name="getCurrentWriter" type="Thread" line="1301"/>
            <javadoc line="1305">
                Acquires a lock to begin mutating the document this lock
                  protects.  There can be no writing, notification of changes, or
                  reading going on in order to gain the lock.  Additionally a thread is
                  allowed to gain more than one &lt;code&gt;writeLock&lt;/code&gt;,
                  as long as it doesn&apos;t attempt to gain additional &lt;code&gt;writeLock&lt;/code&gt;s
                  from within document notification.  Attempting to gain a
                  &lt;code&gt;writeLock&lt;/code&gt; from within a DocumentListener notification will
                  result in an &lt;code&gt;IllegalStateException&lt;/code&gt;.  The ability
                  to obtain more than one &lt;code&gt;writeLock&lt;/code&gt; per thread allows
                  subclasses to gain a writeLock, perform a number of operations, then
                  release the lock.
                  &lt;p&gt;
                  Calls to &lt;code&gt;writeLock&lt;/code&gt;
                  must be balanced with calls to &lt;code&gt;writeUnlock&lt;/code&gt;, else the
                  &lt;code&gt;Document&lt;/code&gt; will be left in a locked state so that no
                  reading or writing can be done.                
                <exception>
                    IllegalStateException thrown on illegal lock
                      attempt.  If the document is implemented properly, this can
                      only happen if a document listener attempts to mutate the
                      document.  This situation violates the bean event model
                      where order of delivery is not guaranteed and all listeners
                      should be notified before further mutations are allowed.                    
                </exception>
            </javadoc>
            <method name="writeLock" type="void" line="1330">
                <comment line="1335">
                    Assuming one doesn&apos;t do something wrong in a                    
                </comment>
                <comment line="1336">
                    subclass this should only happen if a                    
                </comment>
                <comment line="1337">
                    DocumentListener tries to mutate the document.                    
                </comment>
                <scope line="1331">
                    <scope line="1332">
                        <scope line="1333">
                            <scope line="1334"/>
                        </scope>
                    </scope>
                </scope>
                <scope line="1348"/>
            </method>
            <javadoc line="1353">
                Releases a write lock previously obtained via &lt;code&gt;writeLock&lt;/code&gt;.
                  After decrementing the lock count if there are no oustanding locks
                  this will allow a new writer, or readers.                
                <see>
                    #writeLock                    
                </see>
            </javadoc>
            <method name="writeUnlock" type="void" line="1360">
                <scope line="1361"/>
            </method>
            <javadoc line="1368">
                Acquires a lock to begin reading some state from the
                  document.  There can be multiple readers at the same time.
                  Writing blocks the readers until notification of the change
                  to the listeners has been completed.  This method should
                  be used very carefully to avoid unintended compromise
                  of the document.  It should always be balanced with a
                  &lt;code&gt;readUnlock&lt;/code&gt;.                
                <see>
                    #readUnlock                    
                </see>
            </javadoc>
            <method name="readLock" type="void" line="1379">
                <comment line="1383">
                    writer has full read access.... may try to acquire                    
                </comment>
                <comment line="1384">
                    lock in notification                    
                </comment>
                <scope line="1380">
                    <scope line="1381">
                        <scope line="1382"/>
                    </scope>
                </scope>
                <scope line="1390"/>
            </method>
            <javadoc line="1395">
                Does a read unlock.  This signals that one
                  of the readers is done.  If there are no more readers
                  then writing can begin again.  This should be balanced
                  with a readLock, and should occur in a finally statement
                  so that the balance is guaranteed.  The following is an
                  example.
                  &lt;pre&gt;&lt;code&gt;
                  &amp;nbsp;   readLock();
                  &amp;nbsp;   try {
                  &amp;nbsp;       // do something
                  &amp;nbsp;   } finally {
                  &amp;nbsp;       readUnlock();
                  &amp;nbsp;   }
                  &lt;/code&gt;&lt;/pre&gt;                
                <see>
                    #readLock                    
                </see>
            </javadoc>
            <method name="readUnlock" type="void" line="1413">
                <comment line="1415">
                    writer has full read access.... may try to acquire                    
                </comment>
                <comment line="1416">
                    lock in notification                    
                </comment>
                <scope line="1414"/>
                <scope line="1419"/>
            </method>
            <method name="readObject" type="void" line="1430">
                <params>
                    <param name="s" type="ObjectInputStream"/>
                </params>
                <comment line="1434">
                    Restore bidi structure                    
                </comment>
                <comment line="1435">
                    REMIND(bcb) This creates an initial bidi element to account for                    
                </comment>
                <comment line="1436">
                    the \n that exists by default in the content.                    
                </comment>
                <comment line="1446">
                    At this point bidi root is only partially correct. To fully                    
                </comment>
                <comment line="1447">
                    restore it we need access to getDefaultRootElement. But, this                    
                </comment>
                <comment line="1448">
                    is created by the subclass and at this point will be null. We                    
                </comment>
                <comment line="1449">
                    thus use registerValidation.                    
                </comment>
                <scope line="1438">
                    <declaration name="p" type="Element[]" line="1440"/>
                </scope>
                <scope line="1443"/>
                <anonymous_class line="1450">
                    <method name="validateObject" type="void" line="1451">
                        <scope line="1452">
                            <declaration name="e" type="DefaultDocumentEvent" line="1454"/>
                        </scope>
                        <scope line="1459"/>
                    </method>
                </anonymous_class>
            </method>
            <declaration name="numReaders" type="int" line="1468"/>
            <declaration name="currWriter" type="Thread" line="1469"/>
            <declaration name="numWriters" type="int" line="1470"/>
            <javadoc line="1470">
                The number of writers, all obtained from &lt;code&gt;currWriter&lt;/code&gt;.                
            </javadoc>
            <declaration name="notifyingListeners" type="boolean" line="1474"/>
            <javadoc line="1474">
                True will notifying listeners.                
            </javadoc>
            <declaration name="defaultI18NProperty" type="Boolean" line="1479"/>
            <declaration name="documentProperties" type="Dictionary&lt;Object,Object&gt;" line="1481"/>
            <javadoc line="1481">
                Storage for document-wide properties.                
            </javadoc>
            <declaration name="listenerList" type="EventListenerList" line="1486"/>
            <javadoc line="1486">
                The event listener list for the document.                
            </javadoc>
            <declaration name="data" type="Content" line="1491"/>
            <javadoc line="1491">
                Where the text is actually stored, and a set of marks
                  that track change as the document is edited are managed.                
            </javadoc>
            <declaration name="context" type="AttributeContext" line="1497"/>
            <javadoc line="1497">
                Factory for the attributes.  This is the strategy for
                  attribute compression and control of the lifetime of
                  a set of attributes as a collection.  This may be shared
                  with other documents.                
            </javadoc>
            <declaration name="bidiRoot" type="BranchElement" line="1505"/>
            <javadoc line="1505">
                The root of the bidirectional structure for this document.  Its children
                  represent character runs with the same Unicode bidi level.                
            </javadoc>
            <declaration name="documentFilter" type="DocumentFilter" line="1511"/>
            <javadoc line="1511">
                Filter for inserting/removing of text.                
            </javadoc>
            <declaration name="filterBypass" type="DocumentFilter.FilterBypass" line="1516"/>
            <javadoc line="1516">
                Used by DocumentFilter to do actual insert/remove.                
            </javadoc>
            <declaration name="BAD_LOCK_STATE" type="String" line="1521"/>
            <declaration name="BAD_LOCATION" type="String" line="1523"/>
            <javadoc line="1523">
                Error message to indicate a bad location.                
            </javadoc>
            <declaration name="ParagraphElementName" type="String" line="1528"/>
            <javadoc line="1528">
                Name of elements used to represent paragraphs                
            </javadoc>
            <declaration name="ContentElementName" type="String" line="1533"/>
            <javadoc line="1533">
                Name of elements used to represent content                
            </javadoc>
            <declaration name="SectionElementName" type="String" line="1538"/>
            <javadoc line="1538">
                Name of elements used to hold sections (lines/paragraphs).                
            </javadoc>
            <declaration name="BidiElementName" type="String" line="1543"/>
            <javadoc line="1543">
                Name of elements used to hold a unidirectional run                
            </javadoc>
            <declaration name="ElementNameAttribute" type="String" line="1548"/>
            <javadoc line="1548">
                Name of the attribute used to specify element
                  names.                
            </javadoc>
            <declaration name="I18NProperty" type="String" line="1554"/>
            <javadoc line="1554">
                Document property that indicates whether internationalization
                  functions such as text reordering or reshaping should be
                  performed. This property should not be publicly exposed,
                  since it is used for implementation convenience only.  As a
                  side effect, copies of this property may be in its subclasses
                  that live in different packages (e.g. HTMLDocument as of now),
                  so those copies should also be taken care of when this property
                  needs to be modified.                
            </javadoc>
            <declaration name="MultiByteProperty" type="Object" line="1566"/>
            <javadoc line="1566">
                Document property that indicates if a character has been inserted
                  into the document that is more than one byte long.  GlyphView uses
                  this to determine if it should use BreakIterator.                
            </javadoc>
            <declaration name="AsyncLoadPriority" type="String" line="1573"/>
            <javadoc line="1573">
                Document property that indicates asynchronous loading is
                  desired, with the thread priority given as the value.                
            </javadoc>
            <interface name="Content">
                <comment line="1844">
                    --- AttributeSet ----------------------------                    
                </comment>
                <comment line="1845">
                    delegated to the immutable field &quot;attributes&quot;                    
                </comment>
                <comment line="1960">
                    --- MutableAttributeSet ----------------------------------                    
                </comment>
                <comment line="1961">
                    should fetch a new immutable record for the field                    
                </comment>
                <comment line="1962">
                    &quot;attributes&quot;.                    
                </comment>
                <comment line="2055">
                    --- Element methods -------------------------------------                    
                </comment>
                <comment line="2140">
                    --- TreeNode methods -------------------------------------                    
                </comment>
                <comment line="2198">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2215">
                    ---- variables -----------------------------------------------------                    
                </comment>
                <comment line="2307">
                    --- Element methods -----------------------------------                    
                </comment>
                <comment line="2441">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2468">
                    ------ members ----------------------------------------------                    
                </comment>
                <comment line="2523">
                    --- Element methods ---------------------------------------------                    
                </comment>
                <comment line="2594">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2614">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2640">
                    ---- members -----------------------------------------------------                    
                </comment>
                <comment line="2735">
                    --- CompoundEdit methods --------------------------                    
                </comment>
                <comment line="2869">
                    --- DocumentEvent methods --------------------------                    
                </comment>
                <comment line="2934">
                    --- member variables ------------------------------------                    
                </comment>
                <comment line="2974">
                    DocumentEvent methods delegated to DefaultDocumentEvent source                    
                </comment>
                <comment line="2975">
                    except getType() which depends on operation (Undo or Redo).                    
                </comment>
                <javadoc line="1579">
                    Interface to describe a sequence of character content that
                      can be edited.  Implementations may or may not support a
                      history mechanism which will be reflected by whether or not
                      mutations return an UndoableEdit implementation.                    
                    <see>
                        AbstractDocument                        
                    </see>
                </javadoc>
                <method name="createPosition" type="Position" line="1588"/>
                <javadoc line="1588">
                    Creates a position within the content that will
                      track change as the content is mutated.                    
                    <param>
                        offset the offset in the content >= 0                        
                    </param>
                    <return>
                        a Position                        
                    </return>
                    <exception>
                        BadLocationException for an invalid offset                        
                    </exception>
                </javadoc>
                <method name="length" type="int" line="1598"/>
                <javadoc line="1598">
                    Current length of the sequence of character content.                    
                    <return>
                        the length >= 0                        
                    </return>
                </javadoc>
                <method name="insertString" type="UndoableEdit" line="1605"/>
                <javadoc line="1605">
                    Inserts a string of characters into the sequence.                    
                    <param>
                        where   offset into the sequence to make the insertion >= 0                        
                    </param>
                    <param>
                        str     string to insert                        
                    </param>
                    <return>
                        if the implementation supports a history mechanism,
                          a reference to an <code>Edit</code> implementation will be returned,
                          otherwise returns <code>null</code>                        
                    </return>
                    <exception>
                        BadLocationException  thrown if the area covered by
                          the arguments is not contained in the character sequence                        
                    </exception>
                </javadoc>
                <method name="remove" type="UndoableEdit" line="1618"/>
                <javadoc line="1618">
                    Removes some portion of the sequence.                    
                    <param>
                        where   The offset into the sequence to make the
                          insertion >= 0.                        
                    </param>
                    <param>
                        nitems  The number of items in the sequence to remove >= 0.                        
                    </param>
                    <return>
                        If the implementation supports a history mechansim,
                          a reference to an Edit implementation will be returned,
                          otherwise null.                        
                    </return>
                    <exception>
                        BadLocationException  Thrown if the area covered by
                          the arguments is not contained in the character sequence.                        
                    </exception>
                </javadoc>
                <method name="getString" type="String" line="1632"/>
                <javadoc line="1632">
                    Fetches a string of characters contained in the sequence.                    
                    <param>
                        where   Offset into the sequence to fetch >= 0.                        
                    </param>
                    <param>
                        len     number of characters to copy >= 0.                        
                    </param>
                    <return>
                        the string                        
                    </return>
                    <exception>
                        BadLocationException  Thrown if the area covered by
                          the arguments is not contained in the character sequence.                        
                    </exception>
                </javadoc>
                <method name="getChars" type="void" line="1643"/>
                <javadoc line="1643">
                    Gets a sequence of characters and copies them into a Segment.                    
                    <param>
                        where the starting offset >= 0                        
                    </param>
                    <param>
                        len the number of characters >= 0                        
                    </param>
                    <param>
                        txt the target location to copy into                        
                    </param>
                    <exception>
                        BadLocationException  Thrown if the area covered by
                          the arguments is not contained in the character sequence.                        
                    </exception>
                </javadoc>
            </interface>
            <interface name="AttributeContext">
                <comment line="1844">
                    --- AttributeSet ----------------------------                    
                </comment>
                <comment line="1845">
                    delegated to the immutable field &quot;attributes&quot;                    
                </comment>
                <comment line="1960">
                    --- MutableAttributeSet ----------------------------------                    
                </comment>
                <comment line="1961">
                    should fetch a new immutable record for the field                    
                </comment>
                <comment line="1962">
                    &quot;attributes&quot;.                    
                </comment>
                <comment line="2055">
                    --- Element methods -------------------------------------                    
                </comment>
                <comment line="2140">
                    --- TreeNode methods -------------------------------------                    
                </comment>
                <comment line="2198">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2215">
                    ---- variables -----------------------------------------------------                    
                </comment>
                <comment line="2307">
                    --- Element methods -----------------------------------                    
                </comment>
                <comment line="2441">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2468">
                    ------ members ----------------------------------------------                    
                </comment>
                <comment line="2523">
                    --- Element methods ---------------------------------------------                    
                </comment>
                <comment line="2594">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2614">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2640">
                    ---- members -----------------------------------------------------                    
                </comment>
                <comment line="2735">
                    --- CompoundEdit methods --------------------------                    
                </comment>
                <comment line="2869">
                    --- DocumentEvent methods --------------------------                    
                </comment>
                <comment line="2934">
                    --- member variables ------------------------------------                    
                </comment>
                <comment line="2974">
                    DocumentEvent methods delegated to DefaultDocumentEvent source                    
                </comment>
                <comment line="2975">
                    except getType() which depends on operation (Undo or Redo).                    
                </comment>
                <javadoc line="1655">
                    An interface that can be used to allow MutableAttributeSet
                      implementations to use pluggable attribute compression
                      techniques.  Each mutation of the attribute set can be
                      used to exchange a previous AttributeSet instance with
                      another, preserving the possibility of the AttributeSet
                      remaining immutable.  An implementation is provided by
                      the StyleContext class.
                      The Element implementations provided by this class use
                      this interface to provide their MutableAttributeSet
                      implementations, so that different AttributeSet compression
                      techniques can be employed.  The method
                      &lt;code&gt;getAttributeContext&lt;/code&gt; should be implemented to
                      return the object responsible for implementing the desired
                      compression technique.                    
                    <see>
                        StyleContext                        
                    </see>
                </javadoc>
                <method name="addAttribute" type="AttributeSet" line="1676"/>
                <javadoc line="1676">
                    Adds an attribute to the given set, and returns
                      the new representative set.                    
                    <param>
                        old the old attribute set                        
                    </param>
                    <param>
                        name the non-null attribute name                        
                    </param>
                    <param>
                        value the attribute value                        
                    </param>
                    <return>
                        the updated attribute set                        
                    </return>
                    <see>
                        MutableAttributeSet#addAttribute                        
                    </see>
                </javadoc>
                <method name="addAttributes" type="AttributeSet" line="1688"/>
                <javadoc line="1688">
                    Adds a set of attributes to the element.                    
                    <param>
                        old the old attribute set                        
                    </param>
                    <param>
                        attr the attributes to add                        
                    </param>
                    <return>
                        the updated attribute set                        
                    </return>
                    <see>
                        MutableAttributeSet#addAttribute                        
                    </see>
                </javadoc>
                <method name="removeAttribute" type="AttributeSet" line="1698"/>
                <javadoc line="1698">
                    Removes an attribute from the set.                    
                    <param>
                        old the old attribute set                        
                    </param>
                    <param>
                        name the non-null attribute name                        
                    </param>
                    <return>
                        the updated attribute set                        
                    </return>
                    <see>
                        MutableAttributeSet#removeAttribute                        
                    </see>
                </javadoc>
                <method name="removeAttributes" type="AttributeSet" line="1708"/>
                <javadoc line="1708">
                    Removes a set of attributes for the element.                    
                    <param>
                        old the old attribute set                        
                    </param>
                    <param>
                        names the attribute names                        
                    </param>
                    <return>
                        the updated attribute set                        
                    </return>
                    <see>
                        MutableAttributeSet#removeAttributes                        
                    </see>
                </javadoc>
                <method name="removeAttributes" type="AttributeSet" line="1718"/>
                <javadoc line="1718">
                    Removes a set of attributes for the element.                    
                    <param>
                        old the old attribute set                        
                    </param>
                    <param>
                        attrs the attributes                        
                    </param>
                    <return>
                        the updated attribute set                        
                    </return>
                    <see>
                        MutableAttributeSet#removeAttributes                        
                    </see>
                </javadoc>
                <method name="getEmptySet" type="AttributeSet" line="1728"/>
                <javadoc line="1728">
                    Fetches an empty AttributeSet.                    
                    <return>
                        the attribute set                        
                    </return>
                </javadoc>
                <method name="reclaim" type="void" line="1735"/>
                <javadoc line="1735">
                    Reclaims an attribute set.
                      This is a way for a MutableAttributeSet to mark that it no
                      longer need a particular immutable set.  This is only necessary
                      in 1.1 where there are no weak references.  A 1.1 implementation
                      would call this in its finalize method.                    
                    <param>
                        a the attribute set to reclaim                        
                    </param>
                </javadoc>
            </interface>
            <class name="AbstractElement" line="1747">
                <comment line="1844">
                    --- AttributeSet ----------------------------                    
                </comment>
                <comment line="1845">
                    delegated to the immutable field &quot;attributes&quot;                    
                </comment>
                <comment line="1960">
                    --- MutableAttributeSet ----------------------------------                    
                </comment>
                <comment line="1961">
                    should fetch a new immutable record for the field                    
                </comment>
                <comment line="1962">
                    &quot;attributes&quot;.                    
                </comment>
                <comment line="2055">
                    --- Element methods -------------------------------------                    
                </comment>
                <comment line="2140">
                    --- TreeNode methods -------------------------------------                    
                </comment>
                <comment line="2198">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2215">
                    ---- variables -----------------------------------------------------                    
                </comment>
                <comment line="2307">
                    --- Element methods -----------------------------------                    
                </comment>
                <comment line="2441">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2468">
                    ------ members ----------------------------------------------                    
                </comment>
                <comment line="2523">
                    --- Element methods ---------------------------------------------                    
                </comment>
                <comment line="2594">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2614">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2640">
                    ---- members -----------------------------------------------------                    
                </comment>
                <comment line="2735">
                    --- CompoundEdit methods --------------------------                    
                </comment>
                <comment line="2869">
                    --- DocumentEvent methods --------------------------                    
                </comment>
                <comment line="2934">
                    --- member variables ------------------------------------                    
                </comment>
                <comment line="2974">
                    DocumentEvent methods delegated to DefaultDocumentEvent source                    
                </comment>
                <comment line="2975">
                    except getType() which depends on operation (Undo or Redo).                    
                </comment>
                <implements interface="Element"/>
                <implements interface="MutableAttributeSet"/>
                <implements interface="Serializable"/>
                <implements interface="TreeNode"/>
                <javadoc line="1747">
                    Implements the abstract part of an element.  By default elements
                      support attributes by having a field that represents the immutable
                      part of the current attribute set for the element.  The element itself
                      implements MutableAttributeSet which can be used to modify the set
                      by fetching a new immutable set.  The immutable sets are provided
                      by the AttributeContext associated with the document.
                      &lt;p&gt;
                      &lt;strong&gt;Warning:&lt;/strong&gt;
                      Serialized objects of this class will not be compatible with
                      future Swing releases. The current serialization support is
                      appropriate for short term storage or RMI between applications running
                      the same version of Swing.  As of 1.4, support for long term storage
                      of all JavaBeans&lt;sup&gt;&lt;font size=&quot;-2&quot;&gt;TM&lt;/font&gt;&lt;/sup&gt;
                      has been added to the &lt;code&gt;java.beans&lt;/code&gt; package.
                      Please see {@link java.beans.XMLEncoder}.                    
                </javadoc>
                <javadoc line="1766">
                    Creates a new AbstractElement.                    
                    <param>
                        parent the parent element                        
                    </param>
                    <param>
                        a the attributes for the element                        
                    </param>
                    <since>
                        1.4                        
                    </since>
                </javadoc>
                <method name="AbstractElement" type="constructor" line="1773">
                    <params>
                        <param name="parent" type="Element"/>
                        <param name="a" type="AttributeSet"/>
                    </params>
                    <scope line="1776"/>
                </method>
                <method name="indent" type="void" line="1781">
                    <params>
                        <param name="out" type="PrintWriter"/>
                        <param name="n" type="int"/>
                    </params>
                    <scope line="1782"/>
                </method>
                <javadoc line="1787">
                    Dumps a debugging representation of the element hierarchy.                    
                    <param>
                        psOut the output stream                        
                    </param>
                    <param>
                        indentAmount the indentation level >= 0                        
                    </param>
                </javadoc>
                <method name="dump" type="void" line="1793">
                    <params>
                        <param name="psOut" type="PrintStream"/>
                        <param name="indentAmount" type="int"/>
                    </params>
                    <comment line="1809">
                        dump the attributes                        
                    </comment>
                    <comment line="1826">
                                                
                    </comment>
                    <declaration name="out" type="PrintWriter" line="1794"/>
                    <scope line="1795"/>
                    <scope line="1798"/>
                    <scope line="1802"/>
                    <scope line="1804"/>
                    <scope line="1807">
                        <declaration name="names" type="Enumeration" line="1810"/>
                        <scope line="1811">
                            <declaration name="name" type="Object" line="1812"/>
                        </scope>
                    </scope>
                    <scope line="1820">
                        <declaration name="c" type="Content" line="1823"/>
                        <scope line="1824">
                            <declaration name="contentStr" type="String" line="1825"/>
                            <scope line="1827"/>
                        </scope>
                        <scope line="1831"/>
                    </scope>
                    <scope line="1834">
                        <declaration name="n" type="int" line="1835"/>
                        <scope line="1836">
                            <declaration name="e" type="AbstractElement" line="1837"/>
                        </scope>
                    </scope>
                </method>
                <javadoc line="1846">
                    Gets the number of attributes that are defined.                    
                    <return>
                        the number of attributes >= 0                        
                    </return>
                    <see>
                        AttributeSet#getAttributeCount                        
                    </see>
                </javadoc>
                <method name="getAttributeCount" type="int" line="1852"/>
                <javadoc line="1856">
                    Checks whether a given attribute is defined.                    
                    <param>
                        attrName the non-null attribute name                        
                    </param>
                    <return>
                        true if the attribute is defined                        
                    </return>
                    <see>
                        AttributeSet#isDefined                        
                    </see>
                </javadoc>
                <method name="isDefined" type="boolean" line="1863">
                    <params>
                        <param name="attrName" type="Object"/>
                    </params>
                </method>
                <javadoc line="1867">
                    Checks whether two attribute sets are equal.                    
                    <param>
                        attr the attribute set to check against                        
                    </param>
                    <return>
                        true if the same                        
                    </return>
                    <see>
                        AttributeSet#isEqual                        
                    </see>
                </javadoc>
                <method name="isEqual" type="boolean" line="1874">
                    <params>
                        <param name="attr" type="AttributeSet"/>
                    </params>
                </method>
                <javadoc line="1878">
                    Copies a set of attributes.                    
                    <return>
                        the copy                        
                    </return>
                    <see>
                        AttributeSet#copyAttributes                        
                    </see>
                </javadoc>
                <method name="copyAttributes" type="AttributeSet" line="1884"/>
                <javadoc line="1888">
                    Gets the value of an attribute.                    
                    <param>
                        attrName the non-null attribute name                        
                    </param>
                    <return>
                        the attribute value                        
                    </return>
                    <see>
                        AttributeSet#getAttribute                        
                    </see>
                </javadoc>
                <method name="getAttribute" type="Object" line="1895">
                    <params>
                        <param name="attrName" type="Object"/>
                    </params>
                    <comment line="1898">
                        The delegate nor it&apos;s resolvers had a match,                        
                    </comment>
                    <comment line="1899">
                        so we&apos;ll try to resolve through the parent                        
                    </comment>
                    <comment line="1900">
                        element.                        
                    </comment>
                    <declaration name="value" type="Object" line="1896"/>
                    <scope line="1897">
                        <declaration name="a" type="AttributeSet" line="1901"/>
                        <scope line="1902"/>
                    </scope>
                </method>
                <javadoc line="1909">
                    Gets the names of all attributes.                    
                    <return>
                        the attribute names as an enumeration                        
                    </return>
                    <see>
                        AttributeSet#getAttributeNames                        
                    </see>
                </javadoc>
                <method name="getAttributeNames" type="Enumeration<?>" line="1915"/>
                <javadoc line="1919">
                    Checks whether a given attribute name/value is defined.                    
                    <param>
                        name the non-null attribute name                        
                    </param>
                    <param>
                        value the attribute value                        
                    </param>
                    <return>
                        true if the name/value is defined                        
                    </return>
                    <see>
                        AttributeSet#containsAttribute                        
                    </see>
                </javadoc>
                <method name="containsAttribute" type="boolean" line="1927">
                    <params>
                        <param name="name" type="Object"/>
                        <param name="value" type="Object"/>
                    </params>
                </method>
                <javadoc line="1932">
                    Checks whether the element contains all the attributes.                    
                    <param>
                        attrs the attributes to check                        
                    </param>
                    <return>
                        true if the element contains all the attributes                        
                    </return>
                    <see>
                        AttributeSet#containsAttributes                        
                    </see>
                </javadoc>
                <method name="containsAttributes" type="boolean" line="1939">
                    <params>
                        <param name="attrs" type="AttributeSet"/>
                    </params>
                </method>
                <javadoc line="1943">
                    Gets the resolving parent.
                      If not overridden, the resolving parent defaults to
                      the parent element.                    
                    <return>
                        the attributes from the parent, <code>null</code> if none                        
                    </return>
                    <see>
                        AttributeSet#getResolveParent                        
                    </see>
                </javadoc>
                <method name="getResolveParent" type="AttributeSet" line="1951">
                    <declaration name="a" type="AttributeSet" line="1952"/>
                    <scope line="1953"/>
                </method>
                <javadoc line="1963">
                    Adds an attribute to the element.                    
                    <param>
                        name the non-null attribute name                        
                    </param>
                    <param>
                        value the attribute value                        
                    </param>
                    <see>
                        MutableAttributeSet#addAttribute                        
                    </see>
                </javadoc>
                <method name="addAttribute" type="void" line="1970">
                    <params>
                        <param name="name" type="Object"/>
                        <param name="value" type="Object"/>
                    </params>
                    <declaration name="context" type="AttributeContext" line="1972"/>
                </method>
                <javadoc line="1976">
                    Adds a set of attributes to the element.                    
                    <param>
                        attr the attributes to add                        
                    </param>
                    <see>
                        MutableAttributeSet#addAttribute                        
                    </see>
                </javadoc>
                <method name="addAttributes" type="void" line="1982">
                    <params>
                        <param name="attr" type="AttributeSet"/>
                    </params>
                    <declaration name="context" type="AttributeContext" line="1984"/>
                </method>
                <javadoc line="1988">
                    Removes an attribute from the set.                    
                    <param>
                        name the non-null attribute name                        
                    </param>
                    <see>
                        MutableAttributeSet#removeAttribute                        
                    </see>
                </javadoc>
                <method name="removeAttribute" type="void" line="1994">
                    <params>
                        <param name="name" type="Object"/>
                    </params>
                    <declaration name="context" type="AttributeContext" line="1996"/>
                </method>
                <javadoc line="2000">
                    Removes a set of attributes for the element.                    
                    <param>
                        names the attribute names                        
                    </param>
                    <see>
                        MutableAttributeSet#removeAttributes                        
                    </see>
                </javadoc>
                <method name="removeAttributes" type="void" line="2006">
                    <params>
                        <param name="names" type="Enumeration<?>"/>
                    </params>
                    <declaration name="context" type="AttributeContext" line="2008"/>
                </method>
                <javadoc line="2012">
                    Removes a set of attributes for the element.                    
                    <param>
                        attrs the attributes                        
                    </param>
                    <see>
                        MutableAttributeSet#removeAttributes                        
                    </see>
                </javadoc>
                <method name="removeAttributes" type="void" line="2018">
                    <params>
                        <param name="attrs" type="AttributeSet"/>
                    </params>
                    <declaration name="context" type="AttributeContext" line="2020"/>
                    <scope line="2021"/>
                    <scope line="2023"/>
                </method>
                <javadoc line="2028">
                    Sets the resolving parent.                    
                    <param>
                        parent the parent, null if none                        
                    </param>
                    <see>
                        MutableAttributeSet#setResolveParent                        
                    </see>
                </javadoc>
                <method name="setResolveParent" type="void" line="2034">
                    <params>
                        <param name="parent" type="AttributeSet"/>
                    </params>
                    <declaration name="context" type="AttributeContext" line="2036"/>
                    <scope line="2037"/>
                    <scope line="2041"/>
                </method>
                <method name="checkForIllegalCast" type="void" line="2047">
                    <declaration name="t" type="Thread" line="2048"/>
                    <scope line="2049"/>
                </method>
                <javadoc line="2056">
                    Retrieves the underlying model.                    
                    <return>
                        the model                        
                    </return>
                </javadoc>
                <method name="getDocument" type="Document" line="2061"/>
                <javadoc line="2065">
                    Gets the parent of the element.                    
                    <return>
                        the parent                        
                    </return>
                </javadoc>
                <method name="getParentElement" type="Element" line="2070"/>
                <javadoc line="2074">
                    Gets the attributes for the element.                    
                    <return>
                        the attribute set                        
                    </return>
                </javadoc>
                <method name="getAttributes" type="AttributeSet" line="2079"/>
                <javadoc line="2083">
                    Gets the name of the element.                    
                    <return>
                        the name, null if none                        
                    </return>
                </javadoc>
                <method name="getName" type="String" line="2088">
                    <scope line="2089"/>
                </method>
                <method name="getStartOffset" type="int" line="2095"/>
                <javadoc line="2095">
                    Gets the starting offset in the model for the element.                    
                    <return>
                        the offset >= 0                        
                    </return>
                </javadoc>
                <method name="getEndOffset" type="int" line="2102"/>
                <javadoc line="2102">
                    Gets the ending offset in the model for the element.                    
                    <return>
                        the offset >= 0                        
                    </return>
                </javadoc>
                <method name="getElement" type="Element" line="2109"/>
                <javadoc line="2109">
                    Gets a child element.                    
                    <param>
                        index the child index, >= 0 && < getElementCount()                        
                    </param>
                    <return>
                        the child element                        
                    </return>
                </javadoc>
                <method name="getElementCount" type="int" line="2117"/>
                <javadoc line="2117">
                    Gets the number of children for the element.                    
                    <return>
                        the number of children >= 0                        
                    </return>
                </javadoc>
                <method name="getElementIndex" type="int" line="2124"/>
                <javadoc line="2124">
                    Gets the child element index closest to the given model offset.                    
                    <param>
                        offset the offset >= 0                        
                    </param>
                    <return>
                        the element index >= 0                        
                    </return>
                </javadoc>
                <method name="isLeaf" type="boolean" line="2132"/>
                <javadoc line="2132">
                    Checks whether the element is a leaf.                    
                    <return>
                        true if a leaf                        
                    </return>
                </javadoc>
                <javadoc line="2141">
                    Returns the child &lt;code&gt;TreeNode&lt;/code&gt; at index
                      &lt;code&gt;childIndex&lt;/code&gt;.                    
                </javadoc>
                <method name="getChildAt" type="TreeNode" line="2145">
                    <params>
                        <param name="childIndex" type="int"/>
                    </params>
                </method>
                <javadoc line="2149">
                    Returns the number of children &lt;code&gt;TreeNode&lt;/code&gt;&apos;s
                      receiver contains.                    
                    <return>
                        the number of children <code>TreeNodews</code>'s
                          receiver contains                        
                    </return>
                </javadoc>
                <method name="getChildCount" type="int" line="2155"/>
                <javadoc line="2159">
                    Returns the parent &lt;code&gt;TreeNode&lt;/code&gt; of the receiver.                    
                    <return>
                        the parent <code>TreeNode</code> of the receiver                        
                    </return>
                </javadoc>
                <method name="getParent" type="TreeNode" line="2163"/>
                <javadoc line="2167">
                    Returns the index of &lt;code&gt;node&lt;/code&gt; in the receivers children.
                      If the receiver does not contain &lt;code&gt;node&lt;/code&gt;, -1 will be
                      returned.                    
                    <param>
                        node the location of interest                        
                    </param>
                    <return>
                        the index of <code>node</code> in the receiver's
                          children, or -1 if absent                        
                    </return>
                </javadoc>
                <method name="getIndex" type="int" line="2175">
                    <params>
                        <param name="node" type="TreeNode"/>
                    </params>
                </method>
                <method name="getAllowsChildren" type="boolean" line="2182"/>
                <javadoc line="2182">
                    Returns true if the receiver allows children.                    
                    <return>
                        true if the receiver allows children, otherwise false                        
                    </return>
                </javadoc>
                <method name="children" type="Enumeration" line="2189"/>
                <javadoc line="2189">
                    Returns the children of the receiver as an
                      &lt;code&gt;Enumeration&lt;/code&gt;.                    
                    <return>
                        the children of the receiver as an <code>Enumeration</code>                        
                    </return>
                </javadoc>
                <method name="writeObject" type="void" line="2199">
                    <params>
                        <param name="s" type="ObjectOutputStream"/>
                    </params>
                </method>
                <method name="readObject" type="void" line="2206">
                    <params>
                        <param name="s" type="ObjectInputStream"/>
                    </params>
                    <declaration name="attr" type="MutableAttributeSet" line="2208"/>
                    <declaration name="context" type="AttributeContext" line="2210"/>
                </method>
                <declaration name="parent" type="Element" line="2216"/>
                <declaration name="attributes" type="AttributeSet" line="2217"/>
            </class>
            <class name="BranchElement" line="2221">
                <extends class="AbstractElement"/>
                <comment line="1844">
                    --- AttributeSet ----------------------------                    
                </comment>
                <comment line="1845">
                    delegated to the immutable field &quot;attributes&quot;                    
                </comment>
                <comment line="1960">
                    --- MutableAttributeSet ----------------------------------                    
                </comment>
                <comment line="1961">
                    should fetch a new immutable record for the field                    
                </comment>
                <comment line="1962">
                    &quot;attributes&quot;.                    
                </comment>
                <comment line="2055">
                    --- Element methods -------------------------------------                    
                </comment>
                <comment line="2140">
                    --- TreeNode methods -------------------------------------                    
                </comment>
                <comment line="2198">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2215">
                    ---- variables -----------------------------------------------------                    
                </comment>
                <comment line="2307">
                    --- Element methods -----------------------------------                    
                </comment>
                <comment line="2441">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2468">
                    ------ members ----------------------------------------------                    
                </comment>
                <comment line="2523">
                    --- Element methods ---------------------------------------------                    
                </comment>
                <comment line="2594">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2614">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2640">
                    ---- members -----------------------------------------------------                    
                </comment>
                <comment line="2735">
                    --- CompoundEdit methods --------------------------                    
                </comment>
                <comment line="2869">
                    --- DocumentEvent methods --------------------------                    
                </comment>
                <comment line="2934">
                    --- member variables ------------------------------------                    
                </comment>
                <comment line="2974">
                    DocumentEvent methods delegated to DefaultDocumentEvent source                    
                </comment>
                <comment line="2975">
                    except getType() which depends on operation (Undo or Redo).                    
                </comment>
                <javadoc line="2221">
                    Implements a composite element that contains other elements.
                      &lt;p&gt;
                      &lt;strong&gt;Warning:&lt;/strong&gt;
                      Serialized objects of this class will not be compatible with
                      future Swing releases. The current serialization support is
                      appropriate for short term storage or RMI between applications running
                      the same version of Swing.  As of 1.4, support for long term storage
                      of all JavaBeans&lt;sup&gt;&lt;font size=&quot;-2&quot;&gt;TM&lt;/font&gt;&lt;/sup&gt;
                      has been added to the &lt;code&gt;java.beans&lt;/code&gt; package.
                      Please see {@link java.beans.XMLEncoder}.                    
                </javadoc>
                <javadoc line="2235">
                    Constructs a composite element that initially contains
                      no children.                    
                    <param>
                        parent  The parent element                        
                    </param>
                    <param>
                        a the attributes for the element                        
                    </param>
                    <since>
                        1.4                        
                    </since>
                </javadoc>
                <method name="BranchElement" type="constructor" line="2243">
                    <params>
                        <param name="parent" type="Element"/>
                        <param name="a" type="AttributeSet"/>
                    </params>
                </method>
                <javadoc line="2250">
                    Gets the child element that contains
                      the given model position.                    
                    <param>
                        pos the position >= 0                        
                    </param>
                    <return>
                        the element, null if none                        
                    </return>
                </javadoc>
                <method name="positionToElement" type="Element" line="2257">
                    <params>
                        <param name="pos" type="int"/>
                    </params>
                    <declaration name="index" type="int" line="2258"/>
                    <declaration name="child" type="Element" line="2259"/>
                    <declaration name="p0" type="int" line="2260"/>
                    <declaration name="p1" type="int" line="2261"/>
                    <scope line="2262"/>
                </method>
                <javadoc line="2268">
                    Replaces content with a new set of elements.                    
                    <param>
                        offset the starting offset >= 0                        
                    </param>
                    <param>
                        length the length to replace >= 0                        
                    </param>
                    <param>
                        elems the new elements                        
                    </param>
                </javadoc>
                <method name="replace" type="void" line="2275">
                    <params>
                        <param name="offset" type="int"/>
                        <param name="length" type="int"/>
                        <param name="elems" type="Element[]"/>
                    </params>
                    <comment line="2281">
                        need to grow the array                        
                    </comment>
                    <comment line="2289">
                        patch the existing array                        
                    </comment>
                    <declaration name="delta" type="int" line="2276"/>
                    <declaration name="src" type="int" line="2277"/>
                    <declaration name="nmove" type="int" line="2278"/>
                    <declaration name="dest" type="int" line="2279"/>
                    <scope line="2280">
                        <declaration name="newLength" type="int" line="2282"/>
                        <declaration name="newChildren" type="AbstractElement[]" line="2283"/>
                    </scope>
                    <scope line="2288"/>
                </method>
                <javadoc line="2296">
                    Converts the element to a string.                    
                    <return>
                        the string                        
                    </return>
                </javadoc>
                <method name="toString" type="String" line="2301"/>
                <javadoc line="2308">
                    Gets the element name.                    
                    <return>
                        the element name                        
                    </return>
                </javadoc>
                <method name="getName" type="String" line="2313">
                    <declaration name="nm" type="String" line="2314"/>
                    <scope line="2315"/>
                </method>
                <javadoc line="2321">
                    Gets the starting offset in the model for the element.                    
                    <return>
                        the offset >= 0                        
                    </return>
                </javadoc>
                <method name="getStartOffset" type="int" line="2326"/>
                <javadoc line="2330">
                    Gets the ending offset in the model for the element.                    
                    <throws>
                        NullPointerException if this element has no children                        
                    </throws>
                    <return>
                        the offset >= 0                        
                    </return>
                </javadoc>
                <method name="getEndOffset" type="int" line="2336">
                    <declaration name="child" type="Element" line="2337"/>
                </method>
                <javadoc line="2342">
                    Gets a child element.                    
                    <param>
                        index the child index, >= 0 && < getElementCount()                        
                    </param>
                    <return>
                        the child element, null if none                        
                    </return>
                </javadoc>
                <method name="getElement" type="Element" line="2348">
                    <params>
                        <param name="index" type="int"/>
                    </params>
                    <scope line="2349"/>
                </method>
                <javadoc line="2355">
                    Gets the number of children for the element.                    
                    <return>
                        the number of children >= 0                        
                    </return>
                </javadoc>
                <method name="getElementCount" type="int" line="2360"/>
                <javadoc line="2364">
                    Gets the child element index closest to the given model offset.                    
                    <param>
                        offset the offset >= 0                        
                    </param>
                    <return>
                        the element index >= 0                        
                    </return>
                </javadoc>
                <method name="getElementIndex" type="int" line="2370">
                    <params>
                        <param name="offset" type="int"/>
                    </params>
                    <comment line="2385">
                        see if the last index can be used.                        
                    </comment>
                    <comment line="2394">
                        last index wasn&apos;t a hit, but it does give useful info about                        
                    </comment>
                    <comment line="2395">
                        where a hit (if any) would be.                        
                    </comment>
                    <comment line="2409">
                        found the location                        
                    </comment>
                    <comment line="2420">
                        didn&apos;t find it, but we indicate the index of where it would belong                        
                    </comment>
                    <declaration name="index" type="int" line="2371"/>
                    <declaration name="lower" type="int" line="2372"/>
                    <declaration name="upper" type="int" line="2373"/>
                    <declaration name="mid" type="int" line="2374"/>
                    <declaration name="p0" type="int" line="2375"/>
                    <declaration name="p1" type="int" line="2376"/>
                    <scope line="2378"/>
                    <scope line="2381"/>
                    <scope line="2386">
                        <declaration name="lastHit" type="Element" line="2387"/>
                        <scope line="2390"/>
                        <scope line="2396"/>
                        <scope line="2398"/>
                    </scope>
                    <scope line="2403">
                        <declaration name="elem" type="Element" line="2405"/>
                        <scope line="2408"/>
                        <scope line="2413"/>
                        <scope line="2415"/>
                    </scope>
                    <scope line="2421"/>
                    <scope line="2423"/>
                </method>
                <javadoc line="2430">
                    Checks whether the element is a leaf.                    
                    <return>
                        true if a leaf                        
                    </return>
                </javadoc>
                <method name="isLeaf" type="boolean" line="2435"/>
                <javadoc line="2442">
                    Returns true if the receiver allows children.                    
                    <return>
                        true if the receiver allows children, otherwise false                        
                    </return>
                </javadoc>
                <method name="getAllowsChildren" type="boolean" line="2446"/>
                <javadoc line="2451">
                    Returns the children of the receiver as an
                      &lt;code&gt;Enumeration&lt;/code&gt;.                    
                    <return>
                        the children of the receiver                        
                    </return>
                </javadoc>
                <method name="children" type="Enumeration" line="2456">
                    <declaration name="tempVector" type="Vector&lt;AbstractElement&gt;" line="2460"/>
                </method>
                <declaration name="children" type="AbstractElement[]" line="2469"/>
                <declaration name="nchildren" type="int" line="2470"/>
                <declaration name="lastIndex" type="int" line="2471"/>
            </class>
            <class name="LeafElement" line="2474">
                <extends class="AbstractElement"/>
                <comment line="1844">
                    --- AttributeSet ----------------------------                    
                </comment>
                <comment line="1845">
                    delegated to the immutable field &quot;attributes&quot;                    
                </comment>
                <comment line="1960">
                    --- MutableAttributeSet ----------------------------------                    
                </comment>
                <comment line="1961">
                    should fetch a new immutable record for the field                    
                </comment>
                <comment line="1962">
                    &quot;attributes&quot;.                    
                </comment>
                <comment line="2055">
                    --- Element methods -------------------------------------                    
                </comment>
                <comment line="2140">
                    --- TreeNode methods -------------------------------------                    
                </comment>
                <comment line="2198">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2215">
                    ---- variables -----------------------------------------------------                    
                </comment>
                <comment line="2307">
                    --- Element methods -----------------------------------                    
                </comment>
                <comment line="2441">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2468">
                    ------ members ----------------------------------------------                    
                </comment>
                <comment line="2523">
                    --- Element methods ---------------------------------------------                    
                </comment>
                <comment line="2594">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2614">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2640">
                    ---- members -----------------------------------------------------                    
                </comment>
                <comment line="2735">
                    --- CompoundEdit methods --------------------------                    
                </comment>
                <comment line="2869">
                    --- DocumentEvent methods --------------------------                    
                </comment>
                <comment line="2934">
                    --- member variables ------------------------------------                    
                </comment>
                <comment line="2974">
                    DocumentEvent methods delegated to DefaultDocumentEvent source                    
                </comment>
                <comment line="2975">
                    except getType() which depends on operation (Undo or Redo).                    
                </comment>
                <javadoc line="2474">
                    Implements an element that directly represents content of
                      some kind.
                      &lt;p&gt;
                      &lt;strong&gt;Warning:&lt;/strong&gt;
                      Serialized objects of this class will not be compatible with
                      future Swing releases. The current serialization support is
                      appropriate for short term storage or RMI between applications running
                      the same version of Swing.  As of 1.4, support for long term storage
                      of all JavaBeans&lt;sup&gt;&lt;font size=&quot;-2&quot;&gt;TM&lt;/font&gt;&lt;/sup&gt;
                      has been added to the &lt;code&gt;java.beans&lt;/code&gt; package.
                      Please see {@link java.beans.XMLEncoder}.                    
                    <see>
                        Element                        
                    </see>
                </javadoc>
                <javadoc line="2491">
                    Constructs an element that represents content within the
                      document (has no children).                    
                    <param>
                        parent  The parent element                        
                    </param>
                    <param>
                        a       The element attributes                        
                    </param>
                    <param>
                        offs0   The start offset >= 0                        
                    </param>
                    <param>
                        offs1   The end offset >= offs0                        
                    </param>
                    <since>
                        1.4                        
                    </since>
                </javadoc>
                <method name="LeafElement" type="constructor" line="2501">
                    <params>
                        <param name="parent" type="Element"/>
                        <param name="a" type="AttributeSet"/>
                        <param name="offs0" type="int"/>
                        <param name="offs1" type="int"/>
                    </params>
                    <scope line="2503"/>
                    <scope line="2506"/>
                </method>
                <javadoc line="2513">
                    Converts the element to a string.                    
                    <return>
                        the string                        
                    </return>
                </javadoc>
                <method name="toString" type="String" line="2518"/>
                <javadoc line="2524">
                    Gets the starting offset in the model for the element.                    
                    <return>
                        the offset >= 0                        
                    </return>
                </javadoc>
                <method name="getStartOffset" type="int" line="2529"/>
                <javadoc line="2533">
                    Gets the ending offset in the model for the element.                    
                    <return>
                        the offset >= 0                        
                    </return>
                </javadoc>
                <method name="getEndOffset" type="int" line="2538"/>
                <javadoc line="2542">
                    Gets the element name.                    
                    <return>
                        the name                        
                    </return>
                </javadoc>
                <method name="getName" type="String" line="2547">
                    <declaration name="nm" type="String" line="2548"/>
                    <scope line="2549"/>
                </method>
                <javadoc line="2555">
                    Gets the child element index closest to the given model offset.                    
                    <param>
                        pos the offset >= 0                        
                    </param>
                    <return>
                        the element index >= 0                        
                    </return>
                </javadoc>
                <method name="getElementIndex" type="int" line="2561">
                    <params>
                        <param name="pos" type="int"/>
                    </params>
                </method>
                <javadoc line="2565">
                    Gets a child element.                    
                    <param>
                        index the child index, >= 0 && < getElementCount()                        
                    </param>
                    <return>
                        the child element                        
                    </return>
                </javadoc>
                <method name="getElement" type="Element" line="2571">
                    <params>
                        <param name="index" type="int"/>
                    </params>
                </method>
                <javadoc line="2575">
                    Returns the number of child elements.                    
                    <return>
                        the number of children >= 0                        
                    </return>
                </javadoc>
                <method name="getElementCount" type="int" line="2580"/>
                <javadoc line="2584">
                    Checks whether the element is a leaf.                    
                    <return>
                        true if a leaf                        
                    </return>
                </javadoc>
                <method name="isLeaf" type="boolean" line="2589"/>
                <javadoc line="2595">
                    Returns true if the receiver allows children.                    
                    <return>
                        true if the receiver allows children, otherwise false                        
                    </return>
                </javadoc>
                <method name="getAllowsChildren" type="boolean" line="2599"/>
                <javadoc line="2604">
                    Returns the children of the receiver as an
                      &lt;code&gt;Enumeration&lt;/code&gt;.                    
                    <return>
                        the children of the receiver                        
                    </return>
                </javadoc>
                <method name="children" type="Enumeration" line="2609"/>
                <method name="writeObject" type="void" line="2615">
                    <params>
                        <param name="s" type="ObjectOutputStream"/>
                    </params>
                </method>
                <method name="readObject" type="void" line="2623">
                    <params>
                        <param name="s" type="ObjectInputStream"/>
                    </params>
                    <comment line="2626">
                        set the range with positions that track change                        
                    </comment>
                    <declaration name="off0" type="int" line="2627"/>
                    <declaration name="off1" type="int" line="2628"/>
                    <scope line="2629"/>
                    <scope line="2632"/>
                </method>
                <declaration name="p0" type="Position" line="2641"/>
                <declaration name="p1" type="Position" line="2642"/>
            </class>
            <class name="BidiRootElement" line="2645">
                <extends class="BranchElement"/>
                <comment line="1844">
                    --- AttributeSet ----------------------------                    
                </comment>
                <comment line="1845">
                    delegated to the immutable field &quot;attributes&quot;                    
                </comment>
                <comment line="1960">
                    --- MutableAttributeSet ----------------------------------                    
                </comment>
                <comment line="1961">
                    should fetch a new immutable record for the field                    
                </comment>
                <comment line="1962">
                    &quot;attributes&quot;.                    
                </comment>
                <comment line="2055">
                    --- Element methods -------------------------------------                    
                </comment>
                <comment line="2140">
                    --- TreeNode methods -------------------------------------                    
                </comment>
                <comment line="2198">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2215">
                    ---- variables -----------------------------------------------------                    
                </comment>
                <comment line="2307">
                    --- Element methods -----------------------------------                    
                </comment>
                <comment line="2441">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2468">
                    ------ members ----------------------------------------------                    
                </comment>
                <comment line="2523">
                    --- Element methods ---------------------------------------------                    
                </comment>
                <comment line="2594">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2614">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2640">
                    ---- members -----------------------------------------------------                    
                </comment>
                <comment line="2735">
                    --- CompoundEdit methods --------------------------                    
                </comment>
                <comment line="2869">
                    --- DocumentEvent methods --------------------------                    
                </comment>
                <comment line="2934">
                    --- member variables ------------------------------------                    
                </comment>
                <comment line="2974">
                    DocumentEvent methods delegated to DefaultDocumentEvent source                    
                </comment>
                <comment line="2975">
                    except getType() which depends on operation (Undo or Redo).                    
                </comment>
                <javadoc line="2645">
                    Represents the root element of the bidirectional element structure.
                      The root element is the only element in the bidi element structure
                      which contains children.                    
                </javadoc>
                <method name="BidiRootElement" type="constructor" line="2652"/>
                <javadoc line="2656">
                    Gets the name of the element.                    
                    <return>
                        the name                        
                    </return>
                </javadoc>
                <method name="getName" type="String" line="2660"/>
            </class>
            <class name="BidiElement" line="2665">
                <extends class="LeafElement"/>
                <comment line="1844">
                    --- AttributeSet ----------------------------                    
                </comment>
                <comment line="1845">
                    delegated to the immutable field &quot;attributes&quot;                    
                </comment>
                <comment line="1960">
                    --- MutableAttributeSet ----------------------------------                    
                </comment>
                <comment line="1961">
                    should fetch a new immutable record for the field                    
                </comment>
                <comment line="1962">
                    &quot;attributes&quot;.                    
                </comment>
                <comment line="2055">
                    --- Element methods -------------------------------------                    
                </comment>
                <comment line="2140">
                    --- TreeNode methods -------------------------------------                    
                </comment>
                <comment line="2198">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2215">
                    ---- variables -----------------------------------------------------                    
                </comment>
                <comment line="2307">
                    --- Element methods -----------------------------------                    
                </comment>
                <comment line="2441">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2468">
                    ------ members ----------------------------------------------                    
                </comment>
                <comment line="2523">
                    --- Element methods ---------------------------------------------                    
                </comment>
                <comment line="2594">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2614">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2640">
                    ---- members -----------------------------------------------------                    
                </comment>
                <comment line="2735">
                    --- CompoundEdit methods --------------------------                    
                </comment>
                <comment line="2869">
                    --- DocumentEvent methods --------------------------                    
                </comment>
                <comment line="2934">
                    --- member variables ------------------------------------                    
                </comment>
                <comment line="2974">
                    DocumentEvent methods delegated to DefaultDocumentEvent source                    
                </comment>
                <comment line="2975">
                    except getType() which depends on operation (Undo or Redo).                    
                </comment>
                <javadoc line="2665">
                    Represents an element of the bidirectional element structure.                    
                </javadoc>
                <javadoc line="2670">
                    Creates a new BidiElement.                    
                </javadoc>
                <method name="BidiElement" type="constructor" line="2673">
                    <params>
                        <param name="parent" type="Element"/>
                        <param name="start" type="int"/>
                        <param name="end" type="int"/>
                        <param name="level" type="int"/>
                    </params>
                    <comment line="2676">
                        System.out.println(&quot;BidiElement: start = &quot; + start                        
                    </comment>
                    <comment line="2677">
                        + &quot; end = &quot; + end + &quot; level = &quot; + level );                        
                    </comment>
                </method>
                <javadoc line="2680">
                    Gets the name of the element.                    
                    <return>
                        the name                        
                    </return>
                </javadoc>
                <method name="getName" type="String" line="2684"/>
                <method name="getLevel" type="int" line="2688">
                    <comment line="2693">
                        Level 0 is base level (non-embedded) left-to-right                        
                    </comment>
                    <declaration name="o" type="Integer" line="2689"/>
                    <scope line="2690"/>
                </method>
                <method name="isLeftToRight" type="boolean" line="2696"/>
            </class>
            <class name="DefaultDocumentEvent" line="2701">
                <extends class="CompoundEdit"/>
                <comment line="1844">
                    --- AttributeSet ----------------------------                    
                </comment>
                <comment line="1845">
                    delegated to the immutable field &quot;attributes&quot;                    
                </comment>
                <comment line="1960">
                    --- MutableAttributeSet ----------------------------------                    
                </comment>
                <comment line="1961">
                    should fetch a new immutable record for the field                    
                </comment>
                <comment line="1962">
                    &quot;attributes&quot;.                    
                </comment>
                <comment line="2055">
                    --- Element methods -------------------------------------                    
                </comment>
                <comment line="2140">
                    --- TreeNode methods -------------------------------------                    
                </comment>
                <comment line="2198">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2215">
                    ---- variables -----------------------------------------------------                    
                </comment>
                <comment line="2307">
                    --- Element methods -----------------------------------                    
                </comment>
                <comment line="2441">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2468">
                    ------ members ----------------------------------------------                    
                </comment>
                <comment line="2523">
                    --- Element methods ---------------------------------------------                    
                </comment>
                <comment line="2594">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2614">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2640">
                    ---- members -----------------------------------------------------                    
                </comment>
                <comment line="2735">
                    --- CompoundEdit methods --------------------------                    
                </comment>
                <comment line="2869">
                    --- DocumentEvent methods --------------------------                    
                </comment>
                <comment line="2934">
                    --- member variables ------------------------------------                    
                </comment>
                <comment line="2974">
                    DocumentEvent methods delegated to DefaultDocumentEvent source                    
                </comment>
                <comment line="2975">
                    except getType() which depends on operation (Undo or Redo).                    
                </comment>
                <implements interface="DocumentEvent"/>
                <javadoc line="2701">
                    Stores document changes as the document is being
                      modified.  Can subsequently be used for change notification
                      when done with the document modification transaction.
                      This is used by the AbstractDocument class and its extensions
                      for broadcasting change information to the document listeners.                    
                </javadoc>
                <javadoc line="2710">
                    Constructs a change record.                    
                    <param>
                        offs the offset into the document of the change >= 0                        
                    </param>
                    <param>
                        len  the length of the change >= 0                        
                    </param>
                    <param>
                        type the type of event (DocumentEvent.EventType)                        
                    </param>
                    <since>
                        1.4                        
                    </since>
                </javadoc>
                <method name="DefaultDocumentEvent" type="constructor" line="2718">
                    <params>
                        <param name="offs" type="int"/>
                        <param name="len" type="int"/>
                        <param name="type" type="DocumentEvent.EventType"/>
                    </params>
                </method>
                <javadoc line="2725">
                    Returns a string description of the change event.                    
                    <return>
                        a string                        
                    </return>
                </javadoc>
                <method name="toString" type="String" line="2730"/>
                <javadoc line="2736">
                    Adds a document edit.  If the number of edits crosses
                      a threshold, this switches on a hashtable lookup for
                      ElementChange implementations since access of these
                      needs to be relatively quick.                    
                    <param>
                        anEdit a document edit record                        
                    </param>
                    <return>
                        true if the edit was added                        
                    </return>
                </javadoc>
                <method name="addEdit" type="boolean" line="2745">
                    <params>
                        <param name="anEdit" type="UndoableEdit"/>
                    </params>
                    <comment line="2746">
                        if the number of changes gets too great, start using                        
                    </comment>
                    <comment line="2747">
                        a hashtable for to locate the change for a given element.                        
                    </comment>
                    <comment line="2760">
                        if we have a hashtable... add the entry if it&apos;s                        
                    </comment>
                    <comment line="2761">
                        an ElementChange.                        
                    </comment>
                    <scope line="2748">
                        <declaration name="n" type="int" line="2750"/>
                        <scope line="2751">
                            <declaration name="o" type="Object" line="2752"/>
                            <scope line="2753">
                                <declaration name="ec" type="DocumentEvent.ElementChange" line="2754"/>
                            </scope>
                        </scope>
                    </scope>
                    <scope line="2762">
                        <declaration name="ec" type="DocumentEvent.ElementChange" line="2763"/>
                    </scope>
                </method>
                <javadoc line="2769">
                    Redoes a change.                    
                    <exception>
                        CannotRedoException if the change cannot be redone                        
                    </exception>
                </javadoc>
                <method name="redo" type="void" line="2774">
                    <comment line="2777">
                        change the state                        
                    </comment>
                    <comment line="2779">
                        fire a DocumentEvent to notify the view(s)                        
                    </comment>
                    <scope line="2776">
                        <declaration name="ev" type="UndoRedoDocumentEvent" line="2780"/>
                        <scope line="2781"/>
                        <scope line="2783"/>
                        <scope line="2785"/>
                    </scope>
                    <scope line="2788"/>
                </method>
                <javadoc line="2793">
                    Undoes a change.                    
                    <exception>
                        CannotUndoException if the change cannot be undone                        
                    </exception>
                </javadoc>
                <method name="undo" type="void" line="2798">
                    <comment line="2801">
                        change the state                        
                    </comment>
                    <comment line="2803">
                        fire a DocumentEvent to notify the view(s)                        
                    </comment>
                    <scope line="2800">
                        <declaration name="ev" type="UndoRedoDocumentEvent" line="2804"/>
                        <scope line="2805"/>
                        <scope line="2807"/>
                        <scope line="2809"/>
                    </scope>
                    <scope line="2812"/>
                </method>
                <javadoc line="2817">
                    DefaultDocument events are significant.  If you wish to aggregate
                      DefaultDocumentEvents to present them as a single edit to the user
                      place them into a CompoundEdit.                    
                    <return>
                        whether the event is significant for edit undo purposes                        
                    </return>
                </javadoc>
                <method name="isSignificant" type="boolean" line="2824"/>
                <javadoc line="2829">
                    Provides a localized, human readable description of this edit
                      suitable for use in, say, a change log.                    
                    <return>
                        the description                        
                    </return>
                </javadoc>
                <method name="getPresentationName" type="String" line="2835">
                    <declaration name="type" type="DocumentEvent.EventType" line="2836"/>
                </method>
                <javadoc line="2844">
                    Provides a localized, human readable description of the undoable
                      form of this edit, e.g. for use as an Undo menu item. Typically
                      derived from getDescription();                    
                    <return>
                        the description                        
                    </return>
                </javadoc>
                <method name="getUndoPresentationName" type="String" line="2851"/>
                <javadoc line="2856">
                    Provides a localized, human readable description of the redoable
                      form of this edit, e.g. for use as a Redo menu item. Typically
                      derived from getPresentationName();                    
                    <return>
                        the description                        
                    </return>
                </javadoc>
                <method name="getRedoPresentationName" type="String" line="2863"/>
                <javadoc line="2870">
                    Returns the type of event.                    
                    <return>
                        the event type as a DocumentEvent.EventType                        
                    </return>
                    <see>
                        DocumentEvent#getType                        
                    </see>
                </javadoc>
                <method name="getType" type="DocumentEvent.EventType" line="2876"/>
                <javadoc line="2880">
                    Returns the offset within the document of the start of the change.                    
                    <return>
                        the offset >= 0                        
                    </return>
                    <see>
                        DocumentEvent#getOffset                        
                    </see>
                </javadoc>
                <method name="getOffset" type="int" line="2886"/>
                <javadoc line="2890">
                    Returns the length of the change.                    
                    <return>
                        the length >= 0                        
                    </return>
                    <see>
                        DocumentEvent#getLength                        
                    </see>
                </javadoc>
                <method name="getLength" type="int" line="2896"/>
                <javadoc line="2900">
                    Gets the document that sourced the change event.                    
                    <return>
                        the document                        
                    </return>
                    <see>
                        DocumentEvent#getDocument                        
                    </see>
                </javadoc>
                <method name="getDocument" type="Document" line="2906"/>
                <javadoc line="2910">
                    Gets the changes for an element.                    
                    <param>
                        elem the element                        
                    </param>
                    <return>
                        the changes                        
                    </return>
                </javadoc>
                <method name="getChange" type="DocumentEvent.ElementChange" line="2916">
                    <params>
                        <param name="elem" type="Element"/>
                    </params>
                    <scope line="2917"/>
                    <declaration name="n" type="int" line="2920"/>
                    <scope line="2921">
                        <declaration name="o" type="Object" line="2922"/>
                        <scope line="2923">
                            <declaration name="c" type="DocumentEvent.ElementChange" line="2924"/>
                            <scope line="2925"/>
                        </scope>
                    </scope>
                </method>
                <declaration name="offset" type="int" line="2935"/>
                <declaration name="length" type="int" line="2936"/>
                <declaration name="changeLookup" type="Hashtable&lt;Element,ElementChange&gt;" line="2937"/>
                <declaration name="type" type="DocumentEvent.EventType" line="2938"/>
            </class>
            <class name="UndoRedoDocumentEvent" line="2942">
                <comment line="1844">
                    --- AttributeSet ----------------------------                    
                </comment>
                <comment line="1845">
                    delegated to the immutable field &quot;attributes&quot;                    
                </comment>
                <comment line="1960">
                    --- MutableAttributeSet ----------------------------------                    
                </comment>
                <comment line="1961">
                    should fetch a new immutable record for the field                    
                </comment>
                <comment line="1962">
                    &quot;attributes&quot;.                    
                </comment>
                <comment line="2055">
                    --- Element methods -------------------------------------                    
                </comment>
                <comment line="2140">
                    --- TreeNode methods -------------------------------------                    
                </comment>
                <comment line="2198">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2215">
                    ---- variables -----------------------------------------------------                    
                </comment>
                <comment line="2307">
                    --- Element methods -----------------------------------                    
                </comment>
                <comment line="2441">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2468">
                    ------ members ----------------------------------------------                    
                </comment>
                <comment line="2523">
                    --- Element methods ---------------------------------------------                    
                </comment>
                <comment line="2594">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2614">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2640">
                    ---- members -----------------------------------------------------                    
                </comment>
                <comment line="2735">
                    --- CompoundEdit methods --------------------------                    
                </comment>
                <comment line="2869">
                    --- DocumentEvent methods --------------------------                    
                </comment>
                <comment line="2934">
                    --- member variables ------------------------------------                    
                </comment>
                <comment line="2974">
                    DocumentEvent methods delegated to DefaultDocumentEvent source                    
                </comment>
                <comment line="2975">
                    except getType() which depends on operation (Undo or Redo).                    
                </comment>
                <implements interface="DocumentEvent"/>
                <javadoc line="2942">
                    This event used when firing document changes while Undo/Redo
                      operations. It just wraps DefaultDocumentEvent and delegates
                      all calls to it except getType() which depends on operation
                      (Undo or Redo).                    
                </javadoc>
                <declaration name="src" type="DefaultDocumentEvent" line="2949"/>
                <declaration name="isUndo" type="boolean" line="2950"/>
                <declaration name="type" type="EventType" line="2951"/>
                <method name="UndoRedoDocumentEvent" type="constructor" line="2953">
                    <params>
                        <param name="src" type="DefaultDocumentEvent"/>
                        <param name="isUndo" type="boolean"/>
                    </params>
                    <scope line="2956">
                        <scope line="2957"/>
                        <scope line="2959"/>
                        <scope line="2961"/>
                    </scope>
                    <scope line="2964"/>
                </method>
                <method name="getSource" type="DefaultDocumentEvent" line="2969"/>
                <method name="getOffset" type="int" line="2975"/>
                <method name="getLength" type="int" line="2979"/>
                <method name="getDocument" type="Document" line="2983"/>
                <method name="getType" type="DocumentEvent.EventType" line="2987"/>
                <method name="getChange" type="DocumentEvent.ElementChange" line="2991">
                    <params>
                        <param name="elem" type="Element"/>
                    </params>
                </method>
            </class>
            <class name="ElementEdit" line="2996">
                <extends class="AbstractUndoableEdit"/>
                <comment line="1844">
                    --- AttributeSet ----------------------------                    
                </comment>
                <comment line="1845">
                    delegated to the immutable field &quot;attributes&quot;                    
                </comment>
                <comment line="1960">
                    --- MutableAttributeSet ----------------------------------                    
                </comment>
                <comment line="1961">
                    should fetch a new immutable record for the field                    
                </comment>
                <comment line="1962">
                    &quot;attributes&quot;.                    
                </comment>
                <comment line="2055">
                    --- Element methods -------------------------------------                    
                </comment>
                <comment line="2140">
                    --- TreeNode methods -------------------------------------                    
                </comment>
                <comment line="2198">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2215">
                    ---- variables -----------------------------------------------------                    
                </comment>
                <comment line="2307">
                    --- Element methods -----------------------------------                    
                </comment>
                <comment line="2441">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2468">
                    ------ members ----------------------------------------------                    
                </comment>
                <comment line="2523">
                    --- Element methods ---------------------------------------------                    
                </comment>
                <comment line="2594">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2614">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2640">
                    ---- members -----------------------------------------------------                    
                </comment>
                <comment line="2735">
                    --- CompoundEdit methods --------------------------                    
                </comment>
                <comment line="2869">
                    --- DocumentEvent methods --------------------------                    
                </comment>
                <comment line="2934">
                    --- member variables ------------------------------------                    
                </comment>
                <comment line="2974">
                    DocumentEvent methods delegated to DefaultDocumentEvent source                    
                </comment>
                <comment line="2975">
                    except getType() which depends on operation (Undo or Redo).                    
                </comment>
                <implements interface="DocumentEvent.ElementChange"/>
                <javadoc line="2996">
                    An implementation of ElementChange that can be added to the document
                      event.                    
                </javadoc>
                <javadoc line="3002">
                    Constructs an edit record.  This does not modify the element
                      so it can safely be used to &lt;em&gt;catch up&lt;/em&gt; a view to the
                      current model state for views that just attached to a model.                    
                    <param>
                        e the element                        
                    </param>
                    <param>
                        index the index into the model >= 0                        
                    </param>
                    <param>
                        removed a set of elements that were removed                        
                    </param>
                    <param>
                        added a set of elements that were added                        
                    </param>
                </javadoc>
                <method name="ElementEdit" type="constructor" line="3012">
                    <params>
                        <param name="e" type="Element"/>
                        <param name="index" type="int"/>
                        <param name="removed" type="Element[]"/>
                        <param name="added" type="Element[]"/>
                    </params>
                </method>
                <javadoc line="3020">
                    Returns the underlying element.                    
                    <return>
                        the element                        
                    </return>
                </javadoc>
                <method name="getElement" type="Element" line="3025"/>
                <javadoc line="3029">
                    Returns the index into the list of elements.                    
                    <return>
                        the index >= 0                        
                    </return>
                </javadoc>
                <method name="getIndex" type="int" line="3034"/>
                <javadoc line="3038">
                    Gets a list of children that were removed.                    
                    <return>
                        the list                        
                    </return>
                </javadoc>
                <method name="getChildrenRemoved" type="Element[]" line="3043"/>
                <javadoc line="3047">
                    Gets a list of children that were added.                    
                    <return>
                        the list                        
                    </return>
                </javadoc>
                <method name="getChildrenAdded" type="Element[]" line="3052"/>
                <javadoc line="3056">
                    Redoes a change.                    
                    <exception>
                        CannotRedoException if the change cannot be redone                        
                    </exception>
                </javadoc>
                <method name="redo" type="void" line="3061">
                    <comment line="3064">
                        Since this event will be reused, switch around added/removed.                        
                    </comment>
                    <comment line="3069">
                        PENDING(prinz) need MutableElement interface, canRedo() should check                        
                    </comment>
                    <declaration name="tmp" type="Element[]" line="3065"/>
                </method>
                <javadoc line="3073">
                    Undoes a change.                    
                    <exception>
                        CannotUndoException if the change cannot be undone                        
                    </exception>
                </javadoc>
                <method name="undo" type="void" line="3078">
                    <comment line="3080">
                        PENDING(prinz) need MutableElement interface, canUndo() should check                        
                    </comment>
                    <comment line="3083">
                        Since this event will be reused, switch around added/removed.                        
                    </comment>
                    <declaration name="tmp" type="Element[]" line="3084"/>
                </method>
                <declaration name="e" type="Element" line="3089"/>
                <declaration name="index" type="int" line="3090"/>
                <declaration name="removed" type="Element[]" line="3091"/>
                <declaration name="added" type="Element[]" line="3092"/>
            </class>
            <class name="DefaultFilterBypass" line="3096">
                <extends class="DocumentFilter.FilterBypass"/>
                <comment line="1844">
                    --- AttributeSet ----------------------------                    
                </comment>
                <comment line="1845">
                    delegated to the immutable field &quot;attributes&quot;                    
                </comment>
                <comment line="1960">
                    --- MutableAttributeSet ----------------------------------                    
                </comment>
                <comment line="1961">
                    should fetch a new immutable record for the field                    
                </comment>
                <comment line="1962">
                    &quot;attributes&quot;.                    
                </comment>
                <comment line="2055">
                    --- Element methods -------------------------------------                    
                </comment>
                <comment line="2140">
                    --- TreeNode methods -------------------------------------                    
                </comment>
                <comment line="2198">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2215">
                    ---- variables -----------------------------------------------------                    
                </comment>
                <comment line="2307">
                    --- Element methods -----------------------------------                    
                </comment>
                <comment line="2441">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2468">
                    ------ members ----------------------------------------------                    
                </comment>
                <comment line="2523">
                    --- Element methods ---------------------------------------------                    
                </comment>
                <comment line="2594">
                    ------ TreeNode ----------------------------------------------                    
                </comment>
                <comment line="2614">
                    --- serialization ---------------------------------------------                    
                </comment>
                <comment line="2640">
                    ---- members -----------------------------------------------------                    
                </comment>
                <comment line="2735">
                    --- CompoundEdit methods --------------------------                    
                </comment>
                <comment line="2869">
                    --- DocumentEvent methods --------------------------                    
                </comment>
                <comment line="2934">
                    --- member variables ------------------------------------                    
                </comment>
                <comment line="2974">
                    DocumentEvent methods delegated to DefaultDocumentEvent source                    
                </comment>
                <comment line="2975">
                    except getType() which depends on operation (Undo or Redo).                    
                </comment>
                <method name="getDocument" type="Document" line="3097"/>
                <method name="remove" type="void" line="3102">
                    <params>
                        <param name="offset" type="int"/>
                        <param name="length" type="int"/>
                    </params>
                </method>
                <method name="insertString" type="void" line="3108">
                    <params>
                        <param name="offset" type="int"/>
                        <param name="string" type="String"/>
                        <param name="attr" type="AttributeSet"/>
                    </params>
                </method>
                <method name="replace" type="void" line="3113">
                    <params>
                        <param name="offset" type="int"/>
                        <param name="length" type="int"/>
                        <param name="text" type="String"/>
                        <param name="attrs" type="AttributeSet"/>
                    </params>
                </method>
            </class>
        </class>
    </source>