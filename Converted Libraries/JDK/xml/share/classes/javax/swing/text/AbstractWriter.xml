<?xml version="1.0" encoding="UTF-8"?>
    <source package="javax.swing.text">
        <import package="java.io.Writer"/>
        <import package="java.io.IOException"/>
        <import package="java.util.Enumeration"/>
        <class name="AbstractWriter" line="32">
            <comment line="54">
                If (indentLevel * indentSpace) becomes &gt;= maxLineLength, this will
                 get incremened instead of indentLevel to avoid indenting going greater
                 than line length.                
            </comment>
            <javadoc line="32">
                AbstractWriter is an abstract class that actually
                  does the work of writing out the element tree
                  including the attributes.  In terms of how much is
                  written out per line, the writer defaults to 100.
                  But this value can be set by subclasses.                
                <author>
                    Sunita Mani                    
                </author>
            </javadoc>
            <declaration name="it" type="ElementIterator" line="44"/>
            <declaration name="out" type="Writer" line="45"/>
            <declaration name="indentLevel" type="int" line="46"/>
            <declaration name="indentSpace" type="int" line="47"/>
            <declaration name="doc" type="Document" line="48"/>
            <declaration name="maxLineLength" type="int" line="49"/>
            <declaration name="currLength" type="int" line="50"/>
            <declaration name="startOffset" type="int" line="51"/>
            <declaration name="endOffset" type="int" line="52"/>
            <declaration name="offsetIndent" type="int" line="56"/>
            <declaration name="lineSeparator" type="String" line="58"/>
            <javadoc line="58">
                String used for end of line. If the Document has the property
                  EndOfLineStringProperty, it will be used for newlines. Otherwise
                  the System property line.separator will be used. The line separator
                  can also be set.                
            </javadoc>
            <declaration name="canWrapLines" type="boolean" line="66"/>
            <javadoc line="66">
                True indicates that when writing, the line can be split, false
                  indicates that even if the line is &gt; than max line length it should
                  not be split.                
            </javadoc>
            <declaration name="isLineEmpty" type="boolean" line="73"/>
            <javadoc line="73">
                True while the current line is empty. This will remain true after
                  indenting.                
            </javadoc>
            <declaration name="indentChars" type="char[]" line="79"/>
            <javadoc line="79">
                Used when indenting. Will contain the spaces.                
            </javadoc>
            <declaration name="tempChars" type="char[]" line="84"/>
            <javadoc line="84">
                Used when writing out a string.                
            </javadoc>
            <declaration name="newlineChars" type="char[]" line="89"/>
            <javadoc line="89">
                This is used in &lt;code&gt;writeLineSeparator&lt;/code&gt; instead of
                  tempChars. If tempChars were used it would mean write couldn&apos;t invoke
                  &lt;code&gt;writeLineSeparator&lt;/code&gt; as it might have been passed
                  tempChars.                
            </javadoc>
            <declaration name="segment" type="Segment" line="97"/>
            <javadoc line="97">
                Used for writing text.                
            </javadoc>
            <declaration name="NEWLINE" type="char" line="102"/>
            <javadoc line="102">
                How the text packages models newlines.                
                <see>
                    #getLineSeparator                    
                </see>
            </javadoc>
            <javadoc line="109">
                Creates a new AbstractWriter.
                  Initializes the ElementIterator with the default
                  root of the document.                
                <param>
                    w a Writer.                    
                </param>
                <param>
                    doc a Document                    
                </param>
            </javadoc>
            <method name="AbstractWriter" type="constructor" line="117">
                <params>
                    <param name="w" type="Writer"/>
                    <param name="doc" type="Document"/>
                </params>
            </method>
            <javadoc line="121">
                Creates a new AbstractWriter.
                  Initializes the ElementIterator with the
                  element passed in.                
                <param>
                    w a Writer                    
                </param>
                <param>
                    doc an Element                    
                </param>
                <param>
                    pos The location in the document to fetch the
                      content.                    
                </param>
                <param>
                    len The amount to write out.                    
                </param>
            </javadoc>
            <method name="AbstractWriter" type="constructor" line="132">
                <params>
                    <param name="w" type="Writer"/>
                    <param name="doc" type="Document"/>
                    <param name="pos" type="int"/>
                    <param name="len" type="int"/>
                </params>
                <comment line="150">
                    Should not get here, but if we do it means we could not
                     find a newline string, use \n in this case.                    
                </comment>
                <declaration name="docNewline" type="Object" line="138"/>
                <scope line="140"/>
                <scope line="143">
                    <declaration name="newline" type="String" line="144"/>
                    <scope line="145"/>
                    <scope line="147"/>
                    <scope line="148"/>
                </scope>
            </method>
            <javadoc line="158">
                Creates a new AbstractWriter.
                  Initializes the ElementIterator with the
                  element passed in.                
                <param>
                    w a Writer                    
                </param>
                <param>
                    root an Element                    
                </param>
            </javadoc>
            <method name="AbstractWriter" type="constructor" line="166">
                <params>
                    <param name="w" type="Writer"/>
                    <param name="root" type="Element"/>
                </params>
            </method>
            <javadoc line="170">
                Creates a new AbstractWriter.
                  Initializes the ElementIterator with the
                  element passed in.                
                <param>
                    w a Writer                    
                </param>
                <param>
                    root an Element                    
                </param>
                <param>
                    pos The location in the document to fetch the
                      content.                    
                </param>
                <param>
                    len The amount to write out.                    
                </param>
            </javadoc>
            <method name="AbstractWriter" type="constructor" line="181">
                <params>
                    <param name="w" type="Writer"/>
                    <param name="root" type="Element"/>
                    <param name="pos" type="int"/>
                    <param name="len" type="int"/>
                </params>
            </method>
            <javadoc line="190">
                Returns the first offset to be output.                
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="getStartOffset" type="int" line="195"/>
            <javadoc line="199">
                Returns the last offset to be output.                
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="getEndOffset" type="int" line="204"/>
            <javadoc line="208">
                Fetches the ElementIterator.                
                <return>
                    the ElementIterator.                    
                </return>
            </javadoc>
            <method name="getElementIterator" type="ElementIterator" line="213"/>
            <javadoc line="217">
                Returns the Writer that is used to output the content.                
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="getWriter" type="Writer" line="222"/>
            <javadoc line="226">
                Fetches the document.                
                <return>
                    the Document.                    
                </return>
            </javadoc>
            <method name="getDocument" type="Document" line="231"/>
            <javadoc line="235">
                This method determines whether the current element
                  is in the range specified.  When no range is specified,
                  the range is initialized to be the entire document.
                  inRange() returns true if the range specified intersects
                  with the element&apos;s range.                
                <param>
                    next an Element.                    
                </param>
                <return>
                    boolean that indicates whether the element
                      is in the range.                    
                </return>
            </javadoc>
            <method name="inRange" type="boolean" line="246">
                <params>
                    <param name="next" type="Element"/>
                </params>
                <declaration name="startOffset" type="int" line="247"/>
                <declaration name="endOffset" type="int" line="248"/>
                <scope line="252"/>
            </method>
            <method name="write" type="void" line="258"/>
            <javadoc line="258">
                This abstract method needs to be implemented
                  by subclasses.  Its responsibility is to
                  iterate over the elements and use the write()
                  methods to generate output in the desired format.                
            </javadoc>
            <javadoc line="266">
                Returns the text associated with the element.
                  The assumption here is that the element is a
                  leaf element.  Throws a BadLocationException
                  when encountered.                
                <param>
                    elem an &lt;code&gt;Element&lt;/code&gt;                    
                </param>
                <exception>
                    BadLocationException if pos represents an invalid
                      location within the document                    
                </exception>
                <return>
                    the text as a &lt;code&gt;String&lt;/code&gt;                    
                </return>
            </javadoc>
            <method name="getText" type="String" line="277">
                <params>
                    <param name="elem" type="Element"/>
                </params>
            </method>
            <javadoc line="283">
                Writes out text.  If a range is specified when the constructor
                  is invoked, then only the appropriate range of text is written
                  out.                
                <param>
                    elem an Element.                    
                </param>
                <exception>
                    IOException on any I/O error                    
                </exception>
                <exception>
                    BadLocationException if pos represents an invalid
                      location within the document.                    
                </exception>
            </javadoc>
            <method name="text" type="void" line="294">
                <params>
                    <param name="elem" type="Element"/>
                </params>
                <declaration name="start" type="int" line="295"/>
                <declaration name="end" type="int" line="296"/>
                <scope line="297">
                    <scope line="298"/>
                    <scope line="302"/>
                </scope>
            </method>
            <javadoc line="308">
                Enables subclasses to set the number of characters they
                  want written per line.   The default is 100.                
                <param>
                    l the maximum line length.                    
                </param>
            </javadoc>
            <method name="setLineLength" type="void" line="314">
                <params>
                    <param name="l" type="int"/>
                </params>
            </method>
            <javadoc line="318">
                Returns the maximum line length.                
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="getLineLength" type="int" line="323"/>
            <javadoc line="327">
                Sets the current line length.                
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="setCurrentLineLength" type="void" line="332">
                <params>
                    <param name="length" type="int"/>
                </params>
            </method>
            <javadoc line="337">
                Returns the current line length.                
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="getCurrentLineLength" type="int" line="342"/>
            <javadoc line="346">
                Returns true if the current line should be considered empty. This
                  is true when &lt;code&gt;getCurrentLineLength&lt;/code&gt; == 0 ||
                  &lt;code&gt;indent&lt;/code&gt; has been invoked on an empty line.                
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="isLineEmpty" type="boolean" line="353"/>
            <javadoc line="357">
                Sets whether or not lines can be wrapped. This can be toggled
                  during the writing of lines. For example, outputting HTML might
                  set this to false when outputting a quoted string.                
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="setCanWrapLines" type="void" line="364">
                <params>
                    <param name="newValue" type="boolean"/>
                </params>
            </method>
            <javadoc line="368">
                Returns whether or not the lines can be wrapped. If this is false
                  no lineSeparator&apos;s will be output.                
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="getCanWrapLines" type="boolean" line="374"/>
            <javadoc line="378">
                Enables subclasses to specify how many spaces an indent
                  maps to. When indentation takes place, the indent level
                  is multiplied by this mapping.  The default is 2.                
                <param>
                    space an int representing the space to indent mapping.                    
                </param>
            </javadoc>
            <method name="setIndentSpace" type="void" line="385">
                <params>
                    <param name="space" type="int"/>
                </params>
            </method>
            <javadoc line="389">
                Returns the amount of space to indent.                
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="getIndentSpace" type="int" line="394"/>
            <javadoc line="398">
                Sets the String used to reprsent newlines. This is initialized
                  in the constructor from either the Document, or the System property
                  line.separator.                
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="setLineSeparator" type="void" line="405">
                <params>
                    <param name="value" type="String"/>
                </params>
            </method>
            <javadoc line="409">
                Returns the string used to represent newlines.                
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="getLineSeparator" type="String" line="414"/>
            <javadoc line="418">
                Increments the indent level. If indenting would cause
                  &lt;code&gt;getIndentSpace()&lt;/code&gt; &lt;code&gt;getIndentLevel()&lt;/code&gt; to be &gt;
                  than &lt;code&gt;getLineLength()&lt;/code&gt; this will not cause an indent.                
            </javadoc>
            <method name="incrIndent" type="void" line="423">
                <comment line="425">
                    Only increment to a certain point.                    
                </comment>
                <scope line="425"/>
                <scope line="428">
                    <scope line="429"/>
                </scope>
            </method>
            <javadoc line="436">
                Decrements the indent level.                
            </javadoc>
            <method name="decrIndent" type="void" line="439">
                <scope line="440"/>
                <scope line="443"/>
            </method>
            <javadoc line="448">
                Returns the current indentation level. That is, the number of times
                  &lt;code&gt;incrIndent&lt;/code&gt; has been invoked minus the number of times
                  &lt;code&gt;decrIndent&lt;/code&gt; has been invoked.                
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="getIndentLevel" type="int" line="455"/>
            <javadoc line="459">
                Does indentation. The number of spaces written
                  out is indent level times the space to map mapping. If the current
                  line is empty, this will not make it so that the current line is
                  still considered empty.                
                <exception>
                    IOException on any I/O error                    
                </exception>
            </javadoc>
            <method name="indent" type="void" line="467">
                <declaration name="max" type="int" line="468"/>
                <scope line="469">
                    <scope line="471"/>
                </scope>
                <declaration name="length" type="int" line="475"/>
                <declaration name="wasEmpty" type="boolean" line="476"/>
                <scope line="478"/>
            </method>
            <javadoc line="483">
                Writes out a character. This is implemented to invoke
                  the &lt;code&gt;write&lt;/code&gt; method that takes a char[].                
                <param>
                    ch a char.                    
                </param>
                <exception>
                    IOException on any I/O error                    
                </exception>
            </javadoc>
            <method name="write" type="void" line="490">
                <params>
                    <param name="ch" type="char"/>
                </params>
                <scope line="491"/>
            </method>
            <javadoc line="498">
                Writes out a string. This is implemented to invoke the
                  &lt;code&gt;write&lt;/code&gt; method that takes a char[].                
                <param>
                    content a String.                    
                </param>
                <exception>
                    IOException on any I/O error                    
                </exception>
            </javadoc>
            <method name="write" type="void" line="505">
                <params>
                    <param name="content" type="String"/>
                </params>
                <scope line="506"/>
                <declaration name="size" type="int" line="509"/>
                <scope line="510"/>
            </method>
            <javadoc line="517">
                Writes the line separator. This invokes &lt;code&gt;output&lt;/code&gt; directly
                  as well as setting the &lt;code&gt;lineLength&lt;/code&gt; to 0.                
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="writeLineSeparator" type="void" line="523">
                <declaration name="newline" type="String" line="524"/>
                <declaration name="length" type="int" line="525"/>
                <scope line="526"/>
            </method>
            <javadoc line="534">
                All write methods call into this one. If &lt;code&gt;getCanWrapLines()&lt;/code&gt;
                  returns false, this will call &lt;code&gt;output&lt;/code&gt; with each sequence
                  of &lt;code&gt;chars&lt;/code&gt; that doesn&apos;t contain a NEWLINE, followed
                  by a call to &lt;code&gt;writeLineSeparator&lt;/code&gt;. On the other hand,
                  if &lt;code&gt;getCanWrapLines()&lt;/code&gt; returns true, this will split the
                  string, as necessary, so &lt;code&gt;getLineLength&lt;/code&gt; is honored.
                  The only exception is if the current string contains no whitespace,
                  and won&apos;t fit in which case the line length will exceed
                  &lt;code&gt;getLineLength&lt;/code&gt;.                
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="write" type="void" line="548">
                <params>
                    <param name="chars" type="char[]"/>
                    <param name="startIndex" type="int"/>
                    <param name="length" type="int"/>
                </params>
                <comment line="551">
                    We can not break string, just track if a newline
                     is in it.                    
                </comment>
                <comment line="569">
                    We can break chars if the length exceeds maxLength.                    
                </comment>
                <comment line="598">
                    Need to break chars, find a place to split chars at,
                     from lastIndex to endIndex,
                     or maxLength - lineLength whichever is smaller                    
                </comment>
                <comment line="613">
                    Found a place to break at.                    
                </comment>
                <comment line="620">
                    No where good to break.                    
                </comment>
                <comment line="622">
                    find the next whitespace, or write out the
                     whole string.                    
                </comment>
                <comment line="624">
                    maxBreak will be negative if current line too
                     long.                    
                </comment>
                <scope line="549">
                    <declaration name="lastIndex" type="int" line="552"/>
                    <declaration name="endIndex" type="int" line="553"/>
                    <declaration name="newlineIndex" type="int" line="554"/>
                    <scope line="555">
                        <scope line="556"/>
                    </scope>
                    <scope line="563"/>
                </scope>
                <scope line="567">
                    <declaration name="lastIndex" type="int" line="569"/>
                    <declaration name="endIndex" type="int" line="570"/>
                    <declaration name="lineLength" type="int" line="571"/>
                    <declaration name="maxLength" type="int" line="572"/>
                    <scope line="574">
                        <declaration name="newlineIndex" type="int" line="575"/>
                        <declaration name="needsNewline" type="boolean" line="577"/>
                        <declaration name="forceNewLine" type="boolean" line="578"/>
                        <scope line="582">
                            <scope line="583"/>
                        </scope>
                        <scope line="590">
                            <scope line="591"/>
                        </scope>
                        <scope line="596">
                            <declaration name="breakPoint" type="int" line="600"/>
                            <declaration name="maxBreak" type="int" line="601"/>
                            <declaration name="counter" type="int" line="603"/>
                            <scope line="604">
                                <scope line="606"/>
                            </scope>
                            <scope line="611"/>
                            <scope line="618">
                                <scope line="627">
                                    <scope line="629"/>
                                </scope>
                                <scope line="635"/>
                                <scope line="639">
                                    <scope line="641"/>
                                    <scope line="646"/>
                                </scope>
                            </scope>
                        </scope>
                        <scope line="655">
                            <scope line="657"/>
                        </scope>
                    </scope>
                </scope>
            </method>
            <javadoc line="665">
                Writes out the set of attributes as &quot; &lt;name&gt;=&lt;value&gt;&quot;
                  pairs. It throws an IOException when encountered.                
                <param>
                    attr an AttributeSet.                    
                </param>
                <exception>
                    IOException on any I/O error                    
                </exception>
            </javadoc>
            <method name="writeAttributes" type="void" line="672">
                <params>
                    <param name="attr" type="AttributeSet"/>
                </params>
                <declaration name="names" type="Enumeration" line="674"/>
                <scope line="675">
                    <declaration name="name" type="Object" line="676"/>
                </scope>
            </method>
            <javadoc line="681">
                The last stop in writing out content. All the write methods eventually
                  make it to this method, which invokes &lt;code&gt;write&lt;/code&gt; on the
                  Writer.
                  &lt;p&gt;This method also updates the line length based on
                  &lt;code&gt;length&lt;/code&gt;. If this is invoked to output a newline, the
                  current line length will need to be reset as will no longer be
                  valid. If it is up to the caller to do this. Use
                  &lt;code&gt;writeLineSeparator&lt;/code&gt; to write out a newline, which will
                  property update the current line length.                
                <since>
                    1.3                    
                </since>
            </javadoc>
            <method name="output" type="void" line="695">
                <params>
                    <param name="content" type="char[]"/>
                    <param name="start" type="int"/>
                    <param name="length" type="int"/>
                </params>
            </method>
            <javadoc line="700">
                Support method to locate an occurence of a particular character.                
            </javadoc>
            <method name="indexOf" type="int" line="704">
                <params>
                    <param name="chars" type="char[]"/>
                    <param name="sChar" type="char"/>
                    <param name="startIndex" type="int"/>
                    <param name="endIndex" type="int"/>
                </params>
                <scope line="705">
                    <scope line="706"/>
                </scope>
            </method>
        </class>
    </source>