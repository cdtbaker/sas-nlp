<?xml version="1.0" encoding="UTF-8"?>
    <source package="javax.swing.text.html">
        <import package="java.awt"/>
        <import package="java.util"/>
        <import package="javax.swing"/>
        <import package="javax.swing.text"/>
        <import package="javax.swing.event"/>
        <class name="FrameSetView" line="33">
            <extends class="javax.swing.text.BoxView"/>
            <comment line="308">
                Users have been known to type things like &quot;%25&quot; and &quot;25 %&quot;.  Deal
                 with it.                
            </comment>
            <javadoc line="33">
                Implements a FrameSetView, intended to support the HTML
                  &amp;lt;FRAMESET&amp;gt; tag.  Supports the ROWS and COLS attributes.                
                <author>
                    Sunita Mani
                      Credit also to the hotjava browser engineers that
                      worked on making the allocation of space algorithms
                      conform to the HTML 4.0 standard and also be netscape
                      compatible.                    
                </author>
            </javadoc>
            <declaration name="children" type="String[]" line="48"/>
            <declaration name="percentChildren" type="int[]" line="49"/>
            <declaration name="absoluteChildren" type="int[]" line="50"/>
            <declaration name="relativeChildren" type="int[]" line="51"/>
            <declaration name="percentTotals" type="int" line="52"/>
            <declaration name="absoluteTotals" type="int" line="53"/>
            <declaration name="relativeTotals" type="int" line="54"/>
            <javadoc line="56">
                Constructs a FrameSetView for the given element.                
                <param>
                    elem the element that this view is responsible for                    
                </param>
            </javadoc>
            <method name="FrameSetView" type="constructor" line="61">
                <params>
                    <param name="elem" type="Element"/>
                    <param name="axis" type="int"/>
                </params>
            </method>
            <javadoc line="66">
                Parses the ROW or COL attributes and returns
                  an array of strings that represent the space
                  distribution.                
            </javadoc>
            <method name="parseRowColSpec" type="String[]" line="72">
                <params>
                    <param name="key" type="HTML.Attribute"/>
                </params>
                <comment line="89">
                    As per the spec, 100% is the same as *                    
                </comment>
                <comment line="90">
                    hence the mapping.                    
                </comment>
                <comment line="91">
                                        
                </comment>
                <comment line="96">
                    extend spec if we have more children than specified                    
                </comment>
                <comment line="97">
                    in ROWS or COLS attribute                    
                </comment>
                <declaration name="attributes" type="AttributeSet" line="74"/>
                <declaration name="spec" type="String" line="75"/>
                <scope line="76">
                    <scope line="77"/>
                </scope>
                <declaration name="tokenizer" type="StringTokenizer" line="82"/>
                <declaration name="nTokens" type="int" line="83"/>
                <declaration name="n" type="int" line="84"/>
                <declaration name="items" type="String[]" line="85"/>
                <declaration name="i" type="int" line="86"/>
                <scope line="87">
                    <scope line="92"/>
                </scope>
                <scope line="98"/>
            </method>
            <javadoc line="105">
                Initializes a number of internal state variables
                  that store information about space allocation
                  for the frames contained within the frameset.                
            </javadoc>
            <method name="init" type="void" line="110">
                <scope line="111"/>
                <scope line="113"/>
                <scope line="120">
                    <scope line="125">
                        <scope line="126"/>
                        <scope line="131"/>
                    </scope>
                    <scope line="135"/>
                    <scope line="138"/>
                </scope>
                <scope line="142">
                    <scope line="143">
                        <scope line="144"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="153">
                Perform layout for the major axis of the box (i.e. the
                  axis that it represents).  The results of the layout should
                  be placed in the given arrays which represent the allocations
                  to the children along the major axis.                
                <param>
                    targetSpan the total span given to the view, which
                      whould be used to layout the children                    
                </param>
                <param>
                    axis the axis being layed out                    
                </param>
                <param>
                    offsets the offsets from the origin of the view for
                      each of the child views; this is a return value and is
                      filled in by the implementation of this method                    
                </param>
                <param>
                    spans the span of each child view; this is a return
                      value and is filled in by the implementation of this method                    
                </param>
                <return>
                    the offset and span for each child view in the
                      offsets and spans parameters                    
                </return>
            </javadoc>
            <method name="layoutMajorAxis" type="void" line="171">
                <params>
                    <param name="targetSpan" type="int"/>
                    <param name="axis" type="int"/>
                    <param name="offsets" type="int[]"/>
                    <param name="spans" type="int[]"/>
                </params>
                <scope line="172"/>
            </method>
            <method name="getChildRequests" type="SizeRequirements[]" line="181">
                <params>
                    <param name="targetSpan" type="int"/>
                    <param name="axis" type="int"/>
                </params>
                <declaration name="span" type="int" line="183"/>
                <declaration name="n" type="int" line="186"/>
                <declaration name="reqs" type="SizeRequirements[]" line="187"/>
                <scope line="188">
                    <declaration name="v" type="View" line="189"/>
                    <scope line="190"/>
                    <scope line="196">
                        <declaration name="min" type="int" line="197"/>
                        <declaration name="pref" type="int" line="198"/>
                        <declaration name="max" type="int" line="199"/>
                        <declaration name="a" type="float" line="200"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="208">
                This method is responsible for returning in span[] the
                  span for each child view along the major axis.  it
                  computes this based on the information that extracted
                  from the value of the ROW/COL attribute.                
            </javadoc>
            <method name="spread" type="void" line="214">
                <params>
                    <param name="targetSpan" type="int"/>
                    <param name="span" type="int"/>
                </params>
                <comment line="223">
                    allocate the absolute&apos;s first, they have                    
                </comment>
                <comment line="224">
                    precedence                    
                </comment>
                <comment line="225">
                                        
                </comment>
                <comment line="233">
                    then deal with percents.                    
                </comment>
                <comment line="234">
                                        
                </comment>
                <comment line="246">
                    allocate remainingSpace to relative                    
                </comment>
                <comment line="255">
                    There are no relative columns and the space has been                    
                </comment>
                <comment line="256">
                    under- or overallocated.  In this case, turn all the                    
                </comment>
                <comment line="257">
                    percentage and pixel specified columns to percentage                    
                </comment>
                <comment line="258">
                    columns based on the ratio of their pixel count to the                    
                </comment>
                <comment line="259">
                    total &quot;virtual&quot; size. (In the case of percentage columns,                    
                </comment>
                <comment line="260">
                    the pixel count would equal the specified percentage                    
                </comment>
                <comment line="261">
                    of the screen size.                    
                </comment>
                <comment line="263">
                    This action is in accordance with the HTML                    
                </comment>
                <comment line="264">
                    4.0 spec (see section 8.3, the end of the discussion of                    
                </comment>
                <comment line="265">
                    the FRAMESET tag).  The precedence of percentage and pixel                    
                </comment>
                <comment line="266">
                    specified columns is unclear (spec seems to indicate that                    
                </comment>
                <comment line="267">
                    they share priority, however, unspecified what happens when                    
                </comment>
                <comment line="268">
                    overallocation occurs.)                    
                </comment>
                <comment line="270">
                    addendum is that we behave similiar to netscape in that specified                    
                </comment>
                <comment line="271">
                    widths have precedance over percentage widths...                    
                </comment>
                <comment line="277">
                    ok we know what our total space is, and we know how large each                    
                </comment>
                <comment line="278">
                    column should be relative to each other... therefore we can use                    
                </comment>
                <comment line="279">
                    that relative information to deduce their percentages of a whole                    
                </comment>
                <comment line="280">
                    and then scale them appropriately for the correct size                    
                </comment>
                <comment line="287">
                    this is for just in case there is something left over.. if there is we just                    
                </comment>
                <comment line="288">
                    add it one pixel at a time to the frames in order.. We shouldn&apos;t really ever get                    
                </comment>
                <comment line="289">
                    here and if we do it shouldn&apos;t be with more than 1 pixel, maybe two.                    
                </comment>
                <comment line="301">
                    just in case there are more pixels than frames...should never happen..                    
                </comment>
                <scope line="216"/>
                <declaration name="tempSpace" type="int" line="220"/>
                <declaration name="remainingSpace" type="int" line="221"/>
                <scope line="226">
                    <scope line="227"/>
                </scope>
                <scope line="236">
                    <scope line="237"/>
                    <scope line="240"/>
                </scope>
                <scope line="247">
                    <scope line="248">
                        <scope line="249"/>
                    </scope>
                </scope>
                <scope line="254">
                    <declaration name="vTotal" type="float" line="273"/>
                    <declaration name="tempPercents" type="float[]" line="274"/>
                    <scope line="276"/>
                    <declaration name="i" type="int" line="290"/>
                    <scope line="291">
                        <scope line="292"/>
                        <scope line="296"/>
                    </scope>
                </scope>
            </method>
            <method name="parseDigits" type="int" line="311">
                <params>
                    <param name="mixedStr" type="String"/>
                </params>
                <declaration name="result" type="int" line="312"/>
                <scope line="313">
                    <declaration name="ch" type="char" line="314"/>
                    <scope line="315"/>
                </scope>
            </method>
        </class>
    </source>