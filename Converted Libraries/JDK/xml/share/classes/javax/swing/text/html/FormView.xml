<?xml version="1.0" encoding="UTF-8"?>
    <source package="javax.swing.text.html">
        <import package="java.net"/>
        <import package="java.io"/>
        <import package="java.awt"/>
        <import package="java.awt.event"/>
        <import package="java.util"/>
        <import package="javax.swing"/>
        <import package="javax.swing.event"/>
        <import package="javax.swing.text"/>
        <class name="FormView" line="10">
            <extends class="ComponentView"/>
            <implements interface="ActionListener"/>
            <javadoc line="10">
                Component decorator that implements the view interface
                  for form elements, &amp;lt;input&amp;gt;, &amp;lt;textarea&amp;gt;,
                  and &amp;lt;select&amp;gt;.  The model for the component is stored
                  as an attribute of the the element (using StyleConstants.ModelAttribute),
                  and is used to build the component of the view.  The type
                  of the model is assumed to of the type that would be set by
                  &lt;code&gt;HTMLDocument.HTMLReader.FormAction&lt;/code&gt;.  If there are
                  multiple views mapped over the document, they will share the
                  embedded component models.
                  &lt;p&gt;
                  The following table shows what components get built
                  by this view.
                  &lt;table summary=&quot;shows what components get built by this view&quot;&gt;
                  &lt;tr&gt;
                  &lt;th&gt;Element Type&lt;/th&gt;
                  &lt;th&gt;Component built&lt;/th&gt;
                  &lt;/tr&gt;
                  &lt;tr&gt;
                  &lt;td&gt;input, type button&lt;/td&gt;
                  &lt;td&gt;JButton&lt;/td&gt;
                  &lt;/tr&gt;
                  &lt;tr&gt;
                  &lt;td&gt;input, type checkbox&lt;/td&gt;
                  &lt;td&gt;JCheckBox&lt;/td&gt;
                  &lt;/tr&gt;
                  &lt;tr&gt;
                  &lt;td&gt;input, type image&lt;/td&gt;
                  &lt;td&gt;JButton&lt;/td&gt;
                  &lt;/tr&gt;
                  &lt;tr&gt;
                  &lt;td&gt;input, type password&lt;/td&gt;
                  &lt;td&gt;JPasswordField&lt;/td&gt;
                  &lt;/tr&gt;
                  &lt;tr&gt;
                  &lt;td&gt;input, type radio&lt;/td&gt;
                  &lt;td&gt;JRadioButton&lt;/td&gt;
                  &lt;/tr&gt;
                  &lt;tr&gt;
                  &lt;td&gt;input, type reset&lt;/td&gt;
                  &lt;td&gt;JButton&lt;/td&gt;
                  &lt;/tr&gt;
                  &lt;tr&gt;
                  &lt;td&gt;input, type submit&lt;/td&gt;
                  &lt;td&gt;JButton&lt;/td&gt;
                  &lt;/tr&gt;
                  &lt;tr&gt;
                  &lt;td&gt;input, type text&lt;/td&gt;
                  &lt;td&gt;JTextField&lt;/td&gt;
                  &lt;/tr&gt;
                  &lt;tr&gt;
                  &lt;td&gt;select, size &amp;gt; 1 or multiple attribute defined&lt;/td&gt;
                  &lt;td&gt;JList in a JScrollPane&lt;/td&gt;
                  &lt;/tr&gt;
                  &lt;tr&gt;
                  &lt;td&gt;select, size unspecified or 1&lt;/td&gt;
                  &lt;td&gt;JComboBox&lt;/td&gt;
                  &lt;/tr&gt;
                  &lt;tr&gt;
                  &lt;td&gt;textarea&lt;/td&gt;
                  &lt;td&gt;JTextArea in a JScrollPane&lt;/td&gt;
                  &lt;/tr&gt;
                  &lt;tr&gt;
                  &lt;td&gt;input, type file&lt;/td&gt;
                  &lt;td&gt;JTextField&lt;/td&gt;
                  &lt;/tr&gt;
                  &lt;/table&gt;                
                <author>
                    Timothy Prinzing                    
                </author>
                <author>
                    Sunita Mani                    
                </author>
            </javadoc>
            <declaration name="SUBMIT" type="String" line="81"/>
            <javadoc line="81">
                If a value attribute is not specified for a FORM input element
                  of type &quot;submit&quot;, then this default string is used.                
                <deprecated>
                    As of 1.3, value now comes from UIManager property
                      FormView.submitButtonText                    
                </deprecated>
            </javadoc>
            <declaration name="RESET" type="String" line="88"/>
            <javadoc line="88">
                If a value attribute is not specified for a FORM input element
                  of type &quot;reset&quot;, then this default string is used.                
                <deprecated>
                    As of 1.3, value comes from UIManager UIManager property
                      FormView.resetButtonText                    
                </deprecated>
            </javadoc>
            <declaration name="PostDataProperty" type="String" line="95"/>
            <javadoc line="95">
                Document attribute name for storing POST data. JEditorPane.getPostData()
                  uses the same name, should be kept in sync.                
            </javadoc>
            <declaration name="maxIsPreferred" type="short" line="100"/>
            <javadoc line="100">
                Used to indicate if the maximum span should be the same as the
                  preferred span. This is used so that the Component&apos;s size doesn&apos;t
                  change if there is extra room on a line. The first bit is used for
                  the X direction, and the second for the y direction.                
            </javadoc>
            <javadoc line="107">
                Creates a new FormView object.                
                <param>
                    elem the element to decorate                    
                </param>
            </javadoc>
            <method name="FormView" type="constructor" line="111">
                <params>
                    <param name="elem" type="Element"/>
                </params>
            </method>
            <javadoc line="114">
                Create the component.  This is basically a
                  big switch statement based upon the tag type
                  and html attributes of the associated element.                
            </javadoc>
            <method name="createComponent" type="Component" line="119">
                <declaration name="attr" type="AttributeSet" line="120"/>
                <declaration name="t" type="HTML.Tag" line="121"/>
                <declaration name="c" type="JComponent" line="122"/>
                <declaration name="model" type="Object" line="123"/>
                <scope line="124"/>
                <scope line="127">
                    <scope line="128">
                        <declaration name="list" type="JList" line="129"/>
                        <declaration name="size" type="int" line="130"/>
                    </scope>
                    <scope line="135"/>
                </scope>
                <scope line="140">
                    <declaration name="area" type="JTextArea" line="141"/>
                    <declaration name="rows" type="int" line="142"/>
                    <declaration name="cols" type="int" line="144"/>
                </scope>
                <scope line="149"/>
            </method>
            <javadoc line="154">
                Creates a component for an &amp;lt;INPUT&amp;gt; element based on the
                  value of the &quot;type&quot; attribute.                
                <param>
                    set of attributes associated with the &amp;lt;INPUT&amp;gt; element.                    
                </param>
                <param>
                    model the value of the StyleConstants.ModelAttribute                    
                </param>
                <return>
                    the component.                    
                </return>
            </javadoc>
            <method name="createInputComponent" type="JComponent" line="161">
                <params>
                    <param name="attr" type="AttributeSet"/>
                    <param name="model" type="Object"/>
                </params>
                <declaration name="c" type="JComponent" line="162"/>
                <declaration name="type" type="String" line="163"/>
                <scope line="164">
                    <declaration name="value" type="String" line="165"/>
                    <scope line="166">
                        <scope line="167"/>
                        <scope line="170"/>
                    </scope>
                    <declaration name="button" type="JButton" line="174"/>
                    <scope line="175"/>
                </scope>
                <scope line="182">
                    <declaration name="srcAtt" type="String" line="183"/>
                    <declaration name="button" type="JButton" line="184"/>
                    <scope line="185">
                        <declaration name="base" type="URL" line="186"/>
                        <declaration name="srcURL" type="URL" line="187"/>
                        <declaration name="icon" type="Icon" line="188"/>
                    </scope>
                    <scope line="191"/>
                    <scope line="194"/>
                </scope>
                <scope line="201">
                    <scope line="203"/>
                </scope>
                <scope line="208">
                    <scope line="210"/>
                </scope>
                <scope line="215">
                    <declaration name="size" type="int" line="216"/>
                    <declaration name="field" type="JTextField" line="217"/>
                    <scope line="218"/>
                    <scope line="222"/>
                    <scope line="227"/>
                </scope>
                <scope line="233">
                    <declaration name="field" type="JPasswordField" line="234"/>
                    <scope line="236"/>
                    <declaration name="size" type="int" line="239"/>
                </scope>
                <scope line="244">
                    <declaration name="field" type="JTextField" line="245"/>
                    <scope line="246"/>
                    <declaration name="size" type="int" line="249"/>
                    <declaration name="browseButton" type="JButton" line="251"/>
                    <declaration name="box" type="Box" line="252"/>
                </scope>
            </method>
            <javadoc line="262">
                Determines the maximum span for this view along an
                  axis. For certain components, the maximum and preferred span are the
                  same. For others this will return the value
                  returned by Component.getMaximumSize along the
                  axis of interest.                
                <param>
                    axis may be either View.X_AXIS or View.Y_AXIS                    
                </param>
                <return>
                    the span the view would like to be rendered into &gt;= 0.
                      Typically the view is told to render into the span
                      that is returned, although there is no guarantee.
                      The parent may choose to resize or break the view.                    
                </return>
                <exception>
                    IllegalArgumentException for an invalid axis                    
                </exception>
            </javadoc>
            <method name="getMaximumSpan" type="float" line="275">
                <params>
                    <param name="axis" type="int"/>
                </params>
                <scope line="278"/>
                <scope line="284"/>
            </method>
            <javadoc line="294">
                Responsible for processeing the ActionEvent.
                  If the element associated with the FormView,
                  has a type of &quot;submit&quot;, &quot;reset&quot;, &quot;text&quot; or &quot;password&quot;
                  then the action is processed.  In the case of a &quot;submit&quot;
                  the form is submitted.  In the case of a &quot;reset&quot;
                  the form is reset to its original state.
                  In the case of &quot;text&quot; or &quot;password&quot;, if the
                  element is the last one of type &quot;text&quot; or &quot;password&quot;,
                  the form is submitted.  Otherwise, focus is transferred
                  to the next component in the form.                
                <param>
                    evt the ActionEvent.                    
                </param>
            </javadoc>
            <method name="actionPerformed" type="void" line="307">
                <params>
                    <param name="evt" type="ActionEvent"/>
                </params>
                <declaration name="element" type="Element" line="308"/>
                <declaration name="dataBuffer" type="StringBuilder" line="309"/>
                <declaration name="doc" type="HTMLDocument" line="310"/>
                <declaration name="attr" type="AttributeSet" line="311"/>
                <declaration name="type" type="String" line="312"/>
                <scope line="313"/>
                <scope line="317"/>
                <scope line="320">
                    <scope line="321"/>
                    <scope line="325"/>
                </scope>
            </method>
            <javadoc line="330">
                This method is responsible for submitting the form data.
                  A thread is forked to undertake the submission.                
            </javadoc>
            <method name="submitData" type="void" line="334">
                <params>
                    <param name="data" type="String"/>
                </params>
                <declaration name="form" type="Element" line="335"/>
                <declaration name="attrs" type="AttributeSet" line="336"/>
                <declaration name="doc" type="HTMLDocument" line="337"/>
                <declaration name="base" type="URL" line="338"/>
                <declaration name="target" type="String" line="339"/>
                <scope line="340"/>
                <declaration name="method" type="String" line="343"/>
                <scope line="344"/>
                <declaration name="isPostMethod" type="boolean" line="348"/>
                <scope line="349"/>
                <declaration name="action" type="String" line="352"/>
                <declaration name="actionURL" type="URL" line="353"/>
                <scope line="354">
                    <scope line="356">
                        <declaration name="query" type="String" line="357"/>
                    </scope>
                </scope>
                <scope line="361"/>
                <declaration name="c" type="JEditorPane" line="364"/>
                <declaration name="kit" type="HTMLEditorKit" line="365"/>
                <declaration name="formEvent" type="FormSubmitEvent" line="366"/>
                <scope line="367">
                    <declaration name="methodType" type="FormSubmitEvent.MethodType" line="368"/>
                </scope>
                <declaration name="fse" type="FormSubmitEvent" line="371"/>
                <declaration name="url" type="URL" line="372"/>
                <anonymous_class line="373">
                    <method name="run" type="void" line="374">
                        <scope line="375"/>
                        <scope line="378">
                            <scope line="379"/>
                            <scope line="382"/>
                        </scope>
                    </method>
                </anonymous_class>
            </method>
            <method name="storePostData" type="void" line="390">
                <params>
                    <param name="doc" type="HTMLDocument"/>
                    <param name="target" type="String"/>
                    <param name="data" type="String"/>
                </params>
                <declaration name="propDoc" type="Document" line="391"/>
                <declaration name="propName" type="String" line="392"/>
                <scope line="393">
                    <declaration name="p" type="FrameView.FrameEditorPane" line="394"/>
                    <declaration name="v" type="FrameView" line="395"/>
                    <declaration name="c" type="JEditorPane" line="396"/>
                    <scope line="397"/>
                </scope>
            </method>
            <class name="MouseEventListener" line="404">
                <extends class="MouseAdapter"/>
                <javadoc line="404">
                    MouseEventListener class to handle form submissions when
                      an input with type equal to image is clicked on.
                      A MouseListener is necessary since along with the image
                      data the coordinates associated with the mouse click
                      need to be submitted.                    
                </javadoc>
                <method name="mouseReleased" type="void" line="412">
                    <params>
                        <param name="evt" type="MouseEvent"/>
                    </params>
                    <declaration name="imageData" type="String" line="413"/>
                </method>
            </class>
            <javadoc line="417">
                This method is called to submit a form in response
                  to a click on an image -- an &amp;lt;INPUT&amp;gt; form
                  element of type &quot;image&quot;.                
                <param>
                    imageData the mouse click coordinates.                    
                </param>
            </javadoc>
            <method name="imageSubmit" type="void" line="423">
                <params>
                    <param name="imageData" type="String"/>
                </params>
                <declaration name="dataBuffer" type="StringBuilder" line="424"/>
                <declaration name="elem" type="Element" line="425"/>
                <declaration name="hdoc" type="HTMLDocument" line="426"/>
                <scope line="428"/>
            </method>
            <javadoc line="435">
                Extracts the value of the name attribute
                  associated with the input element of type
                  image.  If name is defined it is encoded using
                  the URLEncoder.encode() method and the
                  image data is returned in the following format:
                  name + &quot;.x&quot; +&quot;=&quot;+ x +&quot;&amp;&quot;+ name +&quot;.y&quot;+&quot;=&quot;+ y
                  otherwise,
                  &quot;x=&quot;+ x +&quot;&amp;y=&quot;+ y                
                <param>
                    point associated with the mouse click.                    
                </param>
                <return>
                    the image data.                    
                </return>
            </javadoc>
            <method name="getImageData" type="String" line="447">
                <params>
                    <param name="point" type="Point"/>
                </params>
                <declaration name="mouseCoords" type="String" line="448"/>
                <declaration name="sep" type="int" line="449"/>
                <declaration name="x" type="String" line="450"/>
                <declaration name="y" type="String" line="451"/>
                <declaration name="name" type="String" line="452"/>
                <declaration name="data" type="String" line="453"/>
                <scope line="454"/>
                <scope line="457"/>
            </method>
            <javadoc line="463">
                Returns the Element representing the &lt;code&gt;FORM&lt;/code&gt;.                
            </javadoc>
            <method name="getFormElement" type="Element" line="466">
                <declaration name="elem" type="Element" line="467"/>
                <scope line="468">
                    <scope line="469"/>
                </scope>
            </method>
            <javadoc line="476">
                Iterates over the
                  element hierarchy, extracting data from the
                  models associated with the relevant form elements.
                  &quot;Relevant&quot; means the form elements that are part
                  of the same form whose element triggered the submit
                  action.                
                <param>
                    buffer        the buffer that contains that data to submit                    
                </param>
                <param>
                    targetElement the element that triggered the
                      form submission                    
                </param>
            </javadoc>
            <method name="getFormData" type="void" line="487">
                <params>
                    <param name="buffer" type="StringBuilder"/>
                </params>
                <declaration name="formE" type="Element" line="488"/>
                <scope line="489">
                    <declaration name="it" type="ElementIterator" line="490"/>
                    <declaration name="next" type="Element" line="491"/>
                    <scope line="492">
                        <scope line="493">
                            <declaration name="type" type="String" line="494"/>
                            <scope line="495"/>
                            <scope line="497"/>
                        </scope>
                    </scope>
                </scope>
            </method>
            <javadoc line="504">
                Loads the data
                  associated with the element into the buffer.
                  The format in which data is appended depends
                  on the type of the form element.  Essentially
                  data is loaded in name/value pairs.                
            </javadoc>
            <method name="loadElementDataIntoBuffer" type="void" line="511">
                <params>
                    <param name="elem" type="Element"/>
                    <param name="buffer" type="StringBuilder"/>
                </params>
                <declaration name="attr" type="AttributeSet" line="512"/>
                <declaration name="name" type="String" line="513"/>
                <scope line="514"/>
                <declaration name="value" type="String" line="517"/>
                <declaration name="tag" type="HTML.Tag" line="518"/>
                <scope line="519"/>
                <scope line="522"/>
                <scope line="525"/>
                <scope line="528"/>
            </method>
            <javadoc line="532">
                Returns the data associated with an &amp;lt;INPUT&amp;gt; form
                  element.  The value of &quot;type&quot; attributes is
                  used to determine the type of the model associated
                  with the element and then the relevant data is
                  extracted.                
            </javadoc>
            <method name="getInputElementData" type="String" line="539">
                <params>
                    <param name="attr" type="AttributeSet"/>
                </params>
                <declaration name="model" type="Object" line="540"/>
                <declaration name="type" type="String" line="541"/>
                <declaration name="value" type="String" line="542"/>
                <scope line="543">
                    <declaration name="doc" type="Document" line="544"/>
                    <scope line="545"/>
                    <scope line="548"/>
                </scope>
                <scope line="552">
                    <scope line="554"/>
                </scope>
                <scope line="558">
                    <declaration name="m" type="ButtonModel" line="559"/>
                    <scope line="560">
                        <scope line="562"/>
                    </scope>
                </scope>
                <scope line="567">
                    <declaration name="doc" type="Document" line="568"/>
                    <declaration name="path" type="String" line="569"/>
                    <scope line="570"/>
                    <scope line="573"/>
                    <scope line="576"/>
                </scope>
            </method>
            <javadoc line="582">
                Returns the data associated with the &amp;lt;TEXTAREA&amp;gt; form
                  element.  This is done by getting the text stored in the
                  Document model.                
            </javadoc>
            <method name="getTextAreaData" type="String" line="587">
                <params>
                    <param name="attr" type="AttributeSet"/>
                </params>
                <declaration name="doc" type="Document" line="588"/>
                <scope line="589"/>
                <scope line="592"/>
            </method>
            <javadoc line="596">
                Loads the buffer with the data associated with the Select
                  form element.  Basically, only items that are selected
                  and have their name attribute set are added to the buffer.                
            </javadoc>
            <method name="loadSelectData" type="void" line="601">
                <params>
                    <param name="attr" type="AttributeSet"/>
                    <param name="buffer" type="StringBuilder"/>
                </params>
                <declaration name="name" type="String" line="602"/>
                <scope line="603"/>
                <declaration name="m" type="Object" line="606"/>
                <scope line="607">
                    <declaration name="model" type="OptionListModel" line="608"/>
                    <scope line="609">
                        <scope line="610">
                            <declaration name="option" type="Option" line="611"/>
                        </scope>
                    </scope>
                </scope>
                <scope line="616">
                    <declaration name="model" type="ComboBoxModel" line="617"/>
                    <declaration name="option" type="Option" line="618"/>
                    <scope line="619"/>
                </scope>
            </method>
            <javadoc line="624">
                Appends name / value pairs into the
                  buffer.  Both names and values are encoded using the
                  URLEncoder.encode() method before being added to the
                  buffer.                
            </javadoc>
            <method name="appendBuffer" type="void" line="630">
                <params>
                    <param name="buffer" type="StringBuilder"/>
                    <param name="name" type="String"/>
                    <param name="value" type="String"/>
                </params>
                <scope line="631"/>
                <declaration name="encodedName" type="String" line="634"/>
                <declaration name="encodedValue" type="String" line="637"/>
            </method>
            <javadoc line="640">
                Returns true if the Element &lt;code&gt;elem&lt;/code&gt; represents a control.                
            </javadoc>
            <method name="isControl" type="boolean" line="643">
                <params>
                    <param name="elem" type="Element"/>
                </params>
            </method>
            <javadoc line="646">
                Iterates over the element hierarchy to determine if
                  the element parameter, which is assumed to be an
                  &amp;lt;INPUT&amp;gt; element of type password or text, is the last
                  one of either kind, in the form to which it belongs.                
            </javadoc>
            <method name="isLastTextOrPasswordField" type="boolean" line="652">
                <declaration name="parent" type="Element" line="653"/>
                <declaration name="elem" type="Element" line="654"/>
                <scope line="655">
                    <declaration name="it" type="ElementIterator" line="656"/>
                    <declaration name="next" type="Element" line="657"/>
                    <declaration name="found" type="boolean" line="658"/>
                    <scope line="659">
                        <scope line="660"/>
                        <scope line="663">
                            <declaration name="elemAttr" type="AttributeSet" line="664"/>
                            <scope line="665">
                                <declaration name="type" type="String" line="666"/>
                                <scope line="667"/>
                            </scope>
                        </scope>
                    </scope>
                </scope>
            </method>
            <javadoc line="676">
                Resets the form
                  to its initial state by reinitializing the models
                  associated with each form element to their initial
                  values.
                  param elem the element that triggered the reset                
            </javadoc>
            <method name="resetForm" type="void" line="683">
                <declaration name="parent" type="Element" line="684"/>
                <scope line="685">
                    <declaration name="it" type="ElementIterator" line="686"/>
                    <declaration name="next" type="Element" line="687"/>
                    <scope line="688">
                        <scope line="689">
                            <declaration name="elemAttr" type="AttributeSet" line="690"/>
                            <declaration name="m" type="Object" line="691"/>
                            <scope line="692">
                                <declaration name="doc" type="TextAreaDocument" line="693"/>
                            </scope>
                            <scope line="696">
                                <scope line="697">
                                    <declaration name="doc" type="PlainDocument" line="698"/>
                                    <scope line="700">
                                        <declaration name="value" type="String" line="701"/>
                                        <scope line="702"/>
                                    </scope>
                                </scope>
                                <scope line="707"/>
                            </scope>
                            <scope line="710">
                                <declaration name="model" type="OptionListModel" line="711"/>
                                <declaration name="size" type="int" line="712"/>
                                <scope line="713"/>
                                <declaration name="selectionRange" type="BitSet" line="716"/>
                                <scope line="717">
                                    <scope line="718"/>
                                </scope>
                            </scope>
                            <scope line="723">
                                <declaration name="model" type="OptionComboBoxModel" line="724"/>
                                <declaration name="option" type="Option" line="725"/>
                                <scope line="726"/>
                            </scope>
                            <scope line="730">
                                <declaration name="checked" type="boolean" line="731"/>
                                <declaration name="model" type="JToggleButton.ToggleButtonModel" line="732"/>
                            </scope>
                        </scope>
                    </scope>
                </scope>
            </method>
            <class name="BrowseFileAction" line="739">
                <implements interface="ActionListener"/>
                <javadoc line="739">
                    BrowseFileAction is used for input type == file. When the user
                      clicks the button a JFileChooser is brought up allowing the user
                      to select a file in the file system. The resulting path to the selected
                      file is set in the text field (actually an instance of Document).                    
                </javadoc>
                <declaration name="attrs" type="AttributeSet" line="746"/>
                <declaration name="model" type="Document" line="747"/>
                <method name="BrowseFileAction" type="constructor" line="748">
                    <params>
                        <param name="attrs" type="AttributeSet"/>
                        <param name="model" type="Document"/>
                    </params>
                </method>
                <method name="actionPerformed" type="void" line="752">
                    <params>
                        <param name="ae" type="ActionEvent"/>
                    </params>
                    <declaration name="fc" type="JFileChooser" line="753"/>
                    <scope line="755">
                        <declaration name="selected" type="File" line="756"/>
                        <scope line="757">
                            <scope line="758">
                                <scope line="759"/>
                            </scope>
                            <scope line="764"/>
                        </scope>
                    </scope>
                </method>
            </class>
        </class>
    </source>