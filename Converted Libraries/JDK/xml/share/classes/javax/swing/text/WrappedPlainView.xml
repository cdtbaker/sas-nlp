<?xml version="1.0" encoding="UTF-8"?>
    <source package="javax.swing.text">
        <import package="java.awt"/>
        <import package="java.lang.ref.SoftReference"/>
        <import package="javax.swing.event"/>
        <class name="WrappedPlainView" line="31">
            <extends class="BoxView"/>
            <comment line="323">
                --- TabExpander methods ------------------------------------------                
            </comment>
            <comment line="343">
                --- View methods -------------------------------------                
            </comment>
            <comment line="510">
                --- variables -------------------------------------------                
            </comment>
            <implements interface="TabExpander"/>
            <javadoc line="31">
                View of plain text (text with only one font and color)
                  that does line-wrapping.  This view expects that its
                  associated element has child elements that represent
                  the lines it should be wrapping.  It is implemented
                  as a vertical box that contains logical line views.
                  The logical line views are nested classes that render
                  the logical line as multiple physical line if the logical
                  line is too wide to fit within the allocation.  The
                  line views draw upon the outer class for its state
                  to reduce their memory requirements.
                  &lt;p&gt;
                  The line views do all of their rendering through the
                  &lt;code&gt;drawLine&lt;/code&gt; method which in turn does all of
                  its rendering through the &lt;code&gt;drawSelectedText&lt;/code&gt;
                  and &lt;code&gt;drawUnselectedText&lt;/code&gt; methods.  This
                  enables subclasses to easily specialize the rendering
                  without concern for the layout aspects.                
                <author>
                    Timothy Prinzing                    
                </author>
                <see>
                    View                    
                </see>
            </javadoc>
            <javadoc line="55">
                Creates a new WrappedPlainView.  Lines will be wrapped
                  on character boundaries.                
                <param>
                    elem the element underlying the view                    
                </param>
            </javadoc>
            <method name="WrappedPlainView" type="constructor" line="61">
                <params>
                    <param name="elem" type="Element"/>
                </params>
            </method>
            <javadoc line="65">
                Creates a new WrappedPlainView.  Lines can be wrapped on
                  either character or word boundaries depending upon the
                  setting of the wordWrap parameter.                
                <param>
                    elem the element underlying the view                    
                </param>
                <param>
                    wordWrap should lines be wrapped on word boundaries?                    
                </param>
            </javadoc>
            <method name="WrappedPlainView" type="constructor" line="73">
                <params>
                    <param name="elem" type="Element"/>
                    <param name="wordWrap" type="boolean"/>
                </params>
            </method>
            <javadoc line="78">
                Returns the tab size set for the document, defaulting to 8.                
                <return>
                    the tab size                    
                </return>
            </javadoc>
            <method name="getTabSize" type="int" line="83">
                <declaration name="i" type="Integer" line="84"/>
                <declaration name="size" type="int" line="85"/>
            </method>
            <javadoc line="89">
                Renders a line of text, suppressing whitespace at the end
                  and expanding any tabs.  This is implemented to make calls
                  to the methods &lt;code&gt;drawUnselectedText&lt;/code&gt; and
                  &lt;code&gt;drawSelectedText&lt;/code&gt; so that the way selected and
                  unselected text are rendered can be customized.                
                <param>
                    p0 the starting document location to use >= 0                    
                </param>
                <param>
                    p1 the ending document location to use >= p1                    
                </param>
                <param>
                    g the graphics context                    
                </param>
                <param>
                    x the starting X position >= 0                    
                </param>
                <param>
                    y the starting Y position >= 0                    
                </param>
                <see>
                    #drawUnselectedText                    
                </see>
                <see>
                    #drawSelectedText                    
                </see>
            </javadoc>
            <method name="drawLine" type="void" line="104">
                <params>
                    <param name="p0" type="int"/>
                    <param name="p1" type="int"/>
                    <param name="g" type="Graphics"/>
                    <param name="x" type="int"/>
                    <param name="y" type="int"/>
                </params>
                <comment line="113">
                    this line contains the composed text.                    
                </comment>
                <declaration name="lineMap" type="Element" line="105"/>
                <declaration name="line" type="Element" line="106"/>
                <declaration name="elem" type="Element" line="107"/>
                <scope line="109">
                    <scope line="110"/>
                    <scope line="112">
                        <declaration name="idx" type="int" line="114"/>
                        <declaration name="lastIdx" type="int" line="115"/>
                        <scope line="116">
                            <declaration name="start" type="int" line="118"/>
                            <declaration name="end" type="int" line="119"/>
                        </scope>
                    </scope>
                </scope>
                <scope line="123"/>
            </method>
            <method name="drawText" type="int" line="128">
                <params>
                    <param name="elem" type="Element"/>
                    <param name="p0" type="int"/>
                    <param name="p1" type="int"/>
                    <param name="g" type="Graphics"/>
                    <param name="x" type="int"/>
                    <param name="y" type="int"/>
                </params>
                <comment line="139">
                    no selection, or it is invisible                    
                </comment>
                <declaration name="attr" type="AttributeSet" line="130"/>
                <scope line="132"/>
                <scope line="137">
                    <scope line="138"/>
                    <scope line="141"/>
                    <scope line="143">
                        <scope line="144"/>
                        <scope line="148"/>
                    </scope>
                    <scope line="152"/>
                    <scope line="155"/>
                </scope>
            </method>
            <javadoc line="163">
                Renders the given range in the model as normal unselected
                  text.                
                <param>
                    g the graphics context                    
                </param>
                <param>
                    x the starting X coordinate >= 0                    
                </param>
                <param>
                    y the starting Y coordinate >= 0                    
                </param>
                <param>
                    p0 the beginning position in the model >= 0                    
                </param>
                <param>
                    p1 the ending position in the model >= p0                    
                </param>
                <return>
                    the X location of the end of the range >= 0                    
                </return>
                <exception>
                    BadLocationException if the range is invalid                    
                </exception>
            </javadoc>
            <method name="drawUnselectedText" type="int" line="176">
                <params>
                    <param name="g" type="Graphics"/>
                    <param name="x" type="int"/>
                    <param name="y" type="int"/>
                    <param name="p0" type="int"/>
                    <param name="p1" type="int"/>
                </params>
                <declaration name="doc" type="Document" line="178"/>
                <declaration name="segment" type="Segment" line="179"/>
                <declaration name="ret" type="int" line="181"/>
            </method>
            <javadoc line="186">
                Renders the given range in the model as selected text.  This
                  is implemented to render the text in the color specified in
                  the hosting component.  It assumes the highlighter will render
                  the selected background.                
                <param>
                    g the graphics context                    
                </param>
                <param>
                    x the starting X coordinate >= 0                    
                </param>
                <param>
                    y the starting Y coordinate >= 0                    
                </param>
                <param>
                    p0 the beginning position in the model >= 0                    
                </param>
                <param>
                    p1 the ending position in the model >= p0                    
                </param>
                <return>
                    the location of the end of the range.                    
                </return>
                <exception>
                    BadLocationException if the range is invalid                    
                </exception>
            </javadoc>
            <method name="drawSelectedText" type="int" line="201">
                <params>
                    <param name="g" type="Graphics"/>
                    <param name="x" type="int"/>
                    <param name="y" type="int"/>
                    <param name="p0" type="int"/>
                    <param name="p1" type="int"/>
                </params>
                <declaration name="doc" type="Document" line="203"/>
                <declaration name="segment" type="Segment" line="204"/>
                <declaration name="ret" type="int" line="206"/>
            </method>
            <javadoc line="211">
                Gives access to a buffer that can be used to fetch
                  text from the associated document.                
                <return>
                    the buffer                    
                </return>
            </javadoc>
            <method name="getLineBuffer" type="Segment" line="217">
                <scope line="218"/>
            </method>
            <javadoc line="224">
                This is called by the nested wrapped line
                  views to determine the break location.  This can
                  be reimplemented to alter the breaking behavior.
                  It will either break at word or character boundaries
                  depending upon the break argument given at
                  construction.                
            </javadoc>
            <method name="calculateBreakPosition" type="int" line="232">
                <params>
                    <param name="p0" type="int"/>
                    <param name="p1" type="int"/>
                </params>
                <declaration name="p" type="int" line="233"/>
                <declaration name="segment" type="Segment" line="234"/>
                <declaration name="currentWidth" type="int" line="236"/>
                <scope line="237"/>
                <scope line="241"/>
            </method>
            <javadoc line="250">
                Loads all of the children to initialize the view.
                  This is called by the &lt;code&gt;setParent&lt;/code&gt; method.
                  Subclasses can reimplement this to initialize their
                  child views in a different manner.  The default
                  implementation creates a child view for each
                  child element.                
                <param>
                    f the view factory                    
                </param>
            </javadoc>
            <method name="loadChildren" type="void" line="260">
                <params>
                    <param name="f" type="ViewFactory"/>
                </params>
                <declaration name="e" type="Element" line="261"/>
                <declaration name="n" type="int" line="262"/>
                <scope line="263">
                    <declaration name="added" type="View[]" line="264"/>
                    <scope line="265"/>
                </scope>
            </method>
            <javadoc line="272">
                Update the child views in response to a
                  document event.                
            </javadoc>
            <method name="updateChildren" type="void" line="276">
                <params>
                    <param name="e" type="DocumentEvent"/>
                    <param name="a" type="Shape"/>
                </params>
                <comment line="280">
                    the structure of this element changed.                    
                </comment>
                <comment line="289">
                    should damge a little more intelligently.                    
                </comment>
                <comment line="296">
                    update font metrics which may be used by the child views                    
                </comment>
                <declaration name="elem" type="Element" line="277"/>
                <declaration name="ec" type="DocumentEvent.ElementChange" line="278"/>
                <scope line="279">
                    <declaration name="removedElems" type="Element[]" line="281"/>
                    <declaration name="addedElems" type="Element[]" line="282"/>
                    <declaration name="added" type="View[]" line="283"/>
                    <scope line="284"/>
                    <scope line="290"/>
                </scope>
            </method>
            <javadoc line="300">
                Load the text buffer with the given range
                  of text.  This is used by the fragments
                  broken off of this view as well as this
                  view itself.                
            </javadoc>
            <method name="loadText" type="void" line="306">
                <params>
                    <param name="segment" type="Segment"/>
                    <param name="p0" type="int"/>
                    <param name="p1" type="int"/>
                </params>
                <scope line="307">
                    <declaration name="doc" type="Document" line="308"/>
                </scope>
                <scope line="310"/>
            </method>
            <method name="updateMetrics" type="void" line="315">
                <declaration name="host" type="Component" line="316"/>
                <declaration name="f" type="Font" line="317"/>
            </method>
            <javadoc line="324">
                Returns the next tab stop position after a given reference position.
                  This implementation does not support things like centering so it
                  ignores the tabOffset argument.                
                <param>
                    x the current position >= 0                    
                </param>
                <param>
                    tabOffset the position within the text stream
                      that the tab occurred at >= 0.                    
                </param>
                <return>
                    the tab stop, measured in points >= 0                    
                </return>
            </javadoc>
            <method name="nextTabStop" type="float" line="334">
                <params>
                    <param name="x" type="float"/>
                    <param name="tabOffset" type="int"/>
                </params>
                <declaration name="ntabs" type="int" line="337"/>
            </method>
            <javadoc line="344">
                Renders using the given rendering surface and area
                  on that surface.  This is implemented to stash the
                  selection positions, selection colors, and font
                  metrics for the nested lines to use.                
                <param>
                    g the rendering surface to use                    
                </param>
                <param>
                    a the allocated region to render into                    
                </param>
                <see>
                    View#paint                    
                </see>
            </javadoc>
            <method name="paint" type="void" line="355">
                <params>
                    <param name="g" type="Graphics"/>
                    <param name="a" type="Shape"/>
                </params>
                <comment line="368">
                    superclass paints the children                    
                </comment>
                <declaration name="alloc" type="Rectangle" line="356"/>
                <declaration name="host" type="JTextComponent" line="358"/>
                <declaration name="c" type="Caret" line="363"/>
            </method>
            <javadoc line="372">
                Sets the size of the view.  This should cause
                  layout of the view along the given axis, if it
                  has any layout duties.                
                <param>
                    width the width >= 0                    
                </param>
                <param>
                    height the height >= 0                    
                </param>
            </javadoc>
            <method name="setSize" type="void" line="380">
                <params>
                    <param name="width" type="float"/>
                    <param name="height" type="float"/>
                </params>
                <comment line="383">
                    invalidate the view itself since the childrens                    
                </comment>
                <comment line="384">
                    desired widths will be based upon this views width.                    
                </comment>
                <scope line="382"/>
            </method>
            <javadoc line="392">
                Determines the preferred span for this view along an
                  axis.  This is implemented to provide the superclass
                  behavior after first making sure that the current font
                  metrics are cached (for the nested lines which use
                  the metrics to determine the height of the potentially
                  wrapped lines).                
                <param>
                    axis may be either View.X_AXIS or View.Y_AXIS                    
                </param>
                <return>
                    the span the view would like to be rendered into.
                      Typically the view is told to render into the span
                      that is returned, although there is no guarantee.
                      The parent may choose to resize or break the view.                    
                </return>
                <see>
                    View#getPreferredSpan                    
                </see>
            </javadoc>
            <method name="getPreferredSpan" type="float" line="407">
                <params>
                    <param name="axis" type="int"/>
                </params>
            </method>
            <javadoc line="412">
                Determines the minimum span for this view along an
                  axis.  This is implemented to provide the superclass
                  behavior after first making sure that the current font
                  metrics are cached (for the nested lines which use
                  the metrics to determine the height of the potentially
                  wrapped lines).                
                <param>
                    axis may be either View.X_AXIS or View.Y_AXIS                    
                </param>
                <return>
                    the span the view would like to be rendered into.
                      Typically the view is told to render into the span
                      that is returned, although there is no guarantee.
                      The parent may choose to resize or break the view.                    
                </return>
                <see>
                    View#getMinimumSpan                    
                </see>
            </javadoc>
            <method name="getMinimumSpan" type="float" line="427">
                <params>
                    <param name="axis" type="int"/>
                </params>
            </method>
            <javadoc line="432">
                Determines the maximum span for this view along an
                  axis.  This is implemented to provide the superclass
                  behavior after first making sure that the current font
                  metrics are cached (for the nested lines which use
                  the metrics to determine the height of the potentially
                  wrapped lines).                
                <param>
                    axis may be either View.X_AXIS or View.Y_AXIS                    
                </param>
                <return>
                    the span the view would like to be rendered into.
                      Typically the view is told to render into the span
                      that is returned, although there is no guarantee.
                      The parent may choose to resize or break the view.                    
                </return>
                <see>
                    View#getMaximumSpan                    
                </see>
            </javadoc>
            <method name="getMaximumSpan" type="float" line="447">
                <params>
                    <param name="axis" type="int"/>
                </params>
            </method>
            <javadoc line="452">
                Gives notification that something was inserted into the
                  document in a location that this view is responsible for.
                  This is implemented to simply update the children.                
                <param>
                    e the change information from the associated document                    
                </param>
                <param>
                    a the current allocation of the view                    
                </param>
                <param>
                    f the factory to use to rebuild if the view has children                    
                </param>
                <see>
                    View#insertUpdate                    
                </see>
            </javadoc>
            <method name="insertUpdate" type="void" line="462">
                <params>
                    <param name="e" type="DocumentEvent"/>
                    <param name="a" type="Shape"/>
                    <param name="f" type="ViewFactory"/>
                </params>
                <declaration name="alloc" type="Rectangle" line="465"/>
                <declaration name="pos" type="int" line="467"/>
                <declaration name="v" type="View" line="468"/>
                <scope line="469"/>
            </method>
            <javadoc line="474">
                Gives notification that something was removed from the
                  document in a location that this view is responsible for.
                  This is implemented to simply update the children.                
                <param>
                    e the change information from the associated document                    
                </param>
                <param>
                    a the current allocation of the view                    
                </param>
                <param>
                    f the factory to use to rebuild if the view has children                    
                </param>
                <see>
                    View#removeUpdate                    
                </see>
            </javadoc>
            <method name="removeUpdate" type="void" line="484">
                <params>
                    <param name="e" type="DocumentEvent"/>
                    <param name="a" type="Shape"/>
                    <param name="f" type="ViewFactory"/>
                </params>
                <declaration name="alloc" type="Rectangle" line="487"/>
                <declaration name="pos" type="int" line="489"/>
                <declaration name="v" type="View" line="490"/>
                <scope line="491"/>
            </method>
            <javadoc line="496">
                Gives notification from the document that attributes were changed
                  in a location that this view is responsible for.                
                <param>
                    e the change information from the associated document                    
                </param>
                <param>
                    a the current allocation of the view                    
                </param>
                <param>
                    f the factory to use to rebuild if the view has children                    
                </param>
                <see>
                    View#changedUpdate                    
                </see>
            </javadoc>
            <method name="changedUpdate" type="void" line="505">
                <params>
                    <param name="e" type="DocumentEvent"/>
                    <param name="a" type="Shape"/>
                    <param name="f" type="ViewFactory"/>
                </params>
            </method>
            <declaration name="metrics" type="FontMetrics" line="511"/>
            <declaration name="lineBuffer" type="Segment" line="512"/>
            <declaration name="widthChanging" type="boolean" line="513"/>
            <declaration name="tabBase" type="int" line="514"/>
            <declaration name="tabSize" type="int" line="515"/>
            <declaration name="wordWrap" type="boolean" line="516"/>
            <declaration name="sel0" type="int" line="518"/>
            <declaration name="sel1" type="int" line="519"/>
            <declaration name="unselected" type="Color" line="520"/>
            <declaration name="selected" type="Color" line="521"/>
            <class name="WrappedLine" line="524">
                <extends class="View"/>
                <javadoc line="524">
                    Simple view of a line that wraps if it doesn&apos;t
                      fit withing the horizontal space allocated.
                      This class tries to be lightweight by carrying little
                      state of it&apos;s own and sharing the state of the outer class
                      with it&apos;s sibblings.                    
                </javadoc>
                <method name="WrappedLine" type="constructor" line="533">
                    <params>
                        <param name="elem" type="Element"/>
                    </params>
                </method>
                <javadoc line="538">
                    Determines the preferred span for this view along an
                      axis.                    
                    <param>
                        axis may be either X_AXIS or Y_AXIS                        
                    </param>
                    <return>
                        the span the view would like to be rendered into.
                          Typically the view is told to render into the span
                          that is returned, although there is no guarantee.
                          The parent may choose to resize or break the view.                        
                    </return>
                    <see>
                        View#getPreferredSpan                        
                    </see>
                </javadoc>
                <method name="getPreferredSpan" type="float" line="549">
                    <params>
                        <param name="axis" type="int"/>
                    </params>
                    <comment line="554">
                        We have been initially set to MAX_VALUE, but we don&apos;t                        
                    </comment>
                    <comment line="555">
                        want this as our preferred.                        
                    </comment>
                    <declaration name="width" type="float" line="552"/>
                    <scope line="553"/>
                    <scope line="560"/>
                </method>
                <javadoc line="569">
                    Renders using the given rendering surface and area on that
                      surface.  The view may need to do layout and create child
                      views to enable itself to render into the given allocation.                    
                    <param>
                        g the rendering surface to use                        
                    </param>
                    <param>
                        a the allocated region to render into                        
                    </param>
                    <see>
                        View#paint                        
                    </see>
                </javadoc>
                <method name="paint" type="void" line="578">
                    <params>
                        <param name="g" type="Graphics"/>
                        <param name="a" type="Shape"/>
                    </params>
                    <declaration name="alloc" type="Rectangle" line="579"/>
                    <declaration name="y" type="int" line="580"/>
                    <declaration name="x" type="int" line="581"/>
                    <declaration name="host" type="JTextComponent" line="583"/>
                    <declaration name="h" type="Highlighter" line="584"/>
                    <declaration name="dh" type="LayeredHighlighter" line="585"/>
                    <declaration name="start" type="int" line="588"/>
                    <declaration name="end" type="int" line="589"/>
                    <declaration name="p0" type="int" line="590"/>
                    <declaration name="lineEnds" type="int[]" line="591"/>
                    <scope line="592">
                        <declaration name="p1" type="int" line="593"/>
                        <scope line="595">
                            <declaration name="hOffset" type="int" line="596"/>
                        </scope>
                    </scope>
                </method>
                <javadoc line="608">
                    Provides a mapping from the document model coordinate space
                      to the coordinate space of the view mapped to it.                    
                    <param>
                        pos the position to convert                        
                    </param>
                    <param>
                        a the allocated region to render into                        
                    </param>
                    <return>
                        the bounding box of the given position is returned                        
                    </return>
                    <exception>
                        BadLocationException  if the given position does not represent a
                          valid location in the associated document                        
                    </exception>
                    <see>
                        View#modelToView                        
                    </see>
                </javadoc>
                <method name="modelToView" type="Shape" line="620">
                    <params>
                        <param name="pos" type="int"/>
                        <param name="a" type="Shape"/>
                        <param name="b" type="Position.Bias"/>
                    </params>
                    <declaration name="alloc" type="Rectangle" line="621"/>
                    <declaration name="p0" type="int" line="625"/>
                    <scope line="626"/>
                    <declaration name="testP" type="int" line="630"/>
                    <declaration name="line" type="int" line="632"/>
                    <declaration name="lineEnds" type="int[]" line="633"/>
                    <scope line="634">
                        <scope line="636"/>
                    </scope>
                    <scope line="642">
                        <declaration name="segment" type="Segment" line="643"/>
                    </scope>
                </method>
                <javadoc line="652">
                    Provides a mapping from the view coordinate space to the logical
                      coordinate space of the model.                    
                    <param>
                        fx the X coordinate                        
                    </param>
                    <param>
                        fy the Y coordinate                        
                    </param>
                    <param>
                        a the allocated region to render into                        
                    </param>
                    <return>
                        the location within the model that best represents the
                          given point in the view                        
                    </return>
                    <see>
                        View#viewToModel                        
                    </see>
                </javadoc>
                <method name="viewToModel" type="int" line="663">
                    <params>
                        <param name="fx" type="float"/>
                        <param name="fy" type="float"/>
                        <param name="a" type="Shape"/>
                        <param name="bias" type="Position.Bias[]"/>
                    </params>
                    <comment line="664">
                        PENDING(prinz) implement bias properly                        
                    </comment>
                    <comment line="671">
                        above the area covered by this icon, so the the position                        
                    </comment>
                    <comment line="672">
                        is assumed to be the start of the coverage for this view.                        
                    </comment>
                    <comment line="675">
                        below the area covered by this icon, so the the position                        
                    </comment>
                    <comment line="676">
                        is assumed to be the end of the coverage for this view.                        
                    </comment>
                    <comment line="679">
                        positioned within the coverage of this view vertically,                        
                    </comment>
                    <comment line="680">
                        so we figure out which line the point corresponds to.                        
                    </comment>
                    <comment line="681">
                        if the line is greater than the number of lines contained, then                        
                    </comment>
                    <comment line="682">
                        simply use the last line as it represents the last possible place                        
                    </comment>
                    <comment line="683">
                        we can position to.                        
                    </comment>
                    <comment line="703">
                        point is to the left of the line                        
                    </comment>
                    <comment line="706">
                        point is to the right of the line                        
                    </comment>
                    <comment line="709">
                        Determine the offset into the text                        
                    </comment>
                    <declaration name="alloc" type="Rectangle" line="667"/>
                    <declaration name="x" type="int" line="668"/>
                    <declaration name="y" type="int" line="669"/>
                    <scope line="670"/>
                    <scope line="674"/>
                    <scope line="678">
                        <declaration name="line" type="int" line="685"/>
                        <scope line="687"/>
                        <scope line="689">
                            <declaration name="p0" type="int" line="690"/>
                            <declaration name="p1" type="int" line="691"/>
                            <scope line="692"/>
                            <scope line="694">
                                <declaration name="lineEnds" type="int[]" line="695"/>
                                <scope line="697"/>
                            </scope>
                            <scope line="702"/>
                            <scope line="705"/>
                            <scope line="708">
                                <declaration name="segment" type="Segment" line="710"/>
                                <declaration name="n" type="int" line="712"/>
                            </scope>
                        </scope>
                    </scope>
                </method>
                <method name="insertUpdate" type="void" line="722">
                    <params>
                        <param name="e" type="DocumentEvent"/>
                        <param name="a" type="Shape"/>
                        <param name="f" type="ViewFactory"/>
                    </params>
                </method>
                <method name="removeUpdate" type="void" line="726">
                    <params>
                        <param name="e" type="DocumentEvent"/>
                        <param name="a" type="Shape"/>
                        <param name="f" type="ViewFactory"/>
                    </params>
                </method>
                <method name="update" type="void" line="730">
                    <params>
                        <param name="ev" type="DocumentEvent"/>
                        <param name="a" type="Shape"/>
                    </params>
                    <comment line="735">
                        have to repaint any views after the receiver.                        
                    </comment>
                    <declaration name="oldCount" type="int" line="731"/>
                    <scope line="733"/>
                    <scope line="737">
                        <declaration name="c" type="Component" line="738"/>
                        <declaration name="alloc" type="Rectangle" line="739"/>
                    </scope>
                </method>
                <javadoc line="744">
                    Returns line cache. If the cache was GC&apos;ed, recreates it.
                      If there&apos;s no cache, returns null                    
                </javadoc>
                <method name="getLineEnds" type="int[]" line="748">
                    <comment line="754">
                        Cache was GC&apos;ed, so rebuild it                        
                    </comment>
                    <scope line="749"/>
                    <scope line="751">
                        <declaration name="lineEnds" type="int[]" line="752"/>
                        <scope line="753"/>
                        <scope line="756"/>
                    </scope>
                </method>
                <javadoc line="762">
                    Creates line cache if text breaks into more than one physical line.                    
                    <param>
                        startPos position to start breaking from                        
                    </param>
                    <return>
                        the cache created, ot null if text breaks into one line                        
                    </return>
                </javadoc>
                <method name="breakLines" type="int[]" line="767">
                    <params>
                        <param name="startPos" type="int"/>
                    </params>
                    <comment line="783">
                        4410243                        
                    </comment>
                    <comment line="786">
                        do not use cache if there&apos;s only one line                        
                    </comment>
                    <comment line="792">
                        we have 2+ lines, and the cache is not big enough                        
                    </comment>
                    <comment line="793">
                        we try to estimate total number of lines                        
                    </comment>
                    <comment line="808">
                        check if the cache is too big                        
                    </comment>
                    <declaration name="lineEnds" type="int[]" line="768"/>
                    <declaration name="oldLineEnds" type="int[]" line="769"/>
                    <declaration name="start" type="int" line="770"/>
                    <declaration name="lineIndex" type="int" line="771"/>
                    <scope line="772">
                        <scope line="774"/>
                    </scope>
                    <declaration name="p0" type="int" line="779"/>
                    <declaration name="p1" type="int" line="780"/>
                    <scope line="781">
                        <declaration name="p" type="int" line="782"/>
                        <scope line="785"/>
                        <scope line="791">
                            <declaration name="growFactor" type="double" line="794"/>
                            <declaration name="newSize" type="int" line="795"/>
                            <declaration name="tmp" type="int[]" line="797"/>
                            <scope line="798"/>
                        </scope>
                    </scope>
                    <scope line="807">
                        <declaration name="maxCapacity" type="int" line="809"/>
                        <scope line="810">
                            <declaration name="tmp" type="int[]" line="811"/>
                        </scope>
                    </scope>
                    <scope line="817"/>
                </method>
                <javadoc line="823">
                    Binary search in the cache for line containing specified offset
                      (which is relative to the beginning of the view). This method
                      assumes that cache exists.                    
                </javadoc>
                <method name="findLine" type="int" line="828">
                    <params>
                        <param name="offset" type="int"/>
                    </params>
                    <declaration name="lineEnds" type="int[]" line="829"/>
                    <scope line="830"/>
                    <scope line="832"/>
                    <scope line="834"/>
                </method>
                <method name="findLine" type="int" line="839">
                    <params>
                        <param name="array" type="int[]"/>
                        <param name="offset" type="int"/>
                        <param name="min" type="int"/>
                        <param name="max" type="int"/>
                    </params>
                    <scope line="840"/>
                    <scope line="842">
                        <declaration name="mid" type="int" line="843"/>
                    </scope>
                </method>
                <declaration name="lineCount" type="int" line="850"/>
                <declaration name="lineCache" type="SoftReference&lt;int[]&gt;" line="851"/>
            </class>
        </class>
    </source>