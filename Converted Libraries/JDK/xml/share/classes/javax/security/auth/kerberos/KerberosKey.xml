<?xml version="1.0" encoding="UTF-8"?>
    <source package="javax.security.auth.kerberos">
        <import package="java.util.Arrays"/>
        <import package="javax.crypto.SecretKey"/>
        <import package="javax.security.auth.Destroyable"/>
        <import package="javax.security.auth.DestroyFailedException"/>
        <class name="KerberosKey" line="33">
            <comment line="169">
                Methods from java.security.Key                
            </comment>
            <implements interface="SecretKey"/>
            <implements interface="Destroyable"/>
            <javadoc line="33">
                This class encapsulates a long term secret key for a Kerberos
                  principal.&lt;p&gt;
                  All Kerberos JAAS login modules that obtain a principal&apos;s password and
                  generate the secret key from it should use this class.
                  Sometimes, such as when authenticating a server in
                  the absence of user-to-user authentication, the login module will store
                  an instance of this class in the private credential set of a{@link javax.security.auth.Subject Subject} during the commit phase of the
                  authentication process.&lt;p&gt;
                  A Kerberos service using a keytab to read secret keys should use
                  the {@link KeyTab} class, where latest keys can be read when needed.&lt;p&gt;
                  It might be necessary for the application to be granted a{@link javax.security.auth.PrivateCredentialPermissionPrivateCredentialPermission} if it needs to access the KerberosKey
                  instance from a Subject. This permission is not needed when the
                  application depends on the default JGSS Kerberos mechanism to access the
                  KerberosKey. In that case, however, the application will need an
                  appropriate{@link javax.security.auth.kerberos.ServicePermission ServicePermission}.                
                <author>
                    Mayank Upadhyay                    
                </author>
                <since>
                    1.4                    
                </since>
            </javadoc>
            <declaration name="serialVersionUID" type="long" line="62"/>
            <declaration name="principal" type="KerberosPrincipal" line="64"/>
            <javadoc line="64">
                The principal that this secret key belongs to.                
                <serial>
                                        
                </serial>
            </javadoc>
            <declaration name="versionNum" type="int" line="71"/>
            <javadoc line="71">
                the version number of this secret key                
                <serial>
                                        
                </serial>
            </javadoc>
            <declaration name="key" type="KeyImpl" line="78"/>
            <javadoc line="78">
                &lt;code&gt;KeyImpl&lt;/code&gt; is serialized by writing out the ASN1 Encoded bytes
                  of the encryption key.
                  The ASN1 encoding is defined in RFC4120 and as  follows:
                  &lt;pre&gt;
                  EncryptionKey   ::= SEQUENCE {
                  keytype   [0] Int32 -- actually encryption type --,
                  keyvalue  [1] OCTET STRING
                  }
                  &lt;/pre&gt;                
                <serial>
                                        
                </serial>
            </javadoc>
            <declaration name="destroyed" type="boolean" line="93"/>
            <javadoc line="95">
                Constructs a KerberosKey from the given bytes when the key type and
                  key version number are known. This can be used when reading the secret
                  key information from a Kerberos &quot;keytab&quot;.                
                <param>
                    principal the principal that this secret key belongs to                    
                </param>
                <param>
                    keyBytes the raw bytes for the secret key                    
                </param>
                <param>
                    keyType the key type for the secret key as defined by the
                      Kerberos protocol specification.                    
                </param>
                <param>
                    versionNum the version number of this secret key                    
                </param>
            </javadoc>
            <method name="KerberosKey" type="constructor" line="109">
                <params>
                    <param name="principal" type="KerberosPrincipal"/>
                    <param name="keyBytes" type="byte[]"/>
                    <param name="keyType" type="int"/>
                    <param name="versionNum" type="int"/>
                </params>
            </method>
            <javadoc line="115">
                Constructs a KerberosKey from a principal&apos;s password.                
                <param>
                    principal the principal that this password belongs to                    
                </param>
                <param>
                    password the password that should be used to compute the key                    
                </param>
                <param>
                    algorithm the name for the algorithm that this key will be
                      used for. This parameter may be null in which case the default
                      algorithm "DES" will be assumed.                    
                </param>
                <throws>
                    IllegalArgumentException if the name of the
                      algorithm passed is unsupported.                    
                </throws>
            </javadoc>
            <method name="KerberosKey" type="constructor" line="128">
                <params>
                    <param name="principal" type="KerberosPrincipal"/>
                    <param name="password" type="char[]"/>
                    <param name="algorithm" type="String"/>
                </params>
                <comment line="131">
                    Pass principal in for salt                    
                </comment>
            </method>
            <javadoc line="135">
                Returns the principal that this key belongs to.                
                <return>
                    the principal this key belongs to.                    
                </return>
            </javadoc>
            <method name="getPrincipal" type="KerberosPrincipal" line="140"/>
            <javadoc line="146">
                Returns the key version number.                
                <return>
                    the key version number.                    
                </return>
            </javadoc>
            <method name="getVersionNumber" type="int" line="151"/>
            <javadoc line="157">
                Returns the key type for this long-term key.                
                <return>
                    the key type.                    
                </return>
            </javadoc>
            <method name="getKeyType" type="int" line="162"/>
            <javadoc line="172">
                Returns the standard algorithm name for this key. For
                  example, &quot;DES&quot; would indicate that this key is a DES key.
                  See Appendix A in the &lt;a href=
                  &quot;../../../../../technotes/guides/security/crypto/CryptoSpec.html#AppA&quot;&gt;
                  Java Cryptography Architecture API Specification &amp;amp; Reference
                  &lt;/a&gt;
                  for information about standard algorithm names.                
                <return>
                    the name of the algorithm associated with this key.                    
                </return>
            </javadoc>
            <method name="getAlgorithm" type="String" line="183"/>
            <javadoc line="189">
                Returns the name of the encoding format for this secret key.                
                <return>
                    the String "RAW"                    
                </return>
            </javadoc>
            <method name="getFormat" type="String" line="194"/>
            <javadoc line="200">
                Returns the key material of this secret key.                
                <return>
                    the key material                    
                </return>
            </javadoc>
            <method name="getEncoded" type="byte[]" line="205"/>
            <javadoc line="211">
                Destroys this key. A call to any of its other methods after this
                  will cause an  IllegalStateException to be thrown.                
                <throws>
                    DestroyFailedException if some error occurs while destorying
                      this key.                    
                </throws>
            </javadoc>
            <method name="destroy" type="void" line="218">
                <scope line="219"/>
            </method>
            <javadoc line="227">
                Determines if this key has been destroyed.                
            </javadoc>
            <method name="isDestroyed" type="boolean" line="228"/>
            <method name="toString" type="String" line="232">
                <scope line="233"/>
            </method>
            <javadoc line="241">
                Returns a hashcode for this KerberosKey.                
                <return>
                    a hashCode() for the <code>KerberosKey</code>                    
                </return>
                <since>
                    1.6                    
                </since>
            </javadoc>
            <method name="hashCode" type="int" line="247">
                <declaration name="result" type="int" line="248"/>
                <scope line="249"/>
                <scope line="254"/>
            </method>
            <javadoc line="260">
                Compares the specified Object with this KerberosKey for equality.
                  Returns true if the given object is also a
                  &lt;code&gt;KerberosKey&lt;/code&gt; and the two
                  &lt;code&gt;KerberosKey&lt;/code&gt; instances are equivalent.                
                <param>
                    other the Object to compare to                    
                </param>
                <return>
                    true if the specified object is equal to this KerberosKey,
                      false otherwise. NOTE: Returns false if either of the KerberosKey
                      objects has been destroyed.                    
                </return>
                <since>
                    1.6                    
                </since>
            </javadoc>
            <method name="equals" type="boolean" line="272">
                <params>
                    <param name="other" type="Object"/>
                </params>
                <scope line="277"/>
                <declaration name="otherKey" type="KerberosKey" line="281"/>
                <scope line="282"/>
                <scope line="288"/>
                <scope line="292">
                    <scope line="293"/>
                </scope>
                <scope line="296">
                    <scope line="297"/>
                </scope>
            </method>
        </class>
    </source>