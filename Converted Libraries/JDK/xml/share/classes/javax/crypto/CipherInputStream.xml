<?xml version="1.0" encoding="UTF-8"?>
    <source package="javax.crypto">
        <import package="java.io"/>
        <class name="CipherInputStream" line="30">
            <extends class="FilterInputStream"/>
            <comment line="69">
                the cipher engine to use to process stream data                
            </comment>
            <comment line="72">
                the underlying input stream                
            </comment>
            <comment line="75">
                the buffer holding data that have been read in from the
                underlying stream, but have not been processed by the cipher                
            </comment>
            <comment line="80">
                having reached the end of the underlying input stream                
            </comment>
            <comment line="83">
                the buffer holding data that have been processed by the cipher                
            </comment>
            <comment line="86">
                the offset pointing to the next &quot;new&quot; byte                
            </comment>
            <comment line="88">
                the offset pointing to the last &quot;new&quot; byte                
            </comment>
            <javadoc line="30">
                A CipherInputStream is composed of an InputStream and a Cipher so
                  that read() methods return data that are read in from the
                  underlying InputStream but have been additionally processed by the
                  Cipher.  The Cipher must be fully initialized before being used by
                  a CipherInputStream.
                  &lt;p&gt; For example, if the Cipher is initialized for decryption, the
                  CipherInputStream will attempt to read in data and decrypt them,
                  before returning the decrypted data.
                  &lt;p&gt; This class adheres strictly to the semantics, especially the
                  failure semantics, of its ancestor classes
                  java.io.FilterInputStream and java.io.InputStream.  This class has
                  exactly those methods specified in its ancestor classes, and
                  overrides them all.  Moreover, this class catches all exceptions
                  that are not thrown by its ancestor classes.  In particular, the
                  &lt;code&gt;skip&lt;/code&gt; method skips, and the &lt;code&gt;available&lt;/code&gt;
                  method counts only data that have been processed by the encapsulated Cipher.
                  &lt;p&gt; It is crucial for a programmer using this class not to use
                  methods that are not defined or overriden in this class (such as a
                  new method or constructor that is later added to one of the super
                  classes), because the design and implementation of those methods
                  are unlikely to have considered security impact with regard to
                  CipherInputStream.                
                <author>
                    Li Gong                    
                </author>
                <see>
                    java.io.InputStream                    
                </see>
                <see>
                    java.io.FilterInputStream                    
                </see>
                <see>
                    javax.crypto.Cipher                    
                </see>
                <see>
                    javax.crypto.CipherOutputStream                    
                </see>
                <since>
                    1.4                    
                </since>
            </javadoc>
            <declaration name="cipher" type="Cipher" line="69"/>
            <declaration name="input" type="InputStream" line="72"/>
            <declaration name="ibuffer" type="byte[]" line="77"/>
            <declaration name="done" type="boolean" line="80"/>
            <declaration name="obuffer" type="byte[]" line="84"/>
            <declaration name="ostart" type="int" line="86"/>
            <declaration name="ofinish" type="int" line="88"/>
            <javadoc line="90">
                private convenience function.
                  Entry condition: ostart = ofinish
                  Exit condition: ostart &lt;= ofinish
                  return (ofinish-ostart) (we have this many bytes for you)
                  return 0 (no data now, but could have more later)
                  return -1 (absolutely no more data)                
            </javadoc>
            <method name="getMoreData" type="int" line="101">
                <declaration name="readin" type="int" line="103"/>
                <scope line="104">
                    <scope line="106"/>
                    <scope line="109"/>
                    <scope line="110"/>
                    <scope line="113"/>
                </scope>
                <scope line="119"/>
                <scope line="121"/>
            </method>
            <javadoc line="129">
                Constructs a CipherInputStream from an InputStream and a
                  Cipher.
                  &lt;br&gt;Note: if the specified input stream or cipher is
                  null, a NullPointerException may be thrown later when
                  they are used.                
                <param>
                    is the to-be-processed input stream                    
                </param>
                <param>
                    c an initialized Cipher object                    
                </param>
            </javadoc>
            <method name="CipherInputStream" type="constructor" line="138">
                <params>
                    <param name="is" type="InputStream"/>
                    <param name="c" type="Cipher"/>
                </params>
            </method>
            <javadoc line="144">
                Constructs a CipherInputStream from an InputStream without
                  specifying a Cipher. This has the effect of constructing a
                  CipherInputStream using a NullCipher.
                  &lt;br&gt;Note: if the specified input stream is null, a
                  NullPointerException may be thrown later when it is used.                
                <param>
                    is the to-be-processed input stream                    
                </param>
            </javadoc>
            <method name="CipherInputStream" type="constructor" line="152">
                <params>
                    <param name="is" type="InputStream"/>
                </params>
            </method>
            <javadoc line="158">
                Reads the next byte of data from this input stream. The value
                  byte is returned as an &lt;code&gt;int&lt;/code&gt; in the range
                  &lt;code&gt;0&lt;/code&gt; to &lt;code&gt;255&lt;/code&gt;. If no byte is available
                  because the end of the stream has been reached, the value
                  &lt;code&gt;-1&lt;/code&gt; is returned. This method blocks until input data
                  is available, the end of the stream is detected, or an exception
                  is thrown.
                  &lt;p&gt;                
                <return>
                    the next byte of data, or &lt;code&gt;-1&lt;/code&gt; if the end of the
                      stream is reached.                    
                </return>
                <exception>
                    IOException  if an I/O error occurs.                    
                </exception>
                <since>
                    JCE1.2                    
                </since>
            </javadoc>
            <method name="read" type="int" line="173">
                <comment line="176">
                    we loop for new data as the spec says we are blocking                    
                </comment>
                <scope line="174">
                    <declaration name="i" type="int" line="176"/>
                </scope>
            </method>
            <javadoc line="183">
                Reads up to &lt;code&gt;b.length&lt;/code&gt; bytes of data from this input
                  stream into an array of bytes.
                  &lt;p&gt;
                  The &lt;code&gt;read&lt;/code&gt; method of &lt;code&gt;InputStream&lt;/code&gt; calls
                  the &lt;code&gt;read&lt;/code&gt; method of three arguments with the arguments
                  &lt;code&gt;b&lt;/code&gt;, &lt;code&gt;0&lt;/code&gt;, and &lt;code&gt;b.length&lt;/code&gt;.                
                <param>
                    b   the buffer into which the data is read.                    
                </param>
                <return>
                    the total number of bytes read into the buffer, or
                      &lt;code&gt;-1&lt;/code&gt; is there is no more data because the end of
                      the stream has been reached.                    
                </return>
                <exception>
                    IOException  if an I/O error occurs.                    
                </exception>
                <see>
                    java.io.InputStream#read(byte[],int,int)                    
                </see>
                <since>
                    JCE1.2                    
                </since>
            </javadoc>
            <method name="read" type="int" line="199">
                <params>
                    <param name="b" type="byte"/>
                </params>
            </method>
            <javadoc line="203">
                Reads up to &lt;code&gt;len&lt;/code&gt; bytes of data from this input stream
                  into an array of bytes. This method blocks until some input is
                  available. If the first argument is &lt;code&gt;null,&lt;/code&gt; up to
                  &lt;code&gt;len&lt;/code&gt; bytes are read and discarded.                
                <param>
                    b     the buffer into which the data is read.                    
                </param>
                <param>
                    off   the start offset in the destination array
                      &lt;code&gt;buf&lt;/code&gt;                    
                </param>
                <param>
                    len   the maximum number of bytes read.                    
                </param>
                <return>
                    the total number of bytes read into the buffer, or
                      &lt;code&gt;-1&lt;/code&gt; if there is no more data because the end of
                      the stream has been reached.                    
                </return>
                <exception>
                    IOException  if an I/O error occurs.                    
                </exception>
                <see>
                    java.io.InputStream#read()                    
                </see>
                <since>
                    JCE1.2                    
                </since>
            </javadoc>
            <method name="read" type="int" line="220">
                <params>
                    <param name="b" type="byte"/>
                    <param name="off" type="int"/>
                    <param name="len" type="int"/>
                </params>
                <comment line="223">
                    we loop for new data as the spec says we are blocking                    
                </comment>
                <scope line="221">
                    <declaration name="i" type="int" line="223"/>
                </scope>
                <scope line="227"/>
                <declaration name="available" type="int" line="230"/>
                <scope line="232"/>
            </method>
            <javadoc line="239">
                Skips &lt;code&gt;n&lt;/code&gt; bytes of input from the bytes that can be read
                  from this input stream without blocking.
                  &lt;p&gt;Fewer bytes than requested might be skipped.
                  The actual number of bytes skipped is equal to &lt;code&gt;n&lt;/code&gt; or
                  the result of a call to{@link #available() &lt;code&gt;available&lt;/code&gt;},
                  whichever is smaller.
                  If &lt;code&gt;n&lt;/code&gt; is less than zero, no bytes are skipped.
                  &lt;p&gt;The actual number of bytes skipped is returned.                
                <param>
                    n the number of bytes to be skipped.                    
                </param>
                <return>
                    the actual number of bytes skipped.                    
                </return>
                <exception>
                    IOException  if an I/O error occurs.                    
                </exception>
                <since>
                    JCE1.2                    
                </since>
            </javadoc>
            <method name="skip" type="long" line="257">
                <params>
                    <param name="n" type="long"/>
                </params>
                <declaration name="available" type="int" line="258"/>
                <scope line="259"/>
                <scope line="262"/>
            </method>
            <javadoc line="269">
                Returns the number of bytes that can be read from this input
                  stream without blocking. The &lt;code&gt;available&lt;/code&gt; method of
                  &lt;code&gt;InputStream&lt;/code&gt; returns &lt;code&gt;0&lt;/code&gt;. This method
                  &lt;B&gt;should&lt;/B&gt; be overridden by subclasses.                
                <return>
                    the number of bytes that can be read from this input stream
                      without blocking.                    
                </return>
                <exception>
                    IOException  if an I/O error occurs.                    
                </exception>
                <since>
                    JCE1.2                    
                </since>
            </javadoc>
            <method name="available" type="int" line="280"/>
            <javadoc line="284">
                Closes this input stream and releases any system resources
                  associated with the stream.
                  &lt;p&gt;
                  The &lt;code&gt;close&lt;/code&gt; method of &lt;code&gt;CipherInputStream&lt;/code&gt;
                  calls the &lt;code&gt;close&lt;/code&gt; method of its underlying input
                  stream.                
                <exception>
                    IOException  if an I/O error occurs.                    
                </exception>
                <since>
                    JCE1.2                    
                </since>
            </javadoc>
            <method name="close" type="void" line="295">
                <comment line="299">
                    throw away the unprocessed data                    
                </comment>
                <scope line="297"/>
                <scope line="301"/>
                <scope line="303"/>
            </method>
            <javadoc line="309">
                Tests if this input stream supports the &lt;code&gt;mark&lt;/code&gt;
                  and &lt;code&gt;reset&lt;/code&gt; methods, which it does not.                
                <return>
                    &lt;code&gt;false&lt;/code&gt;, since this class does not support the
                      &lt;code&gt;mark&lt;/code&gt; and &lt;code&gt;reset&lt;/code&gt; methods.                    
                </return>
                <see>
                    java.io.InputStream#mark(int)                    
                </see>
                <see>
                    java.io.InputStream#reset()                    
                </see>
                <since>
                    JCE1.2                    
                </since>
            </javadoc>
            <method name="markSupported" type="boolean" line="319"/>
        </class>
    </source>