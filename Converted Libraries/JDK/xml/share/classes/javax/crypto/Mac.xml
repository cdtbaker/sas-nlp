<?xml version="1.0" encoding="UTF-8"?>
    <source package="javax.crypto">
        <import package="java.util"/>
        <import package="java.security"/>
        <import package="java.security.Provider.Service"/>
        <import package="java.security.spec.AlgorithmParameterSpec"/>
        <import package="java.nio.ByteBuffer"/>
        <import package="sun.security.util.Debug"/>
        <import package="sun.security.jca"/>
        <import package="sun.security.jca.GetInstance.Instance"/>
        <class name="Mac" line="40">
            <comment line="81">
                The provider                
            </comment>
            <comment line="84">
                The provider implementation (delegate)                
            </comment>
            <comment line="87">
                The name of the MAC algorithm.                
            </comment>
            <comment line="90">
                Has this object been initialized?                
            </comment>
            <comment line="93">
                next service to try in provider selection                
            </comment>
            <comment line="94">
                null once provider is selected                
            </comment>
            <comment line="97">
                remaining services to try in provider selection                
            </comment>
            <comment line="98">
                null once provider is selected                
            </comment>
            <comment line="257">
                max number of debug warnings to print from chooseFirstProvider()                
            </comment>
            <implements interface="Cloneable"/>
            <javadoc line="40">
                This class provides the functionality of a &quot;Message Authentication Code&quot;
                  (MAC) algorithm.
                  &lt;p&gt; A MAC provides a way to check
                  the integrity of information transmitted over or stored in an unreliable
                  medium, based on a secret key. Typically, message
                  authentication codes are used between two parties that share a secret
                  key in order to validate information transmitted between these
                  parties.
                  &lt;p&gt; A MAC mechanism that is based on cryptographic hash functions is
                  referred to as HMAC. HMAC can be used with any cryptographic hash function,
                  e.g., MD5 or SHA-1, in combination with a secret shared key. HMAC is
                  specified in RFC 2104.
                  &lt;p&gt; Every implementation of the Java platform is required to support
                  the following standard &lt;code&gt;Mac&lt;/code&gt; algorithms:
                  &lt;ul&gt;
                  &lt;li&gt;&lt;tt&gt;HmacMD5&lt;/tt&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;tt&gt;HmacSHA1&lt;/tt&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;tt&gt;HmacSHA256&lt;/tt&gt;&lt;/li&gt;
                  &lt;/ul&gt;
                  These algorithms are described in the
                  &lt;a href=&quot;{@docRoot}/../technotes/guides/security/StandardNames.html#Mac&quot;&gt;
                  Mac section&lt;/a&gt; of the
                  Java Cryptography Architecture Standard Algorithm Name Documentation.
                  Consult the release documentation for your implementation to see if any
                  other algorithms are supported.                
                <author>
                    Jan Luehe                    
                </author>
                <since>
                    1.4                    
                </since>
            </javadoc>
            <declaration name="debug" type="Debug" line="77"/>
            <declaration name="provider" type="Provider" line="81"/>
            <declaration name="spi" type="MacSpi" line="84"/>
            <declaration name="algorithm" type="String" line="87"/>
            <declaration name="initialized" type="boolean" line="90"/>
            <declaration name="firstService" type="Service" line="94"/>
            <declaration name="serviceIterator" type="Iterator" line="98"/>
            <declaration name="lock" type="Object" line="100"/>
            <javadoc line="102">
                Creates a MAC object.                
                <param>
                    macSpi the delegate                    
                </param>
                <param>
                    provider the provider                    
                </param>
                <param>
                    algorithm the algorithm                    
                </param>
            </javadoc>
            <method name="Mac" type="constructor" line="109">
                <params>
                    <param name="macSpi" type="MacSpi"/>
                    <param name="provider" type="Provider"/>
                    <param name="algorithm" type="String"/>
                </params>
            </method>
            <method name="Mac" type="constructor" line="117">
                <params>
                    <param name="s" type="Service"/>
                    <param name="t" type="Iterator"/>
                    <param name="algorithm" type="String"/>
                </params>
            </method>
            <javadoc line="124">
                Returns the algorithm name of this &lt;code&gt;Mac&lt;/code&gt; object.
                  &lt;p&gt;This is the same name that was specified in one of the
                  &lt;code&gt;getInstance&lt;/code&gt; calls that created this
                  &lt;code&gt;Mac&lt;/code&gt; object.                
                <return>
                    the algorithm name of this <code>Mac</code> object.                    
                </return>
            </javadoc>
            <method name="getAlgorithm" type="String" line="133"/>
            <javadoc line="137">
                Returns a &lt;code&gt;Mac&lt;/code&gt; object that implements the
                  specified MAC algorithm.
                  &lt;p&gt; This method traverses the list of registered security Providers,
                  starting with the most preferred Provider.
                  A new Mac object encapsulating the
                  MacSpi implementation from the first
                  Provider that supports the specified algorithm is returned.
                  &lt;p&gt; Note that the list of registered providers may be retrieved via
                  the {@link Security#getProviders() Security.getProviders()} method.                
                <param>
                    algorithm the standard name of the requested MAC algorithm.
                      See the Mac section in the <a href=
                      "{@docRoot}/../technotes/guides/security/StandardNames.html#Mac">
                      Java Cryptography Architecture Standard Algorithm Name Documentation</a>
                      for information about standard algorithm names.                    
                </param>
                <return>
                    the new <code>Mac</code> object.                    
                </return>
                <exception>
                    NoSuchAlgorithmException if no Provider supports a
                      MacSpi implementation for the
                      specified algorithm.                    
                </exception>
                <see>
                    java.security.Provider                    
                </see>
            </javadoc>
            <method name="getInstance" type="Mac" line="165">
                <params>
                    <param name="algorithm" type="String"/>
                </params>
                <comment line="167">
                    make sure there is at least one service from a signed provider                    
                </comment>
                <declaration name="services" type="List" line="166"/>
                <declaration name="t" type="Iterator" line="168"/>
                <scope line="169">
                    <declaration name="s" type="Service" line="170"/>
                    <scope line="171"/>
                </scope>
            </method>
            <javadoc line="180">
                Returns a &lt;code&gt;Mac&lt;/code&gt; object that implements the
                  specified MAC algorithm.
                  &lt;p&gt; A new Mac object encapsulating the
                  MacSpi implementation from the specified provider
                  is returned.  The specified provider must be registered
                  in the security provider list.
                  &lt;p&gt; Note that the list of registered providers may be retrieved via
                  the {@link Security#getProviders() Security.getProviders()} method.                
                <param>
                    algorithm the standard name of the requested MAC algorithm.
                      See the Mac section in the <a href=
                      "{@docRoot}/../technotes/guides/security/StandardNames.html#Mac">
                      Java Cryptography Architecture Standard Algorithm Name Documentation</a>
                      for information about standard algorithm names.                    
                </param>
                <param>
                    provider the name of the provider.                    
                </param>
                <return>
                    the new <code>Mac</code> object.                    
                </return>
                <exception>
                    NoSuchAlgorithmException if a MacSpi
                      implementation for the specified algorithm is not
                      available from the specified provider.                    
                </exception>
                <exception>
                    NoSuchProviderException if the specified provider is not
                      registered in the security provider list.                    
                </exception>
                <exception>
                    IllegalArgumentException if the <code>provider</code>
                      is null or empty.                    
                </exception>
                <see>
                    java.security.Provider                    
                </see>
            </javadoc>
            <method name="getInstance" type="Mac" line="215">
                <params>
                    <param name="algorithm" type="String"/>
                    <param name="provider" type="String"/>
                </params>
                <declaration name="instance" type="Instance" line="216"/>
            </method>
            <javadoc line="221">
                Returns a &lt;code&gt;Mac&lt;/code&gt; object that implements the
                  specified MAC algorithm.
                  &lt;p&gt; A new Mac object encapsulating the
                  MacSpi implementation from the specified Provider
                  object is returned.  Note that the specified Provider object
                  does not have to be registered in the provider list.                
                <param>
                    algorithm the standard name of the requested MAC algorithm.
                      See the Mac section in the <a href=
                      "{@docRoot}/../technotes/guides/security/StandardNames.html#Mac">
                      Java Cryptography Architecture Standard Algorithm Name Documentation</a>
                      for information about standard algorithm names.                    
                </param>
                <param>
                    provider the provider.                    
                </param>
                <return>
                    the new <code>Mac</code> object.                    
                </return>
                <exception>
                    NoSuchAlgorithmException if a MacSpi
                      implementation for the specified algorithm is not available
                      from the specified Provider object.                    
                </exception>
                <exception>
                    IllegalArgumentException if the <code>provider</code>
                      is null.                    
                </exception>
                <see>
                    java.security.Provider                    
                </see>
            </javadoc>
            <method name="getInstance" type="Mac" line="250">
                <params>
                    <param name="algorithm" type="String"/>
                    <param name="provider" type="Provider"/>
                </params>
                <declaration name="instance" type="Instance" line="251"/>
            </method>
            <declaration name="warnCount" type="int" line="257"/>
            <javadoc line="259">
                Choose the Spi from the first provider available. Used if
                  delayed provider selection is not possible because init()
                  is not the first method called.                
            </javadoc>
            <method name="chooseFirstProvider" type="void" line="264">
                <comment line="303">
                    not needed any more                    
                </comment>
                <scope line="265"/>
                <scope line="268">
                    <scope line="269"/>
                    <scope line="272">
                        <declaration name="w" type="int" line="273"/>
                        <scope line="274">
                            <scope line="277"/>
                        </scope>
                    </scope>
                    <declaration name="lastException" type="Exception" line="284"/>
                    <scope line="285">
                        <declaration name="s" type="Service" line="286"/>
                        <scope line="287"/>
                        <scope line="290"/>
                        <scope line="293"/>
                        <scope line="296">
                            <declaration name="obj" type="Object" line="297"/>
                            <scope line="298"/>
                        </scope>
                        <scope line="307"/>
                    </scope>
                    <declaration name="e" type="ProviderException" line="311"/>
                    <scope line="313"/>
                </scope>
            </method>
            <method name="chooseProvider" type="void" line="321">
                <params>
                    <param name="key" type="Key"/>
                    <param name="params" type="AlgorithmParameterSpec"/>
                </params>
                <comment line="336">
                    if provider says it does not support this key, ignore it                    
                </comment>
                <comment line="352">
                    NoSuchAlgorithmException from newInstance()                    
                </comment>
                <comment line="353">
                    InvalidKeyException from init()                    
                </comment>
                <comment line="354">
                    RuntimeException (ProviderException) from init()                    
                </comment>
                <comment line="360">
                    no working provider found, fail                    
                </comment>
                <scope line="322">
                    <scope line="323"/>
                    <declaration name="lastException" type="Exception" line="327"/>
                    <scope line="328">
                        <declaration name="s" type="Service" line="329"/>
                        <scope line="330"/>
                        <scope line="333"/>
                        <scope line="337"/>
                        <scope line="340"/>
                        <scope line="343">
                            <declaration name="spi" type="MacSpi" line="344"/>
                        </scope>
                        <scope line="351">
                            <scope line="355"/>
                        </scope>
                    </scope>
                    <scope line="361"/>
                    <scope line="364"/>
                    <scope line="367"/>
                    <declaration name="kName" type="String" line="370"/>
                </scope>
            </method>
            <javadoc line="377">
                Returns the provider of this &lt;code&gt;Mac&lt;/code&gt; object.                
                <return>
                    the provider of this <code>Mac</code> object.                    
                </return>
            </javadoc>
            <method name="getProvider" type="Provider" line="382"/>
            <javadoc line="387">
                Returns the length of the MAC in bytes.                
                <return>
                    the MAC length in bytes.                    
                </return>
            </javadoc>
            <method name="getMacLength" type="int" line="392"/>
            <javadoc line="397">
                Initializes this &lt;code&gt;Mac&lt;/code&gt; object with the given key.                
                <param>
                    key the key.                    
                </param>
                <exception>
                    InvalidKeyException if the given key is inappropriate for
                      initializing this MAC.                    
                </exception>
            </javadoc>
            <method name="init" type="void" line="405">
                <params>
                    <param name="key" type="Key"/>
                </params>
                <scope line="406">
                    <scope line="407"/>
                    <scope line="409"/>
                </scope>
                <scope line="412"/>
            </method>
            <javadoc line="418">
                Initializes this &lt;code&gt;Mac&lt;/code&gt; object with the given key and
                  algorithm parameters.                
                <param>
                    key the key.                    
                </param>
                <param>
                    params the algorithm parameters.                    
                </param>
                <exception>
                    InvalidKeyException if the given key is inappropriate for
                      initializing this MAC.                    
                </exception>
                <exception>
                    InvalidAlgorithmParameterException if the given algorithm
                      parameters are inappropriate for this MAC.                    
                </exception>
            </javadoc>
            <method name="init" type="void" line="431">
                <params>
                    <param name="key" type="Key"/>
                    <param name="params" type="AlgorithmParameterSpec"/>
                </params>
                <scope line="432"/>
                <scope line="434"/>
            </method>
            <javadoc line="440">
                Processes the given byte.                
                <param>
                    input the input byte to be processed.                    
                </param>
                <exception>
                    IllegalStateException if this <code>Mac</code> has not been
                      initialized.                    
                </exception>
            </javadoc>
            <method name="update" type="void" line="448">
                <params>
                    <param name="input" type="byte"/>
                </params>
                <scope line="450"/>
            </method>
            <javadoc line="456">
                Processes the given array of bytes.                
                <param>
                    input the array of bytes to be processed.                    
                </param>
                <exception>
                    IllegalStateException if this <code>Mac</code> has not been
                      initialized.                    
                </exception>
            </javadoc>
            <method name="update" type="void" line="464">
                <params>
                    <param name="input" type="byte[]"/>
                </params>
                <scope line="466"/>
                <scope line="469"/>
            </method>
            <javadoc line="474">
                Processes the first &lt;code&gt;len&lt;/code&gt; bytes in &lt;code&gt;input&lt;/code&gt;,
                  starting at &lt;code&gt;offset&lt;/code&gt; inclusive.                
                <param>
                    input the input buffer.                    
                </param>
                <param>
                    offset the offset in <code>input</code> where the input starts.                    
                </param>
                <param>
                    len the number of bytes to process.                    
                </param>
                <exception>
                    IllegalStateException if this <code>Mac</code> has not been
                      initialized.                    
                </exception>
            </javadoc>
            <method name="update" type="void" line="486">
                <params>
                    <param name="input" type="byte[]"/>
                    <param name="offset" type="int"/>
                    <param name="len" type="int"/>
                </params>
                <scope line="488"/>
                <scope line="492"/>
            </method>
            <javadoc line="499">
                Processes &lt;code&gt;input.remaining()&lt;/code&gt; bytes in the ByteBuffer
                  &lt;code&gt;input&lt;/code&gt;, starting at &lt;code&gt;input.position()&lt;/code&gt;.
                  Upon return, the buffer&apos;s position will be equal to its limit;
                  its limit will not have changed.                
                <param>
                    input the ByteBuffer                    
                </param>
                <exception>
                    IllegalStateException if this <code>Mac</code> has not been
                      initialized.                    
                </exception>
                <since>
                    1.5                    
                </since>
            </javadoc>
            <method name="update" type="void" line="511">
                <params>
                    <param name="input" type="ByteBuffer"/>
                </params>
                <scope line="513"/>
                <scope line="516"/>
            </method>
            <javadoc line="522">
                Finishes the MAC operation.
                  &lt;p&gt;A call to this method resets this &lt;code&gt;Mac&lt;/code&gt; object to the
                  state it was in when previously initialized via a call to
                  &lt;code&gt;init(Key)&lt;/code&gt; or
                  &lt;code&gt;init(Key, AlgorithmParameterSpec)&lt;/code&gt;.
                  That is, the object is reset and available to generate another MAC from
                  the same key, if desired, via new calls to &lt;code&gt;update&lt;/code&gt; and
                  &lt;code&gt;doFinal&lt;/code&gt;.
                  (In order to reuse this &lt;code&gt;Mac&lt;/code&gt; object with a different key,
                  it must be reinitialized via a call to &lt;code&gt;init(Key)&lt;/code&gt; or
                  &lt;code&gt;init(Key, AlgorithmParameterSpec)&lt;/code&gt;.                
                <return>
                    the MAC result.                    
                </return>
                <exception>
                    IllegalStateException if this <code>Mac</code> has not been
                      initialized.                    
                </exception>
            </javadoc>
            <method name="doFinal" type="byte[]" line="541">
                <scope line="543"/>
                <declaration name="mac" type="byte[]" line="546"/>
            </method>
            <javadoc line="551">
                Finishes the MAC operation.
                  &lt;p&gt;A call to this method resets this &lt;code&gt;Mac&lt;/code&gt; object to the
                  state it was in when previously initialized via a call to
                  &lt;code&gt;init(Key)&lt;/code&gt; or
                  &lt;code&gt;init(Key, AlgorithmParameterSpec)&lt;/code&gt;.
                  That is, the object is reset and available to generate another MAC from
                  the same key, if desired, via new calls to &lt;code&gt;update&lt;/code&gt; and
                  &lt;code&gt;doFinal&lt;/code&gt;.
                  (In order to reuse this &lt;code&gt;Mac&lt;/code&gt; object with a different key,
                  it must be reinitialized via a call to &lt;code&gt;init(Key)&lt;/code&gt; or
                  &lt;code&gt;init(Key, AlgorithmParameterSpec)&lt;/code&gt;.
                  &lt;p&gt;The MAC result is stored in &lt;code&gt;output&lt;/code&gt;, starting at
                  &lt;code&gt;outOffset&lt;/code&gt; inclusive.                
                <param>
                    output the buffer where the MAC result is stored                    
                </param>
                <param>
                    outOffset the offset in <code>output</code> where the MAC is
                      stored                    
                </param>
                <exception>
                    ShortBufferException if the given output buffer is too small
                      to hold the result                    
                </exception>
                <exception>
                    IllegalStateException if this <code>Mac</code> has not been
                      initialized.                    
                </exception>
            </javadoc>
            <method name="doFinal" type="void" line="579">
                <params>
                    <param name="output" type="byte[]"/>
                    <param name="outOffset" type="int"/>
                </params>
                <scope line="581"/>
                <declaration name="macLen" type="int" line="584"/>
                <scope line="585"/>
                <declaration name="mac" type="byte[]" line="589"/>
            </method>
            <javadoc line="594">
                Processes the given array of bytes and finishes the MAC operation.
                  &lt;p&gt;A call to this method resets this &lt;code&gt;Mac&lt;/code&gt; object to the
                  state it was in when previously initialized via a call to
                  &lt;code&gt;init(Key)&lt;/code&gt; or
                  &lt;code&gt;init(Key, AlgorithmParameterSpec)&lt;/code&gt;.
                  That is, the object is reset and available to generate another MAC from
                  the same key, if desired, via new calls to &lt;code&gt;update&lt;/code&gt; and
                  &lt;code&gt;doFinal&lt;/code&gt;.
                  (In order to reuse this &lt;code&gt;Mac&lt;/code&gt; object with a different key,
                  it must be reinitialized via a call to &lt;code&gt;init(Key)&lt;/code&gt; or
                  &lt;code&gt;init(Key, AlgorithmParameterSpec)&lt;/code&gt;.                
                <param>
                    input data in bytes                    
                </param>
                <return>
                    the MAC result.                    
                </return>
                <exception>
                    IllegalStateException if this <code>Mac</code> has not been
                      initialized.                    
                </exception>
            </javadoc>
            <method name="doFinal" type="byte[]" line="615">
                <params>
                    <param name="input" type="byte[]"/>
                </params>
                <scope line="617"/>
            </method>
            <javadoc line="624">
                Resets this &lt;code&gt;Mac&lt;/code&gt; object.
                  &lt;p&gt;A call to this method resets this &lt;code&gt;Mac&lt;/code&gt; object to the
                  state it was in when previously initialized via a call to
                  &lt;code&gt;init(Key)&lt;/code&gt; or
                  &lt;code&gt;init(Key, AlgorithmParameterSpec)&lt;/code&gt;.
                  That is, the object is reset and available to generate another MAC from
                  the same key, if desired, via new calls to &lt;code&gt;update&lt;/code&gt; and
                  &lt;code&gt;doFinal&lt;/code&gt;.
                  (In order to reuse this &lt;code&gt;Mac&lt;/code&gt; object with a different key,
                  it must be reinitialized via a call to &lt;code&gt;init(Key)&lt;/code&gt; or
                  &lt;code&gt;init(Key, AlgorithmParameterSpec)&lt;/code&gt;.                
            </javadoc>
            <method name="reset" type="void" line="638"/>
            <javadoc line="643">
                Returns a clone if the provider implementation is cloneable.                
                <return>
                    a clone if the provider implementation is cloneable.                    
                </return>
                <exception>
                    CloneNotSupportedException if this is called on a
                      delegate that does not support <code>Cloneable</code>.                    
                </exception>
            </javadoc>
            <method name="clone" type="Object" line="651">
                <declaration name="that" type="Mac" line="653"/>
            </method>
        </class>
    </source>