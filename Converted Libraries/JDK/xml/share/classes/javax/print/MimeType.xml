<?xml version="1.0" encoding="UTF-8"?>
    <source package="javax.print">
        <import package="java.io.Serializable"/>
        <import package="java.util.AbstractMap"/>
        <import package="java.util.AbstractSet"/>
        <import package="java.util.Iterator"/>
        <import package="java.util.Map"/>
        <import package="java.util.NoSuchElementException"/>
        <import package="java.util.Set"/>
        <import package="java.util.Vector"/>
        <class name="MimeType" line="38">
            <comment line="306">
                Hidden classes, constants, and operations for parsing a MIME media type
                 string.                
            </comment>
            <comment line="309">
                Lexeme types.                
            </comment>
            <comment line="316">
                Class for a lexical analyzer.                
            </comment>
            <implements interface="Serializable"/>
            <implements interface="Cloneable"/>
            <javadoc line="38">
                Class MimeType encapsulates a Multipurpose Internet Mail Extensions (MIME)
                  media type as defined in &lt;A HREF=&quot;http://www.ietf.org/rfc/rfc2045.txt&quot;&gt;RFC
                  2045&lt;/A&gt; and &lt;A HREF=&quot;http://www.ietf.org/rfc/rfc2046.txt&quot;&gt;RFC 2046&lt;/A&gt;. A
                  MIME type object is part of a {@link DocFlavor DocFlavor} object and
                  specifies the format of the print data.
                  &lt;P&gt;
                  Class MimeType is similar to the like-named
                  class in package {@link java.awt.datatransfer java.awt.datatransfer}. Class
                  java.awt.datatransfer.MimeType is not used in the Jini Print Service API
                  for two reasons:
                  &lt;OL TYPE=1&gt;
                  &lt;LI&gt;
                  Since not all Java profiles include the AWT, the Jini Print Service should
                  not depend on an AWT class.
                  &lt;P&gt;
                  &lt;LI&gt;
                  The implementation of class java.awt.datatransfer.MimeType does not
                  guarantee
                  that equivalent MIME types will have the same serialized representation.
                  Thus, since the Jini Lookup Service (JLUS) matches service attributes based
                  on equality of serialized representations, JLUS searches involving MIME
                  types encapsulated in class java.awt.datatransfer.MimeType may incorrectly
                  fail to match.
                  &lt;/OL&gt;
                  &lt;P&gt;
                  Class MimeType&apos;s serialized representation is based on the following
                  canonical form of a MIME type string. Thus, two MIME types that are not
                  identical but that are equivalent (that have the same canonical form) will
                  be considered equal by the JLUS&apos;s matching algorithm.
                  &lt;UL&gt;
                  &lt;LI&gt; The media type, media subtype, and parameters are retained, but all
                  comments and whitespace characters are discarded.
                  &lt;LI&gt; The media type, media subtype, and parameter names are converted to
                  lowercase.
                  &lt;LI&gt; The parameter values retain their original case, except a charset
                  parameter value for a text media type is converted to lowercase.
                  &lt;LI&gt; Quote characters surrounding parameter values are removed.
                  &lt;LI&gt; Quoting backslash characters inside parameter values are removed.
                  &lt;LI&gt; The parameters are arranged in ascending order of parameter name.
                  &lt;/UL&gt;
                  &lt;P&gt;                
                <author>
                    Alan Kaminsky                    
                </author>
            </javadoc>
            <declaration name="serialVersionUID" type="long" line="85"/>
            <declaration name="myPieces" type="String[]" line="87"/>
            <javadoc line="87">
                Array of strings that hold pieces of this MIME type&apos;s canonical form.
                  If the MIME type has &lt;I&gt;n&lt;/I&gt; parameters, &lt;I&gt;n&lt;/I&gt; &amp;gt;= 0, then the
                  strings in the array are:
                  &lt;BR&gt;Index 0 -- Media type.
                  &lt;BR&gt;Index 1 -- Media subtype.
                  &lt;BR&gt;Index 2&lt;I&gt;i&lt;/I&gt;+2 -- Name of parameter &lt;I&gt;i&lt;/I&gt;,
                  &lt;I&gt;i&lt;/I&gt;=0,1,...,&lt;I&gt;n&lt;/I&gt;-1.
                  &lt;BR&gt;Index 2&lt;I&gt;i&lt;/I&gt;+3 -- Value of parameter &lt;I&gt;i&lt;/I&gt;,
                  &lt;I&gt;i&lt;/I&gt;=0,1,...,&lt;I&gt;n&lt;/I&gt;-1.
                  &lt;BR&gt;Parameters are arranged in ascending order of parameter name.                
                <serial>
                                        
                </serial>
            </javadoc>
            <declaration name="myStringValue" type="String" line="102"/>
            <javadoc line="102">
                String value for this MIME type. Computed when needed and cached.                
            </javadoc>
            <declaration name="myEntrySet" type="ParameterMapEntrySet" line="107"/>
            <javadoc line="107">
                Parameter map entry set. Computed when needed and cached.                
            </javadoc>
            <declaration name="myParameterMap" type="ParameterMap" line="112"/>
            <javadoc line="112">
                Parameter map. Computed when needed and cached.                
            </javadoc>
            <class name="ParameterMapEntry" line="117">
                <implements interface="Map.Entry"/>
                <javadoc line="117">
                    Parameter map entry.                    
                </javadoc>
                <declaration name="myIndex" type="int" line="121"/>
                <method name="ParameterMapEntry" type="constructor" line="122">
                    <params>
                        <param name="theIndex" type="int"/>
                    </params>
                </method>
                <method name="getKey" type="Object" line="125"/>
                <method name="getValue" type="Object" line="128"/>
                <method name="setValue" type="Object" line="131">
                    <params>
                        <param name="value" type="Object"/>
                    </params>
                </method>
                <method name="equals" type="boolean" line="134">
                    <params>
                        <param name="o" type="Object"/>
                    </params>
                </method>
                <method name="hashCode" type="int" line="140"/>
            </class>
            <class name="ParameterMapEntrySetIterator" line="145">
                <implements interface="Iterator"/>
                <javadoc line="145">
                    Parameter map entry set iterator.                    
                </javadoc>
                <declaration name="myIndex" type="int" line="149"/>
                <method name="hasNext" type="boolean" line="150"/>
                <method name="next" type="Object" line="153">
                    <scope line="154">
                        <declaration name="result" type="ParameterMapEntry" line="155"/>
                    </scope>
                    <scope line="158"/>
                </method>
                <method name="remove" type="void" line="162"/>
            </class>
            <class name="ParameterMapEntrySet" line="167">
                <extends class="AbstractSet"/>
                <javadoc line="167">
                    Parameter map entry set.                    
                </javadoc>
                <method name="iterator" type="Iterator" line="171"/>
                <method name="size" type="int" line="174"/>
            </class>
            <class name="ParameterMap" line="179">
                <extends class="AbstractMap"/>
                <javadoc line="179">
                    Parameter map.                    
                </javadoc>
                <method name="entrySet" type="Set" line="183">
                    <scope line="184"/>
                </method>
            </class>
            <javadoc line="191">
                Construct a new MIME type object from the given string. The given
                  string is converted into canonical form and stored internally.                
                <param>
                    s  MIME media type string.                    
                </param>
                <exception>
                    NullPointerException(unchecked exception) Thrown if <CODE>s</CODE> is null.                    
                </exception>
                <exception>
                    IllegalArgumentException(unchecked exception) Thrown if <CODE>s</CODE> does not obey the
                      syntax for a MIME media type string.                    
                </exception>
            </javadoc>
            <method name="MimeType" type="constructor" line="203">
                <params>
                    <param name="s" type="String"/>
                </params>
            </method>
            <javadoc line="207">
                Returns this MIME type object&apos;s MIME type string based on the canonical
                  form. Each parameter value is enclosed in quotes.                
            </javadoc>
            <method name="getMimeType" type="String" line="211"/>
            <javadoc line="215">
                Returns this MIME type object&apos;s media type.                
            </javadoc>
            <method name="getMediaType" type="String" line="218"/>
            <javadoc line="222">
                Returns this MIME type object&apos;s media subtype.                
            </javadoc>
            <method name="getMediaSubtype" type="String" line="225"/>
            <javadoc line="229">
                Returns an unmodifiable map view of the parameters in this MIME type
                  object. Each entry in the parameter map view consists of a parameter
                  name String (key) mapping to a parameter value String. If this MIME
                  type object has no parameters, an empty map is returned.                
                <return>
                    Parameter map for this MIME type object.                    
                </return>
            </javadoc>
            <method name="getParameterMap" type="Map" line="237">
                <scope line="238"/>
            </method>
            <javadoc line="244">
                Converts this MIME type object to a string.                
                <return>
                    MIME type string based on the canonical form. Each parameter
                      value is enclosed in quotes.                    
                </return>
            </javadoc>
            <method name="toString" type="String" line="250"/>
            <javadoc line="254">
                Returns a hash code for this MIME type object.                
            </javadoc>
            <method name="hashCode" type="int" line="257"/>
            <javadoc line="261">
                Determine if this MIME type object is equal to the given object. The two
                  are equal if the given object is not null, is an instance of class
                  net.jini.print.data.MimeType, and has the same canonical form as this
                  MIME type object (that is, has the same type, subtype, and parameters).
                  Thus, if two MIME type objects are the same except for comments, they are
                  considered equal. However, &quot;text/plain&quot; and &quot;text/plain;
                  charset=us-ascii&quot; are not considered equal, even though they represent
                  the same media type (because the default character set for plain text is
                  US-ASCII).                
                <param>
                    obj  Object to test.                    
                </param>
                <return>
                    True if this MIME type object equals <CODE>obj</CODE>, false
                      otherwise.                    
                </return>
            </javadoc>
            <method name="equals" type="boolean" line="277">
                <params>
                    <param name="obj" type="Object"/>
                </params>
            </method>
            <javadoc line="283">
                Returns this MIME type&apos;s string value in canonical form.                
            </javadoc>
            <method name="getStringValue" type="String" line="286">
                <scope line="287">
                    <declaration name="result" type="StringBuffer" line="288"/>
                    <declaration name="n" type="int" line="292"/>
                    <scope line="293"/>
                </scope>
            </method>
            <declaration name="TOKEN_LEXEME" type="int" line="309"/>
            <declaration name="QUOTED_STRING_LEXEME" type="int" line="310"/>
            <declaration name="TSPECIAL_LEXEME" type="int" line="311"/>
            <declaration name="EOF_LEXEME" type="int" line="312"/>
            <declaration name="ILLEGAL_LEXEME" type="int" line="313"/>
            <class name="LexicalAnalyzer" line="316">
                <declaration name="mySource" type="String" line="317"/>
                <declaration name="mySourceLength" type="int" line="318"/>
                <declaration name="myCurrentIndex" type="int" line="319"/>
                <declaration name="myLexemeType" type="int" line="320"/>
                <declaration name="myLexemeBeginIndex" type="int" line="321"/>
                <declaration name="myLexemeEndIndex" type="int" line="322"/>
                <method name="LexicalAnalyzer" type="constructor" line="324">
                    <params>
                        <param name="theSource" type="String"/>
                    </params>
                </method>
                <method name="getLexemeType" type="int" line="331"/>
                <method name="getLexeme" type="String" line="335"/>
                <method name="getLexemeFirstCharacter" type="char" line="341"/>
                <method name="nextLexeme" type="void" line="347">
                    <comment line="354">
                        Looking for a token, quoted string, or tspecial                        
                    </comment>
                    <comment line="386">
                        In a quoted string                        
                    </comment>
                    <comment line="402">
                        In a quoted string, backslash seen                        
                    </comment>
                    <comment line="413">
                        In a comment                        
                    </comment>
                    <comment line="430">
                        In a comment, backslash seen                        
                    </comment>
                    <comment line="442">
                        In a token                        
                    </comment>
                    <declaration name="state" type="int" line="348"/>
                    <declaration name="commentLevel" type="int" line="349"/>
                    <declaration name="c" type="char" line="350"/>
                    <scope line="351">
                        <scope line="355"/>
                        <scope line="361"/>
                        <scope line="363"/>
                        <scope line="367"/>
                        <scope line="374"/>
                        <scope line="379"/>
                        <scope line="387"/>
                        <scope line="392"/>
                        <scope line="395"/>
                        <scope line="397"/>
                        <scope line="403"/>
                        <scope line="408"/>
                        <scope line="413"/>
                        <scope line="418"/>
                        <scope line="421"/>
                        <scope line="424"/>
                        <scope line="426"/>
                        <scope line="431"/>
                        <scope line="436"/>
                        <scope line="443"/>
                        <scope line="447"/>
                        <scope line="454"/>
                        <scope line="458"/>
                    </scope>
                </method>
            </class>
            <javadoc line="469">
                Returns a lowercase version of the given string. The lowercase version
                  is constructed by applying Character.toLowerCase() to each character of
                  the given string, which maps characters to lowercase using the rules of
                  Unicode. This mapping is the same regardless of locale, whereas the
                  mapping of String.toLowerCase() may be different depending on the
                  default locale.                
            </javadoc>
            <method name="toUnicodeLowerCase" type="String" line="477">
                <params>
                    <param name="s" type="String"/>
                </params>
                <declaration name="n" type="int" line="478"/>
                <declaration name="result" type="char[]" line="479"/>
                <scope line="480"/>
            </method>
            <javadoc line="486">
                Returns a version of the given string with backslashes removed.                
            </javadoc>
            <method name="removeBackslashes" type="String" line="489">
                <params>
                    <param name="s" type="String"/>
                </params>
                <declaration name="n" type="int" line="490"/>
                <declaration name="result" type="char[]" line="491"/>
                <declaration name="i" type="int" line="492"/>
                <declaration name="j" type="int" line="493"/>
                <declaration name="c" type="char" line="494"/>
                <scope line="495">
                    <scope line="497"/>
                </scope>
            </method>
            <javadoc line="505">
                Returns a version of the string surrounded by quotes and with interior
                  quotes preceded by a backslash.                
            </javadoc>
            <method name="addQuotes" type="String" line="509">
                <params>
                    <param name="s" type="String"/>
                </params>
                <declaration name="n" type="int" line="510"/>
                <declaration name="i" type="int" line="511"/>
                <declaration name="c" type="char" line="512"/>
                <declaration name="result" type="StringBuffer" line="513"/>
                <scope line="515">
                    <scope line="517"/>
                </scope>
            </method>
            <javadoc line="526">
                Parses the given string into canonical pieces and stores the pieces in{@link #myPieces &lt;CODE&gt;myPieces&lt;/CODE&gt;}.
                  &lt;P&gt;
                  Special rules applied:
                  &lt;UL&gt;
                  &lt;LI&gt; If the media type is text, the value of a charset parameter is
                  converted to lowercase.
                  &lt;/UL&gt;                
                <param>
                    s  MIME media type string.                    
                </param>
                <exception>
                    NullPointerException(unchecked exception) Thrown if <CODE>s</CODE> is null.                    
                </exception>
                <exception>
                    IllegalArgumentException(unchecked exception) Thrown if <CODE>s</CODE> does not obey the
                      syntax for a MIME media type string.                    
                </exception>
            </javadoc>
            <method name="parse" type="void" line="544">
                <params>
                    <param name="s" type="String"/>
                </params>
                <comment line="546">
                    Initialize.                    
                </comment>
                <comment line="556">
                    Parse media type.                    
                </comment>
                <comment line="565">
                    Parse slash.                    
                </comment>
                <comment line="578">
                    Parse zero or more parameters.                    
                </comment>
                <comment line="581">
                    Parse semicolon.                    
                </comment>
                <comment line="584">
                    Parse parameter name.                    
                </comment>
                <comment line="594">
                    Parse equals.                    
                </comment>
                <comment line="602">
                    Parse parameter value.                    
                </comment>
                <comment line="620">
                    Make sure we&apos;ve consumed everything.                    
                </comment>
                <comment line="625">
                    Save the pieces. Parameters are not in ascending order yet.                    
                </comment>
                <comment line="629">
                    Sort the parameters into ascending order using an insertion sort.                    
                </comment>
                <scope line="546"/>
                <declaration name="theLexer" type="LexicalAnalyzer" line="549"/>
                <declaration name="theLexemeType" type="int" line="550"/>
                <declaration name="thePieces" type="Vector" line="551"/>
                <declaration name="mediaTypeIsText" type="boolean" line="552"/>
                <declaration name="parameterNameIsCharset" type="boolean" line="553"/>
                <scope line="556">
                    <declaration name="mt" type="String" line="557"/>
                </scope>
                <scope line="561"/>
                <scope line="566"/>
                <scope line="568"/>
                <scope line="571"/>
                <scope line="574"/>
                <scope line="579">
                    <scope line="584">
                        <declaration name="pn" type="String" line="585"/>
                    </scope>
                    <scope line="589"/>
                    <scope line="595"/>
                    <scope line="597"/>
                    <scope line="602">
                        <declaration name="pv" type="String" line="603"/>
                    </scope>
                    <scope line="608">
                        <declaration name="pv" type="String" line="609"/>
                    </scope>
                    <scope line="614"/>
                </scope>
                <scope line="620"/>
                <declaration name="n" type="int" line="625"/>
                <declaration name="i" type="int" line="629"/>
                <declaration name="temp" type="String" line="630"/>
                <scope line="631">
                    <scope line="633"/>
                    <scope line="636"/>
                </scope>
            </method>
        </class>
    </source>