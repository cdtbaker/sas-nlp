<?xml version="1.0" encoding="UTF-8"?>
    <source package="javax.sound.sampled">
        <import package="java.io.InputStream"/>
        <import package="java.io.PushbackInputStream"/>
        <import package="java.io.IOException"/>
        <class name="AudioInputStream" line="33">
            <extends class="InputStream"/>
            <javadoc line="33">
                An audio input stream is an input stream with a specified audio format and
                  length.  The length is expressed in sample frames, not bytes.
                  Several methods are provided for reading a certain number of bytes from
                  the stream, or an unspecified number of bytes.
                  The audio input stream keeps track  of the last byte that was read.
                  You can skip over an arbitrary number of bytes to get to a later position
                  for reading. An audio input stream may support marks.  When you set a mark,
                  the current position is remembered so that you can return to it later.
                  &lt;p&gt;
                  The &lt;code&gt;AudioSystem&lt;/code&gt; class includes many methods that manipulate
                  &lt;code&gt;AudioInputStream&lt;/code&gt; objects.
                  For example, the methods let you:
                  &lt;ul&gt;
                  &lt;li&gt; obtain an
                  audio input stream from an external audio file, stream, or URL
                  &lt;li&gt; write an external file from an audio input stream
                  &lt;li&gt; convert an audio input stream to a different audio format
                  &lt;/ul&gt;                
                <author>
                    David Rivas                    
                </author>
                <author>
                    Kara Kytle                    
                </author>
                <author>
                    Florian Bomers                    
                </author>
                <see>
                    AudioSystem                    
                </see>
                <see>
                    Clip#open(AudioInputStream) Clip.open(AudioInputStream)                    
                </see>
                <since>
                    1.3                    
                </since>
            </javadoc>
            <declaration name="stream" type="InputStream" line="63"/>
            <javadoc line="63">
                The &lt;code&gt;InputStream&lt;/code&gt; from which this &lt;code&gt;AudioInputStream&lt;/code&gt;
                  object was constructed.                
            </javadoc>
            <declaration name="format" type="AudioFormat" line="69"/>
            <javadoc line="69">
                The format of the audio data contained in the stream.                
            </javadoc>
            <declaration name="frameLength" type="long" line="74"/>
            <javadoc line="74">
                This stream&apos;s length, in sample frames.                
            </javadoc>
            <declaration name="frameSize" type="int" line="79"/>
            <javadoc line="79">
                The size of each frame, in bytes.                
            </javadoc>
            <declaration name="framePos" type="long" line="84"/>
            <javadoc line="84">
                The current position in this stream, in sample frames (zero-based).                
            </javadoc>
            <declaration name="markpos" type="long" line="89"/>
            <javadoc line="89">
                The position where a mark was set.                
            </javadoc>
            <declaration name="pushBackBuffer" type="byte[]" line="94"/>
            <javadoc line="94">
                When the underlying stream could only return
                  a non-integral number of frames, store
                  the remainder in a temporary buffer                
            </javadoc>
            <declaration name="pushBackLen" type="int" line="101"/>
            <javadoc line="101">
                number of valid bytes in the pushBackBuffer                
            </javadoc>
            <declaration name="markPushBackBuffer" type="byte[]" line="106"/>
            <javadoc line="106">
                MarkBuffer at mark position                
            </javadoc>
            <declaration name="markPushBackLen" type="int" line="111"/>
            <javadoc line="111">
                number of valid bytes in the markPushBackBuffer                
            </javadoc>
            <javadoc line="117">
                Constructs an audio input stream that has the requested format and length in sample frames,
                  using audio data from the specified input stream.                
                <param>
                    stream the stream on which this <code>AudioInputStream</code>
                      object is based                    
                </param>
                <param>
                    format the format of this stream's audio data                    
                </param>
                <param>
                    length the length in sample frames of the data in this stream                    
                </param>
            </javadoc>
            <method name="AudioInputStream" type="constructor" line="125">
                <params>
                    <param name="stream" type="InputStream"/>
                    <param name="format" type="AudioFormat"/>
                    <param name="length" type="long"/>
                </params>
                <comment line="134">
                    any frameSize that is not well-defined will
                     cause that this stream will be read in bytes                    
                </comment>
                <scope line="135"/>
            </method>
            <javadoc line="145">
                Constructs an audio input stream that reads its data from the target
                  data line indicated.  The format of the stream is the same as that of
                  the target data line, and the length is AudioSystem#NOT_SPECIFIED.                
                <param>
                    line the target data line from which this stream obtains its data.                    
                </param>
                <see>
                    AudioSystem#NOT_SPECIFIED                    
                </see>
            </javadoc>
            <method name="AudioInputStream" type="constructor" line="152">
                <params>
                    <param name="line" type="TargetDataLine"/>
                </params>
                <declaration name="tstream" type="TargetDataLineInputStream" line="154"/>
                <scope line="159"/>
            </method>
            <javadoc line="168">
                Obtains the audio format of the sound data in this audio input stream.                
                <return>
                    an audio format object describing this stream's format                    
                </return>
            </javadoc>
            <method name="getFormat" type="AudioFormat" line="172"/>
            <javadoc line="177">
                Obtains the length of the stream, expressed in sample frames rather than bytes.                
                <return>
                    the length in sample frames                    
                </return>
            </javadoc>
            <method name="getFrameLength" type="long" line="181"/>
            <javadoc line="186">
                Reads the next byte of data from the audio input stream.  The audio input
                  stream&apos;s frame size must be one byte, or an &lt;code&gt;IOException&lt;/code&gt;
                  will be thrown.                
                <return>
                    the next byte of data, or -1 if the end of the stream is reached                    
                </return>
                <throws>
                    IOException if an input or output error occurs                    
                </throws>
                <see>
                    #read(byte[],int,int)                    
                </see>
                <see>
                    #read(byte[])                    
                </see>
                <see>
                    #available<p>                    
                </see>
            </javadoc>
            <method name="read" type="int" line="198">
                <comment line="207">
                    we have a weird situation if read(byte[]) returns 0!                    
                </comment>
                <scope line="199"/>
                <declaration name="data" type="byte[]" line="203"/>
                <declaration name="temp" type="int" line="204"/>
                <scope line="205"/>
            </method>
            <javadoc line="213">
                Reads some number of bytes from the audio input stream and stores them into
                  the buffer array &lt;code&gt;b&lt;/code&gt;. The number of bytes actually read is
                  returned as an integer. This method blocks until input data is
                  available, the end of the stream is detected, or an exception is thrown.
                  &lt;p&gt;This method will always read an integral number of frames.
                  If the length of the array is not an integral number
                  of frames, a maximum of &lt;code&gt;b.length - (b.length % frameSize)
                  &lt;/code&gt; bytes will be read.                
                <param>
                    b the buffer into which the data is read                    
                </param>
                <return>
                    the total number of bytes read into the buffer, or -1 if there
                      is no more data because the end of the stream has been reached                    
                </return>
                <throws>
                    IOException if an input or output error occurs                    
                </throws>
                <see>
                    #read(byte[],int,int)                    
                </see>
                <see>
                    #read()                    
                </see>
                <see>
                    #available                    
                </see>
            </javadoc>
            <method name="read" type="int" line="231">
                <params>
                    <param name="b" type="byte[]"/>
                </params>
            </method>
            <javadoc line="236">
                Reads up to a specified maximum number of bytes of data from the audio
                  stream, putting them into the given byte array.
                  &lt;p&gt;This method will always read an integral number of frames.
                  If &lt;code&gt;len&lt;/code&gt; does not specify an integral number
                  of frames, a maximum of &lt;code&gt;len - (len % frameSize)
                  &lt;/code&gt; bytes will be read.                
                <param>
                    b the buffer into which the data is read                    
                </param>
                <param>
                    off the offset, from the beginning of array <code>b</code>, at which
                      the data will be written                    
                </param>
                <param>
                    len the maximum number of bytes to read                    
                </param>
                <return>
                    the total number of bytes read into the buffer, or -1 if there
                      is no more data because the end of the stream has been reached                    
                </return>
                <throws>
                    IOException if an input or output error occurs                    
                </throws>
                <see>
                    #read(byte[])                    
                </see>
                <see>
                    #read()                    
                </see>
                <see>
                    #skip                    
                </see>
                <see>
                    #available                    
                </see>
            </javadoc>
            <method name="read" type="int" line="256">
                <params>
                    <param name="b" type="byte[]"/>
                    <param name="off" type="int"/>
                    <param name="len" type="int"/>
                </params>
                <comment line="259">
                    make sure we don&apos;t read fractions of a frame.                    
                </comment>
                <comment line="272">
                    don&apos;t try to read beyond our own set length in frames                    
                </comment>
                <comment line="282">
                    if we&apos;ve bytes left from last call to read(),
                     use them first                    
                </comment>
                <comment line="303">
                    copy everything we got from the beginning of the frame
                     to our pushback buffer                    
                </comment>
                <comment line="312">
                    make sure to update our framePos                    
                </comment>
                <scope line="259">
                    <scope line="261"/>
                </scope>
                <scope line="266">
                    <scope line="267"/>
                    <scope line="269">
                        <scope line="272"/>
                    </scope>
                </scope>
                <declaration name="bytesRead" type="int" line="278"/>
                <declaration name="thisOff" type="int" line="279"/>
                <scope line="283"/>
                <declaration name="thisBytesRead" type="int" line="292"/>
                <scope line="293"/>
                <scope line="296"/>
                <scope line="299">
                    <scope line="301">
                        <scope line="304"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="318">
                Skips over and discards a specified number of bytes from this
                  audio input stream.                
                <param>
                    n the requested number of bytes to be skipped                    
                </param>
                <return>
                    the actual number of bytes skipped                    
                </return>
                <throws>
                    IOException if an input or output error occurs                    
                </throws>
                <see>
                    #read                    
                </see>
                <see>
                    #available                    
                </see>
            </javadoc>
            <method name="skip" type="long" line="327">
                <params>
                    <param name="n" type="long"/>
                </params>
                <comment line="330">
                    make sure not to skip fractional frames                    
                </comment>
                <comment line="336">
                    don&apos;t skip more than our set length in frames.                    
                </comment>
                <comment line="343">
                    if no error, update our position.                    
                </comment>
                <comment line="346">
                    Throw an IOException if we&apos;ve skipped a fractional number of frames                    
                </comment>
                <scope line="330"/>
                <scope line="334">
                    <scope line="336"/>
                </scope>
                <declaration name="temp" type="long" line="340"/>
                <scope line="343"/>
                <scope line="348"/>
            </method>
            <javadoc line="356">
                Returns the maximum number of bytes that can be read (or skipped over) from this
                  audio input stream without blocking.  This limit applies only to the next invocation of
                  a &lt;code&gt;read&lt;/code&gt; or &lt;code&gt;skip&lt;/code&gt; method for this audio input stream; the limit
                  can vary each time these methods are invoked.
                  Depending on the underlying stream,an IOException may be thrown if this
                  stream is closed.                
                <return>
                    the number of bytes that can be read from this audio input stream without blocking                    
                </return>
                <throws>
                    IOException if an input or output error occurs                    
                </throws>
                <see>
                    #read(byte[],int,int)                    
                </see>
                <see>
                    #read(byte[])                    
                </see>
                <see>
                    #read()                    
                </see>
                <see>
                    #skip                    
                </see>
            </javadoc>
            <method name="available" type="int" line="370">
                <comment line="375">
                    don&apos;t return greater than our set length in frames                    
                </comment>
                <declaration name="temp" type="int" line="372"/>
                <scope line="375"/>
                <scope line="377"/>
            </method>
            <javadoc line="383">
                Closes this audio input stream and releases any system resources associated
                  with the stream.                
                <throws>
                    IOException if an input or output error occurs                    
                </throws>
            </javadoc>
            <method name="close" type="void" line="388"/>
            <javadoc line="393">
                Marks the current position in this audio input stream.                
                <param>
                    readlimit the maximum number of bytes that can be read before
                      the mark position becomes invalid.                    
                </param>
                <see>
                    #reset                    
                </see>
                <see>
                    #markSupported                    
                </see>
            </javadoc>
            <method name="mark" type="void" line="401">
                <params>
                    <param name="readlimit" type="int"/>
                </params>
                <comment line="407">
                    remember the pushback buffer                    
                </comment>
                <scope line="404">
                    <scope line="408">
                        <scope line="409"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="418">
                Repositions this audio input stream to the position it had at the time its
                  &lt;code&gt;mark&lt;/code&gt; method was last invoked.                
                <throws>
                    IOException if an input or output error occurs.                    
                </throws>
                <see>
                    #mark                    
                </see>
                <see>
                    #markSupported                    
                </see>
            </javadoc>
            <method name="reset" type="void" line="425">
                <comment line="430">
                    re-create the pushback buffer                    
                </comment>
                <scope line="431">
                    <scope line="432"/>
                </scope>
            </method>
            <javadoc line="440">
                Tests whether this audio input stream supports the &lt;code&gt;mark&lt;/code&gt; and
                  &lt;code&gt;reset&lt;/code&gt; methods.                
                <return>
                    <code>true</code> if this stream supports the <code>mark</code>
                      and <code>reset</code> methods; <code>false</code> otherwise                    
                </return>
                <see>
                    #mark                    
                </see>
                <see>
                    #reset                    
                </see>
            </javadoc>
            <method name="markSupported" type="boolean" line="448"/>
            <class name="TargetDataLineInputStream" line="454">
                <extends class="InputStream"/>
                <comment line="476">
                    $$fb 2001-07-16: added this method to correctly close the underlying TargetDataLine.
                     fixes bug 4479984                    
                </comment>
                <javadoc line="454">
                    Private inner class that makes a TargetDataLine look like an InputStream.                    
                </javadoc>
                <declaration name="line" type="TargetDataLine" line="459"/>
                <javadoc line="459">
                    The TargetDataLine on which this TargetDataLineInputStream is based.                    
                </javadoc>
                <method name="TargetDataLineInputStream" type="constructor" line="465">
                    <params>
                        <param name="line" type="TargetDataLine"/>
                    </params>
                </method>
                <method name="available" type="int" line="471"/>
                <method name="close" type="void" line="477">
                    <comment line="479">
                        the line needs to be flushed and stopped to avoid a dead lock...
                         Probably related to bugs 4417527, 4334868, 4383457                        
                    </comment>
                    <scope line="480"/>
                </method>
                <method name="read" type="int" line="487">
                    <declaration name="b" type="byte[]" line="489"/>
                    <declaration name="value" type="int" line="491"/>
                    <scope line="493"/>
                    <scope line="499"/>
                </method>
                <method name="read" type="int" line="507">
                    <params>
                        <param name="b" type="byte[]"/>
                        <param name="off" type="int"/>
                        <param name="len" type="int"/>
                    </params>
                    <scope line="508"/>
                    <scope line="510"/>
                </method>
            </class>
        </class>
    </source>