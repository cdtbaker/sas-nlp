<?xml version="1.0" encoding="UTF-8"?>
    <source package="javax.management.loading">
        <import package="com.sun.jmx.defaults.JmxProperties"/>
        <import package="com.sun.jmx.defaults.ServiceName"/>
        <import package="com.sun.jmx.remote.util.EnvHelp"/>
        <import package="java.io.Externalizable"/>
        <import package="java.io.File"/>
        <import package="java.io.FileOutputStream"/>
        <import package="java.io.IOException"/>
        <import package="java.io.InputStream"/>
        <import package="java.io.ObjectInput"/>
        <import package="java.io.ObjectInputStream"/>
        <import package="java.io.ObjectOutput"/>
        <import package="java.lang.reflect.Constructor"/>
        <import package="java.net.MalformedURLException"/>
        <import package="java.net.URL"/>
        <import package="java.net.URLStreamHandlerFactory"/>
        <import package="java.security.AccessController"/>
        <import package="java.security.PrivilegedAction"/>
        <import package="java.util.ArrayList"/>
        <import package="java.util.Arrays"/>
        <import package="java.util.HashMap"/>
        <import package="java.util.HashSet"/>
        <import package="java.util.List"/>
        <import package="java.util.logging.Level"/>
        <import package="java.util.Map"/>
        <import package="java.util.Set"/>
        <import package="java.util.StringTokenizer"/>
        <import package="javax.management.InstanceAlreadyExistsException"/>
        <import package="javax.management.InstanceNotFoundException"/>
        <import package="javax.management.MBeanException"/>
        <import package="javax.management.MBeanRegistration"/>
        <import package="javax.management.MBeanRegistrationException"/>
        <import package="javax.management.MBeanServer"/>
        <import package="javax.management.NotCompliantMBeanException"/>
        <import package="javax.management.ObjectInstance"/>
        <import package="javax.management.ObjectName"/>
        <import package="javax.management.ReflectionException"/>
        <import package="com.sun.jmx.defaults.JmxProperties.MLET_LIB_DIR"/>
        <import package="com.sun.jmx.defaults.JmxProperties.MLET_LOGGER"/>
        <import package="com.sun.jmx.defaults.ServiceName"/>
        <import package="javax.management.ServiceNotFoundException"/>
        <class name="MLet" line="75">
            <extends class="java.net.URLClassLoader"/>
            <comment line="176">
                ------------------------------------------
                   PRIVATE VARIABLES
                 ------------------------------------------                
            </comment>
            <comment line="245">
                ------------------------------------------
                  CONSTRUCTORS
                 ------------------------------------------                
            </comment>
            <comment line="251">
                The constructor stuff would be considerably simplified if our
                 parent, URLClassLoader, specified that its one- and
                 two-argument constructors were equivalent to its
                 three-argument constructor with trailing null arguments.  But
                 it doesn&apos;t, which prevents us from having all the constructors
                 but one call this(...args...).                
            </comment>
            <comment line="388">
                ------------------------------------------
                  PUBLIC METHODS
                 ------------------------------------------                
            </comment>
            <comment line="865">
                ------------------------------------------
                  PACKAGE METHODS
                 ------------------------------------------                
            </comment>
            <comment line="900">
                ------------------------------------------
                  PROTECTED METHODS
                 ------------------------------------------                
            </comment>
            <comment line="1109">
                ------------------------------------------
                  PRIVATE METHODS
                 ------------------------------------------                
            </comment>
            <implements interface="MLetMBean"/>
            <implements interface="MBeanRegistration"/>
            <implements interface="Externalizable"/>
            <javadoc line="75">
                Allows you to instantiate and register one or several MBeans in the MBean server
                  coming from a remote URL. M-let is a shortcut for management applet. The m-let service does this
                  by loading an m-let text file, which specifies information on the MBeans to be obtained.
                  The information on each MBean is specified in a single instance of a tag, called the MLET tag.
                  The location of the m-let text file is specified by a URL.
                  &lt;p&gt;
                  The &lt;CODE&gt;MLET&lt;/CODE&gt; tag has the following syntax:
                  &lt;p&gt;
                  &amp;lt;&lt;CODE&gt;MLET&lt;/CODE&gt;&lt;BR&gt;
                  &lt;CODE&gt;CODE = &lt;/CODE&gt;&lt;VAR&gt;class&lt;/VAR&gt;&lt;CODE&gt; | OBJECT = &lt;/CODE&gt;&lt;VAR&gt;serfile&lt;/VAR&gt;&lt;BR&gt;
                  &lt;CODE&gt;ARCHIVE = &amp;quot;&lt;/CODE&gt;&lt;VAR&gt;archiveList&lt;/VAR&gt;&lt;CODE&gt;&amp;quot;&lt;/CODE&gt;&lt;BR&gt;
                  &lt;CODE&gt;[CODEBASE = &lt;/CODE&gt;&lt;VAR&gt;codebaseURL&lt;/VAR&gt;&lt;CODE&gt;]&lt;/CODE&gt;&lt;BR&gt;
                  &lt;CODE&gt;[NAME = &lt;/CODE&gt;&lt;VAR&gt;mbeanname&lt;/VAR&gt;&lt;CODE&gt;]&lt;/CODE&gt;&lt;BR&gt;
                  &lt;CODE&gt;[VERSION = &lt;/CODE&gt;&lt;VAR&gt;version&lt;/VAR&gt;&lt;CODE&gt;]&lt;/CODE&gt;&lt;BR&gt;
                  &amp;gt;&lt;BR&gt;
                  &lt;CODE&gt;[&lt;/CODE&gt;&lt;VAR&gt;arglist&lt;/VAR&gt;&lt;CODE&gt;]&lt;/CODE&gt;&lt;BR&gt;
                  &amp;lt;&lt;CODE&gt;/MLET&lt;/CODE&gt;&amp;gt;
                  &lt;p&gt;
                  where:
                  &lt;DL&gt;
                  &lt;DT&gt;&lt;CODE&gt;CODE = &lt;/CODE&gt;&lt;VAR&gt;class&lt;/VAR&gt;&lt;/DT&gt;
                  &lt;DD&gt;
                  This attribute specifies the full Java class name, including package name, of the MBean to be obtained.
                  The compiled &lt;CODE&gt;.class&lt;/CODE&gt; file of the MBean must be contained in one of the &lt;CODE&gt;.jar&lt;/CODE&gt; files specified by the &lt;CODE&gt;ARCHIVE&lt;/CODE&gt;
                  attribute. Either &lt;CODE&gt;CODE&lt;/CODE&gt; or &lt;CODE&gt;OBJECT&lt;/CODE&gt; must be present.
                  &lt;/DD&gt;
                  &lt;DT&gt;&lt;CODE&gt;OBJECT = &lt;/CODE&gt;&lt;VAR&gt;serfile&lt;/VAR&gt;&lt;/DT&gt;
                  &lt;DD&gt;
                  This attribute specifies the &lt;CODE&gt;.ser&lt;/CODE&gt; file that contains a serialized representation of the MBean to be obtained.
                  This file must be contained in one of the &lt;CODE&gt;.jar&lt;/CODE&gt; files specified by the &lt;CODE&gt;ARCHIVE&lt;/CODE&gt; attribute. If the &lt;CODE&gt;.jar&lt;/CODE&gt; file contains a directory hierarchy, specify the path of the file within this hierarchy. Otherwise  a match will not be found. Either &lt;CODE&gt;CODE&lt;/CODE&gt; or &lt;CODE&gt;OBJECT&lt;/CODE&gt; must be present.
                  &lt;/DD&gt;
                  &lt;DT&gt;&lt;CODE&gt;ARCHIVE = &amp;quot;&lt;/CODE&gt;&lt;VAR&gt;archiveList&lt;/VAR&gt;&lt;CODE&gt;&amp;quot;&lt;/CODE&gt;&lt;/DT&gt;
                  &lt;DD&gt;
                  This mandatory attribute specifies one or more &lt;CODE&gt;.jar&lt;/CODE&gt; files
                  containing MBeans or other resources used by
                  the MBean to be obtained. One of the &lt;CODE&gt;.jar&lt;/CODE&gt; files must contain the file specified by the &lt;CODE&gt;CODE&lt;/CODE&gt; or &lt;CODE&gt;OBJECT&lt;/CODE&gt; attribute.
                  If archivelist contains more than one file:
                  &lt;UL&gt;
                  &lt;LI&gt;Each file must be separated from the one that follows it by a comma (,).
                  &lt;LI&gt;&lt;VAR&gt;archivelist&lt;/VAR&gt; must be enclosed in double quote marks.
                  &lt;/UL&gt;
                  All &lt;CODE&gt;.jar&lt;/CODE&gt; files in &lt;VAR&gt;archivelist&lt;/VAR&gt; must be stored in the directory specified by the code base URL.
                  &lt;/DD&gt;
                  &lt;DT&gt;&lt;CODE&gt;CODEBASE = &lt;/CODE&gt;&lt;VAR&gt;codebaseURL&lt;/VAR&gt;&lt;/DT&gt;
                  &lt;DD&gt;
                  This optional attribute specifies the code base URL of the MBean to be obtained. It identifies the directory that contains
                  the &lt;CODE&gt;.jar&lt;/CODE&gt; files specified by the &lt;CODE&gt;ARCHIVE&lt;/CODE&gt; attribute. Specify this attribute only if the &lt;CODE&gt;.jar&lt;/CODE&gt; files are not in the same
                  directory as the m-let text file. If this attribute is not specified, the base URL of the m-let text file is used.
                  &lt;/DD&gt;
                  &lt;DT&gt;&lt;CODE&gt;NAME = &lt;/CODE&gt;&lt;VAR&gt;mbeanname&lt;/VAR&gt;&lt;/DT&gt;
                  &lt;DD&gt;
                  This optional attribute specifies the object name to be assigned to the
                  MBean instance when the m-let service registers it. If
                  &lt;VAR&gt;mbeanname&lt;/VAR&gt; starts with the colon character (:), the domain
                  part of the object name is the default domain of the MBean server,
                  as returned by {@link javax.management.MBeanServer#getDefaultDomain()}.
                  &lt;/DD&gt;
                  &lt;DT&gt;&lt;CODE&gt;VERSION = &lt;/CODE&gt;&lt;VAR&gt;version&lt;/VAR&gt;&lt;/DT&gt;
                  &lt;DD&gt;
                  This optional attribute specifies the version number of the MBean and
                  associated &lt;CODE&gt;.jar&lt;/CODE&gt; files to be obtained. This version number can
                  be used to specify that the &lt;CODE&gt;.jar&lt;/CODE&gt; files are loaded from the
                  server to update those stored locally in the cache the next time the m-let
                  text file is loaded. &lt;VAR&gt;version&lt;/VAR&gt; must be a series of non-negative
                  decimal integers each separated by a period from the one that precedes it.
                  &lt;/DD&gt;
                  &lt;DT&gt;&lt;VAR&gt;arglist&lt;/VAR&gt;&lt;/DT&gt;
                  &lt;DD&gt;
                  This optional attribute specifies a list of one or more parameters for the
                  MBean to be instantiated. This list describes the parameters to be passed the MBean&apos;s constructor.
                  Use the following syntax to specify each item in
                  &lt;VAR&gt;arglist&lt;/VAR&gt;:&lt;/DD&gt;
                  &lt;DL&gt;
                  &lt;P&gt;
                  &lt;DT&gt;&amp;lt;&lt;CODE&gt;ARG TYPE=&lt;/CODE&gt;&lt;VAR&gt;argumentType&lt;/VAR&gt; &lt;CODE&gt;VALUE=&lt;/CODE&gt;&lt;VAR&gt;value&lt;/VAR&gt;&amp;gt;&lt;/DT&gt;
                  &lt;P&gt;
                  &lt;DD&gt;where:&lt;/DD&gt;
                  &lt;UL&gt;
                  &lt;LI&gt;&lt;VAR&gt;argumentType&lt;/VAR&gt; is the type of the argument that will be passed as parameter to the MBean&apos;s constructor.&lt;/UL&gt;
                  &lt;/DL&gt;
                  &lt;P&gt;The arguments&apos; type in the argument list should be a Java primitive type or a Java basic type
                  (&lt;CODE&gt;java.lang.Boolean, java.lang.Byte, java.lang.Short, java.lang.Long, java.lang.Integer, java.lang.Float, java.lang.Double, java.lang.String&lt;/CODE&gt;).
                  &lt;/DL&gt;
                  When an m-let text file is loaded, an
                  instance of each MBean specified in the file is created and registered.
                  &lt;P&gt;
                  The m-let service extends the &lt;CODE&gt;java.net.URLClassLoader&lt;/CODE&gt; and can be used to load remote classes
                  and jar files in the VM of the agent.
                  &lt;p&gt;&lt;STRONG&gt;Note - &lt;/STRONG&gt; The &lt;CODE&gt;MLet&lt;/CODE&gt; class loader uses the {@link javax.management.MBeanServerFactory#getClassLoaderRepository(javax.management.MBeanServer)}to load classes that could not be found in the loaded jar files.                
                <since>
                    1.5                    
                </since>
            </javadoc>
            <declaration name="serialVersionUID" type="long" line="173"/>
            <declaration name="server" type="MBeanServer" line="181"/>
            <javadoc line="181">
                The reference to the MBean server.                
                <serial>
                                        
                </serial>
            </javadoc>
            <declaration name="mletList" type="List&lt;MLetContent&gt;" line="188"/>
            <javadoc line="188">
                The list of instances of the &lt;CODE&gt;MLetContent&lt;/CODE&gt;
                  class found at the specified URL.                
                <serial>
                                        
                </serial>
            </javadoc>
            <declaration name="libraryDirectory" type="String" line="196"/>
            <javadoc line="196">
                The directory used for storing libraries locally before they are loaded.                
            </javadoc>
            <declaration name="mletObjectName" type="ObjectName" line="202"/>
            <javadoc line="202">
                The object name of the MLet Service.                
                <serial>
                                        
                </serial>
            </javadoc>
            <declaration name="myUrls" type="URL[]" line="208"/>
            <javadoc line="208">
                The URLs of the MLet Service.                
                <serial>
                                        
                </serial>
            </javadoc>
            <declaration name="currentClr" type="ClassLoaderRepository" line="214"/>
            <javadoc line="214">
                What ClassLoaderRepository, if any, to use if this MLet
                  doesn&apos;t find an asked-for class.                
            </javadoc>
            <declaration name="delegateToCLR" type="boolean" line="220"/>
            <javadoc line="220">
                True if we should consult the {@link ClassLoaderRepository}when we do not find a class ourselves.                
            </javadoc>
            <declaration name="primitiveClasses" type="Map&lt;String,Class&lt;?&gt;&gt;" line="226"/>
            <javadoc line="226">
                objects maps from primitive classes to primitive object classes.                
            </javadoc>
            <scope line="231"/>
            <javadoc line="259">
                Constructs a new MLet using the default delegation parent ClassLoader.                
            </javadoc>
            <method name="MLet" type="constructor" line="262"/>
            <javadoc line="266">
                Constructs a new MLet for the specified URLs using the default
                  delegation parent ClassLoader.  The URLs will be searched in
                  the order specified for classes and resources after first
                  searching in the parent class loader.                
                <param>
                    urls  The URLs from which to load classes and resources.                    
                </param>
            </javadoc>
            <method name="MLet" type="constructor" line="275">
                <params>
                    <param name="urls" type="URL[]"/>
                </params>
            </method>
            <javadoc line="279">
                Constructs a new MLet for the given URLs. The URLs will be
                  searched in the order specified for classes and resources
                  after first searching in the specified parent class loader.
                  The parent argument will be used as the parent class loader
                  for delegation.                
                <param>
                    urls  The URLs from which to load classes and resources.                    
                </param>
                <param>
                    parent The parent class loader for delegation.                    
                </param>
            </javadoc>
            <method name="MLet" type="constructor" line="290">
                <params>
                    <param name="urls" type="URL[]"/>
                    <param name="parent" type="ClassLoader"/>
                </params>
            </method>
            <javadoc line="294">
                Constructs a new MLet for the specified URLs, parent class
                  loader, and URLStreamHandlerFactory. The parent argument will
                  be used as the parent class loader for delegation. The factory
                  argument will be used as the stream handler factory to obtain
                  protocol handlers when creating new URLs.                
                <param>
                    urls  The URLs from which to load classes and resources.                    
                </param>
                <param>
                    parent The parent class loader for delegation.                    
                </param>
                <param>
                    factory  The URLStreamHandlerFactory to use when creating URLs.                    
                </param>
            </javadoc>
            <method name="MLet" type="constructor" line="308">
                <params>
                    <param name="urls" type="URL[]"/>
                    <param name="parent" type="ClassLoader"/>
                    <param name="factory" type="URLStreamHandlerFactory"/>
                </params>
            </method>
            <javadoc line="312">
                Constructs a new MLet for the specified URLs using the default
                  delegation parent ClassLoader.  The URLs will be searched in
                  the order specified for classes and resources after first
                  searching in the parent class loader.                
                <param>
                    urls  The URLs from which to load classes and resources.                    
                </param>
                <param>
                    delegateToCLR  True if, when a class is not found in
                      either the parent ClassLoader or the URLs, the MLet should delegate
                      to its containing MBeanServer's {@link ClassLoaderRepository}.                    
                </param>
            </javadoc>
            <method name="MLet" type="constructor" line="324">
                <params>
                    <param name="urls" type="URL[]"/>
                    <param name="delegateToCLR" type="boolean"/>
                </params>
            </method>
            <javadoc line="329">
                Constructs a new MLet for the given URLs. The URLs will be
                  searched in the order specified for classes and resources
                  after first searching in the specified parent class loader.
                  The parent argument will be used as the parent class loader
                  for delegation.                
                <param>
                    urls  The URLs from which to load classes and resources.                    
                </param>
                <param>
                    parent The parent class loader for delegation.                    
                </param>
                <param>
                    delegateToCLR  True if, when a class is not found in
                      either the parent ClassLoader or the URLs, the MLet should delegate
                      to its containing MBeanServer's {@link ClassLoaderRepository}.                    
                </param>
            </javadoc>
            <method name="MLet" type="constructor" line="343">
                <params>
                    <param name="urls" type="URL[]"/>
                    <param name="parent" type="ClassLoader"/>
                    <param name="delegateToCLR" type="boolean"/>
                </params>
            </method>
            <javadoc line="348">
                Constructs a new MLet for the specified URLs, parent class
                  loader, and URLStreamHandlerFactory. The parent argument will
                  be used as the parent class loader for delegation. The factory
                  argument will be used as the stream handler factory to obtain
                  protocol handlers when creating new URLs.                
                <param>
                    urls  The URLs from which to load classes and resources.                    
                </param>
                <param>
                    parent The parent class loader for delegation.                    
                </param>
                <param>
                    factory  The URLStreamHandlerFactory to use when creating URLs.                    
                </param>
                <param>
                    delegateToCLR  True if, when a class is not found in
                      either the parent ClassLoader or the URLs, the MLet should delegate
                      to its containing MBeanServer's {@link ClassLoaderRepository}.                    
                </param>
            </javadoc>
            <method name="MLet" type="constructor" line="366">
                <params>
                    <param name="urls" type="URL[]"/>
                    <param name="parent" type="ClassLoader"/>
                    <param name="factory" type="URLStreamHandlerFactory"/>
                    <param name="delegateToCLR" type="boolean"/>
                </params>
            </method>
            <method name="init" type="void" line="371">
                <params>
                    <param name="delegateToCLR" type="boolean"/>
                </params>
                <comment line="380">
                    OK : We don&apos;t do AccessController.doPrivileged, but we don&apos;t
                          stop the user from creating an MLet just because they
                          can&apos;t read the MLET_LIB_DIR or java.io.tmpdir properties
                          either.                    
                </comment>
                <scope line="374"/>
                <scope line="378"/>
            </method>
            <javadoc line="394">
                Appends the specified URL to the list of URLs to search for classes and
                  resources.                
            </javadoc>
            <method name="addURL" type="void" line="398">
                <params>
                    <param name="url" type="URL"/>
                </params>
            </method>
            <javadoc line="403">
                Appends the specified URL to the list of URLs to search for classes and
                  resources.                
                <exception>
                    ServiceNotFoundException The specified URL is malformed.                    
                </exception>
            </javadoc>
            <method name="addURL" type="void" line="408">
                <params>
                    <param name="url" type="String"/>
                </params>
                <scope line="409">
                    <declaration name="ur" type="URL" line="410"/>
                </scope>
                <scope line="413">
                    <scope line="414"/>
                </scope>
            </method>
            <javadoc line="423">
                Returns the search path of URLs for loading classes and resources.
                  This includes the original list of URLs specified to the constructor,
                  along with any URLs subsequently appended by the addURL() method.                
            </javadoc>
            <method name="getURLs" type="URL[]" line="427"/>
            <javadoc line="431">
                Loads a text file containing MLET tags that define the MBeans to
                  be added to the MBean server. The location of the text file is specified by
                  a URL. The MBeans specified in the MLET file will be instantiated and
                  registered in the MBean server.                
                <param>
                    url The URL of the text file to be loaded as URL object.                    
                </param>
                <return>
                    A set containing one entry per MLET tag in the m-let text file loaded.
                      Each entry specifies either the ObjectInstance for the created MBean, or a throwable object
                      (that is, an error or an exception) if the MBean could not be created.                    
                </return>
                <exception>
                    ServiceNotFoundException One of the following errors has occurred: The m-let text file does
                      not contain an MLET tag, the m-let text file is not found, a mandatory
                      attribute of the MLET tag is not specified, the value of url is
                      null.                    
                </exception>
                <exception>
                    IllegalStateException MLet MBean is not registered with an MBeanServer.                    
                </exception>
            </javadoc>
            <method name="getMBeansFromURL" type="Set<Object>" line="450">
                <params>
                    <param name="url" type="URL"/>
                </params>
                <scope line="451"/>
            </method>
            <javadoc line="457">
                Loads a text file containing MLET tags that define the MBeans to
                  be added to the MBean server. The location of the text file is specified by
                  a URL. The MBeans specified in the MLET file will be instantiated and
                  registered in the MBean server.                
                <param>
                    url The URL of the text file to be loaded as String object.                    
                </param>
                <return>
                    A set containing one entry per MLET tag in the m-let
                      text file loaded.  Each entry specifies either the
                      ObjectInstance for the created MBean, or a throwable object
                      (that is, an error or an exception) if the MBean could not be
                      created.                    
                </return>
                <exception>
                    ServiceNotFoundException One of the following
                      errors has occurred: The m-let text file does not contain an
                      MLET tag, the m-let text file is not found, a mandatory
                      attribute of the MLET tag is not specified, the url is
                      malformed.                    
                </exception>
                <exception>
                    IllegalStateException MLet MBean is not registered
                      with an MBeanServer.                    
                </exception>
            </javadoc>
            <method name="getMBeansFromURL" type="Set<Object>" line="481">
                <params>
                    <param name="url" type="String"/>
                </params>
                <comment line="490">
                    Parse arguments                    
                </comment>
                <comment line="503">
                    Parse URL                    
                </comment>
                <comment line="515">
                    Check that the list of MLets is not empty                    
                </comment>
                <comment line="523">
                    Walk through the list of MLets                    
                </comment>
                <comment line="526">
                    Initialize local variables                    
                </comment>
                <comment line="540">
                    Display debug information                    
                </comment>
                <comment line="555">
                    Load classes from JAR files                    
                </comment>
                <comment line="564">
                    Check which is the codebase to be used for loading the jar file.
                     If we are using the base MLet implementation then it will be
                     always the remote server but if the service has been extended in
                     order to support caching and versioning then this method will
                     return the appropriate one.                    
                </comment>
                <comment line="579">
                    Appends the specified JAR file URL to the list of
                     URLs to search for classes and resources.                    
                </comment>
                <comment line="587">
                    OK : Ignore jar file if its name provokes the
                     URL to be an invalid one.                    
                </comment>
                <comment line="592">
                    Instantiate the class specified in the
                     CODE or OBJECT section of the MLet tag                    
                </comment>
                <declaration name="mth" type="String" line="483"/>
                <scope line="485"/>
                <scope line="490"/>
                <scope line="494"/>
                <scope line="497"/>
                <scope line="503">
                    <declaration name="parser" type="MLetParser" line="504"/>
                </scope>
                <scope line="506">
                    <declaration name="msg" type="String" line="507"/>
                </scope>
                <scope line="515">
                    <declaration name="msg" type="String" line="516"/>
                </scope>
                <declaration name="mbeans" type="Set&lt;Object&gt;" line="523"/>
                <scope line="524">
                    <declaration name="code" type="String" line="526"/>
                    <scope line="527">
                        <scope line="528"/>
                    </scope>
                    <declaration name="name" type="String" line="532"/>
                    <declaration name="codebase" type="URL" line="533"/>
                    <declaration name="version" type="String" line="534"/>
                    <declaration name="serName" type="String" line="535"/>
                    <declaration name="jarFiles" type="String" line="536"/>
                    <declaration name="documentBase" type="URL" line="537"/>
                    <scope line="540">
                        <declaration name="strb" type="StringBuilder" line="541"/>
                    </scope>
                    <declaration name="st" type="StringTokenizer" line="555"/>
                    <scope line="556">
                        <declaration name="tok" type="String" line="557"/>
                        <scope line="558"/>
                        <scope line="569"/>
                        <scope line="571"/>
                        <scope line="580">
                            <scope line="582"/>
                        </scope>
                        <scope line="585"/>
                    </scope>
                    <declaration name="o" type="Object" line="594"/>
                    <declaration name="objInst" type="ObjectInstance" line="595"/>
                    <scope line="597">
                        <declaration name="msg" type="String" line="598"/>
                    </scope>
                    <scope line="605">
                        <declaration name="msg" type="String" line="606"/>
                    </scope>
                    <scope line="613">
                        <scope line="614">
                            <declaration name="signat" type="List&lt;String&gt;" line="616"/>
                            <declaration name="stringPars" type="List&lt;String&gt;" line="617"/>
                            <declaration name="objectPars" type="List&lt;Object&gt;" line="618"/>
                            <scope line="620"/>
                            <scope line="624">
                                <scope line="625"/>
                                <scope line="628"/>
                            </scope>
                            <scope line="633">
                                <declaration name="parms" type="Object[]" line="634"/>
                                <declaration name="signature" type="String[]" line="635"/>
                                <scope line="637">
                                    <declaration name="strb" type="StringBuilder" line="638"/>
                                    <scope line="639"/>
                                </scope>
                                <scope line="649"/>
                                <scope line="653"/>
                            </scope>
                        </scope>
                        <scope line="660">
                            <scope line="662"/>
                            <scope line="664"/>
                        </scope>
                    </scope>
                    <scope line="669"/>
                    <scope line="674"/>
                    <scope line="679"/>
                    <scope line="684"/>
                    <scope line="689"/>
                    <scope line="694"/>
                    <scope line="699"/>
                    <scope line="704"/>
                    <scope line="709"/>
                    <scope line="714"/>
                </scope>
            </method>
            <javadoc line="725">
                Gets the current directory used by the library loader for
                  storing native libraries before they are loaded into memory.                
                <return>
                    The current directory used by the library loader.                    
                </return>
                <see>
                    #setLibraryDirectory                    
                </see>
                <throws>
                    UnsupportedOperationException if this implementation
                      does not support storing native libraries in this way.                    
                </throws>
            </javadoc>
            <method name="getLibraryDirectory" type="String" line="736"/>
            <javadoc line="740">
                Sets the directory used by the library loader for storing
                  native libraries before they are loaded into memory.                
                <param>
                    libdir The directory used by the library loader.                    
                </param>
                <see>
                    #getLibraryDirectory                    
                </see>
                <throws>
                    UnsupportedOperationException if this implementation
                      does not support storing native libraries in this way.                    
                </throws>
            </javadoc>
            <method name="setLibraryDirectory" type="void" line="751">
                <params>
                    <param name="libdir" type="String"/>
                </params>
            </method>
            <javadoc line="755">
                Allows the m-let to perform any operations it needs before
                  being registered in the MBean server. If the ObjectName is
                  null, the m-let provides a default name for its registration
                  &amp;lt;defaultDomain&amp;gt;:type=MLet                
                <param>
                    server The MBean server in which the m-let will be registered.                    
                </param>
                <param>
                    name The object name of the m-let.                    
                </param>
                <return>
                    The name of the m-let registered.                    
                </return>
                <exception>
                    java.lang.Exception This exception should be caught by the MBean server and re-thrown
                      as an MBeanRegistrationException.                    
                </exception>
            </javadoc>
            <method name="preRegister" type="ObjectName" line="770">
                <params>
                    <param name="server" type="MBeanServer"/>
                    <param name="name" type="ObjectName"/>
                </params>
                <comment line="773">
                    Initialize local pointer to the MBean server                    
                </comment>
                <comment line="776">
                    If no name is specified return a default name for the MLet                    
                </comment>
                <scope line="776"/>
            </method>
            <javadoc line="784">
                Allows the m-let to perform any operations needed after having been
                  registered in the MBean server or after the registration has failed.                
                <param>
                    registrationDone Indicates whether or not the m-let has
                      been successfully registered in the MBean server. The value
                      false means that either the registration phase has failed.                    
                </param>
            </javadoc>
            <method name="postRegister" type="void" line="793">
                <params>
                    <param name="registrationDone" type="Boolean"/>
                </params>
            </method>
            <javadoc line="796">
                Allows the m-let to perform any operations it needs before being unregistered
                  by the MBean server.                
                <exception>
                    java.langException This exception should be caught
                      by the MBean server and re-thrown as an
                      MBeanRegistrationException.                    
                </exception>
            </javadoc>
            <method name="preDeregister" type="void" line="804"/>
            <javadoc line="808">
                Allows the m-let to perform any operations needed after having been
                  unregistered in the MBean server.                
            </javadoc>
            <method name="postDeregister" type="void" line="812"/>
            <javadoc line="815">
                &lt;p&gt;Save this MLet&apos;s contents to the given {@link ObjectOutput}.
                  Not all implementations support this method.  Those that do not
                  throw {@link UnsupportedOperationException}.  A subclass may
                  override this method to support it or to change the format of
                  the written data.&lt;/p&gt;
                  &lt;p&gt;The format of the written data is not specified, but if
                  an implementation supports {@link #writeExternal} it must
                  also support {@link #readExternal} in such a way that what is
                  written by the former can be read by the latter.&lt;/p&gt;                
                <param>
                    out The object output stream to write to.                    
                </param>
                <exception>
                    IOException If a problem occurred while writing.                    
                </exception>
                <exception>
                    UnsupportedOperationException If this
                      implementation does not support this operation.                    
                </exception>
            </javadoc>
            <method name="writeExternal" type="void" line="834">
                <params>
                    <param name="out" type="ObjectOutput"/>
                </params>
            </method>
            <javadoc line="838">
                &lt;p&gt;Restore this MLet&apos;s contents from the given {@link ObjectInput}.
                  Not all implementations support this method.  Those that do not
                  throw {@link UnsupportedOperationException}.  A subclass may
                  override this method to support it or to change the format of
                  the read data.&lt;/p&gt;
                  &lt;p&gt;The format of the read data is not specified, but if an
                  implementation supports {@link #readExternal} it must also
                  support {@link #writeExternal} in such a way that what is
                  written by the latter can be read by the former.&lt;/p&gt;                
                <param>
                    in The object input stream to read from.                    
                </param>
                <exception>
                    IOException if a problem occurred while reading.                    
                </exception>
                <exception>
                    ClassNotFoundException if the class for the object
                      being restored cannot be found.                    
                </exception>
                <exception>
                    UnsupportedOperationException if this
                      implementation does not support this operation.                    
                </exception>
            </javadoc>
            <method name="readExternal" type="void" line="860">
                <params>
                    <param name="in" type="ObjectInput"/>
                </params>
            </method>
            <javadoc line="870">
                &lt;p&gt;Load a class, using the given {@link ClassLoaderRepository} if
                  the class is not found in this MLet&apos;s URLs.  The given
                  ClassLoaderRepository can be null, in which case a {@link ClassNotFoundException} occurs immediately if the class is not
                  found in this MLet&apos;s URLs.&lt;/p&gt;                
                <param>
                    name The name of the class we want to load.                    
                </param>
                <param>
                    clr  The ClassLoaderRepository that will be used to search
                      for the given class, if it is not found in this
                      ClassLoader.  May be null.                    
                </param>
                <return>
                    The resulting Class object.                    
                </return>
                <exception>
                    ClassNotFoundException The specified class could not be
                      found in this ClassLoader nor in the given
                      ClassLoaderRepository.                    
                </exception>
            </javadoc>
            <method name="loadClass" type="Class<?>" line="889">
                <params>
                    <param name="name" type="String"/>
                    <param name="clr" type="ClassLoaderRepository"/>
                </params>
                <declaration name="before" type="ClassLoaderRepository" line="890"/>
                <scope line="891"/>
                <scope line="894"/>
            </method>
            <javadoc line="905">
                This is the main method for class loaders that is being redefined.                
                <param>
                    name The name of the class.                    
                </param>
                <return>
                    The resulting Class object.                    
                </return>
                <exception>
                    ClassNotFoundException The specified class could not be
                      found.                    
                </exception>
            </javadoc>
            <method name="findClass" type="Class<?>" line="915">
                <params>
                    <param name="name" type="String"/>
                </params>
                <comment line="917">
                    currentClr is context sensitive - used to avoid recursion
                    in the class loader repository.  (This is no longer
                    necessary with the new CLR semantics but is kept for
                    compatibility with code that might have called the                    
                </comment>
            </method>
            <javadoc line="924">
                Called by {@link MLet#findClass(java.lang.String)}.                
                <param>
                    name The name of the class that we want to load/find.                    
                </param>
                <param>
                    clr The ClassLoaderRepository that can be used to search
                      for the given class. This parameter is
                      <code>null</code> when called from within the{@link javax.management.MBeanServerFactory#getClassLoaderRepository(javax.management.MBeanServer) Class Loader Repository}.                    
                </param>
                <exception>
                    ClassNotFoundException The specified class could not be
                      found.                    
                </exception>
            </javadoc>
            <method name="findClass" type="Class<?>" line="937">
                <params>
                    <param name="name" type="String"/>
                    <param name="clr" type="ClassLoaderRepository"/>
                </params>
                <comment line="941">
                    Try looking in the JAR:                    
                </comment>
                <comment line="950">
                    Drop through                    
                </comment>
                <comment line="957">
                    if we are not called from the ClassLoaderRepository                    
                </comment>
                <comment line="959">
                    Try the classloader repository:                    
                </comment>
                <comment line="968">
                    The loadClassBefore method never returns null.
                     If the class is not found we get an exception.                    
                </comment>
                <comment line="977">
                    Drop through                    
                </comment>
                <declaration name="c" type="Class&lt;?&gt;" line="938"/>
                <scope line="941">
                    <scope line="943"/>
                </scope>
                <scope line="948">
                    <scope line="950"/>
                </scope>
                <scope line="957">
                    <scope line="960">
                        <scope line="961"/>
                        <scope line="969"/>
                    </scope>
                    <scope line="975">
                        <scope line="977"/>
                    </scope>
                </scope>
                <scope line="984"/>
            </method>
            <javadoc line="992">
                Returns the absolute path name of a native library. The VM
                  invokes this method to locate the native libraries that belong
                  to classes loaded with this class loader. Libraries are
                  searched in the JAR files using first just the native library
                  name and if not found the native library name together with
                  the architecture-specific path name
                  (&lt;code&gt;OSName/OSArch/OSVersion/lib/nativelibname&lt;/code&gt;), i.e.
                  &lt;p&gt;
                  the library stat on Solaris SPARC 5.7 will be searched in the JAR file as:
                  &lt;OL&gt;
                  &lt;LI&gt;libstat.so
                  &lt;LI&gt;SunOS/sparc/5.7/lib/libstat.so
                  &lt;/OL&gt;
                  the library stat on Windows NT 4.0 will be searched in the JAR file as:
                  &lt;OL&gt;
                  &lt;LI&gt;stat.dll
                  &lt;LI&gt;WindowsNT/x86/4.0/lib/stat.dll
                  &lt;/OL&gt;
                  &lt;p&gt;More specifically, let &lt;em&gt;{@code nativelibname}&lt;/em&gt; be the result of{@link System#mapLibraryName(java.lang.String)System.mapLibraryName}{@code (libname)}.  Then the following names are
                  searched in the JAR files, in order:&lt;br&gt;
                  &lt;em&gt;{@code nativelibname}&lt;/em&gt;&lt;br&gt;{@code &lt;os.name&gt;/&lt;os.arch&gt;/&lt;os.version&gt;/lib/}&lt;em&gt;{@code nativelibname}&lt;/em&gt;&lt;br&gt;
                  where {@code &lt;X&gt;} means {@code System.getProperty(X)} with any
                  spaces in the result removed, and {@code /} stands for the
                  file separator character ({@link File#separator}).
                  &lt;p&gt;
                  If this method returns &lt;code&gt;null&lt;/code&gt;, i.e. the libraries
                  were not found in any of the JAR files loaded with this class
                  loader, the VM searches the library along the path specified
                  as the &lt;code&gt;java.library.path&lt;/code&gt; property.                
                <param>
                    libname The library name.                    
                </param>
                <return>
                    The absolute path of the native library.                    
                </return>
            </javadoc>
            <method name="findLibrary" type="String" line="1031">
                <params>
                    <param name="libname" type="String"/>
                </params>
                <comment line="1037">
                    Get the platform-specific string representing a native library.                    
                </comment>
                <comment line="1041">
                    See if the native library is accessible as a resource through the JAR file.                    
                </comment>
                <comment line="1049">
                    First try to locate the library in the JAR file using only
                     the native library name.  e.g. if user requested a load
                     for &quot;foo&quot; on Solaris SPARC 5.7 we try to load &quot;libfoo.so&quot;
                     from the JAR file.                    
                </comment>
                <comment line="1067">
                    Next try to locate it using the native library name and
                     the architecture-specific path name.  e.g. if user
                     requested a load for &quot;foo&quot; on Solaris SPARC 5.7 we try to
                     load &quot;SunOS/sparc/5.7/lib/libfoo.so&quot; from the JAR file.                    
                </comment>
                <comment line="1090">
                    All paths exhausted, library not found in JAR file.                    
                </comment>
                <comment line="1102">
                    Let the VM search the library along the path
                     specified as the java.library.path property.                    
                </comment>
                <declaration name="abs_path" type="String" line="1033"/>
                <declaration name="mth" type="String" line="1034"/>
                <declaration name="nativelibname" type="String" line="1038"/>
                <scope line="1043"/>
                <scope line="1053"/>
                <scope line="1058">
                    <scope line="1059"/>
                </scope>
                <scope line="1075"/>
                <scope line="1081">
                    <scope line="1082"/>
                </scope>
                <scope line="1093"/>
            </method>
            <method name="getTmpDir" type="String" line="1114">
                <comment line="1116">
                    JDK 1.4                    
                </comment>
                <comment line="1120">
                    JDK &lt; 1.4                    
                </comment>
                <comment line="1123">
                    Try to guess the system temporary dir...                    
                </comment>
                <comment line="1134">
                    Cleanup ...                    
                </comment>
                <declaration name="tmpDir" type="String" line="1116"/>
                <declaration name="tmpFile" type="File" line="1120"/>
                <scope line="1121">
                    <declaration name="tmpDirFile" type="File" line="1125"/>
                </scope>
                <scope line="1128"/>
                <scope line="1132">
                    <scope line="1134">
                        <scope line="1135">
                            <declaration name="deleted" type="boolean" line="1136"/>
                            <scope line="1137"/>
                        </scope>
                        <scope line="1141"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="1149">
                Search the specified native library in any of the JAR files
                  loaded by this classloader.  If the library is found copy it
                  into the library directory and return the absolute path.  If
                  the library is not found then return null.                
            </javadoc>
            <method name="loadLibraryAsResource" type="String" line="1155">
                <params>
                    <param name="libname" type="String"/>
                </params>
                <scope line="1156">
                    <declaration name="is" type="InputStream" line="1157"/>
                    <scope line="1159">
                        <scope line="1160">
                            <declaration name="directory" type="File" line="1161"/>
                            <declaration name="file" type="File" line="1163"/>
                            <declaration name="fileOutput" type="FileOutputStream" line="1166"/>
                            <scope line="1167">
                                <declaration name="buf" type="byte[]" line="1168"/>
                                <declaration name="n" type="int" line="1169"/>
                                <scope line="1170"/>
                            </scope>
                            <scope line="1173"/>
                            <scope line="1176"/>
                        </scope>
                        <scope line="1179"/>
                    </scope>
                </scope>
                <scope line="1183"/>
            </method>
            <javadoc line="1192">
                Removes any white space from a string. This is used to
                  convert strings such as &quot;Windows NT&quot; to &quot;WindowsNT&quot;.                
            </javadoc>
            <method name="removeSpace" type="String" line="1196">
                <params>
                    <param name="s" type="String"/>
                </params>
            </method>
            <javadoc line="1200">
                &lt;p&gt;This method is to be overridden when extending this service to
                  support caching and versioning.  It is called from {@link #getMBeansFromURL getMBeansFromURL} when the version,
                  codebase, and jarfile have been extracted from the MLet file,
                  and can be used to verify that it is all right to load the
                  given MBean, or to replace the given URL with a different one.&lt;/p&gt;
                  &lt;p&gt;The default implementation of this method returns
                  &lt;code&gt;codebase&lt;/code&gt; unchanged.&lt;/p&gt;                
                <param>
                    version The version number of the <CODE>.jar</CODE>
                      file stored locally.                    
                </param>
                <param>
                    codebase The base URL of the remote <CODE>.jar</CODE> file.                    
                </param>
                <param>
                    jarfile The name of the <CODE>.jar</CODE> file to be loaded.                    
                </param>
                <param>
                    mlet The <CODE>MLetContent</CODE> instance that
                      represents the <CODE>MLET</CODE> tag.                    
                </param>
                <return>
                    the codebase to use for the loaded MBean.  The returned
                      value should not be null.                    
                </return>
                <exception>
                    Exception if the MBean is not to be loaded for some
                      reason.  The exception will be added to the set returned by{@link #getMBeansFromURL getMBeansFromURL}.                    
                </exception>
            </javadoc>
            <method name="check" type="URL" line="1228">
                <params>
                    <param name="version" type="String"/>
                    <param name="codebase" type="URL"/>
                    <param name="jarfile" type="String"/>
                    <param name="mlet" type="MLetContent"/>
                </params>
            </method>
            <javadoc line="1232">
                Loads the serialized object specified by the &lt;CODE&gt;OBJECT&lt;/CODE&gt;
                  attribute of the &lt;CODE&gt;MLET&lt;/CODE&gt; tag.                
                <param>
                    codebase The <CODE>codebase</CODE>.                    
                </param>
                <param>
                    filename The name of the file containing the serialized object.                    
                </param>
                <return>
                    The serialized object.                    
                </return>
                <exception>
                    ClassNotFoundException The specified serialized
                      object could not be found.                    
                </exception>
                <exception>
                    IOException An I/O error occurred while loading
                      serialized object.                    
                </exception>
            </javadoc>
            <method name="loadSerializedObject" type="Object" line="1245">
                <params>
                    <param name="codebase" type="URL"/>
                    <param name="filename" type="String"/>
                </params>
                <scope line="1246"/>
                <scope line="1249"/>
                <declaration name="is" type="InputStream" line="1253"/>
                <scope line="1254">
                    <scope line="1255">
                        <declaration name="ois" type="ObjectInputStream" line="1256"/>
                        <declaration name="serObject" type="Object" line="1257"/>
                    </scope>
                    <scope line="1260">
                        <scope line="1261"/>
                    </scope>
                    <scope line="1267">
                        <scope line="1268"/>
                    </scope>
                </scope>
                <scope line="1275">
                    <scope line="1276"/>
                </scope>
            </method>
            <javadoc line="1285">
                Converts the String value of the constructor&apos;s parameter to
                  a basic Java object with the type of the parameter.                
            </javadoc>
            <method name="constructParameter" type="Object" line="1289">
                <params>
                    <param name="param" type="String"/>
                    <param name="type" type="String"/>
                </params>
                <comment line="1291">
                    check if it is a primitive type                    
                </comment>
                <declaration name="c" type="Class&lt;?&gt;" line="1291"/>
                <scope line="1292">
                    <scope line="1293">
                        <declaration name="cons" type="Constructor&lt;?&gt;" line="1294"/>
                        <declaration name="oo" type="Object[]" line="1296"/>
                    </scope>
                    <scope line="1300"/>
                </scope>
            </method>
            <method name="setMBeanServer" type="void" line="1325">
                <params>
                    <param name="server" type="MBeanServer"/>
                </params>
                <anonymous_class line="1328">
                    <method name="run" type="ClassLoaderRepository" line="1329"/>
                </anonymous_class>
                <declaration name="act" type="PrivilegedAction&lt;ClassLoaderRepository&gt;" line="1327"/>
            </method>
        </class>
    </source>