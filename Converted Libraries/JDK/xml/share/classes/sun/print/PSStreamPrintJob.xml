<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.print">
        <import package="java.net.URL"/>
        <import package="java.io.InputStream"/>
        <import package="java.io.IOException"/>
        <import package="java.io.Reader"/>
        <import package="java.util.Vector"/>
        <import package="javax.print.CancelablePrintJob"/>
        <import package="javax.print.Doc"/>
        <import package="javax.print.DocFlavor"/>
        <import package="javax.print.DocPrintJob"/>
        <import package="javax.print.PrintService"/>
        <import package="javax.print.PrintException"/>
        <import package="javax.print.event.PrintJobEvent"/>
        <import package="javax.print.event.PrintJobListener"/>
        <import package="javax.print.event.PrintJobAttributeListener"/>
        <import package="javax.print.attribute.Attribute"/>
        <import package="javax.print.attribute.AttributeSet"/>
        <import package="javax.print.attribute.AttributeSetUtilities"/>
        <import package="javax.print.attribute.DocAttributeSet"/>
        <import package="javax.print.attribute.HashPrintJobAttributeSet"/>
        <import package="javax.print.attribute.HashPrintRequestAttributeSet"/>
        <import package="javax.print.attribute.PrintJobAttribute"/>
        <import package="javax.print.attribute.PrintJobAttributeSet"/>
        <import package="javax.print.attribute.PrintRequestAttribute"/>
        <import package="javax.print.attribute.PrintRequestAttributeSet"/>
        <import package="javax.print.attribute.standard.Copies"/>
        <import package="javax.print.attribute.standard.DocumentName"/>
        <import package="javax.print.attribute.standard.Fidelity"/>
        <import package="javax.print.attribute.standard.JobName"/>
        <import package="javax.print.attribute.standard.JobOriginatingUserName"/>
        <import package="javax.print.attribute.standard.Media"/>
        <import package="javax.print.attribute.standard.MediaSize"/>
        <import package="javax.print.attribute.standard.MediaSizeName"/>
        <import package="javax.print.attribute.standard.OrientationRequested"/>
        <import package="javax.print.attribute.standard.RequestingUserName"/>
        <import package="java.awt.print"/>
        <class name="PSStreamPrintJob" line="67">
            <comment line="82">
                these variables used globally to store reference to the print
                 data retrieved as a stream. On completion these are always closed
                 if non-null.                
            </comment>
            <comment line="89">
                                
            </comment>
            <comment line="139">
                Closes any stream already retrieved for the data.
                 We want to avoid unnecessarily asking the Doc to create a stream only
                 to get a reference in order to close it because the job failed.
                 If the representation class is itself a &quot;stream&quot;, this
                 closes that stream too.                
            </comment>
            <comment line="415">
                There&apos;s some inefficiency here as the job set is created even though
                 it may never be requested.                
            </comment>
            <comment line="538">
                                
            </comment>
            <implements interface="CancelablePrintJob"/>
            <declaration name="jobListeners" type="Vector" line="69"/>
            <declaration name="attrListeners" type="Vector" line="70"/>
            <declaration name="listenedAttributeSets" type="Vector" line="71"/>
            <declaration name="service" type="PSStreamPrintService" line="73"/>
            <declaration name="fidelity" type="boolean" line="74"/>
            <declaration name="printing" type="boolean" line="75"/>
            <declaration name="printReturned" type="boolean" line="76"/>
            <declaration name="reqAttrSet" type="PrintRequestAttributeSet" line="77"/>
            <declaration name="jobAttrSet" type="PrintJobAttributeSet" line="78"/>
            <declaration name="job" type="PrinterJob" line="79"/>
            <declaration name="doc" type="Doc" line="80"/>
            <declaration name="instream" type="InputStream" line="85"/>
            <declaration name="reader" type="Reader" line="86"/>
            <declaration name="jobName" type="String" line="89"/>
            <declaration name="copies" type="int" line="90"/>
            <declaration name="mediaSize" type="MediaSize" line="91"/>
            <declaration name="orient" type="OrientationRequested" line="92"/>
            <method name="PSStreamPrintJob" type="constructor" line="94">
                <params>
                    <param name="service" type="PSStreamPrintService"/>
                </params>
            </method>
            <method name="getPrintService" type="PrintService" line="98"/>
            <method name="getAttributes" type="PrintJobAttributeSet" line="102">
                <comment line="105">
                                        
                </comment>
                <scope line="103">
                    <scope line="104">
                        <declaration name="jobSet" type="PrintJobAttributeSet" line="106"/>
                    </scope>
                    <scope line="108"/>
                </scope>
            </method>
            <method name="addPrintJobListener" type="void" line="114">
                <params>
                    <param name="listener" type="PrintJobListener"/>
                </params>
                <scope line="115">
                    <scope line="116"/>
                    <scope line="119"/>
                </scope>
            </method>
            <method name="removePrintJobListener" type="void" line="126">
                <params>
                    <param name="listener" type="PrintJobListener"/>
                </params>
                <scope line="127">
                    <scope line="128"/>
                    <scope line="132"/>
                </scope>
            </method>
            <method name="closeDataStreams" type="void" line="144">
                <scope line="146"/>
                <declaration name="data" type="Object" line="150"/>
                <scope line="152"/>
                <scope line="154"/>
                <scope line="158">
                    <scope line="159"/>
                    <scope line="161"/>
                    <scope line="162"/>
                </scope>
                <scope line="166">
                    <scope line="167"/>
                    <scope line="169"/>
                    <scope line="170"/>
                </scope>
                <scope line="174">
                    <scope line="175"/>
                    <scope line="177"/>
                </scope>
                <scope line="180">
                    <scope line="181"/>
                    <scope line="183"/>
                </scope>
            </method>
            <method name="notifyEvent" type="void" line="188">
                <params>
                    <param name="reason" type="int"/>
                </params>
                <scope line="189">
                    <scope line="190">
                        <declaration name="listener" type="PrintJobListener" line="191"/>
                        <declaration name="event" type="PrintJobEvent" line="192"/>
                        <scope line="193"/>
                    </scope>
                </scope>
            </method>
            <method name="addPrintJobAttributeListener" type="void" line="227">
                <params>
                    <param name="listener" type="PrintJobAttributeListener"/>
                    <param name="attributes" type="PrintJobAttributeSet"/>
                </params>
                <scope line="228">
                    <scope line="229"/>
                    <scope line="232"/>
                    <scope line="237"/>
                </scope>
            </method>
            <method name="removePrintJobAttributeListener" type="void" line="245">
                <params>
                    <param name="listener" type="PrintJobAttributeListener"/>
                </params>
                <scope line="246">
                    <scope line="247"/>
                    <declaration name="index" type="int" line="250"/>
                    <scope line="251"/>
                    <scope line="253">
                        <scope line="256"/>
                    </scope>
                </scope>
            </method>
            <method name="print" type="void" line="265">
                <params>
                    <param name="doc" type="Doc"/>
                    <param name="attributes" type="PrintRequestAttributeSet"/>
                </params>
                <comment line="276">
                                        
                </comment>
                <scope line="267">
                    <scope line="268"/>
                    <scope line="270"/>
                </scope>
                <declaration name="flavor" type="DocFlavor" line="277"/>
                <declaration name="data" type="Object" line="278"/>
                <scope line="280"/>
                <scope line="282"/>
                <scope line="287"/>
                <declaration name="repClassName" type="String" line="296"/>
                <scope line="302">
                    <scope line="303"/>
                    <scope line="307"/>
                    <scope line="310"/>
                </scope>
                <scope line="316">
                    <scope line="317"/>
                    <scope line="320"/>
                </scope>
                <scope line="324">
                    <scope line="325"/>
                    <scope line="328"/>
                    <scope line="331"/>
                </scope>
                <scope line="335">
                    <scope line="336"/>
                    <scope line="339"/>
                    <scope line="342"/>
                </scope>
                <scope line="346"/>
            </method>
            <method name="printableJob" type="void" line="354">
                <params>
                    <param name="printable" type="Printable"/>
                    <param name="attributes" type="PrintRequestAttributeSet"/>
                </params>
                <comment line="357">
                    shouldn&apos;t happen                    
                </comment>
                <scope line="355">
                    <scope line="356">
                        <scope line="357"/>
                        <scope line="359"/>
                    </scope>
                    <declaration name="pf" type="PageFormat" line="364"/>
                    <scope line="365">
                        <declaration name="p" type="Paper" line="366"/>
                    </scope>
                    <scope line="373"/>
                    <scope line="375"/>
                </scope>
                <scope line="382"/>
                <scope line="385"/>
            </method>
            <method name="pageableJob" type="void" line="392">
                <params>
                    <param name="pageable" type="Pageable"/>
                    <param name="attributes" type="PrintRequestAttributeSet"/>
                </params>
                <comment line="395">
                    shouldn&apos;t happen                    
                </comment>
                <scope line="393">
                    <scope line="394">
                        <scope line="395"/>
                        <scope line="397"/>
                    </scope>
                </scope>
                <scope line="406"/>
                <scope line="409"/>
            </method>
            <method name="initializeAttributeSets" type="void" line="418">
                <params>
                    <param name="doc" type="Doc"/>
                    <param name="reqSet" type="PrintRequestAttributeSet"/>
                </params>
                <comment line="447">
                                        
                </comment>
                <comment line="468">
                    if no job name supplied use doc name (if supplied), if none and                    
                </comment>
                <declaration name="attrs" type="Attribute[]" line="423"/>
                <scope line="424">
                    <scope line="427">
                        <scope line="428"/>
                    </scope>
                </scope>
                <declaration name="docSet" type="DocAttributeSet" line="434"/>
                <scope line="435">
                    <scope line="437">
                        <scope line="438"/>
                        <scope line="441"/>
                    </scope>
                </scope>
                <declaration name="userName" type="String" line="448"/>
                <scope line="449"/>
                <scope line="451"/>
                <scope line="454">
                    <declaration name="ruName" type="RequestingUserName" line="455"/>
                    <scope line="457"/>
                    <scope line="461"/>
                </scope>
                <scope line="464"/>
                <scope line="470">
                    <declaration name="jobName" type="JobName" line="471"/>
                    <scope line="472">
                        <declaration name="docName" type="DocumentName" line="473"/>
                    </scope>
                    <scope line="477">
                        <declaration name="str" type="String" line="478"/>
                        <scope line="479">
                            <declaration name="printData" type="Object" line="480"/>
                            <scope line="481"/>
                        </scope>
                        <scope line="484"/>
                    </scope>
                </scope>
            </method>
            <method name="getAttributeValues" type="void" line="494">
                <params>
                    <param name="flavor" type="DocFlavor"/>
                </params>
                <declaration name="attr" type="Attribute" line="496"/>
                <declaration name="category" type="Class" line="497"/>
                <scope line="499"/>
                <scope line="501"/>
                <declaration name="attrs" type="Attribute[]" line="505"/>
                <scope line="506">
                    <scope line="509">
                        <scope line="510"/>
                        <scope line="515"/>
                    </scope>
                    <scope line="521"/>
                    <scope line="523"/>
                    <scope line="525">
                        <scope line="527"/>
                    </scope>
                    <scope line="531"/>
                </scope>
            </method>
            <method name="cancel" type="void" line="538">
                <scope line="539">
                    <scope line="540"/>
                    <scope line="542"/>
                    <scope line="546"/>
                </scope>
            </method>
        </class>
    </source>