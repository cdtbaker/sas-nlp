<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.print">
        <import package="java.util.Vector"/>
        <import package="javax.print.PrintService"/>
        <import package="javax.print.attribute.PrintServiceAttributeSet"/>
        <import package="javax.print.attribute.HashPrintServiceAttributeSet"/>
        <import package="javax.print.event.PrintServiceAttributeEvent"/>
        <import package="javax.print.event.PrintServiceAttributeListener"/>
        <class name="ServiceNotifier" line="43">
            <extends class="Thread"/>
            <comment line="89">
                If a service submits a job it may call this method which may prompt
                 immediate notification of listeners.                
            </comment>
            <comment line="99">
                A heuristic is used to calculate sleep time.
                 10 times the time taken to loop through all the listeners, with
                 a minimum of 15 seconds. Ensures this won&apos;t take more than 10%
                 of available time.                
            </comment>
            <declaration name="service" type="PrintService" line="45"/>
            <declaration name="listeners" type="Vector" line="46"/>
            <declaration name="stop" type="boolean" line="47"/>
            <declaration name="lastSet" type="PrintServiceAttributeSet" line="48"/>
            <method name="ServiceNotifier" type="constructor" line="50">
                <params>
                    <param name="service" type="PrintService"/>
                </params>
                <scope line="54"/>
                <scope line="58"/>
            </method>
            <method name="addListener" type="void" line="62">
                <params>
                    <param name="listener" type="PrintServiceAttributeListener"/>
                </params>
                <scope line="63">
                    <scope line="64"/>
                </scope>
            </method>
            <method name="removeListener" type="void" line="71">
                <params>
                    <param name="listener" type="PrintServiceAttributeListener"/>
                </params>
                <scope line="72">
                    <scope line="73"/>
                </scope>
            </method>
            <method name="isEmpty" type="boolean" line="80"/>
            <method name="stopNotifier" type="void" line="84"/>
            <method name="wake" type="void" line="91">
                <scope line="92"/>
                <scope line="94"/>
            </method>
            <method name="run" type="void" line="103">
                <declaration name="minSleepTime" type="long" line="105"/>
                <declaration name="sleepTime" type="long" line="106"/>
                <declaration name="attrs" type="HashPrintServiceAttributeSet" line="107"/>
                <declaration name="attrEvent" type="PrintServiceAttributeEvent" line="108"/>
                <declaration name="listener" type="PrintServiceAttributeListener" line="109"/>
                <declaration name="psa" type="PrintServiceAttributeSet" line="110"/>
                <scope line="112">
                    <scope line="113"/>
                    <scope line="115"/>
                    <scope line="117">
                        <scope line="118"/>
                        <declaration name="startTime" type="long" line="121"/>
                        <scope line="122">
                            <scope line="123"/>
                            <scope line="126"/>
                            <scope line="129">
                                <scope line="130"/>
                            </scope>
                        </scope>
                        <scope line="142"/>
                    </scope>
                </scope>
            </method>
        </class>
    </source>