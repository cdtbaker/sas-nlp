<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.font">
        <import package="java.awt.Font"/>
        <import package="java.awt.FontFormatException"/>
        <import package="java.awt.GraphicsEnvironment"/>
        <import package="java.awt.geom.Point2D"/>
        <import package="java.io.FileNotFoundException"/>
        <import package="java.io.IOException"/>
        <import package="java.io.RandomAccessFile"/>
        <import package="java.io.UnsupportedEncodingException"/>
        <import package="java.nio.ByteBuffer"/>
        <import package="java.nio.CharBuffer"/>
        <import package="java.nio.IntBuffer"/>
        <import package="java.nio.ShortBuffer"/>
        <import package="java.nio.channels.ClosedChannelException"/>
        <import package="java.nio.channels.FileChannel"/>
        <import package="java.util.HashMap"/>
        <import package="java.util.HashSet"/>
        <import package="java.util.Map"/>
        <import package="java.util.Locale"/>
        <import package="sun.java2d.Disposer"/>
        <import package="sun.java2d.DisposerRecord"/>
        <class name="TrueTypeFont" line="22">
            <extends class="FileFont"/>
            <javadoc line="22">
                TrueTypeFont is not called SFntFont because it is not expected
                  to handle all types that may be housed in a such a font file.
                  If additional types are supported later, it may make sense to
                  create an SFnt superclass. Eg to handle sfnt-housed postscript fonts.
                  OpenType fonts are handled by this class, and possibly should be
                  represented by a subclass.
                  An instance stores some information from the font file to faciliate
                  faster access. File size, the table directory and the names of the font
                  are the most important of these. It amounts to approx 400 bytes
                  for a typical font. Systems with mutiple locales sometimes have up to 400
                  font files, and an app which loads all font files would need around
                  160Kbytes. So storing any more info than this would be expensive.                
            </javadoc>
            <declaration name="cmapTag" type="int" line="37"/>
            <declaration name="glyfTag" type="int" line="38"/>
            <declaration name="headTag" type="int" line="39"/>
            <declaration name="hheaTag" type="int" line="40"/>
            <declaration name="hmtxTag" type="int" line="41"/>
            <declaration name="locaTag" type="int" line="42"/>
            <declaration name="maxpTag" type="int" line="43"/>
            <declaration name="nameTag" type="int" line="44"/>
            <declaration name="postTag" type="int" line="45"/>
            <declaration name="os_2Tag" type="int" line="46"/>
            <declaration name="GDEFTag" type="int" line="47"/>
            <declaration name="GPOSTag" type="int" line="48"/>
            <declaration name="GSUBTag" type="int" line="49"/>
            <declaration name="mortTag" type="int" line="50"/>
            <declaration name="fdscTag" type="int" line="51"/>
            <declaration name="fvarTag" type="int" line="52"/>
            <declaration name="featTag" type="int" line="53"/>
            <declaration name="EBLCTag" type="int" line="54"/>
            <declaration name="gaspTag" type="int" line="55"/>
            <declaration name="ttcfTag" type="int" line="56"/>
            <declaration name="v1ttTag" type="int" line="57"/>
            <declaration name="trueTag" type="int" line="58"/>
            <declaration name="ottoTag" type="int" line="59"/>
            <declaration name="MS_PLATFORM_ID" type="int" line="60"/>
            <declaration name="ENGLISH_LOCALE_ID" type="short" line="61"/>
            <declaration name="FAMILY_NAME_ID" type="int" line="62"/>
            <declaration name="FULL_NAME_ID" type="int" line="63"/>
            <declaration name="POSTSCRIPT_NAME_ID" type="int" line="64"/>
            <declaration name="US_LCID" type="short" line="65"/>
            <declaration name="lcidMap" type="Map&amp;lt;String,Short&amp;gt;" line="66"/>
            <class name="DirectoryEntry" line="67">
                <declaration name="tag" type="int" line="68"/>
                <declaration name="offset" type="int" line="69"/>
                <declaration name="length" type="int" line="70"/>
            </class>
            <class name="TTDisposerRecord" line="72">
                <implements interface="DisposerRecord"/>
                <declaration name="channel" type="FileChannel" line="73"/>
                <method name="dispose" type="void" line="74">
                    <scope line="75">
                        <scope line="76"/>
                    </scope>
                    <scope line="80"/>
                    <scope line="82"/>
                </method>
            </class>
            <declaration name="disposerRecord" type="TTDisposerRecord" line="87"/>
            <declaration name="fontIndex" type="int" line="88"/>
            <declaration name="directoryCount" type="int" line="89"/>
            <declaration name="directoryOffset" type="int" line="90"/>
            <declaration name="numTables" type="int" line="91"/>
            <declaration name="tableDirectory" type="DirectoryEntry[]" line="92"/>
            <declaration name="supportsJA" type="boolean" line="93"/>
            <declaration name="supportsCJK" type="boolean" line="94"/>
            <declaration name="nameLocale" type="Locale" line="95"/>
            <declaration name="localeFamilyName" type="String" line="96"/>
            <declaration name="localeFullName" type="String" line="97"/>
            <javadoc line="98">
                - does basic verification of the file
                  - reads the header table for this font (within a collection)
                  - reads the names (full, family).
                  - determines the style of the font.
                  - initializes the CMAP                
                <throws>
                    FontFormatException - if the font can&apos;t be opened
                      or fails verification,  or there&apos;s no usable cmap                    
                </throws>
            </javadoc>
            <method name="TrueTypeFont" type="constructor" line="107">
                <params>
                    <param name="platname" type="String"/>
                    <param name="nativeNames" type="Object"/>
                    <param name="fIndex" type="int"/>
                    <param name="javaRasterizer" type="boolean"/>
                </params>
                <scope line="111"/>
                <scope line="115">
                    <scope line="117"/>
                    <scope line="120"/>
                </scope>
            </method>
            <method name="checkUseNatives" type="boolean" line="126">
                <scope line="127"/>
                <scope line="130"/>
                <scope line="134">
                    <declaration name="name" type="String" line="135"/>
                    <scope line="136"/>
                    <scope line="140">
                        <scope line="142"/>
                        <scope line="146"/>
                    </scope>
                </scope>
                <scope line="151">
                    <declaration name="natNames" type="String[]" line="152"/>
                    <declaration name="numNames" type="int" line="153"/>
                    <declaration name="externalBitmaps" type="boolean" line="154"/>
                    <scope line="155">
                        <scope line="156"/>
                        <scope line="160"/>
                    </scope>
                    <scope line="164"/>
                    <scope line="170">
                        <scope line="171"/>
                        <scope line="174"/>
                    </scope>
                </scope>
                <scope line="180"/>
            </method>
            <method name="open" type="FileChannel" line="186">
                <scope line="187">
                    <scope line="188"/>
                    <scope line="191">
                        <anonymous_class line="192">
                            <method name="run" type="Object" line="193">
                                <scope line="194"/>
                                <scope line="197"/>
                            </method>
                        </anonymous_class>
                        <declaration name="raf" type="RandomAccessFile" line="192"/>
                        <declaration name="fm" type="FontManager" line="205"/>
                        <scope line="206"/>
                    </scope>
                    <scope line="210"/>
                    <scope line="214"/>
                    <scope line="219"/>
                </scope>
            </method>
            <method name="close" type="void" line="226"/>
            <method name="readBlock" type="int" line="229">
                <params>
                    <param name="buffer" type="ByteBuffer"/>
                    <param name="offset" type="int"/>
                    <param name="length" type="int"/>
                </params>
                <declaration name="bread" type="int" line="230"/>
                <scope line="231">
                    <scope line="232">
                        <scope line="233"/>
                        <scope line="236">
                            <scope line="237">
                                <scope line="238">
                                    <declaration name="msg" type="String" line="239"/>
                                </scope>
                            </scope>
                            <scope line="244"/>
                        </scope>
                        <scope line="250">
                            <declaration name="cnt" type="int" line="251"/>
                            <scope line="252">
                                <declaration name="msg" type="String" line="253"/>
                                <declaration name="currSize" type="int" line="254"/>
                                <scope line="255"/>
                                <scope line="258"/>
                                <scope line="261">
                                    <scope line="263"/>
                                </scope>
                                <scope line="268"/>
                            </scope>
                        </scope>
                        <scope line="276"/>
                    </scope>
                </scope>
                <scope line="281">
                    <scope line="282"/>
                </scope>
                <scope line="288"/>
                <scope line="293">
                    <scope line="294"/>
                    <scope line="297"/>
                </scope>
            </method>
            <method name="readBlock" type="ByteBuffer" line="304">
                <params>
                    <param name="offset" type="int"/>
                    <param name="length" type="int"/>
                </params>
                <declaration name="buffer" type="ByteBuffer" line="305"/>
                <scope line="306">
                    <scope line="307">
                        <scope line="308"/>
                        <scope line="311">
                            <scope line="312"/>
                            <scope line="315"/>
                        </scope>
                    </scope>
                </scope>
                <scope line="324"/>
                <scope line="327"/>
                <scope line="332"/>
            </method>
            <method name="readBytes" type="byte[]" line="337">
                <params>
                    <param name="offset" type="int"/>
                    <param name="length" type="int"/>
                </params>
                <declaration name="buffer" type="ByteBuffer" line="338"/>
                <scope line="339"/>
                <scope line="342">
                    <declaration name="bufferBytes" type="byte[]" line="343"/>
                </scope>
            </method>
            <method name="verify" type="void" line="348"/>
            <declaration name="TTCHEADERSIZE" type="int" line="351"/>
            <declaration name="DIRECTORYHEADERSIZE" type="int" line="352"/>
            <declaration name="DIRECTORYENTRYSIZE" type="int" line="353"/>
            <method name="init" type="void" line="354">
                <params>
                    <param name="fIndex" type="int"/>
                </params>
                <declaration name="headerOffset" type="int" line="355"/>
                <declaration name="buffer" type="ByteBuffer" line="356"/>
                <scope line="357">
                    <scope line="362"/>
                    <declaration name="bbuffer" type="ByteBuffer" line="379"/>
                    <declaration name="ibuffer" type="IntBuffer" line="380"/>
                    <declaration name="table" type="DirectoryEntry" line="381"/>
                    <scope line="383">
                        <scope line="389"/>
                    </scope>
                </scope>
                <scope line="395">
                    <scope line="396"/>
                    <scope line="399"/>
                    <scope line="402"/>
                </scope>
                <scope line="406"/>
                <declaration name="os2_Table" type="ByteBuffer" line="409"/>
            </method>
            <declaration name="encoding_mapping" type="String" line="413"/>
            <declaration name="languages" type="String" line="414"/>
            <declaration name="codePages" type="String" line="415"/>
            <declaration name="defaultCodePage" type="String" line="416"/>
            <method name="getCodePage" type="String" line="417">
                <scope line="418"/>
                <scope line="421"/>
                <scope line="424">
                    <scope line="425"/>
                    <declaration name="locale" type="Locale" line="428"/>
                    <declaration name="language" type="String" line="429"/>
                    <scope line="430">
                        <scope line="431">
                            <declaration name="country" type="String" line="432"/>
                            <scope line="433"/>
                        </scope>
                        <scope line="437">
                            <scope line="438">
                                <scope line="439"/>
                            </scope>
                        </scope>
                    </scope>
                </scope>
                <scope line="447"/>
            </method>
            <declaration name="reserved_bits1" type="int" line="452"/>
            <declaration name="reserved_bits2" type="int" line="453"/>
            <method name="supportsEncoding" type="boolean" line="454">
                <params>
                    <param name="encoding" type="String"/>
                </params>
                <scope line="455"/>
                <scope line="458"/>
                <scope line="462"/>
                <scope line="465"/>
                <declaration name="buffer" type="ByteBuffer" line="468"/>
                <scope line="469"/>
                <declaration name="range1" type="int" line="472"/>
                <declaration name="range2" type="int" line="473"/>
                <scope line="474">
                    <scope line="475">
                        <scope line="476"/>
                    </scope>
                </scope>
            </method>
            <method name="setCJKSupport" type="void" line="483">
                <params>
                    <param name="os2Table" type="ByteBuffer"/>
                </params>
                <scope line="484"/>
                <declaration name="range2" type="int" line="487"/>
            </method>
            <method name="supportsJA" type="boolean" line="491"/>
            <method name="getTableBuffer" type="ByteBuffer" line="494">
                <params>
                    <param name="tag" type="int"/>
                </params>
                <declaration name="entry" type="DirectoryEntry" line="495"/>
                <scope line="496">
                    <scope line="497"/>
                </scope>
                <scope line="502"/>
                <declaration name="bread" type="int" line="505"/>
                <declaration name="buffer" type="ByteBuffer" line="506"/>
                <scope line="507">
                    <scope line="508">
                        <scope line="509"/>
                    </scope>
                    <scope line="516"/>
                    <scope line="521"/>
                    <scope line="524"/>
                    <scope line="527"/>
                    <scope line="530"/>
                </scope>
            </method>
            <method name="getLayoutTableCache" type="long" line="535">
                <scope line="536"/>
                <scope line="539"/>
            </method>
            <method name="getTableBytes" type="byte[]" line="543">
                <params>
                    <param name="tag" type="int"/>
                </params>
                <declaration name="buffer" type="ByteBuffer" line="544"/>
                <scope line="545"/>
                <scope line="548">
                    <scope line="549"/>
                    <scope line="552"/>
                </scope>
                <declaration name="data" type="byte[]" line="555"/>
            </method>
            <method name="getTableSize" type="int" line="559">
                <params>
                    <param name="tag" type="int"/>
                </params>
                <scope line="560">
                    <scope line="561"/>
                </scope>
            </method>
            <method name="getTableOffset" type="int" line="567">
                <params>
                    <param name="tag" type="int"/>
                </params>
                <scope line="568">
                    <scope line="569"/>
                </scope>
            </method>
            <method name="getDirectoryEntry" type="DirectoryEntry" line="575">
                <params>
                    <param name="tag" type="int"/>
                </params>
                <scope line="576">
                    <scope line="577"/>
                </scope>
            </method>
            <method name="useEmbeddedBitmapsForSize" type="boolean" line="583">
                <params>
                    <param name="ptSize" type="int"/>
                </params>
                <scope line="584"/>
                <scope line="587"/>
                <declaration name="eblcTable" type="ByteBuffer" line="590"/>
                <declaration name="numSizes" type="int" line="591"/>
                <scope line="592">
                    <declaration name="ppemY" type="int" line="593"/>
                    <scope line="594"/>
                </scope>
            </method>
            <method name="getFullName" type="String" line="600"/>
            <method name="setStyle" type="void" line="603"/>
            <declaration name="fsSelectionItalicBit" type="int" line="606"/>
            <declaration name="fsSelectionBoldBit" type="int" line="607"/>
            <declaration name="fsSelectionRegularBit" type="int" line="608"/>
            <method name="setStyle" type="void" line="609">
                <params>
                    <param name="os_2Table" type="ByteBuffer"/>
                </params>
                <scope line="610"/>
                <declaration name="fsSelection" type="int" line="614"/>
                <declaration name="italic" type="int" line="615"/>
                <declaration name="bold" type="int" line="616"/>
                <declaration name="regular" type="int" line="617"/>
                <scope line="618"/>
                <scope line="622"/>
                <scope line="631"/>
                <scope line="634"/>
            </method>
            <declaration name="stSize" type="float" line="642"/>
            <method name="setStrikethroughMetrics" type="void" line="643">
                <params>
                    <param name="os_2Table" type="ByteBuffer"/>
                    <param name="upem" type="int"/>
                </params>
                <scope line="644"/>
                <declaration name="sb" type="ShortBuffer" line="649"/>
            </method>
            <method name="setUnderlineMetrics" type="void" line="653">
                <params>
                    <param name="postTable" type="ByteBuffer"/>
                    <param name="upem" type="int"/>
                </params>
                <scope line="654"/>
                <declaration name="sb" type="ShortBuffer" line="659"/>
            </method>
            <method name="getStyleMetrics" type="void" line="663">
                <params>
                    <param name="pointSize" type="float"/>
                    <param name="metrics" type="float[]"/>
                    <param name="offset" type="int"/>
                </params>
                <scope line="664">
                    <declaration name="head_Table" type="ByteBuffer" line="665"/>
                    <declaration name="upem" type="int" line="666"/>
                    <scope line="667">
                        <declaration name="sb" type="ShortBuffer" line="668"/>
                    </scope>
                    <declaration name="os2_Table" type="ByteBuffer" line="671"/>
                    <declaration name="post_Table" type="ByteBuffer" line="673"/>
                </scope>
            </method>
            <method name="makeString" type="String" line="681">
                <params>
                    <param name="bytes" type="byte[]"/>
                    <param name="len" type="int"/>
                    <param name="encoding" type="short"/>
                </params>
                <scope line="682">
                    <declaration name="oldbytes" type="byte[]" line="683"/>
                    <declaration name="oldlen" type="int" line="684"/>
                    <scope line="687">
                        <scope line="688"/>
                    </scope>
                </scope>
                <declaration name="charset" type="String" line="693"/>
                <scope line="720"/>
                <scope line="723">
                    <scope line="724"/>
                </scope>
                <scope line="729"/>
            </method>
            <method name="initNames" type="void" line="733">
                <declaration name="name" type="byte[]" line="734"/>
                <declaration name="buffer" type="ByteBuffer" line="735"/>
                <scope line="736">
                    <declaration name="sbuffer" type="ShortBuffer" line="737"/>
                    <declaration name="numRecords" type="short" line="739"/>
                    <declaration name="stringPtr" type="int" line="740"/>
                    <declaration name="nameLocaleID" type="short" line="742"/>
                    <scope line="743">
                        <declaration name="platformID" type="short" line="744"/>
                        <scope line="745"/>
                        <declaration name="encodingID" type="short" line="749"/>
                        <declaration name="langID" type="short" line="750"/>
                        <declaration name="nameID" type="short" line="751"/>
                        <declaration name="nameLen" type="int" line="752"/>
                        <declaration name="namePtr" type="int" line="753"/>
                        <declaration name="tmpName" type="String" line="754"/>
                        <scope line="757">
                            <scope line="761"/>
                            <scope line="764"/>
                        </scope>
                        <scope line="770">
                            <scope line="774"/>
                            <scope line="777"/>
                        </scope>
                    </scope>
                    <scope line="784"/>
                    <scope line="787"/>
                </scope>
            </method>
            <method name="lookupName" type="String" line="792">
                <params>
                    <param name="findLocaleID" type="short"/>
                    <param name="findNameID" type="int"/>
                </params>
                <declaration name="foundName" type="String" line="793"/>
                <declaration name="name" type="byte[]" line="794"/>
                <declaration name="buffer" type="ByteBuffer" line="795"/>
                <scope line="796">
                    <declaration name="sbuffer" type="ShortBuffer" line="797"/>
                    <declaration name="numRecords" type="short" line="799"/>
                    <declaration name="stringPtr" type="int" line="800"/>
                    <scope line="801">
                        <declaration name="platformID" type="short" line="802"/>
                        <scope line="803"/>
                        <declaration name="encodingID" type="short" line="807"/>
                        <declaration name="langID" type="short" line="808"/>
                        <declaration name="nameID" type="short" line="809"/>
                        <declaration name="nameLen" type="int" line="810"/>
                        <declaration name="namePtr" type="int" line="811"/>
                        <scope line="812">
                            <scope line="816"/>
                        </scope>
                    </scope>
                </scope>
            </method>
            <javadoc line="824">
                @return number of logical fonts. Is &quot;1&quot; for all but TTC files                
            </javadoc>
            <method name="getFontCount" type="int" line="827"/>
            <method name="getScaler" type="FontScaler" line="830">
                <scope line="831"/>
            </method>
            <method name="getPostscriptName" type="String" line="836">
                <declaration name="name" type="String" line="837"/>
                <scope line="838"/>
                <scope line="841"/>
            </method>
            <method name="getFontName" type="String" line="845">
                <params>
                    <param name="locale" type="Locale"/>
                </params>
                <scope line="846"/>
                <scope line="849"/>
                <scope line="852">
                    <declaration name="localeID" type="short" line="853"/>
                    <declaration name="name" type="String" line="854"/>
                    <scope line="855"/>
                    <scope line="858"/>
                </scope>
            </method>
            <method name="addLCIDMapEntry" type="void" line="863">
                <params>
                    <param name="map" type="Map&lt;String,Short&gt;"/>
                    <param name="key" type="String"/>
                    <param name="value" type="short"/>
                </params>
            </method>
            <method name="createLCIDMap" type="void" line="866">
                <scope line="867"/>
                <declaration name="map" type="Map&amp;lt;String,Short&amp;gt;" line="870"/>
            </method>
            <method name="getLCIDFromLocale" type="short" line="1024">
                <params>
                    <param name="locale" type="Locale"/>
                </params>
                <scope line="1025"/>
                <scope line="1028"/>
                <declaration name="key" type="String" line="1031"/>
                <scope line="1032">
                    <declaration name="lcidObject" type="Short" line="1033"/>
                    <scope line="1034"/>
                    <declaration name="pos" type="int" line="1037"/>
                    <scope line="1038"/>
                </scope>
            </method>
            <method name="getFamilyName" type="String" line="1045">
                <params>
                    <param name="locale" type="Locale"/>
                </params>
                <scope line="1046"/>
                <scope line="1049"/>
                <scope line="1052">
                    <declaration name="localeID" type="short" line="1053"/>
                    <declaration name="name" type="String" line="1054"/>
                    <scope line="1055"/>
                    <scope line="1058"/>
                </scope>
            </method>
            <method name="getMapper" type="CharToGlyphMapper" line="1063">
                <scope line="1064"/>
            </method>
            <method name="initAllNames" type="void" line="1069">
                <params>
                    <param name="requestedID" type="int"/>
                    <param name="names" type="HashSet"/>
                </params>
                <declaration name="name" type="byte[]" line="1070"/>
                <declaration name="buffer" type="ByteBuffer" line="1071"/>
                <scope line="1072">
                    <declaration name="sbuffer" type="ShortBuffer" line="1073"/>
                    <declaration name="numRecords" type="short" line="1075"/>
                    <declaration name="stringPtr" type="int" line="1076"/>
                    <scope line="1077">
                        <declaration name="platformID" type="short" line="1078"/>
                        <scope line="1079"/>
                        <declaration name="encodingID" type="short" line="1083"/>
                        <declaration name="langID" type="short" line="1084"/>
                        <declaration name="nameID" type="short" line="1085"/>
                        <declaration name="nameLen" type="int" line="1086"/>
                        <declaration name="namePtr" type="int" line="1087"/>
                        <scope line="1088"/>
                    </scope>
                </scope>
            </method>
            <method name="getAllFamilyNames" type="String[]" line="1096">
                <declaration name="aSet" type="HashSet" line="1097"/>
                <scope line="1098"/>
                <scope line="1101"/>
            </method>
            <method name="getAllFullNames" type="String[]" line="1105">
                <declaration name="aSet" type="HashSet" line="1106"/>
                <scope line="1107"/>
                <scope line="1110"/>
            </method>
            <method name="getGlyphPoint" type="Point2D.Float" line="1114">
                <params>
                    <param name="pScalerContext" type="long"/>
                    <param name="glyphCode" type="int"/>
                    <param name="ptNumber" type="int"/>
                </params>
                <scope line="1115"/>
                <scope line="1118"/>
            </method>
            <declaration name="gaspTable" type="char[]" line="1122"/>
            <method name="getGaspTable" type="char[]" line="1123">
                <scope line="1124"/>
                <declaration name="buffer" type="ByteBuffer" line="1127"/>
                <scope line="1128"/>
                <declaration name="cbuffer" type="CharBuffer" line="1131"/>
                <declaration name="format" type="char" line="1132"/>
                <scope line="1133"/>
                <declaration name="numRanges" type="char" line="1136"/>
                <scope line="1137"/>
            </method>
            <method name="useAAForPtSize" type="boolean" line="1144">
                <params>
                    <param name="ptsize" type="int"/>
                </params>
                <declaration name="gasp" type="char[]" line="1145"/>
                <scope line="1146">
                    <scope line="1147">
                        <scope line="1148"/>
                    </scope>
                </scope>
                <scope line="1154"/>
                <scope line="1157"/>
            </method>
            <method name="hasSupplementaryChars" type="boolean" line="1161"/>
            <method name="toString" type="String" line="1164"/>
        </class>
    </source>