<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.awt.im">
        <import package="java.awt.Component"/>
        <import package="java.awt.Container"/>
        <import package="java.awt.Rectangle"/>
        <import package="java.awt.event.InputMethodEvent"/>
        <import package="java.awt.event.InputMethodListener"/>
        <import package="java.awt.font.TextAttribute"/>
        <import package="java.awt.font.TextHitInfo"/>
        <import package="java.awt.im.InputMethodRequests"/>
        <import package="java.text.AttributedCharacterIterator"/>
        <import package="java.text.AttributedCharacterIterator.Attribute"/>
        <import package="java.text.AttributedString"/>
        <class name="CompositionAreaHandler" line="13">
            <implements interface="InputMethodListener"/>
            <implements interface="InputMethodRequests"/>
            <javadoc line="13">
                A composition area handler handles events and input method requests for
                  the composition area. Typically each input method context has its own
                  composition area handler if it supports passive clients or below-the-spot
                  input, but all handlers share a single composition area.                
                <author>
                    JavaSoft International                    
                </author>
            </javadoc>
            <declaration name="compositionArea" type="CompositionArea" line="21"/>
            <declaration name="compositionAreaLock" type="Object" line="22"/>
            <declaration name="compositionAreaOwner" type="CompositionAreaHandler" line="23"/>
            <declaration name="composedText" type="AttributedCharacterIterator" line="24"/>
            <declaration name="caret" type="TextHitInfo" line="25"/>
            <declaration name="clientComponent" type="Component" line="26"/>
            <declaration name="inputMethodContext" type="InputMethodContext" line="27"/>
            <javadoc line="28">
                Constructs the composition area handler.                
            </javadoc>
            <method name="CompositionAreaHandler" type="constructor" line="31">
                <params>
                    <param name="context" type="InputMethodContext"/>
                </params>
            </method>
            <javadoc line="34">
                Creates the composition area.                
            </javadoc>
            <method name="createCompositionArea" type="void" line="37">
                <scope line="38">
                    <scope line="40"/>
                    <scope line="43">
                        <declaration name="req" type="InputMethodRequests" line="44"/>
                        <scope line="45"/>
                    </scope>
                </scope>
            </method>
            <method name="setClientComponent" type="void" line="51">
                <params>
                    <param name="clientComponent" type="Component"/>
                </params>
            </method>
            <javadoc line="54">
                Grabs the composition area, makes this handler its owner, and installs
                  the handler and its input context into the composition area for event
                  and input method request handling.
                  If doUpdate is true, updates the composition area with previously sent
                  composed text.                
            </javadoc>
            <method name="grabCompositionArea" type="void" line="61">
                <params>
                    <param name="doUpdate" type="boolean"/>
                </params>
                <scope line="62">
                    <scope line="63">
                        <scope line="65"/>
                        <scope line="68">
                            <scope line="69"/>
                            <scope line="72"/>
                        </scope>
                    </scope>
                </scope>
            </method>
            <javadoc line="79">
                Releases and closes the composition area if it is currently owned by
                  this composition area handler.                
            </javadoc>
            <method name="releaseCompositionArea" type="void" line="83">
                <scope line="84">
                    <scope line="85">
                        <scope line="87"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="94">
                Releases and closes the composition area if it has been created,
                  independent of the current owner.                
            </javadoc>
            <method name="closeCompositionArea" type="void" line="98">
                <scope line="99">
                    <scope line="100"/>
                </scope>
            </method>
            <javadoc line="107">
                Returns whether the composition area is currently visible                
            </javadoc>
            <method name="isCompositionAreaVisible" type="boolean" line="110">
                <scope line="111"/>
            </method>
            <javadoc line="116">
                Shows or hides the composition Area                
            </javadoc>
            <method name="setCompositionAreaVisible" type="void" line="119">
                <params>
                    <param name="visible" type="boolean"/>
                </params>
                <scope line="120"/>
            </method>
            <method name="processInputMethodEvent" type="void" line="124">
                <params>
                    <param name="event" type="InputMethodEvent"/>
                </params>
                <scope line="125"/>
                <scope line="128"/>
            </method>
            <javadoc line="132">
                set the compositionArea frame decoration                
            </javadoc>
            <method name="setCompositionAreaUndecorated" type="void" line="135">
                <params>
                    <param name="undecorated" type="boolean"/>
                </params>
                <scope line="136"/>
            </method>
            <declaration name="IM_ATTRIBUTES" type="Attribute[]" line="140"/>
            <method name="inputMethodTextChanged" type="void" line="141">
                <params>
                    <param name="event" type="InputMethodEvent"/>
                </params>
                <declaration name="text" type="AttributedCharacterIterator" line="142"/>
                <declaration name="committedCharacterCount" type="int" line="143"/>
                <scope line="146">
                    <scope line="147"/>
                    <declaration name="composedTextString" type="AttributedString" line="150"/>
                </scope>
                <scope line="156"/>
                <scope line="159">
                    <scope line="161"/>
                </scope>
            </method>
            <method name="caretPositionChanged" type="void" line="167">
                <params>
                    <param name="event" type="InputMethodEvent"/>
                </params>
                <scope line="168"/>
            </method>
            <javadoc line="173">
                Returns the input method request handler of the client component.
                  When using the composition window for an active client (below-the-spot
                  input), input method requests that do not relate to the display of
                  the composed text are forwarded to the client component.                
            </javadoc>
            <method name="getClientInputMethodRequests" type="InputMethodRequests" line="179">
                <scope line="180"/>
            </method>
            <method name="getTextLocation" type="Rectangle" line="185">
                <params>
                    <param name="offset" type="TextHitInfo"/>
                </params>
                <scope line="186">
                    <scope line="187"/>
                    <scope line="190"/>
                    <scope line="193">
                        <declaration name="requests" type="InputMethodRequests" line="194"/>
                        <scope line="195"/>
                        <scope line="198"/>
                    </scope>
                </scope>
            </method>
            <method name="getLocationOffset" type="TextHitInfo" line="204">
                <params>
                    <param name="x" type="int"/>
                    <param name="y" type="int"/>
                </params>
                <scope line="205">
                    <scope line="206"/>
                    <scope line="209"/>
                </scope>
            </method>
            <method name="getInsertPositionOffset" type="int" line="214">
                <declaration name="req" type="InputMethodRequests" line="215"/>
                <scope line="216"/>
            </method>
            <declaration name="EMPTY_TEXT" type="AttributedCharacterIterator" line="221"/>
            <method name="getCommittedText" type="AttributedCharacterIterator" line="222">
                <params>
                    <param name="beginIndex" type="int"/>
                    <param name="endIndex" type="int"/>
                    <param name="attributes" type="Attribute[]"/>
                </params>
                <declaration name="req" type="InputMethodRequests" line="223"/>
                <scope line="224"/>
            </method>
            <method name="getCommittedTextLength" type="int" line="229">
                <declaration name="req" type="InputMethodRequests" line="230"/>
                <scope line="231"/>
            </method>
            <method name="cancelLatestCommittedText" type="AttributedCharacterIterator" line="236">
                <params>
                    <param name="attributes" type="Attribute[]"/>
                </params>
                <declaration name="req" type="InputMethodRequests" line="237"/>
                <scope line="238"/>
            </method>
            <method name="getSelectedText" type="AttributedCharacterIterator" line="243">
                <params>
                    <param name="attributes" type="Attribute[]"/>
                </params>
                <declaration name="req" type="InputMethodRequests" line="244"/>
                <scope line="245"/>
            </method>
        </class>
    </source>