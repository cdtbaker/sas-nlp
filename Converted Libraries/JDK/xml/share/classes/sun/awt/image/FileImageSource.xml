<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.awt.image">
        <import package="java.io.InputStream"/>
        <import package="java.io.FileInputStream"/>
        <import package="java.io.BufferedInputStream"/>
        <import package="java.io.FileNotFoundException"/>
        <class name="FileImageSource" line="33">
            <extends class="InputStreamImageSource"/>
            <declaration name="imagefile" type="String" line="34"/>
            <method name="FileImageSource" type="constructor" line="36">
                <params>
                    <param name="filename" type="String"/>
                </params>
                <declaration name="security" type="SecurityManager" line="37"/>
                <scope line="38"/>
            </method>
            <method name="checkSecurity" type="boolean" line="44">
                <params>
                    <param name="context" type="Object"/>
                    <param name="quiet" type="boolean"/>
                </params>
                <comment line="46">
                    File based images only ever need to be checked statically
                     when the image is retrieved from the cache.                    
                </comment>
            </method>
            <method name="getDecoder" type="ImageDecoder" line="50">
                <comment line="58">
                    Don&apos;t believe the file suffix - many users don&apos;t know what
                     kind of image they have and guess wrong...                    
                </comment>
                <comment line="60">
                    int suffixpos = imagefile.lastIndexOf(&apos;.&apos;);
                    if (suffixpos &gt;= 0) {
                    String suffix = imagefile.substring(suffixpos+1).toLowerCase();
                    if (suffix.equals(&quot;gif&quot;)) {
                    return new GifImageDecoder(this, is);
                    } else if (suffix.equals(&quot;jpeg&quot;) || suffix.equals(&quot;jpg&quot;) ||
                    suffix.equals(&quot;jpe&quot;) || suffix.equals(&quot;jfif&quot;)) {
                    return new JPEGImageDecoder(this, is);
                    } else if (suffix.equals(&quot;xbm&quot;)) {
                    return new XbmImageDecoder(this, is);
                    }
                    }                    
                </comment>
                <declaration name="is" type="InputStream" line="51"/>
                <scope line="52"/>
                <scope line="54"/>
            </method>
        </class>
    </source>