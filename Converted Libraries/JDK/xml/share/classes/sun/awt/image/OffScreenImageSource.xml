<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.awt.image">
        <import package="java.util.Hashtable"/>
        <import package="java.awt.image.ImageConsumer"/>
        <import package="java.awt.image.ImageProducer"/>
        <import package="java.awt.image.Raster"/>
        <import package="java.awt.image.WritableRaster"/>
        <import package="java.awt.image.ColorModel"/>
        <import package="java.awt.image.IndexColorModel"/>
        <import package="java.awt.image.DirectColorModel"/>
        <import package="java.awt.image.BufferedImage"/>
        <import package="java.awt.image.DataBuffer"/>
        <class name="OffScreenImageSource" line="39">
            <comment line="62">
                We can only have one consumer since we immediately return the data...                
            </comment>
            <implements interface="ImageProducer"/>
            <declaration name="image" type="BufferedImage" line="40"/>
            <declaration name="width" type="int" line="41"/>
            <declaration name="height" type="int" line="42"/>
            <declaration name="properties" type="Hashtable" line="43"/>
            <method name="OffScreenImageSource" type="constructor" line="46">
                <params>
                    <param name="image" type="BufferedImage"/>
                    <param name="properties" type="Hashtable"/>
                </params>
                <scope line="48"/>
                <scope line="50"/>
            </method>
            <method name="OffScreenImageSource" type="constructor" line="57">
                <params>
                    <param name="image" type="BufferedImage"/>
                </params>
            </method>
            <declaration name="theConsumer" type="ImageConsumer" line="62"/>
            <method name="addConsumer" type="void" line="64">
                <params>
                    <param name="ic" type="ImageConsumer"/>
                </params>
            </method>
            <method name="isConsumer" type="boolean" line="69">
                <params>
                    <param name="ic" type="ImageConsumer"/>
                </params>
            </method>
            <method name="removeConsumer" type="void" line="73">
                <params>
                    <param name="ic" type="ImageConsumer"/>
                </params>
                <scope line="74"/>
            </method>
            <method name="startProduction" type="void" line="79">
                <params>
                    <param name="ic" type="ImageConsumer"/>
                </params>
            </method>
            <method name="requestTopDownLeftRightResend" type="void" line="83">
                <params>
                    <param name="ic" type="ImageConsumer"/>
                </params>
            </method>
            <method name="sendPixels" type="void" line="86">
                <comment line="109">
                    Binary image.  Need to unpack it                    
                </comment>
                <comment line="122">
                    Probably a short or int &quot;GRAY&quot; image                    
                </comment>
                <comment line="170">
                    REMIND: Need to add other types of CMs here                    
                </comment>
                <declaration name="cm" type="ColorModel" line="87"/>
                <declaration name="raster" type="WritableRaster" line="88"/>
                <declaration name="numDataElements" type="int" line="89"/>
                <declaration name="dataType" type="int" line="90"/>
                <declaration name="scanline" type="int[]" line="91"/>
                <declaration name="needToCvt" type="boolean" line="92"/>
                <scope line="94">
                    <declaration name="pixels" type="byte[]" line="95"/>
                    <scope line="98">
                        <scope line="100"/>
                    </scope>
                    <scope line="106">
                        <scope line="109">
                            <scope line="111"/>
                        </scope>
                    </scope>
                    <scope line="120">
                        <scope line="123"/>
                    </scope>
                </scope>
                <scope line="130">
                    <scope line="135"/>
                    <declaration name="bscanline" type="byte[]" line="142"/>
                    <scope line="143">
                        <scope line="145"/>
                    </scope>
                    <declaration name="sscanline" type="short[]" line="153"/>
                    <scope line="154">
                        <scope line="156"/>
                    </scope>
                </scope>
                <scope line="168">
                    <declaration name="newcm" type="ColorModel" line="170"/>
                    <scope line="173">
                        <scope line="174"/>
                    </scope>
                </scope>
            </method>
            <method name="produce" type="void" line="183">
                <scope line="184"/>
                <scope line="189">
                    <scope line="190"/>
                </scope>
            </method>
        </class>
    </source>