<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.text.normalizer">
        <class name="UTF16" line="39">
            <comment line="122">
                public variables ---------------------------------------------------                
            </comment>
            <comment line="166">
                public method ------------------------------------------------------                
            </comment>
            <comment line="428">
                // for StringPrep                
            </comment>
            <comment line="495">
                private data members -------------------------------------------------                
            </comment>
            <comment line="515">
                private methods ------------------------------------------------------                
            </comment>
            <javadoc line="39">
                &lt;p&gt;Standalone utility class providing UTF16 character conversions and
                  indexing conversions.&lt;/p&gt;
                  &lt;p&gt;Code that uses strings alone rarely need modification.
                  By design, UTF-16 does not allow overlap, so searching for strings is a safe
                  operation. Similarly, concatenation is always safe. Substringing is safe if
                  the start and end are both on UTF-32 boundaries. In normal code, the values
                  for start and end are on those boundaries, since they arose from operations
                  like searching. If not, the nearest UTF-32 boundaries can be determined
                  using &lt;code&gt;bounds()&lt;/code&gt;.&lt;/p&gt;
                  &lt;strong&gt;Examples:&lt;/strong&gt;
                  &lt;p&gt;The following examples illustrate use of some of these methods.
                  &lt;pre&gt;
                  // iteration forwards: Original
                  for (int i = 0; i &amp;lt; s.length(); ++i) {
                  char ch = s.charAt(i);
                  doSomethingWith(ch);
                  }
                  // iteration forwards: Changes for UTF-32
                  int ch;
                  for (int i = 0; i &amp;lt; s.length(); i+=UTF16.getCharCount(ch)) {
                  ch = UTF16.charAt(s,i);
                  doSomethingWith(ch);
                  }
                  // iteration backwards: Original
                  for (int i = s.length() -1; i &gt;= 0; --i) {
                  char ch = s.charAt(i);
                  doSomethingWith(ch);
                  }
                  // iteration backwards: Changes for UTF-32
                  int ch;
                  for (int i = s.length() -1; i &gt; 0; i-=UTF16.getCharCount(ch)) {
                  ch = UTF16.charAt(s,i);
                  doSomethingWith(ch);
                  }
                  &lt;/pre&gt;
                  &lt;strong&gt;Notes:&lt;/strong&gt;
                  &lt;ul&gt;
                  &lt;li&gt;
                  &lt;strong&gt;Naming:&lt;/strong&gt; For clarity, High and Low surrogates are called
                  &lt;code&gt;Lead&lt;/code&gt; and &lt;code&gt;Trail&lt;/code&gt; in the API, which gives a better
                  sense of their ordering in a string. &lt;code&gt;offset16&lt;/code&gt; and
                  &lt;code&gt;offset32&lt;/code&gt; are used to distinguish offsets to UTF-16
                  boundaries vs offsets to UTF-32 boundaries. &lt;code&gt;int char32&lt;/code&gt; is
                  used to contain UTF-32 characters, as opposed to &lt;code&gt;char16&lt;/code&gt;,
                  which is a UTF-16 code unit.
                  &lt;/li&gt;
                  &lt;li&gt;
                  &lt;strong&gt;Roundtripping Offsets:&lt;/strong&gt; You can always roundtrip from a
                  UTF-32 offset to a UTF-16 offset and back. Because of the difference in
                  structure, you can roundtrip from a UTF-16 offset to a UTF-32 offset and
                  back if and only if &lt;code&gt;bounds(string, offset16) != TRAIL&lt;/code&gt;.
                  &lt;/li&gt;
                  &lt;li&gt;
                  &lt;strong&gt;Exceptions:&lt;/strong&gt; The error checking will throw an exception
                  if indices are out of bounds. Other than than that, all methods will
                  behave reasonably, even if unmatched surrogates or out-of-bounds UTF-32
                  values are present. &lt;code&gt;UCharacter.isLegal()&lt;/code&gt; can be used to check
                  for validity if desired.
                  &lt;/li&gt;
                  &lt;li&gt;
                  &lt;strong&gt;Unmatched Surrogates:&lt;/strong&gt; If the string contains unmatched
                  surrogates, then these are counted as one UTF-32 value. This matches
                  their iteration behavior, which is vital. It also matches common display
                  practice as missing glyphs (see the Unicode Standard Section 5.4, 5.5).
                  &lt;/li&gt;
                  &lt;li&gt;
                  &lt;strong&gt;Optimization:&lt;/strong&gt; The method implementations may need
                  optimization if the compiler doesn&apos;t fold static final methods. Since
                  surrogate pairs will form an exceeding small percentage of all the text
                  in the world, the singleton case should always be optimized for.
                  &lt;/li&gt;
                  &lt;/ul&gt;                
                <author>
                    Mark Davis, with help from Markus Scherer                    
                </author>
                <stable>
                    ICU 2.1                    
                </stable>
            </javadoc>
            <declaration name="CODEPOINT_MIN_VALUE" type="int" line="123"/>
            <javadoc line="123">
                The lowest Unicode code point value.                
                <stable>
                    ICU 2.1                    
                </stable>
            </javadoc>
            <declaration name="CODEPOINT_MAX_VALUE" type="int" line="128"/>
            <javadoc line="128">
                The highest Unicode code point value (scalar value) according to the
                  Unicode Standard.                
                <stable>
                    ICU 2.1                    
                </stable>
            </javadoc>
            <declaration name="SUPPLEMENTARY_MIN_VALUE" type="int" line="134"/>
            <javadoc line="134">
                The minimum value for Supplementary code points                
                <stable>
                    ICU 2.1                    
                </stable>
            </javadoc>
            <declaration name="LEAD_SURROGATE_MIN_VALUE" type="int" line="139"/>
            <javadoc line="139">
                Lead surrogate minimum value                
                <stable>
                    ICU 2.1                    
                </stable>
            </javadoc>
            <declaration name="TRAIL_SURROGATE_MIN_VALUE" type="int" line="144"/>
            <javadoc line="144">
                Trail surrogate minimum value                
                <stable>
                    ICU 2.1                    
                </stable>
            </javadoc>
            <declaration name="LEAD_SURROGATE_MAX_VALUE" type="int" line="149"/>
            <javadoc line="149">
                Lead surrogate maximum value                
                <stable>
                    ICU 2.1                    
                </stable>
            </javadoc>
            <declaration name="TRAIL_SURROGATE_MAX_VALUE" type="int" line="154"/>
            <javadoc line="154">
                Trail surrogate maximum value                
                <stable>
                    ICU 2.1                    
                </stable>
            </javadoc>
            <declaration name="SURROGATE_MIN_VALUE" type="int" line="159"/>
            <javadoc line="159">
                Surrogate minimum value                
                <stable>
                    ICU 2.1                    
                </stable>
            </javadoc>
            <javadoc line="167">
                Extract a single UTF-32 value from a string.
                  Used when iterating forwards or backwards (with
                  &lt;code&gt;UTF16.getCharCount()&lt;/code&gt;, as well as random access. If a
                  validity check is required, use
                  &lt;code&gt;&lt;a href=&quot;../lang/UCharacter.html#isLegal(char)&quot;&gt;
                  UCharacter.isLegal()&lt;/a&gt;&lt;/code&gt; on the return value.
                  If the char retrieved is part of a surrogate pair, its supplementary
                  character will be returned. If a complete supplementary character is
                  not found the incomplete character will be returned                
                <param>
                    source array of UTF-16 chars                    
                </param>
                <param>
                    offset16 UTF-16 offset to the start of the character.                    
                </param>
                <return>
                    UTF-32 value for the UTF-32 value that contains the char at
                      offset16. The boundaries of that codepoint are the same as in
                      &lt;code&gt;bounds32()&lt;/code&gt;.                    
                </return>
                <exception>
                    IndexOutOfBoundsException thrown if offset16 is out of
                      bounds.                    
                </exception>
                <stable>
                    ICU 2.1                    
                </stable>
            </javadoc>
            <method name="charAt" type="int" line="186">
                <params>
                    <param name="source" type="String"/>
                    <param name="offset16" type="int"/>
                </params>
                <declaration name="single" type="char" line="187"/>
                <scope line="188"/>
            </method>
            <method name="_charAt" type="int" line="194">
                <params>
                    <param name="source" type="String"/>
                    <param name="offset16" type="int"/>
                    <param name="single" type="char"/>
                </params>
                <comment line="200">
                    Convert the UTF-16 surrogate pair if necessary.
                     For simplicity in usage, and because the frequency of pairs is
                     low, look both directions.                    
                </comment>
                <comment line="215">
                    single is a trail surrogate so                    
                </comment>
                <comment line="222">
                    return unmatched surrogate                    
                </comment>
                <scope line="195"/>
                <scope line="203">
                    <scope line="205">
                        <declaration name="trail" type="char" line="206"/>
                        <scope line="207"/>
                    </scope>
                </scope>
                <scope line="211">
                    <scope line="213">
                        <declaration name="lead" type="char" line="215"/>
                        <scope line="216"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="224">
                Extract a single UTF-32 value from a substring.
                  Used when iterating forwards or backwards (with
                  &lt;code&gt;UTF16.getCharCount()&lt;/code&gt;, as well as random access. If a
                  validity check is required, use
                  &lt;code&gt;&lt;a href=&quot;../lang/UCharacter.html#isLegal(char)&quot;&gt;UCharacter.isLegal()
                  &lt;/a&gt;&lt;/code&gt; on the return value.
                  If the char retrieved is part of a surrogate pair, its supplementary
                  character will be returned. If a complete supplementary character is
                  not found the incomplete character will be returned                
                <param>
                    source array of UTF-16 chars                    
                </param>
                <param>
                    start offset to substring in the source array for analyzing                    
                </param>
                <param>
                    limit offset to substring in the source array for analyzing                    
                </param>
                <param>
                    offset16 UTF-16 offset relative to start                    
                </param>
                <return>
                    UTF-32 value for the UTF-32 value that contains the char at
                      offset16. The boundaries of that codepoint are the same as in
                      &lt;code&gt;bounds32()&lt;/code&gt;.                    
                </return>
                <exception>
                    IndexOutOfBoundsException thrown if offset16 is not within
                      the range of start and limit.                    
                </exception>
                <stable>
                    ICU 2.1                    
                </stable>
            </javadoc>
            <method name="charAt" type="int" line="247">
                <params>
                    <param name="source" type="char"/>
                    <param name="start" type="int"/>
                    <param name="limit" type="int"/>
                    <param name="offset16" type="int"/>
                </params>
                <comment line="259">
                    Convert the UTF-16 surrogate pair if necessary.
                     For simplicity in usage, and because the frequency of pairs is
                     low, look both directions.                    
                </comment>
                <comment line="272">
                    isTrailSurrogate(single), so                    
                </comment>
                <comment line="281">
                    return unmatched surrogate                    
                </comment>
                <scope line="249"/>
                <declaration name="single" type="char" line="253"/>
                <scope line="254"/>
                <scope line="261">
                    <scope line="263"/>
                    <declaration name="trail" type="char" line="266"/>
                    <scope line="267"/>
                </scope>
                <scope line="271">
                    <scope line="272"/>
                    <declaration name="lead" type="char" line="276"/>
                </scope>
            </method>
            <javadoc line="283">
                Determines how many chars this char32 requires.
                  If a validity check is required, use &lt;code&gt;
                  &lt;a href=&quot;../lang/UCharacter.html#isLegal(char)&quot;&gt;isLegal()&lt;/a&gt;&lt;/code&gt; on
                  char32 before calling.                
                <param>
                    char32 the input codepoint.                    
                </param>
                <return>
                    2 if is in supplementary space, otherwise 1.                    
                </return>
                <stable>
                    ICU 2.1                    
                </stable>
            </javadoc>
            <method name="getCharCount" type="int" line="293">
                <params>
                    <param name="char32" type="int"/>
                </params>
                <scope line="294"/>
            </method>
            <javadoc line="300">
                Determines whether the code value is a surrogate.                
                <param>
                    char16 the input character.                    
                </param>
                <return>
                    true iff the input character is a surrogate.                    
                </return>
                <stable>
                    ICU 2.1                    
                </stable>
            </javadoc>
            <method name="isSurrogate" type="boolean" line="307">
                <params>
                    <param name="char16" type="char"/>
                </params>
            </method>
            <javadoc line="312">
                Determines whether the character is a trail surrogate.                
                <param>
                    char16 the input character.                    
                </param>
                <return>
                    true iff the input character is a trail surrogate.                    
                </return>
                <stable>
                    ICU 2.1                    
                </stable>
            </javadoc>
            <method name="isTrailSurrogate" type="boolean" line="319">
                <params>
                    <param name="char16" type="char"/>
                </params>
            </method>
            <javadoc line="324">
                Determines whether the character is a lead surrogate.                
                <param>
                    char16 the input character.                    
                </param>
                <return>
                    true iff the input character is a lead surrogate                    
                </return>
                <stable>
                    ICU 2.1                    
                </stable>
            </javadoc>
            <method name="isLeadSurrogate" type="boolean" line="331">
                <params>
                    <param name="char16" type="char"/>
                </params>
            </method>
            <javadoc line="336">
                Returns the lead surrogate.
                  If a validity check is required, use
                  &lt;code&gt;&lt;a href=&quot;../lang/UCharacter.html#isLegal(char)&quot;&gt;isLegal()&lt;/a&gt;&lt;/code&gt;
                  on char32 before calling.                
                <param>
                    char32 the input character.                    
                </param>
                <return>
                    lead surrogate if the getCharCount(ch) is 2; &lt;br&gt;
                      and 0 otherwise (note: 0 is not a valid lead surrogate).                    
                </return>
                <stable>
                    ICU 2.1                    
                </stable>
            </javadoc>
            <method name="getLeadSurrogate" type="char" line="347">
                <params>
                    <param name="char32" type="int"/>
                </params>
                <scope line="348"/>
            </method>
            <javadoc line="356">
                Returns the trail surrogate.
                  If a validity check is required, use
                  &lt;code&gt;&lt;a href=&quot;../lang/UCharacter.html#isLegal(char)&quot;&gt;isLegal()&lt;/a&gt;&lt;/code&gt;
                  on char32 before calling.                
                <param>
                    char32 the input character.                    
                </param>
                <return>
                    the trail surrogate if the getCharCount(ch) is 2; &lt;br&gt;otherwise
                      the character itself                    
                </return>
                <stable>
                    ICU 2.1                    
                </stable>
            </javadoc>
            <method name="getTrailSurrogate" type="char" line="367">
                <params>
                    <param name="char32" type="int"/>
                </params>
                <scope line="368"/>
            </method>
            <javadoc line="376">
                Convenience method corresponding to String.valueOf(char). Returns a one
                  or two char string containing the UTF-32 value in UTF16 format. If a
                  validity check is required, use
                  &lt;code&gt;&lt;a href=&quot;../lang/UCharacter.html#isLegal(char)&quot;&gt;isLegal()&lt;/a&gt;&lt;/code&gt;
                  on char32 before calling.                
                <param>
                    char32 the input character.                    
                </param>
                <return>
                    string value of char32 in UTF16 format                    
                </return>
                <exception>
                    IllegalArgumentException thrown if char32 is a invalid
                      codepoint.                    
                </exception>
                <stable>
                    ICU 2.1                    
                </stable>
            </javadoc>
            <method name="valueOf" type="String" line="389">
                <params>
                    <param name="char32" type="int"/>
                </params>
                <scope line="390"/>
            </method>
            <javadoc line="396">
                Append a single UTF-32 value to the end of a StringBuffer.
                  If a validity check is required, use
                  &lt;code&gt;&lt;a href=&quot;../lang/UCharacter.html#isLegal(char)&quot;&gt;isLegal()&lt;/a&gt;&lt;/code&gt;
                  on char32 before calling.                
                <param>
                    target the buffer to append to                    
                </param>
                <param>
                    char32 value to append.                    
                </param>
                <return>
                    the updated StringBuffer                    
                </return>
                <exception>
                    IllegalArgumentException thrown when char32 does not lie
                      within the range of the Unicode codepoints                    
                </exception>
                <stable>
                    ICU 2.1                    
                </stable>
            </javadoc>
            <method name="append" type="StringBuffer" line="409">
                <params>
                    <param name="target" type="StringBuffer"/>
                    <param name="char32" type="int"/>
                </params>
                <comment line="411">
                    Check for irregular values                    
                </comment>
                <comment line="416">
                    Write the UTF-16 values                    
                </comment>
                <scope line="411"/>
                <scope line="417"/>
                <scope line="421"/>
            </method>
            <javadoc line="428">
                Shifts offset16 by the argument number of codepoints within a subarray.                
                <param>
                    source char array                    
                </param>
                <param>
                    start position of the subarray to be performed on                    
                </param>
                <param>
                    limit position of the subarray to be performed on                    
                </param>
                <param>
                    offset16 UTF16 position to shift relative to start                    
                </param>
                <param>
                    shift32 number of codepoints to shift                    
                </param>
                <return>
                    new shifted offset16 relative to start                    
                </return>
                <exception>
                    IndexOutOfBoundsException if the new offset16 is out of
                      bounds with respect to the subarray or the subarray bounds
                      are out of range.                    
                </exception>
                <stable>
                    ICU 2.1                    
                </stable>
            </javadoc>
            <method name="moveCodePointOffset" type="int" line="443">
                <params>
                    <param name="source" type="char"/>
                    <param name="start" type="int"/>
                    <param name="limit" type="int"/>
                    <param name="offset16" type="int"/>
                    <param name="shift32" type="int"/>
                </params>
                <declaration name="size" type="int" line="444"/>
                <declaration name="count" type="int" line="445"/>
                <declaration name="ch" type="char" line="446"/>
                <declaration name="result" type="int" line="447"/>
                <scope line="448"/>
                <scope line="451"/>
                <scope line="454"/>
                <scope line="457">
                    <scope line="458"/>
                    <scope line="463">
                        <scope line="466"/>
                    </scope>
                </scope>
                <scope line="472">
                    <scope line="473"/>
                    <scope line="476">
                        <scope line="478"/>
                        <scope line="482"/>
                    </scope>
                </scope>
                <scope line="487"/>
            </method>
            <declaration name="LEAD_SURROGATE_SHIFT_" type="int" line="496"/>
            <javadoc line="496">
                Shift value for lead surrogate to form a supplementary character.                
            </javadoc>
            <declaration name="TRAIL_SURROGATE_MASK_" type="int" line="501"/>
            <javadoc line="501">
                Mask to retrieve the significant value from a trail surrogate.                
            </javadoc>
            <declaration name="LEAD_SURROGATE_OFFSET_" type="int" line="506"/>
            <javadoc line="506">
                Value that all lead surrogate starts with                
            </javadoc>
            <javadoc line="516">
                &lt;p&gt;Converts argument code point and returns a String object representing
                  the code point&apos;s value in UTF16 format.&lt;/p&gt;
                  &lt;p&gt;This method does not check for the validity of the codepoint, the
                  results are not guaranteed if a invalid codepoint is passed as
                  argument.&lt;/p&gt;
                  &lt;p&gt;The result is a string whose length is 1 for non-supplementary code
                  points, 2 otherwise.&lt;/p&gt;                
                <param>
                    ch code point                    
                </param>
                <return>
                    string representation of the code point                    
                </return>
            </javadoc>
            <method name="toString" type="String" line="528">
                <params>
                    <param name="ch" type="int"/>
                </params>
                <scope line="529"/>
                <declaration name="result" type="StringBuffer" line="533"/>
            </method>
        </class>
    </source>