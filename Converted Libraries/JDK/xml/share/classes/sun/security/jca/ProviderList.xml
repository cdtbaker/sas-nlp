<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.security.jca">
        <import package="java.util"/>
        <import package="java.security"/>
        <import package="java.security.Provider.Service"/>
        <class name="ProviderList" line="33">
            <comment line="66">
                constant for an ProviderList with no elements                
            </comment>
            <comment line="69">
                dummy provider object to use during initialization
                 used to avoid explicit null checks in various places                
            </comment>
            <comment line="79">
                construct a ProviderList from the security properties
                 (static provider configuration in the java.security file)                
            </comment>
            <comment line="126">
                Create a new ProviderList from the specified Providers.
                 This method is for use by SunJSSE.                
            </comment>
            <comment line="136">
                configuration of the providers                
            </comment>
            <comment line="139">
                flag indicating whether all configs have been loaded successfully                
            </comment>
            <comment line="142">
                List returned by providers()                
            </comment>
            <comment line="251">
                return the Provider with the specified name or null                
            </comment>
            <comment line="271">
                attempt to load all Providers not already loaded                
            </comment>
            <comment line="313">
                return the providers as an array                
            </comment>
            <comment line="318">
                return a String representation of this ProviderList                
            </comment>
            <javadoc line="33">
                List of Providers. Used to represent the provider preferences.
                  The system starts out with a ProviderList that only has the classNames
                  of the Providers. Providers are loaded on demand only when needed.
                  For compatibility reasons, Providers that could not be loaded are ignored
                  and internally presented as the instance EMPTY_PROVIDER. However, those
                  objects cannot be presented to applications. Call the convert() method
                  to force all Providers to be loaded and to obtain a ProviderList with
                  invalid entries removed. All this is handled by the Security class.
                  Note that all indices used by this class are 0-based per general Java
                  convention. These must be converted to the 1-based indices used by the
                  Security class externally when needed.
                  Instances of this class are immutable. This eliminates the need for
                  cloning and synchronization in consumers. The add() and remove() style
                  methods are static in order to avoid confusion about the immutability.                
                <author>
                    Andreas Sterbenz                    
                </author>
                <since>
                    1.5                    
                </since>
            </javadoc>
            <declaration name="debug" type="sun.security.util.Debug" line="58"/>
            <declaration name="PC0" type="ProviderConfig[]" line="61"/>
            <declaration name="P0" type="Provider[]" line="63"/>
            <declaration name="EMPTY" type="ProviderList" line="66"/>
            <declaration name="EMPTY_PROVIDER" type="Provider" line="70"/>
            <anonymous_class line="71">
                <method name="getService" type="Service" line="73">
                    <params>
                        <param name="type" type="String"/>
                        <param name="algorithm" type="String"/>
                    </params>
                </method>
            </anonymous_class>
            <method name="fromSecurityProperties" type="ProviderList" line="80">
                <comment line="82">
                    doPrivileged() because of Security.getProperty()                    
                </comment>
                <anonymous_class line="83">
                    <method name="run" type="ProviderList" line="84"/>
                </anonymous_class>
            </method>
            <method name="add" type="ProviderList" line="90">
                <params>
                    <param name="providerList" type="ProviderList"/>
                    <param name="p" type="Provider"/>
                </params>
            </method>
            <method name="insertAt" type="ProviderList" line="95">
                <params>
                    <param name="providerList" type="ProviderList"/>
                    <param name="p" type="Provider"/>
                    <param name="position" type="int"/>
                </params>
                <scope line="96"/>
                <declaration name="list" type="List&lt;ProviderConfig&gt;" line="99"/>
                <declaration name="n" type="int" line="101"/>
                <scope line="102"/>
            </method>
            <method name="remove" type="ProviderList" line="109">
                <params>
                    <param name="providerList" type="ProviderList"/>
                    <param name="name" type="String"/>
                </params>
                <comment line="111">
                    make sure provider exists                    
                </comment>
                <comment line="115">
                    copy all except matching to new list                    
                </comment>
                <scope line="111"/>
                <declaration name="configs" type="ProviderConfig[]" line="115"/>
                <declaration name="j" type="int" line="116"/>
                <scope line="117">
                    <scope line="118"/>
                </scope>
            </method>
            <method name="newList" type="ProviderList" line="127">
                <params>
                    <param name="providers" type="Provider"/>
                </params>
                <declaration name="configs" type="ProviderConfig[]" line="128"/>
                <scope line="129"/>
            </method>
            <declaration name="configs" type="ProviderConfig[]" line="136"/>
            <declaration name="allLoaded" type="boolean" line="139"/>
            <declaration name="userList" type="List&lt;Provider&gt;" line="142"/>
            <anonymous_class line="142">
                <method name="size" type="int" line="143"/>
                <method name="get" type="Provider" line="146">
                    <params>
                        <param name="index" type="int"/>
                    </params>
                </method>
            </anonymous_class>
            <javadoc line="151">
                Create a new ProviderList from an array of configs                
            </javadoc>
            <method name="ProviderList" type="constructor" line="154">
                <params>
                    <param name="configs" type="ProviderConfig[]"/>
                    <param name="allLoaded" type="boolean"/>
                </params>
            </method>
            <javadoc line="159">
                Return a new ProviderList parsed from the java.security Properties.                
            </javadoc>
            <method name="ProviderList" type="constructor" line="162">
                <comment line="186">
                    Get rid of duplicate providers.                    
                </comment>
                <declaration name="configList" type="List&lt;ProviderConfig&gt;" line="163"/>
                <scope line="164">
                    <declaration name="entry" type="String" line="165"/>
                    <scope line="166"/>
                    <scope line="170"/>
                    <declaration name="k" type="int" line="175"/>
                    <declaration name="config" type="ProviderConfig" line="176"/>
                    <scope line="177"/>
                    <scope line="179">
                        <declaration name="className" type="String" line="180"/>
                        <declaration name="argument" type="String" line="181"/>
                    </scope>
                    <scope line="186"/>
                </scope>
                <scope line="191"/>
            </method>
            <javadoc line="196">
                Construct a special ProviderList for JAR verification. It consists
                  of the providers specified via jarClassNames, which must be on the
                  bootclasspath and cannot be in signed JAR files. This is to avoid
                  possible recursion and deadlock during verification.                
            </javadoc>
            <method name="getJarList" type="ProviderList" line="202">
                <params>
                    <param name="jarClassNames" type="String[]"/>
                </params>
                <comment line="208">
                    if the equivalent object is present in this provider list,
                     use the old object rather than the new object.
                     this ensures that when the provider is loaded in the
                     new thread local list, it will also become available
                     in this provider list                    
                </comment>
                <declaration name="newConfigs" type="List&lt;ProviderConfig&gt;" line="203"/>
                <scope line="204">
                    <declaration name="newConfig" type="ProviderConfig" line="205"/>
                    <scope line="206">
                        <scope line="212"/>
                    </scope>
                </scope>
                <declaration name="configArray" type="ProviderConfig[]" line="219"/>
            </method>
            <method name="size" type="int" line="223"/>
            <javadoc line="227">
                Return the Provider at the specified index. Returns EMPTY_PROVIDER
                  if the provider could not be loaded at this time.                
            </javadoc>
            <method name="getProvider" type="Provider" line="231">
                <params>
                    <param name="index" type="int"/>
                </params>
                <declaration name="p" type="Provider" line="232"/>
            </method>
            <javadoc line="236">
                Return an unmodifiable List of all Providers in this List. The
                  individual Providers are loaded on demand. Elements that could not
                  be initialized are replaced with EMPTY_PROVIDER.                
            </javadoc>
            <method name="providers" type="List<Provider>" line="241"/>
            <method name="getProviderConfig" type="ProviderConfig" line="245">
                <params>
                    <param name="name" type="String"/>
                </params>
                <declaration name="index" type="int" line="246"/>
            </method>
            <method name="getProvider" type="Provider" line="251">
                <params>
                    <param name="name" type="String"/>
                </params>
                <declaration name="config" type="ProviderConfig" line="252"/>
            </method>
            <javadoc line="256">
                Return the index at which the provider with the specified name is
                  installed or -1 if it is not present in this ProviderList.                
            </javadoc>
            <method name="getIndex" type="int" line="260">
                <params>
                    <param name="name" type="String"/>
                </params>
                <scope line="261">
                    <declaration name="p" type="Provider" line="262"/>
                    <scope line="263"/>
                </scope>
            </method>
            <method name="loadAll" type="int" line="271">
                <scope line="272"/>
                <scope line="275"/>
                <declaration name="n" type="int" line="279"/>
                <scope line="280">
                    <declaration name="p" type="Provider" line="281"/>
                    <scope line="282"/>
                </scope>
                <scope line="286"/>
            </method>
            <javadoc line="292">
                Try to load all Providers and return the ProviderList. If one or
                  more Providers could not be loaded, a new ProviderList with those
                  entries removed is returned. Otherwise, the method returns this.                
            </javadoc>
            <method name="removeInvalid" type="ProviderList" line="297">
                <declaration name="n" type="int" line="298"/>
                <scope line="299"/>
                <declaration name="newConfigs" type="ProviderConfig[]" line="302"/>
                <scope line="303">
                    <declaration name="config" type="ProviderConfig" line="304"/>
                    <scope line="305"/>
                </scope>
            </method>
            <method name="toArray" type="Provider[]" line="313"/>
            <method name="toString" type="String" line="318"/>
            <javadoc line="322">
                Return a Service describing an implementation of the specified
                  algorithm from the Provider with the highest precedence that
                  supports that algorithm. Return null if no Provider supports this
                  algorithm.                
            </javadoc>
            <method name="getService" type="Service" line="328">
                <params>
                    <param name="type" type="String"/>
                    <param name="name" type="String"/>
                </params>
                <scope line="329">
                    <declaration name="p" type="Provider" line="330"/>
                    <declaration name="s" type="Service" line="331"/>
                    <scope line="332"/>
                </scope>
            </method>
            <javadoc line="339">
                Return a List containing all the Services describing implementations
                  of the specified algorithms in precedence order. If no implementation
                  exists, this method returns an empty List.
                  The elements of this list are determined lazily on demand.
                  The List returned is NOT thread safe.                
            </javadoc>
            <method name="getServices" type="List<Service>" line="348">
                <params>
                    <param name="type" type="String"/>
                    <param name="algorithm" type="String"/>
                </params>
            </method>
            <javadoc line="352">
                This method exists for compatibility with JCE only. It will be removed
                  once JCE has been changed to use the replacement method.                
                <deprecated>
                    use getServices(List&lt;ServiceId&gt;) instead                    
                </deprecated>
            </javadoc>
            <method name="getServices" type="List<Service>" line="358">
                <params>
                    <param name="type" type="String"/>
                    <param name="algorithms" type="List<String>"/>
                </params>
                <declaration name="ids" type="List&lt;ServiceId&gt;" line="359"/>
                <scope line="360"/>
            </method>
            <method name="getServices" type="List<Service>" line="366">
                <params>
                    <param name="ids" type="List<ServiceId>"/>
                </params>
            </method>
            <class name="ServiceList" line="370">
                <extends class="AbstractList">
                    <type_params>
                        <type_param name="Service"/>
                    </type_params>
                </extends>
                <comment line="378">
                    type and algorithm for simple lookup
                     avoid allocating/traversing the ServiceId list for these lookups                    
                </comment>
                <comment line="383">
                    list of ids for parallel lookup
                     if ids is non-null, type and algorithm are null                    
                </comment>
                <comment line="387">
                    first service we have found
                     it is stored in a separate variable so that we can avoid
                     allocating the services list if we do not need the second service.
                     this is the case if we don&apos;t failover (failovers are typically rare)                    
                </comment>
                <comment line="393">
                    list of the services we have found so far                    
                </comment>
                <comment line="396">
                    index into config[] of the next provider we need to query                    
                </comment>
                <comment line="474">
                    override isEmpty() and iterator() to not call size()
                     this avoids loading + checking all Providers                    
                </comment>
                <javadoc line="370">
                    Inner class for a List of Services. Custom List implementation in
                      order to delay Provider initialization and lookup.
                      Not thread safe.                    
                </javadoc>
                <declaration name="type" type="String" line="379"/>
                <declaration name="algorithm" type="String" line="380"/>
                <declaration name="ids" type="List&lt;ServiceId&gt;" line="384"/>
                <declaration name="firstService" type="Service" line="390"/>
                <declaration name="services" type="List&lt;Service&gt;" line="393"/>
                <declaration name="providerIndex" type="int" line="396"/>
                <method name="ServiceList" type="constructor" line="398">
                    <params>
                        <param name="type" type="String"/>
                        <param name="algorithm" type="String"/>
                    </params>
                </method>
                <method name="ServiceList" type="constructor" line="404">
                    <params>
                        <param name="ids" type="List<ServiceId>"/>
                    </params>
                </method>
                <method name="addService" type="void" line="410">
                    <params>
                        <param name="s" type="Service"/>
                    </params>
                    <scope line="411"/>
                    <scope line="413">
                        <scope line="414"/>
                    </scope>
                </method>
                <method name="tryGet" type="Service" line="422">
                    <params>
                        <param name="index" type="int"/>
                    </params>
                    <comment line="433">
                        check all algorithms in this provider before moving on                        
                    </comment>
                    <comment line="436">
                        simple lookup                        
                    </comment>
                    <comment line="442">
                        parallel lookup                        
                    </comment>
                    <scope line="423">
                        <scope line="424"/>
                        <scope line="426"/>
                        <scope line="429"/>
                        <declaration name="p" type="Provider" line="433"/>
                        <scope line="434">
                            <declaration name="s" type="Service" line="436"/>
                            <scope line="437"/>
                        </scope>
                        <scope line="440">
                            <scope line="442">
                                <declaration name="s" type="Service" line="443"/>
                                <scope line="444"/>
                            </scope>
                        </scope>
                    </scope>
                </method>
                <method name="get" type="Service" line="452">
                    <params>
                        <param name="index" type="int"/>
                    </params>
                    <declaration name="s" type="Service" line="453"/>
                    <scope line="454"/>
                </method>
                <method name="size" type="int" line="460">
                    <declaration name="n" type="int" line="461"/>
                    <scope line="462"/>
                    <scope line="464"/>
                    <scope line="467"/>
                </method>
                <method name="isEmpty" type="boolean" line="476"/>
                <method name="iterator" type="Iterator<Service>" line="480">
                    <anonymous_class line="481">
                        <declaration name="index" type="int" line="482"/>
                        <method name="hasNext" type="boolean" line="484"/>
                        <method name="next" type="Service" line="488">
                            <declaration name="s" type="Service" line="489"/>
                            <scope line="490"/>
                        </method>
                        <method name="remove" type="void" line="497"/>
                    </anonymous_class>
                </method>
            </class>
        </class>
    </source>