<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.security.pkcs">
        <import package="java.io"/>
        <import package="java.util.Properties"/>
        <import package="java.math"/>
        <import package="java.security.Key"/>
        <import package="java.security.KeyRep"/>
        <import package="java.security.PrivateKey"/>
        <import package="java.security.KeyFactory"/>
        <import package="java.security.Security"/>
        <import package="java.security.Provider"/>
        <import package="java.security.InvalidKeyException"/>
        <import package="java.security.NoSuchAlgorithmException"/>
        <import package="java.security.spec.InvalidKeySpecException"/>
        <import package="java.security.spec.PKCS8EncodedKeySpec"/>
        <import package="sun.misc.HexDumpEncoder"/>
        <import package="sun.security.x509"/>
        <import package="sun.security.util"/>
        <class name="PKCS8Key" line="46">
            <comment line="58">
                                
            </comment>
            <comment line="61">
                                
            </comment>
            <comment line="64">
                                
            </comment>
            <comment line="67">
                                
            </comment>
            <comment line="77">
                Build and initialize as a &quot;default&quot; key.  All PKCS#8 key
                 data is stored and transmitted losslessly, but no knowledge
                 about this particular algorithm is available.                
            </comment>
            <comment line="89">
                Binary backwards compatibility. New uses should call parseKey().                
            </comment>
            <comment line="164">
                Factory interface, building the kind of key associated with this
                 specific algorithm ID or else returning this generic base class.
                 See the description above.                
            </comment>
            <comment line="308">
                Returns a printable representation of the key                
            </comment>
            <comment line="395">
                Produce PKCS#8 encoding from algorithm id and key material.                
            </comment>
            <implements interface="PrivateKey"/>
            <javadoc line="46">
                Holds a PKCS#8 key, for example a private key                
                <author>
                    Dave Brownell                    
                </author>
                <author>
                    Benjamin Renaud                    
                </author>
            </javadoc>
            <declaration name="serialVersionUID" type="long" line="54"/>
            <javadoc line="54">
                use serialVersionUID from JDK 1.1. for interoperability                
            </javadoc>
            <declaration name="algid" type="AlgorithmId" line="58"/>
            <declaration name="key" type="byte[]" line="61"/>
            <declaration name="encodedKey" type="byte[]" line="64"/>
            <declaration name="version" type="BigInteger" line="67"/>
            <javadoc line="69">
                Default constructor.  The key constructed must have its key
                  and algorithm initialized before it may be used, for example
                  by using &lt;code&gt;decode&lt;/code&gt;.                
            </javadoc>
            <method name="PKCS8Key" type="constructor" line="74"/>
            <method name="PKCS8Key" type="constructor" line="82">
                <params>
                    <param name="algid" type="AlgorithmId"/>
                    <param name="key" type="byte"/>
                </params>
            </method>
            <method name="parse" type="PKCS8Key" line="91">
                <params>
                    <param name="in" type="DerValue"/>
                </params>
                <declaration name="key" type="PrivateKey" line="92"/>
            </method>
            <javadoc line="101">
                Construct PKCS#8 subject public key from a DER value.  If
                  the runtime environment is configured with a specific class for
                  this kind of key, a subclass is returned.  Otherwise, a generic
                  PKCS8Key object is returned.
                  &lt;P&gt;This mechanism gurantees that keys (and algorithms) may be
                  freely manipulated and transferred, without risk of losing
                  information.  Also, when a key (or algorithm) needs some special
                  handling, that specific need can be accomodated.                
                <param>
                    in the DER-encoded SubjectPublicKeyInfo value                    
                </param>
                <exception>
                    IOException on data format errors                    
                </exception>
            </javadoc>
            <method name="parseKey" type="PrivateKey" line="116">
                <params>
                    <param name="in" type="DerValue"/>
                </params>
                <declaration name="algorithm" type="AlgorithmId" line="117"/>
                <declaration name="privKey" type="PrivateKey" line="118"/>
                <declaration name="parsedVersion" type="BigInteger" line="123"/>
                <scope line="124"/>
                <scope line="133"/>
                <scope line="136"/>
            </method>
            <javadoc line="145">
                Parse the key bits.  This may be redefined by subclasses to take
                  advantage of structure within the key.  For example, RSA public
                  keys encapsulate two unsigned integers (modulus and exponent) as
                  DER values within the &lt;code&gt;key&lt;/code&gt; bits; Diffie-Hellman and
                  DSS/DSA keys encapsulate a single unsigned integer.
                  &lt;P&gt;This function is called when creating PKCS#8 SubjectPublicKeyInfo
                  values using the PKCS8Key member functions, such as &lt;code&gt;parse&lt;/code&gt;
                  and &lt;code&gt;decode&lt;/code&gt;.                
                <exception>
                    IOException if a parsing error occurs.                    
                </exception>
                <exception>
                    InvalidKeyException if the key encoding is invalid.                    
                </exception>
            </javadoc>
            <method name="parseKeyBits" type="void" line="159"/>
            <method name="buildPKCS8Key" type="PrivateKey" line="170">
                <params>
                    <param name="algid" type="AlgorithmId"/>
                    <param name="key" type="byte[]"/>
                </params>
                <comment line="172">
                    Use the algid and key parameters to produce the ASN.1 encoding
                     of the key, which will then be used as the input to the
                     key factory.                    
                </comment>
                <comment line="183">
                    Instantiate the key factory of the appropriate algorithm                    
                </comment>
                <comment line="186">
                    Generate the private key                    
                </comment>
                <comment line="189">
                    Return generic PKCS8Key with opaque key data (see below)                    
                </comment>
                <comment line="191">
                    Return generic PKCS8Key with opaque key data (see below)                    
                </comment>
                <comment line="194">
                    Try again using JDK1.1-style for backwards compatibility.                    
                </comment>
                <comment line="237">
                    this should not happen.                    
                </comment>
                <declaration name="pkcs8EncodedKeyStream" type="DerOutputStream" line="176"/>
                <declaration name="pkcs8KeySpec" type="PKCS8EncodedKeySpec" line="178"/>
                <scope line="181">
                    <declaration name="keyFac" type="KeyFactory" line="183"/>
                </scope>
                <scope line="187"/>
                <scope line="189"/>
                <declaration name="classname" type="String" line="196"/>
                <scope line="197">
                    <declaration name="props" type="Properties" line="198"/>
                    <declaration name="keytype" type="String" line="199"/>
                    <declaration name="sunProvider" type="Provider" line="200"/>
                    <scope line="207"/>
                    <declaration name="keyClass" type="Class" line="211"/>
                    <scope line="212"/>
                    <scope line="214">
                        <declaration name="cl" type="ClassLoader" line="215"/>
                        <scope line="216"/>
                    </scope>
                    <declaration name="inst" type="Object" line="221"/>
                    <declaration name="result" type="PKCS8Key" line="222"/>
                    <scope line="226"/>
                </scope>
                <scope line="233"/>
                <scope line="234"/>
                <scope line="235"/>
                <declaration name="result" type="PKCS8Key" line="240"/>
            </method>
            <javadoc line="246">
                Returns the algorithm to be used with this key.                
            </javadoc>
            <method name="getAlgorithm" type="String" line="249"/>
            <javadoc line="253">
                Returns the algorithm ID to be used with this key.                
            </javadoc>
            <method name="getAlgorithmId" type="AlgorithmId" line="256"/>
            <javadoc line="258">
                PKCS#8 sequence on the DER output stream.                
            </javadoc>
            <method name="encode" type="void" line="262">
                <params>
                    <param name="out" type="DerOutputStream"/>
                </params>
            </method>
            <javadoc line="266">
                Returns the DER-encoded form of the key as a byte array.                
            </javadoc>
            <method name="getEncoded" type="byte[]" line="269">
                <declaration name="result" type="byte[]" line="270"/>
                <scope line="271"/>
                <scope line="273"/>
            </method>
            <javadoc line="278">
                Returns the format for this key: &quot;PKCS#8&quot;                
            </javadoc>
            <method name="getFormat" type="String" line="281"/>
            <javadoc line="285">
                Returns the DER-encoded form of the key as a byte array.                
                <exception>
                    InvalidKeyException if an encoding error occurs.                    
                </exception>
            </javadoc>
            <method name="encode" type="byte[]" line="290">
                <scope line="291">
                    <scope line="292">
                        <declaration name="out" type="DerOutputStream" line="293"/>
                    </scope>
                    <scope line="299"/>
                </scope>
            </method>
            <method name="toString" type="String" line="311">
                <declaration name="encoder" type="HexDumpEncoder" line="312"/>
            </method>
            <javadoc line="318">
                Initialize an PKCS8Key object from an input stream.  The data
                  on that input stream must be encoded using DER, obeying the
                  PKCS#8 format: a sequence consisting of a version, an algorithm
                  ID and a bit string which holds the key.  (That bit string is
                  often used to encapsulate another DER encoded sequence.)
                  &lt;P&gt;Subclasses should not normally redefine this method; they should
                  instead provide a &lt;code&gt;parseKeyBits&lt;/code&gt; method to parse any
                  fields inside the &lt;code&gt;key&lt;/code&gt; member.                
                <param>
                    in an input stream with a DER-encoded PKCS#8
                      SubjectPublicKeyInfo value                    
                </param>
                <exception>
                    InvalidKeyException if a parsing error occurs.                    
                </exception>
            </javadoc>
            <method name="decode" type="void" line="335">
                <params>
                    <param name="in" type="InputStream"/>
                </params>
                <comment line="357">
                    OPTIONAL attributes not supported yet                    
                </comment>
                <comment line="361">
                    e.printStackTrace ();                    
                </comment>
                <declaration name="val" type="DerValue" line="336"/>
                <scope line="338">
                    <declaration name="version" type="BigInteger" line="344"/>
                    <scope line="345"/>
                    <scope line="355"/>
                </scope>
                <scope line="359"/>
            </method>
            <method name="decode" type="void" line="366">
                <params>
                    <param name="encodedKey" type="byte[]"/>
                </params>
            </method>
            <method name="writeReplace" type="Object" line="370"/>
            <javadoc line="377">
                Serialization read ... PKCS#8 keys serialize as
                  themselves, and they&apos;re parsed when they get read back.                
            </javadoc>
            <method name="readObject" type="void" line="382">
                <params>
                    <param name="stream" type="ObjectInputStream"/>
                </params>
                <scope line="384"/>
                <scope line="387"/>
            </method>
            <method name="encode" type="void" line="398">
                <params>
                    <param name="out" type="DerOutputStream"/>
                    <param name="algid" type="AlgorithmId"/>
                    <param name="key" type="byte[]"/>
                </params>
                <declaration name="tmp" type="DerOutputStream" line="399"/>
            </method>
            <javadoc line="406">
                Compares two private keys. This returns false if the object with which
                  to compare is not of type &lt;code&gt;Key&lt;/code&gt;.
                  Otherwise, the encoding of this key object is compared with the
                  encoding of the given key object.                
                <param>
                    object the object with which to compare                    
                </param>
                <return>
                    &lt;code&gt;true&lt;/code&gt; if this key has the same encoding as the
                      object argument; &lt;code&gt;false&lt;/code&gt; otherwise.                    
                </return>
            </javadoc>
            <method name="equals" type="boolean" line="416">
                <params>
                    <param name="object" type="Object"/>
                </params>
                <comment line="424">
                    this encoding                    
                </comment>
                <comment line="432">
                    that encoding                    
                </comment>
                <comment line="435">
                    do the comparison                    
                </comment>
                <scope line="417"/>
                <scope line="421">
                    <declaration name="b1" type="byte[]" line="424"/>
                    <scope line="425"/>
                    <scope line="427"/>
                    <declaration name="b2" type="byte[]" line="432"/>
                    <declaration name="i" type="int" line="435"/>
                    <scope line="438">
                        <scope line="439"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="449">
                Calculates a hash code value for this object. Objects
                  which are equal will also have the same hashcode.                
            </javadoc>
            <method name="hashCode" type="int" line="453">
                <declaration name="retval" type="int" line="454"/>
                <declaration name="b1" type="byte[]" line="455"/>
                <scope line="457"/>
            </method>
        </class>
    </source>