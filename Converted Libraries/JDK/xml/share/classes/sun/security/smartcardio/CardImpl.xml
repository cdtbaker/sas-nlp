<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.security.smartcardio">
        <import package="java.nio.ByteBuffer"/>
        <import package="javax.smartcardio"/>
        <import package="sun.security.smartcardio.PCSC"/>
        <class name="CardImpl" line="34">
            <extends class="Card"/>
            <comment line="45">
                the terminal that created this card                
            </comment>
            <comment line="48">
                the native SCARDHANDLE                
            </comment>
            <comment line="51">
                atr of this card                
            </comment>
            <comment line="54">
                protocol in use, one of SCARD_PROTOCOL_T0 and SCARD_PROTOCOL_T1                
            </comment>
            <comment line="57">
                the basic logical channel (channel 0)                
            </comment>
            <comment line="60">
                state of this card connection                
            </comment>
            <comment line="63">
                thread holding exclusive access to the card, or null                
            </comment>
            <javadoc line="34">
                Card implementation.                
                <since>
                    1.6                    
                </since>
                <author>
                    Andreas Sterbenz                    
                </author>
            </javadoc>
            <declaration name="terminal" type="TerminalImpl" line="45"/>
            <declaration name="cardId" type="long" line="48"/>
            <declaration name="atr" type="ATR" line="51"/>
            <declaration name="protocol" type="int" line="54"/>
            <declaration name="basicChannel" type="ChannelImpl" line="57"/>
            <declaration name="state" type="State" line="60"/>
            <declaration name="exclusiveThread" type="Thread" line="63"/>
            <method name="CardImpl" type="constructor" line="65">
                <params>
                    <param name="terminal" type="TerminalImpl"/>
                    <param name="protocol" type="String"/>
                </params>
                <comment line="76">
                    testing                    
                </comment>
                <declaration name="sharingMode" type="int" line="67"/>
                <declaration name="connectProtocol" type="int" line="68"/>
                <scope line="69"/>
                <scope line="71"/>
                <scope line="73"/>
                <scope line="75"/>
                <scope line="79"/>
                <declaration name="status" type="byte[]" line="84"/>
                <declaration name="atrBytes" type="byte[]" line="85"/>
            </method>
            <method name="checkState" type="void" line="92">
                <declaration name="s" type="State" line="93"/>
                <scope line="94"/>
                <scope line="96"/>
            </method>
            <method name="isValid" type="boolean" line="101">
                <comment line="105">
                    ping card via SCardStatus                    
                </comment>
                <scope line="102"/>
                <scope line="106"/>
                <scope line="109"/>
            </method>
            <method name="checkSecurity" type="void" line="115">
                <params>
                    <param name="action" type="String"/>
                </params>
                <declaration name="sm" type="SecurityManager" line="116"/>
                <scope line="117"/>
            </method>
            <method name="handleError" type="void" line="122">
                <params>
                    <param name="e" type="PCSCException"/>
                </params>
                <scope line="123"/>
            </method>
            <method name="getATR" type="ATR" line="128"/>
            <method name="getProtocol" type="String" line="132">
                <comment line="139">
                    should never occur                    
                </comment>
            </method>
            <method name="getBasicChannel" type="CardChannel" line="144"/>
            <method name="getSW" type="int" line="150">
                <params>
                    <param name="b" type="byte[]"/>
                </params>
                <scope line="151"/>
                <declaration name="sw1" type="int" line="154"/>
                <declaration name="sw2" type="int" line="155"/>
            </method>
            <declaration name="commandOpenChannel" type="byte[]" line="159"/>
            <method name="openLogicalChannel" type="CardChannel" line="161">
                <scope line="165">
                    <declaration name="response" type="byte[]" line="166"/>
                    <scope line="168"/>
                </scope>
                <scope line="174"/>
            </method>
            <method name="checkExclusive" type="void" line="180">
                <declaration name="t" type="Thread" line="181"/>
                <scope line="182"/>
                <scope line="185"/>
            </method>
            <method name="beginExclusive" type="void" line="190">
                <scope line="193"/>
                <scope line="198"/>
                <scope line="200"/>
            </method>
            <method name="endExclusive" type="void" line="207">
                <scope line="209"/>
                <scope line="213"/>
                <scope line="215"/>
                <scope line="218"/>
            </method>
            <method name="transmitControlCommand" type="byte[]" line="224">
                <params>
                    <param name="controlCode" type="int"/>
                    <param name="command" type="byte[]"/>
                </params>
                <scope line="228"/>
                <scope line="231">
                    <declaration name="r" type="byte[]" line="232"/>
                </scope>
                <scope line="234"/>
            </method>
            <method name="disconnect" type="void" line="240">
                <params>
                    <param name="reset" type="boolean"/>
                </params>
                <scope line="241"/>
                <scope line="244"/>
                <scope line="248"/>
                <scope line="250"/>
                <scope line="252"/>
            </method>
            <method name="toString" type="String" line="258"/>
            <method name="finalize" type="void" line="263">
                <scope line="264">
                    <scope line="265"/>
                </scope>
                <scope line="268"/>
            </method>
        </class>
    </source>