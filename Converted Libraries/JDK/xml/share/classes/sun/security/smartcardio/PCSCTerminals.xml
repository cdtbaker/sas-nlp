<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.security.smartcardio">
        <import package="java.util"/>
        <import package="java.lang.ref"/>
        <import package="javax.smartcardio"/>
        <import package="javax.smartcardio.CardTerminals.State"/>
        <import package="sun.security.smartcardio.PCSC"/>
        <class name="PCSCTerminals" line="7">
            <extends class="CardTerminals"/>
            <javadoc line="7">
                TerminalFactorySpi implementation class.                
                <since>
                    1.6                    
                </since>
                <author>
                    Andreas Sterbenz                    
                </author>
            </javadoc>
            <declaration name="contextId" type="long" line="13"/>
            <declaration name="stateMap" type="Map&amp;lt;String,ReaderState&amp;gt;" line="14"/>
            <method name="PCSCTerminals" type="constructor" line="15"/>
            <method name="initContext" type="void" line="17">
                <scope line="18"/>
            </method>
            <declaration name="terminals" type="Map&amp;lt;String,Reference&amp;lt;TerminalImpl&amp;gt;&amp;gt;" line="22"/>
            <method name="implGetTerminal" type="TerminalImpl" line="23">
                <params>
                    <param name="name" type="String"/>
                </params>
                <declaration name="ref" type="Reference&amp;lt;TerminalImpl&amp;gt;" line="24"/>
                <declaration name="terminal" type="TerminalImpl" line="25"/>
                <scope line="26"/>
            </method>
            <method name="list" type="List&lt;CardTerminal&gt;" line="33">
                <params>
                    <param name="state" type="State"/>
                </params>
                <scope line="34"/>
                <scope line="37">
                    <declaration name="readerNames" type="String[]" line="38"/>
                    <declaration name="list" type="List&amp;lt;CardTerminal&amp;gt;" line="39"/>
                    <scope line="40">
                        <scope line="41"/>
                        <scope line="44"/>
                    </scope>
                    <scope line="48">
                        <declaration name="terminal" type="CardTerminal" line="49"/>
                        <declaration name="readerState" type="ReaderState" line="50"/>
                        <scope line="56"/>
                        <scope line="61"/>
                        <scope line="67"/>
                        <scope line="73"/>
                    </scope>
                </scope>
                <scope line="83"/>
            </method>
            <class name="ReaderState" line="87">
                <declaration name="current" type="int" line="88"/>
                <method name="ReaderState" type="constructor" line="89"/>
                <method name="get" type="int" line="93"/>
                <method name="update" type="void" line="96">
                    <params>
                        <param name="newState" type="int"/>
                    </params>
                </method>
                <method name="isInsertion" type="boolean" line="100"/>
                <method name="isRemoval" type="boolean" line="103"/>
                <method name="present" type="boolean" line="106">
                    <params>
                        <param name="state" type="int"/>
                    </params>
                </method>
            </class>
            <method name="waitForChange" type="boolean" line="110">
                <params>
                    <param name="timeout" type="long"/>
                </params>
                <scope line="111"/>
                <scope line="114"/>
                <scope line="118"/>
                <scope line="121">
                    <declaration name="readerNames" type="String[]" line="122"/>
                    <declaration name="n" type="int" line="123"/>
                    <scope line="124"/>
                    <declaration name="status" type="int[]" line="127"/>
                    <declaration name="readerStates" type="ReaderState[]" line="128"/>
                    <scope line="129">
                        <declaration name="name" type="String" line="130"/>
                        <declaration name="state" type="ReaderState" line="131"/>
                        <scope line="132"/>
                    </scope>
                    <scope line="140">
                        <declaration name="state" type="ReaderState" line="141"/>
                    </scope>
                </scope>
                <scope line="147">
                    <scope line="148"/>
                    <scope line="151"/>
                </scope>
            </method>
            <method name="waitForCards" type="List&lt;CardTerminal&gt;" line="156">
                <params>
                    <param name="terminals" type="List&lt;? extends CardTerminal&gt;"/>
                    <param name="timeout" type="long"/>
                    <param name="wantPresent" type="boolean"/>
                </params>
                <declaration name="thisTimeout" type="long" line="157"/>
                <scope line="158"/>
                <scope line="162"/>
                <declaration name="names" type="String[]" line="165"/>
                <declaration name="i" type="int" line="166"/>
                <scope line="167">
                    <scope line="168"/>
                    <declaration name="impl" type="TerminalImpl" line="171"/>
                </scope>
                <declaration name="status" type="int[]" line="174"/>
                <scope line="176">
                    <scope line="177">
                        <declaration name="results" type="List&amp;lt;CardTerminal&amp;gt;" line="180"/>
                        <scope line="181">
                            <declaration name="nowPresent" type="boolean" line="182"/>
                            <scope line="183">
                                <scope line="184"/>
                            </scope>
                        </scope>
                        <scope line="190"/>
                    </scope>
                </scope>
                <scope line="195">
                    <scope line="196"/>
                    <scope line="199"/>
                </scope>
            </method>
        </class>
    </source>