<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.security.provider.certpath">
        <import package="java.security.InvalidAlgorithmParameterException"/>
        <import package="java.security.cert.Certificate"/>
        <import package="java.security.cert.CRL"/>
        <import package="java.util.Collection"/>
        <import package="java.util.ConcurrentModificationException"/>
        <import package="java.util.HashSet"/>
        <import package="java.util.Iterator"/>
        <import package="java.security.cert.CertSelector"/>
        <import package="java.security.cert.CertStore"/>
        <import package="java.security.cert.CertStoreException"/>
        <import package="java.security.cert.CertStoreParameters"/>
        <import package="java.security.cert.CollectionCertStoreParameters"/>
        <import package="java.security.cert.CRLSelector"/>
        <import package="java.security.cert.CertStoreSpi"/>
        <class name="CollectionCertStore" line="43">
            <extends class="CertStoreSpi"/>
            <javadoc line="43">
                A &lt;code&gt;CertStore&lt;/code&gt; that retrieves &lt;code&gt;Certificates&lt;/code&gt; and
                  &lt;code&gt;CRL&lt;/code&gt;s from a &lt;code&gt;Collection&lt;/code&gt;.
                  &lt;p&gt;
                  Before calling the {@link #engineGetCertificates engineGetCertificates} or{@link #engineGetCRLs engineGetCRLs} methods, the{@link #CollectionCertStore(CertStoreParameters)CollectionCertStore(CertStoreParameters)} constructor is called to
                  create the &lt;code&gt;CertStore&lt;/code&gt; and establish the
                  &lt;code&gt;Collection&lt;/code&gt; from which &lt;code&gt;Certificate&lt;/code&gt;s and
                  &lt;code&gt;CRL&lt;/code&gt;s will be retrieved. If the specified
                  &lt;code&gt;Collection&lt;/code&gt; contains an object that is not a
                  &lt;code&gt;Certificate&lt;/code&gt; or &lt;code&gt;CRL&lt;/code&gt;, that object will be
                  ignored.
                  &lt;p&gt;
                  &lt;b&gt;Concurrent Access&lt;/b&gt;
                  &lt;p&gt;
                  As described in the javadoc for &lt;code&gt;CertStoreSpi&lt;/code&gt;, the
                  &lt;code&gt;engineGetCertificates&lt;/code&gt; and &lt;code&gt;engineGetCRLs&lt;/code&gt; methods
                  must be thread-safe. That is, multiple threads may concurrently
                  invoke these methods on a single &lt;code&gt;CollectionCertStore&lt;/code&gt;
                  object (or more than one) with no ill effects.
                  &lt;p&gt;
                  This is achieved by requiring that the &lt;code&gt;Collection&lt;/code&gt; passed to
                  the {@link #CollectionCertStore(CertStoreParameters)CollectionCertStore(CertStoreParameters)} constructor (via the
                  &lt;code&gt;CollectionCertStoreParameters&lt;/code&gt; object) must have fail-fast
                  iterators. Simultaneous modifications to the &lt;code&gt;Collection&lt;/code&gt; can thus be
                  detected and certificate or CRL retrieval can be retried. The fact that
                  &lt;code&gt;Certificate&lt;/code&gt;s and &lt;code&gt;CRL&lt;/code&gt;s must be thread-safe is also
                  essential.                
                <see>
                    java.security.cert.CertStore                    
                </see>
                <since>
                    1.4                    
                </since>
                <author>
                    Steve Hanna                    
                </author>
            </javadoc>
            <declaration name="coll" type="Collection&lt;?&gt;" line="82"/>
            <javadoc line="84">
                Creates a &lt;code&gt;CertStore&lt;/code&gt; with the specified parameters.
                  For this class, the parameters object must be an instance of
                  &lt;code&gt;CollectionCertStoreParameters&lt;/code&gt;. The &lt;code&gt;Collection&lt;/code&gt;
                  included in the &lt;code&gt;CollectionCertStoreParameters&lt;/code&gt; object
                  must be thread-safe.                
                <param>
                    params the algorithm parameters                    
                </param>
                <exception>
                    InvalidAlgorithmParameterException if params is not an
                      instance of &lt;code&gt;CollectionCertStoreParameters&lt;/code&gt;                    
                </exception>
            </javadoc>
            <method name="CollectionCertStore" type="constructor" line="97">
                <params>
                    <param name="params" type="CertStoreParameters"/>
                </params>
            </method>
            <javadoc line="105">
                Returns a &lt;code&gt;Collection&lt;/code&gt; of &lt;code&gt;Certificate&lt;/code&gt;s that
                  match the specified selector. If no &lt;code&gt;Certificate&lt;/code&gt;s
                  match the selector, an empty &lt;code&gt;Collection&lt;/code&gt; will be returned.                
                <param>
                    selector a &lt;code&gt;CertSelector&lt;/code&gt; used to select which
                      &lt;code&gt;Certificate&lt;/code&gt;s should be returned. Specify &lt;code&gt;null&lt;/code&gt;
                      to return all &lt;code&gt;Certificate&lt;/code&gt;s.                    
                </param>
                <return>
                    a &lt;code&gt;Collection&lt;/code&gt; of &lt;code&gt;Certificate&lt;/code&gt;s that
                      match the specified selector                    
                </return>
                <throws>
                    CertStoreException if an exception occurs                    
                </throws>
            </javadoc>
            <method name="engineGetCertificates" type="Collection<Certificate>" line="118">
                <params>
                    <param name="selector" type="CertSelector"/>
                </params>
                <comment line="123">
                    Tolerate a few ConcurrentModificationExceptions                    
                </comment>
                <scope line="119"/>
                <scope line="123">
                    <scope line="124">
                        <declaration name="result" type="HashSet&lt;Certificate&gt;" line="125"/>
                        <declaration name="i" type="Iterator&lt;?&gt;" line="126"/>
                        <scope line="127">
                            <scope line="128">
                                <declaration name="o" type="Object" line="129"/>
                            </scope>
                        </scope>
                        <scope line="134">
                            <scope line="135">
                                <declaration name="o" type="Object" line="136"/>
                            </scope>
                        </scope>
                    </scope>
                    <scope line="142"/>
                </scope>
            </method>
            <javadoc line="148">
                Returns a &lt;code&gt;Collection&lt;/code&gt; of &lt;code&gt;CRL&lt;/code&gt;s that
                  match the specified selector. If no &lt;code&gt;CRL&lt;/code&gt;s
                  match the selector, an empty &lt;code&gt;Collection&lt;/code&gt; will be returned.                
                <param>
                    selector a &lt;code&gt;CRLSelector&lt;/code&gt; used to select which
                      &lt;code&gt;CRL&lt;/code&gt;s should be returned. Specify &lt;code&gt;null&lt;/code&gt;
                      to return all &lt;code&gt;CRL&lt;/code&gt;s.                    
                </param>
                <return>
                    a &lt;code&gt;Collection&lt;/code&gt; of &lt;code&gt;CRL&lt;/code&gt;s that
                      match the specified selector                    
                </return>
                <throws>
                    CertStoreException if an exception occurs                    
                </throws>
            </javadoc>
            <method name="engineGetCRLs" type="Collection<CRL>" line="162">
                <params>
                    <param name="selector" type="CRLSelector"/>
                </params>
                <comment line="167">
                    Tolerate a few ConcurrentModificationExceptions                    
                </comment>
                <scope line="167">
                    <scope line="168">
                        <declaration name="result" type="HashSet&lt;CRL&gt;" line="169"/>
                        <declaration name="i" type="Iterator&lt;?&gt;" line="170"/>
                        <scope line="171">
                            <scope line="172">
                                <declaration name="o" type="Object" line="173"/>
                            </scope>
                        </scope>
                        <scope line="177">
                            <scope line="178">
                                <declaration name="o" type="Object" line="179"/>
                            </scope>
                        </scope>
                    </scope>
                    <scope line="185"/>
                </scope>
            </method>
        </class>
    </source>