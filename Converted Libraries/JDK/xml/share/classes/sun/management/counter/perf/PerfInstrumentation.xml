<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.management.counter.perf">
        <import package="sun.management.counter"/>
        <import package="java.nio"/>
        <import package="java.util"/>
        <import package="java.util.regex"/>
        <class name="PerfInstrumentation" line="33">
            <declaration name="buffer" type="ByteBuffer" line="34"/>
            <declaration name="prologue" type="Prologue" line="35"/>
            <declaration name="lastModificationTime" type="long" line="36"/>
            <declaration name="lastUsed" type="long" line="37"/>
            <declaration name="nextEntry" type="int" line="38"/>
            <declaration name="map" type="SortedMap&lt;String,Counter&gt;" line="39"/>
            <method name="PerfInstrumentation" type="constructor" line="41">
                <params>
                    <param name="b" type="ByteBuffer"/>
                </params>
                <comment line="47">
                    Check recognized versions                    
                </comment>
                <comment line="51">
                    Support only 2.0 version                    
                </comment>
                <declaration name="major" type="int" line="47"/>
                <declaration name="minor" type="int" line="48"/>
                <scope line="51"/>
            </method>
            <method name="getMajorVersion" type="int" line="58"/>
            <method name="getMinorVersion" type="int" line="62"/>
            <method name="getModificationTimeStamp" type="long" line="66"/>
            <method name="rewind" type="void" line="70">
                <comment line="72">
                    rewind to the first entry                    
                </comment>
                <comment line="76">
                    rebuild all the counters                    
                </comment>
            </method>
            <method name="hasNext" type="boolean" line="79"/>
            <method name="getNextCounter" type="Counter" line="83">
                <comment line="90">
                    entries are always 4 byte aligned.                    
                </comment>
                <comment line="96">
                    defensive check to protect against a corrupted shared memory region.                    
                </comment>
                <comment line="123">
                    ByteArrayCounter must have vectorLength &gt; 0                    
                </comment>
                <comment line="144">
                    FIXME: Should we throw an exception for unsupported type?
                     Currently skip such entry                    
                </comment>
                <scope line="84"/>
                <scope line="88"/>
                <scope line="94"/>
                <declaration name="entry" type="PerfDataEntry" line="102"/>
                <declaration name="counter" type="Counter" line="105"/>
                <declaration name="type" type="PerfDataType" line="106"/>
                <scope line="107">
                    <scope line="108"/>
                    <scope line="114"/>
                    <scope line="121"/>
                </scope>
                <scope line="126">
                    <scope line="127"/>
                    <scope line="133"/>
                </scope>
                <scope line="142"/>
            </method>
            <method name="getAllCounters" type="List<Counter>" line="150">
                <scope line="151">
                    <declaration name="c" type="Counter" line="152"/>
                    <scope line="153"/>
                </scope>
            </method>
            <method name="findByPattern" type="List<Counter>" line="160">
                <params>
                    <param name="patternString" type="String"/>
                </params>
                <comment line="178">
                    apply pattern to counter name                    
                </comment>
                <comment line="181">
                    if the pattern matches, then add Counter to list                    
                </comment>
                <scope line="161">
                    <declaration name="c" type="Counter" line="162"/>
                    <scope line="163"/>
                </scope>
                <declaration name="pattern" type="Pattern" line="168"/>
                <declaration name="matcher" type="Matcher" line="169"/>
                <declaration name="matches" type="List&lt;Counter&gt;" line="170"/>
                <declaration name="iter" type="Iterator" line="172"/>
                <scope line="173">
                    <declaration name="me" type="Map.Entry" line="174"/>
                    <declaration name="name" type="String" line="175"/>
                    <scope line="181"/>
                </scope>
            </method>
        </class>
    </source>