<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.io">
        <import package="java.io.UnsupportedEncodingException"/>
        <import package="sun.nio.cs.ext.JISAutoDetect"/>
        <class name="ByteToCharJISAutoDetect" line="30">
            <extends class="ByteToCharConverter"/>
            <comment line="44">
                SJISName is set to either &quot;SJIS&quot; or &quot;MS932&quot;                
            </comment>
            <declaration name="EUCJP_MASK" type="int" line="32"/>
            <declaration name="SJIS2B_MASK" type="int" line="33"/>
            <declaration name="SJIS1B_MASK" type="int" line="34"/>
            <declaration name="EUCJP_KANA1_MASK" type="int" line="35"/>
            <declaration name="EUCJP_KANA2_MASK" type="int" line="36"/>
            <declaration name="maskTable1" type="byte[]" line="37"/>
            <declaration name="maskTable2" type="byte[]" line="38"/>
            <declaration name="SS2" type="int" line="40"/>
            <declaration name="SS3" type="int" line="41"/>
            <declaration name="SJISName" type="String" line="44"/>
            <declaration name="EUCJPName" type="String" line="45"/>
            <declaration name="convName" type="String" line="47"/>
            <declaration name="detectedConv" type="ByteToCharConverter" line="48"/>
            <declaration name="defaultConv" type="ByteToCharConverter" line="49"/>
            <method name="ByteToCharJISAutoDetect" type="constructor" line="51"/>
            <method name="flush" type="int" line="62">
                <params>
                    <param name="output" type="char[]"/>
                    <param name="outStart" type="int"/>
                    <param name="outEnd" type="int"/>
                </params>
            </method>
            <javadoc line="71">
                Character conversion                
            </javadoc>
            <method name="convert" type="int" line="78">
                <params>
                    <param name="input" type="byte[]"/>
                    <param name="inOff" type="int"/>
                    <param name="inEnd" type="int"/>
                    <param name="output" type="char[]"/>
                    <param name="outOff" type="int"/>
                    <param name="outEnd" type="int"/>
                </params>
                <comment line="99">
                    TODO: should check valid escape sequences!                    
                </comment>
                <comment line="105">
                    Try to convert all leading ASCII characters.                    
                </comment>
                <comment line="115">
                    We can no longer convert ASCII.                    
                </comment>
                <comment line="137">
                    If the first byte is a SS3 and the third byte                    
                </comment>
                <comment line="138">
                    is not an EUC byte, it should be SJIS.                    
                </comment>
                <comment line="139">
                    Otherwise, we can&apos;t determine it yet, but it&apos;s                    
                </comment>
                <comment line="140">
                    very likely SJIS. So we don&apos;t take the EUCJP CS3                    
                </comment>
                <comment line="141">
                    character boundary. If we tried both                    
                </comment>
                <comment line="142">
                    possibilities here, it might be able to be                    
                </comment>
                <comment line="143">
                    determined correctly.                    
                </comment>
                <comment line="184">
                    If we fail to detect the converter needed for any reason,                    
                </comment>
                <comment line="185">
                    use the default converter.                    
                </comment>
                <comment line="189">
                    If we&apos;ve converted all ASCII characters, then return.                    
                </comment>
                <declaration name="num" type="int" line="79"/>
                <scope line="84">
                    <scope line="85">
                        <declaration name="euckana" type="int" line="86"/>
                        <declaration name="ss2count" type="int" line="87"/>
                        <declaration name="firstmask" type="int" line="88"/>
                        <declaration name="secondmask" type="int" line="89"/>
                        <declaration name="cnt" type="int" line="90"/>
                        <declaration name="nonAsciiFound" type="boolean" line="91"/>
                        <scope line="93">
                            <declaration name="byte1" type="int" line="96"/>
                            <declaration name="byte2" type="int" line="97"/>
                            <scope line="100"/>
                            <scope line="106"/>
                            <scope line="122">
                                <scope line="123">
                                    <declaration name="mask" type="int" line="126"/>
                                    <scope line="127"/>
                                    <scope line="132"/>
                                    <scope line="144">
                                        <scope line="145">
                                            <declaration name="nextbyte" type="int" line="146"/>
                                        </scope>
                                    </scope>
                                </scope>
                                <scope line="154">
                                    <scope line="155"/>
                                </scope>
                            </scope>
                        </scope>
                        <scope line="163"/>
                        <scope line="170">
                            <scope line="171"/>
                            <scope line="175"/>
                        </scope>
                    </scope>
                </scope>
                <scope line="181"/>
                <scope line="183"/>
                <scope line="190"/>
                <scope line="194">
                    <scope line="195"/>
                    <scope line="198"/>
                </scope>
                <scope line="203">
                    <scope line="204"/>
                    <scope line="207"/>
                </scope>
            </method>
            <method name="reset" type="void" line="216">
                <scope line="217"/>
            </method>
            <method name="getCharacterEncoding" type="String" line="226"/>
            <method name="toString" type="String" line="230">
                <declaration name="s" type="String" line="231"/>
                <scope line="232"/>
                <scope line="234"/>
            </method>
        </class>
    </source>