<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.net">
        <import package="java.io"/>
        <import package="java.net.Socket"/>
        <import package="java.net.InetAddress"/>
        <import package="java.net.InetSocketAddress"/>
        <import package="java.net.UnknownHostException"/>
        <import package="java.net.Proxy"/>
        <import package="java.util.Arrays"/>
        <import package="java.security.AccessController"/>
        <import package="java.security.PrivilegedAction"/>
        <class name="NetworkClient" line="11">
            <javadoc line="11">
                This is the base class for network clients.                
                <author>
                    Jonathan Payne                    
                </author>
            </javadoc>
            <declaration name="DEFAULT_READ_TIMEOUT" type="int" line="16"/>
            <declaration name="DEFAULT_CONNECT_TIMEOUT" type="int" line="17"/>
            <declaration name="proxy" type="Proxy" line="18"/>
            <declaration name="serverSocket" type="Socket" line="19"/>
            <javadoc line="19">
                Socket for communicating with server.                
            </javadoc>
            <declaration name="serverOutput" type="PrintStream" line="23"/>
            <javadoc line="23">
                Stream for printing to the server.                
            </javadoc>
            <declaration name="serverInput" type="InputStream" line="27"/>
            <javadoc line="27">
                Buffered stream for reading replies from server.                
            </javadoc>
            <declaration name="defaultSoTimeout" type="int" line="31"/>
            <declaration name="defaultConnectTimeout" type="int" line="32"/>
            <declaration name="readTimeout" type="int" line="33"/>
            <declaration name="connectTimeout" type="int" line="34"/>
            <declaration name="encoding" type="String" line="35"/>
            <scope line="36">
                <declaration name="vals" type="int" line="37"/>
                <declaration name="encs" type="String" line="38"/>
                <anonymous_class line="39">
                    <method name="run" type="Void" line="40"/>
                </anonymous_class>
                <scope line="48"/>
                <scope line="51"/>
                <scope line="55">
                    <scope line="56"/>
                </scope>
                <scope line="60"/>
            </scope>
            <javadoc line="64">
                Test the named character encoding to verify that it converts ASCII
                  characters correctly. We have to use an ASCII based encoding, or else
                  the NetworkClients will not work correctly in EBCDIC based systems.
                  However, we cannot just use ASCII or ISO8859_1 universally, because in
                  Asian locales, non-ASCII characters may be embedded in otherwise
                  ASCII based protocols (eg. HTTP). The specifications (RFC2616, 2398)
                  are a little ambiguous in this matter. For instance, RFC2398 [part 2.1]
                  says that the HTTP request URI should be escaped using a defined
                  mechanism, but there is no way to specify in the escaped string what
                  the original character set is. It is not correct to assume that
                  UTF-8 is always used (as in URLs in HTML 4.0).  For this reason,
                  until the specifications are updated to deal with this issue more
                  comprehensively, and more importantly, HTTP servers are known to
                  support these mechanisms, we will maintain the current behavior
                  where it is possible to send non-ASCII characters in their original
                  unescaped form.                
            </javadoc>
            <method name="isASCIISuperset" type="boolean" line="82">
                <params>
                    <param name="encoding" type="String"/>
                </params>
                <declaration name="chkS" type="String" line="83"/>
                <declaration name="chkB" type="byte[]" line="84"/>
                <declaration name="b" type="byte[]" line="85"/>
            </method>
            <javadoc line="88">
                Open a connection to the server.                
            </javadoc>
            <method name="openServer" type="void" line="91">
                <params>
                    <param name="server" type="String"/>
                    <param name="port" type="int"/>
                </params>
                <scope line="94"/>
                <scope line="97"/>
            </method>
            <javadoc line="102">
                Return a socket connected to the server, with any
                  appropriate options pre-established                
            </javadoc>
            <method name="doConnect" type="Socket" line="106">
                <params>
                    <param name="server" type="String"/>
                    <param name="port" type="int"/>
                </params>
                <declaration name="s" type="Socket" line="107"/>
                <scope line="108">
                    <scope line="109">
                        <anonymous_class line="110">
                            <method name="run" type="Socket" line="111"/>
                        </anonymous_class>
                    </scope>
                    <scope line="117"/>
                    <scope line="120"/>
                </scope>
                <scope line="125"/>
                <scope line="128">
                    <scope line="129"/>
                    <scope line="132"/>
                </scope>
                <scope line="137"/>
            </method>
            <javadoc line="142">
                The following method, createSocket, is provided to allow the
                  https client to override it so that it may use its socket factory
                  to create the socket.                
            </javadoc>
            <method name="createSocket" type="Socket" line="147"/>
            <method name="getLocalAddress" type="InetAddress" line="150"/>
            <javadoc line="154">
                Close an open connection to the server.                
            </javadoc>
            <method name="closeServer" type="void" line="157">
                <scope line="158"/>
            </method>
            <javadoc line="166">
                Return server connection status                
            </javadoc>
            <method name="serverIsOpen" type="boolean" line="169"/>
            <javadoc line="172">
                Create connection with host &lt;i&gt;host&lt;/i&gt; on port &lt;i&gt;port&lt;/i&gt;                
            </javadoc>
            <method name="NetworkClient" type="constructor" line="175">
                <params>
                    <param name="host" type="String"/>
                    <param name="port" type="int"/>
                </params>
            </method>
            <method name="NetworkClient" type="constructor" line="178"/>
            <method name="setConnectTimeout" type="void" line="180">
                <params>
                    <param name="timeout" type="int"/>
                </params>
            </method>
            <method name="getConnectTimeout" type="int" line="183"/>
            <javadoc line="186">
                Sets the read timeout.
                  Note: Public URLConnection (and protocol specific implementations)
                  protect against negative timeout values being set. This implemenation,
                  and protocol specific implementations, use -1 to represent the default
                  read timeout.
                  This method may be invoked with the default timeout value when the
                  protocol handler is trying to reset the timeout after doing a
                  potentially blocking internal operation, e.g. cleaning up unread
                  response data, buffering error stream response data, etc                
            </javadoc>
            <method name="setReadTimeout" type="void" line="197">
                <params>
                    <param name="timeout" type="int"/>
                </params>
                <scope line="199">
                    <scope line="200"/>
                    <scope line="203"/>
                </scope>
            </method>
            <method name="getReadTimeout" type="int" line="208"/>
        </class>
    </source>