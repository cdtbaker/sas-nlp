<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.net.ftp.impl">
        <import package="java.net"/>
        <import package="java.io"/>
        <import package="java.security.AccessController"/>
        <import package="java.security.PrivilegedAction"/>
        <import package="java.text.DateFormat"/>
        <import package="java.text.ParseException"/>
        <import package="java.text.SimpleDateFormat"/>
        <import package="java.util.ArrayList"/>
        <import package="java.util.Calendar"/>
        <import package="java.util.Date"/>
        <import package="java.util.Iterator"/>
        <import package="java.util.List"/>
        <import package="java.util.TimeZone"/>
        <import package="java.util.Vector"/>
        <import package="java.util.regex.Matcher"/>
        <import package="java.util.regex.Pattern"/>
        <import package="javax.net.ssl.SSLSocket"/>
        <import package="javax.net.ssl.SSLSocketFactory"/>
        <import package="sun.misc.BASE64Decoder"/>
        <import package="sun.misc.BASE64Encoder"/>
        <import package="sun.net.ftp"/>
        <import package="sun.util.logging.PlatformLogger"/>
        <class name="FtpClient" line="51">
            <extends class="sun.net.ftp.FtpClient"/>
            <comment line="65">
                                
            </comment>
            <comment line="83">
                -1 means &apos;unknown size&apos;                
            </comment>
            <declaration name="defaultSoTimeout" type="int" line="53"/>
            <declaration name="defaultConnectTimeout" type="int" line="54"/>
            <declaration name="logger" type="PlatformLogger" line="55"/>
            <declaration name="proxy" type="Proxy" line="57"/>
            <declaration name="server" type="Socket" line="58"/>
            <declaration name="out" type="PrintStream" line="59"/>
            <declaration name="in" type="InputStream" line="60"/>
            <declaration name="readTimeout" type="int" line="61"/>
            <declaration name="connectTimeout" type="int" line="62"/>
            <declaration name="encoding" type="String" line="65"/>
            <declaration name="serverAddr" type="InetSocketAddress" line="66"/>
            <javadoc line="66">
                remember the ftp server name because we may need it                
            </javadoc>
            <declaration name="replyPending" type="boolean" line="68"/>
            <declaration name="loggedIn" type="boolean" line="69"/>
            <declaration name="useCrypto" type="boolean" line="70"/>
            <declaration name="sslFact" type="SSLSocketFactory" line="71"/>
            <declaration name="oldSocket" type="Socket" line="72"/>
            <declaration name="serverResponse" type="Vector&lt;String&gt;" line="73"/>
            <javadoc line="73">
                Array of strings (usually 1 entry) for the last reply from the server.                
            </javadoc>
            <declaration name="lastReplyCode" type="FtpReplyCode" line="75"/>
            <javadoc line="75">
                The last reply code from the ftp daemon.                
            </javadoc>
            <declaration name="welcomeMsg" type="String" line="77"/>
            <javadoc line="77">
                Welcome message from the server, if any.                
            </javadoc>
            <declaration name="passiveMode" type="boolean" line="79"/>
            <declaration name="type" type="TransferType" line="80"/>
            <declaration name="restartOffset" type="long" line="81"/>
            <declaration name="lastTransSize" type="long" line="82"/>
            <declaration name="lastFileName" type="String" line="83"/>
            <declaration name="patStrings" type="String[]" line="84"/>
            <javadoc line="84">
                Static members used by the parser                
            </javadoc>
            <declaration name="patternGroups" type="int[][]" line="97"/>
            <declaration name="patterns" type="Pattern[]" line="104"/>
            <declaration name="linkp" type="Pattern" line="105"/>
            <declaration name="df" type="DateFormat" line="106"/>
            <scope line="108">
                <declaration name="vals" type="int" line="109"/>
                <declaration name="encs" type="String" line="110"/>
                <anonymous_class line="113">
                    <method name="run" type="Object" line="115"/>
                </anonymous_class>
                <scope line="122"/>
                <scope line="124"/>
                <scope line="128"/>
                <scope line="130"/>
                <scope line="135">
                    <scope line="136"/>
                </scope>
                <scope line="139"/>
                <scope line="144"/>
            </scope>
            <javadoc line="149">
                Test the named character encoding to verify that it converts ASCII
                  characters correctly. We have to use an ASCII based encoding, or else
                  the NetworkClients will not work correctly in EBCDIC based systems.
                  However, we cannot just use ASCII or ISO8859_1 universally, because in
                  Asian locales, non-ASCII characters may be embedded in otherwise
                  ASCII based protocols (eg. HTTP). The specifications (RFC2616, 2398)
                  are a little ambiguous in this matter. For instance, RFC2398 [part 2.1]
                  says that the HTTP request URI should be escaped using a defined
                  mechanism, but there is no way to specify in the escaped string what
                  the original character set is. It is not correct to assume that
                  UTF-8 is always used (as in URLs in HTML 4.0).  For this reason,
                  until the specifications are updated to deal with this issue more
                  comprehensively, and more importantly, HTTP servers are known to
                  support these mechanisms, we will maintain the current behavior
                  where it is possible to send non-ASCII characters in their original
                  unescaped form.                
            </javadoc>
            <method name="isASCIISuperset" type="boolean" line="167">
                <params>
                    <param name="encoding" type="String"/>
                </params>
                <comment line="172">
                    Expected byte sequence for string above                    
                </comment>
                <declaration name="chkS" type="String" line="168"/>
                <declaration name="chkB" type="byte[]" line="172"/>
                <declaration name="b" type="byte[]" line="178"/>
            </method>
            <class name="DefaultParser" line="182">
                <implements interface="FtpDirParser"/>
                <javadoc line="184">
                    Possible patterns:
                      drwxr-xr-x  1 user01        ftp   512 Jan 29 23:32 prog
                      drwxr-xr-x  1 user01        ftp   512 Jan 29 1997 prog
                      drwxr-xr-x  1 1             1     512 Jan 29 23:32 prog
                      lrwxr-xr-x  1 user01        ftp   512 Jan 29 23:32 prog -&gt; prog2000
                      drwxr-xr-x  1 username      ftp   512 Jan 29 23:32 prog
                      -rw-r--r--  1 jcc      staff     105009 Feb  3 15:05 test.1
                      01-29-97    11:32PM &lt;DIR&gt; prog
                      04/28/2006  09:12a               3,563 genBuffer.sh
                      drwxr-xr-x  folder   0       Jan 29 23:32 prog
                      0 DIR 01-29-97 23:32 PROG                    
                </javadoc>
                <method name="DefaultParser" type="constructor" line="201"/>
                <method name="parseLine" type="FtpDirEntry" line="204">
                    <params>
                        <param name="line" type="String"/>
                    </params>
                    <comment line="221">
                        0 - file, 1 - size, 2 - date, 3 - time, 4 - year,
                         5 - permissions, 6 - user, 7 - group                        
                    </comment>
                    <comment line="244">
                        Old DOS format                        
                    </comment>
                    <comment line="266">
                        see if it&apos;s a symbolic link, i.e. the name if followed
                         by a -&gt; and a path                        
                    </comment>
                    <comment line="270">
                        Keep only the name then                        
                    </comment>
                    <declaration name="fdate" type="String" line="205"/>
                    <declaration name="fsize" type="String" line="206"/>
                    <declaration name="time" type="String" line="207"/>
                    <declaration name="filename" type="String" line="208"/>
                    <declaration name="permstring" type="String" line="209"/>
                    <declaration name="username" type="String" line="210"/>
                    <declaration name="groupname" type="String" line="211"/>
                    <declaration name="dir" type="boolean" line="212"/>
                    <declaration name="now" type="Calendar" line="213"/>
                    <declaration name="year" type="int" line="214"/>
                    <declaration name="m" type="Matcher" line="216"/>
                    <scope line="217">
                        <scope line="219">
                            <scope line="225"/>
                            <scope line="227"/>
                            <scope line="230"/>
                            <scope line="233"/>
                            <scope line="237"/>
                            <scope line="240"/>
                            <scope line="244"/>
                        </scope>
                    </scope>
                    <scope line="251">
                        <declaration name="d" type="Date" line="252"/>
                        <scope line="253"/>
                        <scope line="255"/>
                        <scope line="258">
                            <declaration name="c" type="int" line="259"/>
                        </scope>
                        <declaration name="m2" type="Matcher" line="267"/>
                        <scope line="268"/>
                        <declaration name="perms" type="boolean[][]" line="272"/>
                        <scope line="273">
                            <scope line="274"/>
                        </scope>
                        <declaration name="file" type="FtpDirEntry" line="278"/>
                    </scope>
                </method>
            </class>
            <class name="MLSxParser" line="289">
                <implements interface="FtpDirParser"/>
                <declaration name="df" type="SimpleDateFormat" line="291"/>
                <method name="parseLine" type="FtpDirEntry" line="293">
                    <params>
                        <param name="line" type="String"/>
                    </params>
                    <declaration name="name" type="String" line="294"/>
                    <declaration name="i" type="int" line="295"/>
                    <scope line="296"/>
                    <scope line="299"/>
                    <declaration name="file" type="FtpDirEntry" line="303"/>
                    <scope line="304">
                        <declaration name="s" type="String" line="305"/>
                        <scope line="307"/>
                        <scope line="310"/>
                        <scope line="315">
                            <declaration name="fact" type="String" line="316"/>
                            <declaration name="value" type="String" line="317"/>
                        </scope>
                    </scope>
                    <declaration name="s" type="String" line="321"/>
                    <scope line="322"/>
                    <scope line="326">
                        <declaration name="d" type="Date" line="327"/>
                        <scope line="328"/>
                        <scope line="330"/>
                        <scope line="332"/>
                    </scope>
                    <scope line="337">
                        <declaration name="d" type="Date" line="338"/>
                        <scope line="339"/>
                        <scope line="341"/>
                        <scope line="343"/>
                    </scope>
                    <scope line="348">
                        <scope line="349"/>
                        <scope line="352"/>
                        <scope line="355"/>
                        <scope line="358"/>
                    </scope>
                </method>
            </class>
            <declaration name="parser" type="FtpDirParser" line="365"/>
            <declaration name="mlsxParser" type="FtpDirParser" line="366"/>
            <declaration name="transPat" type="Pattern" line="367"/>
            <method name="getTransferSize" type="void" line="369">
                <comment line="372">
                    If it&apos;s a start of data transfer response, let&apos;s try to extract
                     the size from the response string. Usually it looks like that:
                    
                     150 Opening BINARY mode data connection for foo (6701 bytes).                    
                </comment>
                <declaration name="response" type="String" line="377"/>
                <scope line="378"/>
                <declaration name="m" type="Matcher" line="381"/>
                <scope line="382">
                    <declaration name="s" type="String" line="383"/>
                </scope>
            </method>
            <javadoc line="388">
                extract the created file name from the response string:
                  226 Transfer complete (unique file name:toto.txt.1).
                  Usually happens when a STOU (store unique) command had been issued.                
            </javadoc>
            <method name="getTransferName" type="void" line="393">
                <comment line="400">
                    Length of &quot;unique file name:&quot;                    
                </comment>
                <declaration name="response" type="String" line="395"/>
                <declaration name="i" type="int" line="396"/>
                <declaration name="e" type="int" line="397"/>
                <scope line="398"/>
            </method>
            <javadoc line="404">
                Pulls the response from the server and returns the code as a
                  number. Returns -1 on failure.                
            </javadoc>
            <method name="readServerResponse" type="int" line="408">
                <comment line="443">
                    this line doesn&apos;t contain a response code, so                    
                </comment>
                <comment line="450">
                                        
                </comment>
                <comment line="455">
                                        
                </comment>
                <declaration name="replyBuf" type="StringBuffer" line="409"/>
                <declaration name="c" type="int" line="410"/>
                <declaration name="continuingCode" type="int" line="411"/>
                <declaration name="code" type="int" line="412"/>
                <declaration name="response" type="String" line="413"/>
                <scope line="416">
                    <scope line="417">
                        <scope line="418">
                            <scope line="419"/>
                        </scope>
                        <scope line="424"/>
                    </scope>
                    <scope line="430"/>
                    <scope line="434"/>
                    <scope line="436">
                        <scope line="437"/>
                        <scope line="439"/>
                        <scope line="441"/>
                    </scope>
                    <scope line="448">
                        <scope line="451"/>
                        <scope line="453"/>
                    </scope>
                    <scope line="458"/>
                    <scope line="461"/>
                </scope>
            </method>
            <javadoc line="469">
                Sends command &lt;i&gt;cmd&lt;/i&gt; to the server.                
            </javadoc>
            <method name="sendServer" type="void" line="470">
                <params>
                    <param name="cmd" type="String"/>
                </params>
                <scope line="472"/>
            </method>
            <javadoc line="477">
                converts the server response into a string.                
            </javadoc>
            <method name="getResponseString" type="String" line="478"/>
            <javadoc line="482">
                Returns all server response strings.                
            </javadoc>
            <method name="getResponseStrings" type="Vector<String>" line="483"/>
            <javadoc line="487">
                Read the reply from the FTP server.                
                <return>
                    &lt;code&gt;true&lt;/code&gt; if the command was successful                    
                </return>
                <throws>
                    IOException if an error occured                    
                </throws>
            </javadoc>
            <method name="readReply" type="boolean" line="493">
                <scope line="496"/>
                <scope line="500">
                    <scope line="501"/>
                </scope>
            </method>
            <javadoc line="509">
                Sends a command to the FTP server and returns the error code
                  (which can be a &quot;success&quot;) sent by the server.                
                <param>
                    cmd                    
                </param>
                <return>
                    &lt;code&gt;true&lt;/code&gt; if the command was successful                    
                </return>
                <throws>
                    IOException                    
                </throws>
            </javadoc>
            <method name="issueCommand" type="boolean" line="517">
                <params>
                    <param name="cmd" type="String"/>
                </params>
                <comment line="526">
                    ignore...                    
                </comment>
                <scope line="518"/>
                <scope line="521">
                    <scope line="522"/>
                    <scope line="524"/>
                </scope>
            </method>
            <javadoc line="532">
                Send a command to the FTP server and check for success.                
                <param>
                    cmd String containing the command                    
                </param>
                <throws>
                    FtpProtocolException if an error occured                    
                </throws>
            </javadoc>
            <method name="issueCommandCheck" type="void" line="539">
                <params>
                    <param name="cmd" type="String"/>
                </params>
                <scope line="540"/>
            </method>
            <declaration name="epsvPat" type="Pattern" line="544"/>
            <declaration name="pasvPat" type="Pattern" line="545"/>
            <javadoc line="547">
                Opens a &quot;PASSIVE&quot; connection with the server and returns the connected
                  &lt;code&gt;Socket&lt;/code&gt;.                
                <return>
                    the connected &lt;code&gt;Socket&lt;/code&gt;                    
                </return>
                <throws>
                    IOException if the connection was unsuccessful.                    
                </throws>
            </javadoc>
            <method name="openPassiveDataConnection" type="Socket" line="554">
                <params>
                    <param name="cmd" type="String"/>
                </params>
                <comment line="560">
                    Here is the idea:
                    
                     - First we want to try the new (and IPv6 compatible) EPSV command
                       But since we want to be nice with NAT software, we&apos;ll issue the
                       EPSV ALL command first.
                       EPSV is documented in RFC2428
                     - If EPSV fails, then we fall back to the older, yet ok, PASV
                     - If PASV fails as well, then we throw an exception and the calling
                       method will have to try the EPRT or PORT command                    
                </comment>
                <comment line="572">
                    We can safely use EPSV commands                    
                </comment>
                <comment line="576">
                    The response string from a EPSV command will contain the port number
                     the format will be :
                      229 Entering Extended PASSIVE Mode (|||58210|)
                    
                     So we&apos;ll use the regular expresions package to parse the output.                    
                </comment>
                <comment line="589">
                    Yay! Let&apos;s extract the port number                    
                </comment>
                <comment line="596">
                    This means we used an Unresolved address to connect in
                     the first place. Most likely because the proxy is doing
                     the name resolution for us, so let&apos;s keep using unresolved
                     address.                    
                </comment>
                <comment line="603">
                    EPSV ALL failed, so Let&apos;s try the regular PASV cmd                    
                </comment>
                <comment line="607">
                    Let&apos;s parse the response String to get the IP &amp; port to connect
                     to. The String should be in the following format :
                    
                     227 Entering PASSIVE Mode (A1,A2,A3,A4,p1,p2)
                    
                     Note that the two parenthesis are optional
                    
                     The IP address is A1.A2.A3.A4 and the port is p1 * 256 + p2
                    
                     The regular expression is a bit more complex this time, because
                     the parenthesis are optionals and we have to use 3 groups.                    
                </comment>
                <comment line="626">
                    Get port number out of group 2 &amp; 3                    
                </comment>
                <comment line="628">
                    IP address is simple                    
                </comment>
                <comment line="632">
                    Got everything, let&apos;s open the socket!                    
                </comment>
                <comment line="649">
                    Bind the socket to the same address as the control channel. This
                     is needed in case of multi-homed systems.                    
                </comment>
                <comment line="676">
                    Ensure backward compatibility                    
                </comment>
                <declaration name="serverAnswer" type="String" line="555"/>
                <declaration name="port" type="int" line="556"/>
                <declaration name="dest" type="InetSocketAddress" line="557"/>
                <scope line="570">
                    <scope line="581"/>
                    <declaration name="m" type="Matcher" line="584"/>
                    <scope line="585"/>
                    <declaration name="s" type="String" line="589"/>
                    <declaration name="add" type="InetAddress" line="591"/>
                    <scope line="592"/>
                    <scope line="594"/>
                </scope>
                <scope line="601">
                    <scope line="618"/>
                    <declaration name="m" type="Matcher" line="621"/>
                    <scope line="622"/>
                    <declaration name="s" type="String" line="628"/>
                </scope>
                <declaration name="s" type="Socket" line="632"/>
                <scope line="633">
                    <scope line="634">
                        <anonymous_class line="636">
                            <method name="run" type="Socket" line="638"/>
                        </anonymous_class>
                    </scope>
                    <scope line="642"/>
                </scope>
                <scope line="645"/>
                <scope line="651"/>
                <scope line="653">
                    <scope line="654"/>
                    <scope line="656"/>
                </scope>
                <scope line="660"/>
                <scope line="662"/>
                <scope line="665">
                    <scope line="666"/>
                    <scope line="668"/>
                </scope>
                <scope line="672">
                    <scope line="674"/>
                </scope>
            </method>
            <javadoc line="683">
                Opens a data connection with the server according to the set mode
                  (ACTIVE or PASSIVE) then send the command passed as an argument.                
                <param>
                    cmd the &lt;code&gt;String&lt;/code&gt; containing the command to execute                    
                </param>
                <return>
                    the connected &lt;code&gt;Socket&lt;/code&gt;                    
                </return>
                <throws>
                    IOException if the connection or command failed                    
                </throws>
            </javadoc>
            <method name="openDataConnection" type="Socket" line="691">
                <params>
                    <param name="cmd" type="String"/>
                </params>
                <comment line="699">
                    If Passive mode failed, fall back on PORT
                     Otherwise throw exception                    
                </comment>
                <comment line="712">
                    We&apos;re behind a firewall and the passive mode fail,
                     since we can&apos;t accept a connection through SOCKS (yet)
                     throw an exception                    
                </comment>
                <comment line="717">
                    Bind the ServerSocket to the same address as the control channel
                     This is needed for multi-homed systems                    
                </comment>
                <comment line="725">
                    Let&apos;s try the new, IPv6 compatible EPRT command
                     See RFC2428 for specifics
                     Some FTP servers (like the one on Solaris) are bugged, they
                     will accept the EPRT command but then, the subsequent command
                     (e.g. RETR) will fail, so we have to check BOTH results (the
                     EPRT cmd then the actual command) to decide wether we should
                     fall back on the older PORT command.                    
                </comment>
                <comment line="735">
                    The EPRT command failed, let&apos;s fall back to good old PORT                    
                </comment>
                <comment line="739">
                                        
                </comment>
                <comment line="744">
                                        
                </comment>
                <comment line="749">
                    Either the EPRT or the PORT command was successful
                     Let&apos;s create the client socket                    
                </comment>
                <declaration name="clientSocket" type="Socket" line="692"/>
                <scope line="694">
                    <scope line="695"/>
                    <scope line="697">
                        <declaration name="errmsg" type="String" line="700"/>
                        <scope line="701"/>
                    </scope>
                </scope>
                <declaration name="portSocket" type="ServerSocket" line="706"/>
                <declaration name="myAddress" type="InetAddress" line="707"/>
                <declaration name="portCmd" type="String" line="708"/>
                <scope line="710"/>
                <scope line="719">
                    <scope line="721"/>
                    <scope line="733">
                        <declaration name="addr" type="byte[]" line="736"/>
                        <scope line="739"/>
                    </scope>
                    <scope line="750"/>
                    <scope line="752">
                        <scope line="753"/>
                    </scope>
                    <scope line="758"/>
                    <scope line="760">
                        <scope line="761"/>
                    </scope>
                </scope>
                <scope line="765"/>
                <scope line="768">
                    <scope line="769"/>
                    <scope line="771"/>
                </scope>
            </method>
            <method name="createInputStream" type="InputStream" line="778">
                <params>
                    <param name="in" type="InputStream"/>
                </params>
                <scope line="779"/>
            </method>
            <method name="createOutputStream" type="OutputStream" line="785">
                <params>
                    <param name="out" type="OutputStream"/>
                </params>
                <scope line="786"/>
            </method>
            <javadoc line="792">
                Creates an instance of FtpClient. The client is not connected to any
                  server yet.                
            </javadoc>
            <method name="FtpClient" type="constructor" line="797"/>
            <javadoc line="800">
                Creates an instance of FtpClient. The client is not connected to any
                  server yet.                
            </javadoc>
            <method name="create" type="sun.net.ftp.FtpClient" line="805"/>
            <javadoc line="809">
                Set the transfer mode to &lt;I&gt;passive&lt;/I&gt;. In that mode, data connections
                  are established by having the client connect to the server.
                  This is the recommended default mode as it will work best through
                  firewalls and NATs.                
                <return>
                    This FtpClient                    
                </return>
                <see>
                    #setActiveMode()                    
                </see>
            </javadoc>
            <method name="enablePassiveMode" type="sun.net.ftp.FtpClient" line="818">
                <params>
                    <param name="passive" type="boolean"/>
                </params>
            </method>
            <javadoc line="823">
                Gets the current transfer mode.                
                <return>
                    the current &lt;code&gt;FtpTransferMode&lt;/code&gt;                    
                </return>
            </javadoc>
            <method name="isPassiveModeEnabled" type="boolean" line="828"/>
            <javadoc line="832">
                Sets the timeout value to use when connecting to the server,                
                <param>
                    timeout the timeout value, in milliseconds, to use for the connect
                      operation. A value of zero or less, means use the default timeout.                    
                </param>
                <return>
                    This FtpClient                    
                </return>
            </javadoc>
            <method name="setConnectTimeout" type="sun.net.ftp.FtpClient" line="840">
                <params>
                    <param name="timeout" type="int"/>
                </params>
            </method>
            <javadoc line="845">
                Returns the current connection timeout value.                
                <return>
                    the value, in milliseconds, of the current connect timeout.                    
                </return>
                <see>
                    #setConnectTimeout(int)                    
                </see>
            </javadoc>
            <method name="getConnectTimeout" type="int" line="851"/>
            <javadoc line="855">
                Sets the timeout value to use when reading from the server,                
                <param>
                    timeout the timeout value, in milliseconds, to use for the read
                      operation. A value of zero or less, means use the default timeout.                    
                </param>
                <return>
                    This FtpClient                    
                </return>
            </javadoc>
            <method name="setReadTimeout" type="sun.net.ftp.FtpClient" line="862">
                <params>
                    <param name="timeout" type="int"/>
                </params>
            </method>
            <javadoc line="867">
                Returns the current read timeout value.                
                <return>
                    the value, in milliseconds, of the current read timeout.                    
                </return>
                <see>
                    #setReadTimeout(int)                    
                </see>
            </javadoc>
            <method name="getReadTimeout" type="int" line="873"/>
            <method name="setProxy" type="sun.net.ftp.FtpClient" line="877">
                <params>
                    <param name="p" type="Proxy"/>
                </params>
            </method>
            <javadoc line="882">
                Get the proxy of this FtpClient                
                <return>
                    the &lt;code&gt;Proxy&lt;/code&gt;, this client is using, or &lt;code&gt;null&lt;/code&gt;
                      if none is used.                    
                </return>
                <see>
                    #setProxy(Proxy)                    
                </see>
            </javadoc>
            <method name="getProxy" type="Proxy" line="889"/>
            <javadoc line="893">
                Connects to the specified destination.                
                <param>
                    dest the &lt;code&gt;InetSocketAddress&lt;/code&gt; to connect to.                    
                </param>
                <throws>
                    IOException if the connection fails.                    
                </throws>
            </javadoc>
            <method name="tryConnect" type="void" line="899">
                <params>
                    <param name="dest" type="InetSocketAddress"/>
                    <param name="timeout" type="int"/>
                </params>
                <scope line="900"/>
                <scope line="904"/>
                <scope line="907"/>
            </method>
            <method name="doConnect" type="Socket" line="913">
                <params>
                    <param name="dest" type="InetSocketAddress"/>
                    <param name="timeout" type="int"/>
                </params>
                <comment line="931">
                    Instance specific timeouts do have priority, that means
                     connectTimeout &amp; readTimeout (-1 means not set)
                     Then global default timeouts
                     Then no timeout.                    
                </comment>
                <declaration name="s" type="Socket" line="914"/>
                <scope line="915">
                    <scope line="916">
                        <anonymous_class line="918">
                            <method name="run" type="Socket" line="920"/>
                        </anonymous_class>
                    </scope>
                    <scope line="924"/>
                </scope>
                <scope line="927"/>
                <scope line="934"/>
                <scope line="936">
                    <scope line="937"/>
                    <scope line="939">
                        <scope line="940"/>
                        <scope line="942"/>
                    </scope>
                </scope>
                <scope line="947"/>
                <scope line="949"/>
            </method>
            <method name="disconnect" type="void" line="955">
                <scope line="956"/>
            </method>
            <javadoc line="970">
                Tests whether this client is connected or not to a server.                
                <return>
                    &lt;code&gt;true&lt;/code&gt; if the client is connected.                    
                </return>
            </javadoc>
            <method name="isConnected" type="boolean" line="975"/>
            <method name="getServerAddress" type="SocketAddress" line="979"/>
            <method name="connect" type="sun.net.ftp.FtpClient" line="983">
                <params>
                    <param name="dest" type="SocketAddress"/>
                </params>
            </method>
            <javadoc line="987">
                Connects the FtpClient to the specified destination.                
                <param>
                    dest the address of the destination server                    
                </param>
                <throws>
                    IOException if connection failed.                    
                </throws>
            </javadoc>
            <method name="connect" type="sun.net.ftp.FtpClient" line="993">
                <params>
                    <param name="dest" type="SocketAddress"/>
                    <param name="timeout" type="int"/>
                </params>
                <scope line="994"/>
                <scope line="999"/>
            </method>
            <method name="tryLogin" type="void" line="1007">
                <params>
                    <param name="user" type="String"/>
                    <param name="password" type="char[]"/>
                </params>
                <comment line="1011">
                    Checks for &quot;331 User name okay, need password.&quot; answer                    
                </comment>
                <scope line="1013">
                    <scope line="1014"/>
                </scope>
            </method>
            <javadoc line="1020">
                Attempts to log on the server with the specified user name and password.                
                <param>
                    user The user name                    
                </param>
                <param>
                    password The password for that user                    
                </param>
                <return>
                    &lt;code&gt;true&lt;/code&gt; if the login was successful.                    
                </return>
                <throws>
                    IOException if an error occured during the transmission                    
                </throws>
            </javadoc>
            <method name="login" type="sun.net.ftp.FtpClient" line="1028">
                <params>
                    <param name="user" type="String"/>
                    <param name="password" type="char[]"/>
                </params>
                <comment line="1038">
                    keep the welcome message around so we can
                     put it in the resulting HTML page.                    
                </comment>
                <comment line="1046">
                    get rid of the &quot;230-&quot; prefix                    
                </comment>
                <scope line="1029"/>
                <scope line="1032"/>
                <declaration name="l" type="String" line="1039"/>
                <declaration name="sb" type="StringBuffer" line="1040"/>
                <scope line="1041">
                    <scope line="1043">
                        <scope line="1044"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="1056">
                Attempts to log on the server with the specified user name, password and
                  account name.                
                <param>
                    user The user name                    
                </param>
                <param>
                    password The password for that user.                    
                </param>
                <param>
                    account The account name for that user.                    
                </param>
                <return>
                    &lt;code&gt;true&lt;/code&gt; if the login was successful.                    
                </return>
                <throws>
                    IOException if an error occurs during the transmission.                    
                </throws>
            </javadoc>
            <method name="login" type="sun.net.ftp.FtpClient" line="1066">
                <params>
                    <param name="user" type="String"/>
                    <param name="password" type="char[]"/>
                    <param name="account" type="String"/>
                </params>
                <comment line="1077">
                    Checks for &quot;332 Need account for login.&quot; answer                    
                </comment>
                <comment line="1084">
                    keep the welcome message around so we can
                     put it in the resulting HTML page.                    
                </comment>
                <comment line="1091">
                    get rid of the &quot;230-&quot; prefix                    
                </comment>
                <scope line="1068"/>
                <scope line="1071"/>
                <scope line="1079"/>
                <declaration name="sb" type="StringBuffer" line="1085"/>
                <scope line="1086">
                    <scope line="1087">
                        <scope line="1088">
                            <scope line="1089"/>
                        </scope>
                    </scope>
                </scope>
            </method>
            <javadoc line="1102">
                Logs out the current user. This is in effect terminates the current
                  session and the connection to the server will be closed.                
            </javadoc>
            <method name="close" type="void" line="1107">
                <scope line="1108"/>
            </method>
            <javadoc line="1115">
                Checks whether the client is logged in to the server or not.                
                <return>
                    &lt;code&gt;true&lt;/code&gt; if the client has already completed a login.                    
                </return>
            </javadoc>
            <method name="isLoggedIn" type="boolean" line="1120"/>
            <javadoc line="1124">
                Changes to a specific directory on a remote FTP server                
                <param>
                    remoteDirectory path of the directory to CD to.                    
                </param>
                <return>
                    &lt;code&gt;true&lt;/code&gt; if the operation was successful.                    
                </return>
                <exception>
                    &lt;code&gt;FtpProtocolException&lt;/code&gt;                    
                </exception>
            </javadoc>
            <method name="changeDirectory" type="sun.net.ftp.FtpClient" line="1131">
                <params>
                    <param name="remoteDirectory" type="String"/>
                </params>
                <scope line="1132"/>
            </method>
            <javadoc line="1140">
                Changes to the parent directory, sending the CDUP command to the server.                
                <return>
                    &lt;code&gt;true&lt;/code&gt; if the command was successful.                    
                </return>
                <throws>
                    IOException                    
                </throws>
            </javadoc>
            <method name="changeToParentDirectory" type="sun.net.ftp.FtpClient" line="1146"/>
            <javadoc line="1151">
                Returns the server current working directory, or &lt;code&gt;null&lt;/code&gt; if
                  the PWD command failed.                
                <return>
                    a &lt;code&gt;String&lt;/code&gt; containing the current working directory,
                      or &lt;code&gt;null&lt;/code&gt;                    
                </return>
                <throws>
                    IOException                    
                </throws>
            </javadoc>
            <method name="getWorkingDirectory" type="String" line="1159">
                <comment line="1162">
                    answer will be of the following format :
                    
                     257 &quot;&quot; is current directory.                    
                </comment>
                <declaration name="answ" type="String" line="1166"/>
                <scope line="1167"/>
            </method>
            <javadoc line="1173">
                Sets the restart offset to the specified value.  That value will be
                  sent through a &lt;code&gt;REST&lt;/code&gt; command to server before a file
                  transfer and has the effect of resuming a file transfer from the
                  specified point. After a transfer the restart offset is set back to
                  zero.                
                <param>
                    offset the offset in the remote file at which to start the next
                      transfer. This must be a value greater than or equal to zero.                    
                </param>
                <throws>
                    IllegalArgumentException if the offset is negative.                    
                </throws>
            </javadoc>
            <method name="setRestartOffset" type="sun.net.ftp.FtpClient" line="1184">
                <params>
                    <param name="offset" type="long"/>
                </params>
                <scope line="1185"/>
            </method>
            <javadoc line="1192">
                Retrieves a file from the ftp server and writes it to the specified
                  &lt;code&gt;OutputStream&lt;/code&gt;.
                  If the restart offset was set, then a &lt;code&gt;REST&lt;/code&gt; command will be
                  sent before the RETR in order to restart the tranfer from the specified
                  offset.
                  The &lt;code&gt;OutputStream&lt;/code&gt; is not closed by this method at the end
                  of the transfer.                
                <param>
                    name a &lt;code&gt;String&lt;code&gt; containing the name of the file to
                      retreive from the server.                    
                </param>
                <param>
                    local the &lt;code&gt;OutputStream&lt;/code&gt; the file should be written to.                    
                </param>
                <throws>
                    IOException if the transfer fails.                    
                </throws>
            </javadoc>
            <method name="getFile" type="sun.net.ftp.FtpClient" line="1206">
                <params>
                    <param name="name" type="String"/>
                    <param name="local" type="OutputStream"/>
                </params>
                <declaration name="mtu" type="int" line="1207"/>
                <scope line="1208">
                    <declaration name="s" type="Socket" line="1209"/>
                    <scope line="1210"/>
                    <scope line="1212"/>
                    <declaration name="remote" type="InputStream" line="1217"/>
                    <declaration name="buf" type="byte[]" line="1218"/>
                    <declaration name="l" type="int" line="1219"/>
                    <scope line="1220">
                        <scope line="1221"/>
                    </scope>
                </scope>
                <scope line="1226">
                    <declaration name="s" type="Socket" line="1227"/>
                    <declaration name="remote" type="InputStream" line="1229"/>
                    <declaration name="buf" type="byte[]" line="1230"/>
                    <declaration name="l" type="int" line="1231"/>
                    <scope line="1232">
                        <scope line="1233"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="1242">
                Retrieves a file from the ftp server, using the RETR command, and
                  returns the InputStream from the established data connection.{@link #completePending()} &lt;b&gt;has&lt;/b&gt; to be called once the application
                  is done reading from the returned stream.                
                <param>
                    name the name of the remote file                    
                </param>
                <return>
                    the {@link java.io.InputStream} from the data connection, or
                      &lt;code&gt;null&lt;/code&gt; if the command was unsuccessful.                    
                </return>
                <throws>
                    IOException if an error occured during the transmission.                    
                </throws>
            </javadoc>
            <method name="getFileStream" type="InputStream" line="1253">
                <params>
                    <param name="name" type="String"/>
                </params>
                <declaration name="s" type="Socket" line="1254"/>
                <scope line="1255">
                    <scope line="1256"/>
                    <scope line="1258"/>
                    <scope line="1261"/>
                </scope>
                <scope line="1270"/>
            </method>
            <javadoc line="1277">
                Transfers a file from the client to the server (aka a &lt;I&gt;put&lt;/I&gt;)
                  by sending the STOR or STOU command, depending on the
                  &lt;code&gt;unique&lt;/code&gt; argument, and returns the &lt;code&gt;OutputStream&lt;/code&gt;
                  from the established data connection.{@link #completePending()} &lt;b&gt;has&lt;/b&gt; to be called once the application
                  is finished writing to the stream.
                  A new file is created at the server site if the file specified does
                  not already exist.
                  If &lt;code&gt;unique&lt;/code&gt; is set to &lt;code&gt;true&lt;/code&gt;, the resultant file
                  is to be created under a name unique to that directory, meaning
                  it will not overwrite an existing file, instead the server will
                  generate a new, unique, file name.
                  The name of the remote file can be retrieved, after completion of the
                  transfer, by calling {@link #getLastFileName()}.                
                <param>
                    name the name of the remote file to write.                    
                </param>
                <param>
                    unique &lt;code&gt;true&lt;/code&gt; if the remote files should be unique,
                      in which case the STOU command will be used.                    
                </param>
                <return>
                    the {@link java.io.OutputStream} from the data connection or
                      &lt;code&gt;null&lt;/code&gt; if the command was unsuccessful.                    
                </return>
                <throws>
                    IOException if an error occured during the transmission.                    
                </throws>
            </javadoc>
            <method name="putFileStream" type="OutputStream" line="1302">
                <params>
                    <param name="name" type="String"/>
                    <param name="unique" type="boolean"/>
                </params>
                <declaration name="cmd" type="String" line="1303"/>
                <declaration name="s" type="Socket" line="1304"/>
                <scope line="1305"/>
                <scope line="1308"/>
            </method>
            <javadoc line="1314">
                Transfers a file from the client to the server (aka a &lt;I&gt;put&lt;/I&gt;)
                  by sending the STOR command. The content of the &lt;code&gt;InputStream&lt;/code&gt;
                  passed in argument is written into the remote file, overwriting any
                  existing data.
                  A new file is created at the server site if the file specified does
                  not already exist.                
                <param>
                    name the name of the remote file to write.                    
                </param>
                <param>
                    local the &lt;code&gt;InputStream&lt;/code&gt; that points to the data to
                      transfer.                    
                </param>
                <param>
                    unique &lt;code&gt;true&lt;/code&gt; if the remote file should be unique
                      (i.e. not already existing), &lt;code&gt;false&lt;/code&gt; otherwise.                    
                </param>
                <return>
                    &lt;code&gt;true&lt;/code&gt; if the transfer was successful.                    
                </return>
                <throws>
                    IOException if an error occured during the transmission.                    
                </throws>
                <see>
                    #getLastFileName()                    
                </see>
            </javadoc>
            <method name="putFile" type="sun.net.ftp.FtpClient" line="1332">
                <params>
                    <param name="name" type="String"/>
                    <param name="local" type="InputStream"/>
                    <param name="unique" type="boolean"/>
                </params>
                <declaration name="cmd" type="String" line="1333"/>
                <declaration name="mtu" type="int" line="1334"/>
                <scope line="1335">
                    <declaration name="s" type="Socket" line="1336"/>
                    <declaration name="remote" type="OutputStream" line="1337"/>
                    <declaration name="buf" type="byte[]" line="1338"/>
                    <declaration name="l" type="int" line="1339"/>
                    <scope line="1340">
                        <scope line="1341"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="1350">
                Sends the APPE command to the server in order to transfer a data stream
                  passed in argument and append it to the content of the specified remote
                  file.                
                <param>
                    name A &lt;code&gt;String&lt;/code&gt; containing the name of the remote file
                      to append to.                    
                </param>
                <param>
                    local The &lt;code&gt;InputStream&lt;/code&gt; providing access to the data
                      to be appended.                    
                </param>
                <return>
                    &lt;code&gt;true&lt;/code&gt; if the transfer was successful.                    
                </return>
                <throws>
                    IOException if an error occured during the transmission.                    
                </throws>
            </javadoc>
            <method name="appendFile" type="sun.net.ftp.FtpClient" line="1362">
                <params>
                    <param name="name" type="String"/>
                    <param name="local" type="InputStream"/>
                </params>
                <declaration name="mtu" type="int" line="1363"/>
                <declaration name="s" type="Socket" line="1364"/>
                <declaration name="remote" type="OutputStream" line="1365"/>
                <declaration name="buf" type="byte[]" line="1366"/>
                <declaration name="l" type="int" line="1367"/>
                <scope line="1368">
                    <scope line="1369"/>
                </scope>
            </method>
            <javadoc line="1377">
                Renames a file on the server.                
                <param>
                    from the name of the file being renamed                    
                </param>
                <param>
                    to the new name for the file                    
                </param>
                <throws>
                    IOException if the command fails                    
                </throws>
            </javadoc>
            <method name="rename" type="sun.net.ftp.FtpClient" line="1384">
                <params>
                    <param name="from" type="String"/>
                    <param name="to" type="String"/>
                </params>
            </method>
            <javadoc line="1390">
                Deletes a file on the server.                
                <param>
                    name a &lt;code&gt;String&lt;/code&gt; containing the name of the file
                      to delete.                    
                </param>
                <return>
                    &lt;code&gt;true&lt;/code&gt; if the command was successful                    
                </return>
                <throws>
                    IOException if an error occured during the exchange                    
                </throws>
            </javadoc>
            <method name="deleteFile" type="sun.net.ftp.FtpClient" line="1398">
                <params>
                    <param name="name" type="String"/>
                </params>
            </method>
            <javadoc line="1403">
                Creates a new directory on the server.                
                <param>
                    name a &lt;code&gt;String&lt;/code&gt; containing the name of the directory
                      to create.                    
                </param>
                <return>
                    &lt;code&gt;true&lt;/code&gt; if the operation was successful.                    
                </return>
                <throws>
                    IOException if an error occured during the exchange                    
                </throws>
            </javadoc>
            <method name="makeDirectory" type="sun.net.ftp.FtpClient" line="1411">
                <params>
                    <param name="name" type="String"/>
                </params>
            </method>
            <javadoc line="1416">
                Removes a directory on the server.                
                <param>
                    name a &lt;code&gt;String&lt;/code&gt; containing the name of the directory
                      to remove.                    
                </param>
                <return>
                    &lt;code&gt;true&lt;/code&gt; if the operation was successful.                    
                </return>
                <throws>
                    IOException if an error occured during the exchange.                    
                </throws>
            </javadoc>
            <method name="removeDirectory" type="sun.net.ftp.FtpClient" line="1425">
                <params>
                    <param name="name" type="String"/>
                </params>
            </method>
            <javadoc line="1430">
                Sends a No-operation command. It&apos;s useful for testing the connection
                  status or as a &lt;I&gt;keep alive&lt;/I&gt; mechanism.                
                <throws>
                    FtpProtocolException if the command fails                    
                </throws>
            </javadoc>
            <method name="noop" type="sun.net.ftp.FtpClient" line="1436"/>
            <javadoc line="1441">
                Sends the STAT command to the server.
                  This can be used while a data connection is open to get a status
                  on the current transfer, in that case the parameter should be
                  &lt;code&gt;null&lt;/code&gt;.
                  If used between file transfers, it may have a pathname as argument
                  in which case it will work as the LIST command except no data
                  connection will be created.                
                <param>
                    name an optional &lt;code&gt;String&lt;/code&gt; containing the pathname
                      the STAT command should apply to.                    
                </param>
                <return>
                    the response from the server or &lt;code&gt;null&lt;/code&gt; if the
                      command failed.                    
                </return>
                <throws>
                    IOException if an error occured during the transmission.                    
                </throws>
            </javadoc>
            <method name="getStatus" type="String" line="1456">
                <params>
                    <param name="name" type="String"/>
                </params>
                <comment line="1459">
                    A typical response will be:
                      213-status of t32.gif:
                     -rw-r--r--   1 jcc      staff     247445 Feb 17  1998 t32.gif
                     213 End of Status
                    
                     or
                    
                     211-jsn FTP server status:
                         Version wu-2.6.2+Sun
                         Connected to localhost (::1)
                         Logged in as jccollet
                         TYPE: ASCII, FORM: Nonprint; STRUcture: File; transfer MODE: Stream
                          No data connection
                         0 data bytes received in 0 files
                         0 data bytes transmitted in 0 files
                         0 data bytes total in 0 files
                         53 traffic bytes received in 0 transfers
                         485 traffic bytes transmitted in 0 transfers
                         587 traffic bytes total in 0 transfers
                     211 End of status
                    
                     So we need to remove the 1st and last line                    
                </comment>
                <declaration name="resp" type="Vector&lt;String&gt;" line="1482"/>
                <declaration name="sb" type="StringBuffer" line="1483"/>
                <scope line="1484"/>
            </method>
            <javadoc line="1490">
                Sends the FEAT command to the server and returns the list of supported
                  features in the form of strings.
                  The features are the supported commands, like AUTH TLS, PROT or PASV.
                  See the RFCs for a complete list.
                  Note that not all FTP servers support that command, in which case
                  the method will return &lt;code&gt;null&lt;/code&gt;                
                <return>
                    a &lt;code&gt;List&lt;/code&gt; of &lt;code&gt;Strings&lt;/code&gt; describing the
                      supported additional features, or &lt;code&gt;null&lt;/code&gt;
                      if the command is not supported.                    
                </return>
                <throws>
                    IOException if an error occurs during the transmission.                    
                </throws>
            </javadoc>
            <method name="getFeatures" type="List<String>" line="1505">
                <comment line="1507">
                    The FEAT command, when implemented will return something like:
                    
                     211-Features:
                       AUTH TLS
                       PBSZ
                       PROT
                       EPSV
                       EPRT
                       PASV
                       REST STREAM
                      211 END                    
                </comment>
                <comment line="1523">
                    Note that we start at index 1 to skip the 1st line (211-...)
                     and we stop before the last line.                    
                </comment>
                <comment line="1527">
                    Get rid of leading space and trailing newline                    
                </comment>
                <declaration name="features" type="ArrayList&lt;String&gt;" line="1519"/>
                <declaration name="resp" type="Vector&lt;String&gt;" line="1521"/>
                <scope line="1524">
                    <declaration name="s" type="String" line="1525"/>
                </scope>
            </method>
            <javadoc line="1532">
                sends the ABOR command to the server.
                  It tells the server to stop the previous command or transfer.                
                <return>
                    &lt;code&gt;true&lt;/code&gt; if the command was successful.                    
                </return>
                <throws>
                    IOException if an error occured during the transmission.                    
                </throws>
            </javadoc>
            <method name="abort" type="sun.net.ftp.FtpClient" line="1539">
                <comment line="1542">
                    TODO: Must check the ReplyCode:                    
                </comment>
                <comment line="1543">
                    From the RFC:
                     There are two cases for the server upon receipt of this
                     command: (1) the FTP service command was already completed,
                     or (2) the FTP service command is still in progress.
                     In the first case, the server closes the data connection
                     (if it is open) and responds with a 226 reply, indicating
                     that the abort command was successfully processed.
                     In the second case, the server aborts the FTP service in
                     progress and closes the data connection, returning a 426
                     reply to indicate that the service request terminated
                     abnormally.  The server then sends a 226 reply,
                     indicating that the abort command was successfully
                     processed.                    
                </comment>
            </method>
            <javadoc line="1562">
                Some methods do not wait until completion before returning, so this
                  method can be called to wait until completion. This is typically the case
                  with commands that trigger a transfer like {@link #getFileStream(String)}.
                  So this method should be called before accessing information related to
                  such a command.
                  &lt;p&gt;This method will actually block reading on the command channel for a
                  notification from the server that the command is finished. Such a
                  notification often carries extra information concerning the completion
                  of the pending action (e.g. number of bytes transfered).&lt;/p&gt;
                  &lt;p&gt;Note that this will return true immediately if no command or action
                  is pending&lt;/p&gt;
                  &lt;p&gt;It should be also noted that most methods issuing commands to the ftp
                  server will call this method if a previous command is pending.
                  &lt;p&gt;Example of use:
                  &lt;pre&gt;
                  InputStream in = cl.getFileStream(&quot;file&quot;);
                  ...
                  cl.completePending();
                  long size = cl.getLastTransferSize();
                  &lt;/pre&gt;
                  On the other hand, it&apos;s not necessary in a case like:
                  &lt;pre&gt;
                  InputStream in = cl.getFileStream(&quot;file&quot;);
                  // read content
                  ...
                  cl.logout();
                  &lt;/pre&gt;
                  &lt;p&gt;Since {@link #logout()} will call completePending() if necessary.&lt;/p&gt;                
                <return>
                    &lt;code&gt;true&lt;/code&gt; if the completion was successful or if no
                      action was pending.                    
                </return>
                <throws>
                    IOException                    
                </throws>
            </javadoc>
            <method name="completePending" type="sun.net.ftp.FtpClient" line="1595">
                <scope line="1596">
                    <scope line="1598"/>
                </scope>
            </method>
            <javadoc line="1605">
                Reinitializes the USER parameters on the FTP server                
                <throws>
                    FtpProtocolException if the command fails                    
                </throws>
            </javadoc>
            <method name="reInit" type="sun.net.ftp.FtpClient" line="1610">
                <comment line="1618">
                    Restore previous socket and streams                    
                </comment>
                <scope line="1613">
                    <scope line="1614">
                        <declaration name="session" type="javax.net.ssl.SSLSession" line="1615"/>
                        <scope line="1620"/>
                        <scope line="1623"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="1633">
                Changes the transfer type (binary, ascii, ebcdic) and issue the
                  proper command (e.g. TYPE A) to the server.                
                <param>
                    type the &lt;code&gt;FtpTransferType&lt;/code&gt; to use.                    
                </param>
                <return>
                    This FtpClient                    
                </return>
                <throws>
                    IOException if an error occurs during transmission.                    
                </throws>
            </javadoc>
            <method name="setType" type="sun.net.ftp.FtpClient" line="1641">
                <params>
                    <param name="type" type="TransferType"/>
                </params>
                <declaration name="cmd" type="String" line="1642"/>
                <scope line="1645"/>
                <scope line="1648"/>
                <scope line="1651"/>
            </method>
            <javadoc line="1658">
                Issues a LIST command to the server to get the current directory
                  listing, and returns the InputStream from the data connection.{@link #completePending()} &lt;b&gt;has&lt;/b&gt; to be called once the application
                  is finished writing to the stream.                
                <param>
                    path the pathname of the directory to list, or &lt;code&gt;null&lt;/code&gt;
                      for the current working directory.                    
                </param>
                <return>
                    the &lt;code&gt;InputStream&lt;/code&gt; from the resulting data connection                    
                </return>
                <throws>
                    IOException if an error occurs during the transmission.                    
                </throws>
                <see>
                    #changeDirectory(String)                    
                </see>
                <see>
                    #listFiles(String)                    
                </see>
            </javadoc>
            <method name="list" type="InputStream" line="1671">
                <params>
                    <param name="path" type="String"/>
                </params>
                <declaration name="s" type="Socket" line="1672"/>
                <scope line="1674"/>
            </method>
            <javadoc line="1680">
                Issues a NLST path command to server to get the specified directory
                  content. It differs from {@link #list(String)} method by the fact that
                  it will only list the file names which would make the parsing of the
                  somewhat easier.{@link #completePending()} &lt;b&gt;has&lt;/b&gt; to be called once the application
                  is finished writing to the stream.                
                <param>
                    path a &lt;code&gt;String&lt;/code&gt; containing the pathname of the
                      directory to list or &lt;code&gt;null&lt;/code&gt; for the current working
                      directory.                    
                </param>
                <return>
                    the &lt;code&gt;InputStream&lt;/code&gt; from the resulting data connection                    
                </return>
                <throws>
                    IOException if an error occurs during the transmission.                    
                </throws>
            </javadoc>
            <method name="nameList" type="InputStream" line="1695">
                <params>
                    <param name="path" type="String"/>
                </params>
                <declaration name="s" type="Socket" line="1696"/>
                <scope line="1698"/>
            </method>
            <javadoc line="1704">
                Issues the SIZE [path] command to the server to get the size of a
                  specific file on the server.
                  Note that this command may not be supported by the server. In which
                  case -1 will be returned.                
                <param>
                    path a &lt;code&gt;String&lt;/code&gt; containing the pathname of the
                      file.                    
                </param>
                <return>
                    a &lt;code&gt;long&lt;/code&gt; containing the size of the file or -1 if
                      the server returned an error, which can be checked with{@link #getLastReplyCode()}.                    
                </return>
                <throws>
                    IOException if an error occurs during the transmission.                    
                </throws>
            </javadoc>
            <method name="getSize" type="long" line="1717">
                <params>
                    <param name="path" type="String"/>
                </params>
                <scope line="1718"/>
                <scope line="1722">
                    <declaration name="s" type="String" line="1723"/>
                </scope>
            </method>
            <declaration name="MDTMformats" type="String[]" line="1729"/>
            <declaration name="dateFormats" type="SimpleDateFormat[]" line="1733"/>
            <scope line="1735">
                <scope line="1736"/>
            </scope>
            <javadoc line="1742">
                Issues the MDTM [path] command to the server to get the modification
                  time of a specific file on the server.
                  Note that this command may not be supported by the server, in which
                  case &lt;code&gt;null&lt;/code&gt; will be returned.                
                <param>
                    path a &lt;code&gt;String&lt;/code&gt; containing the pathname of the file.                    
                </param>
                <return>
                    a &lt;code&gt;Date&lt;/code&gt; representing the last modification time
                      or &lt;code&gt;null&lt;/code&gt; if the server returned an error, which
                      can be checked with {@link #getLastReplyCode()}.                    
                </return>
                <throws>
                    IOException if an error occurs during the transmission.                    
                </throws>
            </javadoc>
            <method name="getLastModified" type="Date" line="1754">
                <params>
                    <param name="path" type="String"/>
                </params>
                <scope line="1756">
                    <declaration name="s" type="String" line="1757"/>
                    <declaration name="d" type="Date" line="1758"/>
                    <scope line="1759">
                        <scope line="1760"/>
                        <scope line="1762"/>
                        <scope line="1764"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="1772">
                Sets the parser used to handle the directory output to the specified
                  one. By default the parser is set to one that can handle most FTP
                  servers output (Unix base mostly). However it may be necessary for
                  and application to provide its own parser due to some uncommon
                  output format.                
                <param>
                    p The &lt;code&gt;FtpDirParser&lt;/code&gt; to use.                    
                </param>
                <see>
                    #listFiles(String)                    
                </see>
            </javadoc>
            <method name="setDirParser" type="sun.net.ftp.FtpClient" line="1782">
                <params>
                    <param name="p" type="FtpDirParser"/>
                </params>
            </method>
            <class name="FtpFileIterator" line="1787">
                <implements interface="Iterator">
                    <type_params>
                        <type_param name="FtpDirEntry"/>
                    </type_params>
                </implements>
                <implements interface="Closeable"/>
                <declaration name="in" type="BufferedReader" line="1789"/>
                <declaration name="nextFile" type="FtpDirEntry" line="1790"/>
                <declaration name="fparser" type="FtpDirParser" line="1791"/>
                <declaration name="eof" type="boolean" line="1792"/>
                <method name="FtpFileIterator" type="constructor" line="1794">
                    <params>
                        <param name="p" type="FtpDirParser"/>
                        <param name="in" type="BufferedReader"/>
                    </params>
                </method>
                <method name="readNext" type="void" line="1800">
                    <scope line="1802"/>
                    <declaration name="line" type="String" line="1805"/>
                    <scope line="1806">
                        <scope line="1807">
                            <scope line="1809">
                                <scope line="1811"/>
                            </scope>
                        </scope>
                    </scope>
                    <scope line="1817"/>
                </method>
                <method name="hasNext" type="boolean" line="1822"/>
                <method name="next" type="FtpDirEntry" line="1826">
                    <declaration name="ret" type="FtpDirEntry" line="1827"/>
                </method>
                <method name="remove" type="void" line="1832"/>
                <method name="close" type="void" line="1836">
                    <scope line="1837"/>
                </method>
            </class>
            <javadoc line="1845">
                Issues a MLSD command to the server to get the specified directory
                  listing and applies the current parser to create an Iterator of{@link java.net.ftp.FtpDirEntry}. Note that the Iterator returned is also a{@link java.io.Closeable}.
                  If the server doesn&apos;t support the MLSD command, the LIST command is used
                  instead.{@link #completePending()} &lt;b&gt;has&lt;/b&gt; to be called once the application
                  is finished iterating through the files.                
                <param>
                    path the pathname of the directory to list or &lt;code&gt;null&lt;/code&gt;
                      for the current working directoty.                    
                </param>
                <return>
                    a &lt;code&gt;Iterator&lt;/code&gt; of files or &lt;code&gt;null&lt;/code&gt; if the
                      command failed.                    
                </return>
                <throws>
                    IOException if an error occured during the transmission                    
                </throws>
                <see>
                    #setDirParser(FtpDirParser)                    
                </see>
                <see>
                    #changeDirectory(String)                    
                </see>
            </javadoc>
            <method name="listFiles" type="Iterator<FtpDirEntry>" line="1864">
                <params>
                    <param name="path" type="String"/>
                </params>
                <comment line="1871">
                    The server doesn&apos;t understand new MLSD command, ignore and fall
                     back to LIST                    
                </comment>
                <declaration name="s" type="Socket" line="1865"/>
                <declaration name="sin" type="BufferedReader" line="1866"/>
                <scope line="1867"/>
                <scope line="1869"/>
                <scope line="1874"/>
                <scope line="1877">
                    <scope line="1879"/>
                </scope>
            </method>
            <method name="sendSecurityData" type="boolean" line="1887">
                <params>
                    <param name="buf" type="byte[]"/>
                </params>
                <declaration name="encoder" type="BASE64Encoder" line="1888"/>
                <declaration name="s" type="String" line="1889"/>
            </method>
            <method name="getSecurityData" type="byte[]" line="1893">
                <comment line="1899">
                    Need to get rid of the leading &apos;315 ADAT=&apos;
                     and the trailing newline                    
                </comment>
                <comment line="1903">
                                        
                </comment>
                <declaration name="s" type="String" line="1894"/>
                <scope line="1895">
                    <declaration name="decoder" type="BASE64Decoder" line="1896"/>
                    <scope line="1897"/>
                    <scope line="1901"/>
                </scope>
            </method>
            <javadoc line="1908">
                Attempts to use Kerberos GSSAPI as an authentication mechanism with the
                  ftp server. This will issue an &lt;code&gt;AUTH GSSAPI&lt;/code&gt; command, and if
                  it is accepted by the server, will followup with &lt;code&gt;ADAT&lt;/code&gt;
                  command to exchange the various tokens until authentification is
                  successful. This conforms to Appendix I of RFC 2228.                
                <return>
                    &lt;code&gt;true&lt;/code&gt; if authentication was successful.                    
                </return>
                <throws>
                    IOException if an error occurs during the transmission.                    
                </throws>
            </javadoc>
            <method name="useKerberos" type="sun.net.ftp.FtpClient" line="1918">
                <comment line="1920">
                    Comment out for the moment since it&apos;s not in use and would create
                     needless cross-package links.
                    
                    issueCommandCheck(&quot;AUTH GSSAPI&quot;);
                    if (lastReplyCode != FtpReplyCode.NEED_ADAT)
                    throw new sun.net.ftp.FtpProtocolException(&quot;Unexpected reply from server&quot;);
                    try {
                    GSSManager manager = GSSManager.getInstance();
                    GSSName name = manager.createName(&quot;SERVICE:ftp@&quot;+
                    serverAddr.getHostName(), null);
                    GSSContext context = manager.createContext(name, null, null,
                    GSSContext.DEFAULT_LIFETIME);
                    context.requestMutualAuth(true);
                    context.requestReplayDet(true);
                    context.requestSequenceDet(true);
                    context.requestCredDeleg(true);
                    byte []inToken = new byte[0];
                    while (!context.isEstablished()) {
                    byte[] outToken
                    = context.initSecContext(inToken, 0, inToken.length);
                     send the output token if generated
                    if (outToken != null) {
                    if (sendSecurityData(outToken)) {
                    inToken = getSecurityData();
                    }
                    }
                    }
                    loggedIn = true;
                    } catch (GSSException e) {
                    
                    }                    
                </comment>
            </method>
            <javadoc line="1955">
                Returns the Welcome string the server sent during initial connection.                
                <return>
                    a &lt;code&gt;String&lt;/code&gt; containing the message the server
                      returned during connection or &lt;code&gt;null&lt;/code&gt;.                    
                </return>
            </javadoc>
            <method name="getWelcomeMsg" type="String" line="1961"/>
            <javadoc line="1965">
                Returns the last reply code sent by the server.                
                <return>
                    the lastReplyCode                    
                </return>
            </javadoc>
            <method name="getLastReplyCode" type="FtpReplyCode" line="1970"/>
            <javadoc line="1974">
                Returns the last response string sent by the server.                
                <return>
                    the message string, which can be quite long, last returned
                      by the server.                    
                </return>
            </javadoc>
            <method name="getLastResponseString" type="String" line="1980">
                <declaration name="sb" type="StringBuffer" line="1981"/>
                <scope line="1982">
                    <scope line="1983">
                        <scope line="1984"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="1992">
                Returns, when available, the size of the latest started transfer.
                  This is retreived by parsing the response string received as an initial
                  response to a RETR or similar request.                
                <return>
                    the size of the latest transfer or -1 if either there was no
                      transfer or the information was unavailable.                    
                </return>
            </javadoc>
            <method name="getLastTransferSize" type="long" line="2000"/>
            <javadoc line="2004">
                Returns, when available, the remote name of the last transfered file.
                  This is mainly useful for &quot;put&quot; operation when the unique flag was
                  set since it allows to recover the unique file name created on the
                  server which may be different from the one submitted with the command.                
                <return>
                    the name the latest transfered file remote name, or
                      &lt;code&gt;null&lt;/code&gt; if that information is unavailable.                    
                </return>
            </javadoc>
            <method name="getLastFileName" type="String" line="2013"/>
            <javadoc line="2017">
                Attempts to switch to a secure, encrypted connection. This is done by
                  sending the &quot;AUTH TLS&quot; command.
                  &lt;p&gt;See &lt;a href=&quot;http://www.ietf.org/rfc/rfc4217.txt&quot;&gt;RFC 4217&lt;/a&gt;&lt;/p&gt;
                  If successful this will establish a secure command channel with the
                  server, it will also make it so that all other transfers (e.g. a RETR
                  command) will be done over an encrypted channel as well unless a{@link #reInit()} command or a {@link #endSecureSession()} command is issued.                
                <return>
                    &lt;code&gt;true&lt;/code&gt; if the operation was successful.                    
                </return>
                <throws>
                    IOException if an error occured during the transmission.                    
                </throws>
                <see>
                    #endSecureSession()                    
                </see>
            </javadoc>
            <method name="startSecureSession" type="sun.net.ftp.FtpClient" line="2030">
                <comment line="2053">
                    Remember underlying socket so we can restore it later                    
                </comment>
                <scope line="2031"/>
                <scope line="2034">
                    <scope line="2035"/>
                    <scope line="2037"/>
                </scope>
                <declaration name="s" type="Socket" line="2042"/>
                <scope line="2043"/>
                <scope line="2045">
                    <scope line="2046"/>
                    <scope line="2048"/>
                </scope>
                <scope line="2055"/>
                <scope line="2058"/>
            </method>
            <javadoc line="2069">
                Sends a &lt;code&gt;CCC&lt;/code&gt; command followed by a &lt;code&gt;PROT C&lt;/code&gt;
                  command to the server terminating an encrypted session and reverting
                  back to a non crypted transmission.                
                <return>
                    &lt;code&gt;true&lt;/code&gt; if the operation was successful.                    
                </return>
                <throws>
                    IOException if an error occured during transmission.                    
                </throws>
                <see>
                    #startSecureSession()                    
                </see>
            </javadoc>
            <method name="endSecureSession" type="sun.net.ftp.FtpClient" line="2078">
                <comment line="2087">
                    Restore previous socket and streams                    
                </comment>
                <scope line="2079"/>
                <scope line="2089"/>
                <scope line="2092"/>
            </method>
            <javadoc line="2100">
                Sends the &quot;Allocate&quot; (ALLO) command to the server telling it to
                  pre-allocate the specified number of bytes for the next transfer.                
                <param>
                    size The number of bytes to allocate.                    
                </param>
                <return>
                    &lt;code&gt;true&lt;/code&gt; if the operation was successful.                    
                </return>
                <throws>
                    IOException if an error occured during the transmission.                    
                </throws>
            </javadoc>
            <method name="allocate" type="sun.net.ftp.FtpClient" line="2108">
                <params>
                    <param name="size" type="long"/>
                </params>
            </method>
            <javadoc line="2113">
                Sends the &quot;Structure Mount&quot; (SMNT) command to the server. This let the
                  user mount a different file system data structure without altering his
                  login or accounting information.                
                <param>
                    struct a &lt;code&gt;String&lt;/code&gt; containing the name of the
                      structure to mount.                    
                </param>
                <return>
                    &lt;code&gt;true&lt;/code&gt; if the operation was successful.                    
                </return>
                <throws>
                    IOException if an error occured during the transmission.                    
                </throws>
            </javadoc>
            <method name="structureMount" type="sun.net.ftp.FtpClient" line="2123">
                <params>
                    <param name="struct" type="String"/>
                </params>
            </method>
            <javadoc line="2128">
                Sends a SYST (System) command to the server and returns the String
                  sent back by the server describing the operating system at the
                  server.                
                <return>
                    a &lt;code&gt;String&lt;/code&gt; describing the OS, or &lt;code&gt;null&lt;/code&gt;
                      if the operation was not successful.                    
                </return>
                <throws>
                    IOException if an error occured during the transmission.                    
                </throws>
            </javadoc>
            <method name="getSystem" type="String" line="2137">
                <comment line="2140">
                    215 UNIX Type: L8 Version: SUNOS                    
                </comment>
                <comment line="2144">
                    Get rid of the leading code and blank                    
                </comment>
                <declaration name="resp" type="String" line="2142"/>
            </method>
            <javadoc line="2147">
                Sends the HELP command to the server, with an optional command, like
                  SITE, and returns the text sent back by the server.                
                <param>
                    cmd the command for which the help is requested or
                      &lt;code&gt;null&lt;/code&gt; for the general help                    
                </param>
                <return>
                    a &lt;code&gt;String&lt;/code&gt; containing the text sent back by the
                      server, or &lt;code&gt;null&lt;/code&gt; if the command failed.                    
                </return>
                <throws>
                    IOException if an error occured during transmission                    
                </throws>
            </javadoc>
            <method name="getHelp" type="String" line="2157">
                <params>
                    <param name="cmd" type="String"/>
                </params>
                <comment line="2160">
                    HELP
                     214-The following commands are implemented.
                       USER    EPRT    STRU    ALLO    DELE    SYST    RMD     MDTM    ADAT
                       PASS    EPSV    MODE    REST    CWD     STAT    PWD     PROT
                       QUIT    LPRT    RETR    RNFR    LIST    HELP    CDUP    PBSZ
                       PORT    LPSV    STOR    RNTO    NLST    NOOP    STOU    AUTH
                       PASV    TYPE    APPE    ABOR    SITE    MKD     SIZE    CCC
                     214 Direct comments to ftp-bugs@jsn.
                    
                     HELP SITE
                     214-The following SITE commands are implemented.
                       UMASK           HELP            GROUPS
                       IDLE            ALIAS           CHECKMETHOD
                       CHMOD           CDPATH          CHECKSUM
                     214 Direct comments to ftp-bugs@jsn.                    
                </comment>
                <comment line="2180">
                    Single line response                    
                </comment>
                <comment line="2183">
                    on multiple lines answers, like the ones above, remove 1st and last
                     line, concat the the others.                    
                </comment>
                <declaration name="resp" type="Vector&lt;String&gt;" line="2177"/>
                <scope line="2178"/>
                <declaration name="sb" type="StringBuffer" line="2184"/>
                <scope line="2185"/>
            </method>
            <javadoc line="2191">
                Sends the SITE command to the server. This is used by the server
                  to provide services specific to his system that are essential
                  to file transfer.                
                <param>
                    cmd the command to be sent.                    
                </param>
                <return>
                    &lt;code&gt;true&lt;/code&gt; if the command was successful.                    
                </return>
                <throws>
                    IOException if an error occured during transmission                    
                </throws>
            </javadoc>
            <method name="siteCmd" type="sun.net.ftp.FtpClient" line="2200">
                <params>
                    <param name="cmd" type="String"/>
                </params>
            </method>
        </class>
    </source>