<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.net">
        <import package="java.net.URL"/>
        <class name="ProgressSource" line="29">
            <comment line="39">
                URL                
            </comment>
            <comment line="41">
                URL method                
            </comment>
            <comment line="43">
                Content type                
            </comment>
            <comment line="45">
                bytes read                
            </comment>
            <comment line="47">
                last bytes read                
            </comment>
            <comment line="49">
                bytes expected                
            </comment>
            <comment line="51">
                the last thing to happen with this source                
            </comment>
            <comment line="53">
                connect flag                
            </comment>
            <comment line="55">
                threshold for notification                
            </comment>
            <comment line="57">
                progress monitor                
            </comment>
            <comment line="119">
                Change content type                
            </comment>
            <javadoc line="29">
                ProgressSource represents the source of progress changes.                
                <author>
                    Stanley Man-Kit Ho                    
                </author>
            </javadoc>
            <declaration name="url" type="URL" line="39"/>
            <declaration name="method" type="String" line="41"/>
            <declaration name="contentType" type="String" line="43"/>
            <declaration name="progress" type="long" line="45"/>
            <declaration name="lastProgress" type="long" line="47"/>
            <declaration name="expected" type="long" line="49"/>
            <declaration name="state" type="State" line="51"/>
            <declaration name="connected" type="boolean" line="53"/>
            <declaration name="threshold" type="int" line="55"/>
            <declaration name="progressMonitor" type="ProgressMonitor" line="57"/>
            <javadoc line="59">
                Construct progress source object.                
            </javadoc>
            <method name="ProgressSource" type="constructor" line="62">
                <params>
                    <param name="url" type="URL"/>
                    <param name="method" type="String"/>
                </params>
            </method>
            <javadoc line="66">
                Construct progress source object.                
            </javadoc>
            <method name="ProgressSource" type="constructor" line="69">
                <params>
                    <param name="url" type="URL"/>
                    <param name="method" type="String"/>
                    <param name="expected" type="long"/>
                </params>
            </method>
            <method name="connected" type="boolean" line="81">
                <scope line="82"/>
            </method>
            <javadoc line="90">
                Close progress source.                
            </javadoc>
            <method name="close" type="void" line="93"/>
            <javadoc line="97">
                Return URL of progress source.                
            </javadoc>
            <method name="getURL" type="URL" line="100"/>
            <javadoc line="104">
                Return method of URL.                
            </javadoc>
            <method name="getMethod" type="String" line="107"/>
            <javadoc line="111">
                Return content type of URL.                
            </javadoc>
            <method name="getContentType" type="String" line="114"/>
            <method name="setContentType" type="void" line="119">
                <params>
                    <param name="ct" type="String"/>
                </params>
            </method>
            <javadoc line="123">
                Return current progress.                
            </javadoc>
            <method name="getProgress" type="long" line="126"/>
            <javadoc line="130">
                Return expected maximum progress; -1 if expected is unknown.                
            </javadoc>
            <method name="getExpected" type="long" line="133"/>
            <javadoc line="137">
                Return state.                
            </javadoc>
            <method name="getState" type="State" line="140"/>
            <javadoc line="144">
                Begin progress tracking.                
            </javadoc>
            <method name="beginTracking" type="void" line="147"/>
            <javadoc line="151">
                Finish progress tracking.                
            </javadoc>
            <method name="finishTracking" type="void" line="154"/>
            <javadoc line="158">
                Update progress.                
            </javadoc>
            <method name="updateProgress" type="void" line="161">
                <params>
                    <param name="latestProgress" type="long"/>
                    <param name="expectedProgress" type="long"/>
                </params>
                <comment line="171">
                    The threshold effectively divides the progress into                    
                </comment>
                <comment line="172">
                    different set of ranges:                    
                </comment>
                <comment line="173">
                                        
                </comment>
                <comment line="174">
                    Range 0: 0..threshold-1,                    
                </comment>
                <comment line="175">
                    Range 1: threshold .. 2*threshold-1                    
                </comment>
                <comment line="176">
                    ....                    
                </comment>
                <comment line="177">
                    Range n: n*threshold .. (n+1)*threshold-1                    
                </comment>
                <comment line="178">
                                        
                </comment>
                <comment line="179">
                    To determine which range the progress belongs to, it                    
                </comment>
                <comment line="180">
                    would be calculated as follow:                    
                </comment>
                <comment line="181">
                                        
                </comment>
                <comment line="182">
                    range number = progress / threshold                    
                </comment>
                <comment line="183">
                                        
                </comment>
                <comment line="184">
                    Notification should only be triggered when the current                    
                </comment>
                <comment line="185">
                    progress and the last progress are in different ranges,                    
                </comment>
                <comment line="186">
                    i.e. they have different range numbers.                    
                </comment>
                <comment line="187">
                                        
                </comment>
                <comment line="188">
                    Using this range scheme, notification will be generated                    
                </comment>
                <comment line="189">
                    only once when the progress reaches each range.                    
                </comment>
                <comment line="190">
                                        
                </comment>
                <comment line="195">
                    Detect read overrun                    
                </comment>
                <scope line="191"/>
                <scope line="196"/>
            </method>
            <method name="clone" type="Object" line="202"/>
            <method name="toString" type="String" line="206"/>
        </class>
    </source>