<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.net.www.protocol.http.spnego">
        <import package="java.io.IOException"/>
        <import package="java.net.Authenticator"/>
        <import package="java.net.PasswordAuthentication"/>
        <import package="java.util.Arrays"/>
        <import package="javax.security.auth.callback.Callback"/>
        <import package="javax.security.auth.callback.CallbackHandler"/>
        <import package="javax.security.auth.callback.NameCallback"/>
        <import package="javax.security.auth.callback.PasswordCallback"/>
        <import package="javax.security.auth.callback.UnsupportedCallbackException"/>
        <import package="sun.net.www.protocol.http.HttpCallerInfo"/>
        <class name="NegotiateCallbackHandler" line="39">
            <implements interface="CallbackHandler"/>
            <javadoc line="39">
                @since 1.6
                  Special callback handler used in JGSS for the HttpCaller.                
            </javadoc>
            <declaration name="username" type="String" line="45"/>
            <declaration name="password" type="char[]" line="46"/>
            <declaration name="answered" type="boolean" line="48"/>
            <javadoc line="48">
                Authenticator asks for username and password in a single prompt,
                  but CallbackHandler checks one by one. So, no matter which callback
                  gets handled first, make sure Authenticator is only called once.                
            </javadoc>
            <declaration name="hci" type="HttpCallerInfo" line="55"/>
            <method name="NegotiateCallbackHandler" type="constructor" line="57">
                <params>
                    <param name="hci" type="HttpCallerInfo"/>
                </params>
            </method>
            <method name="getAnswer" type="void" line="61">
                <comment line="68">
                    To be compatible with existing callback handler implementations,
                     when the underlying Authenticator is canceled, username and
                     password are assigned null. No exception is thrown.                    
                </comment>
                <scope line="62">
                    <declaration name="passAuth" type="PasswordAuthentication" line="64"/>
                    <scope line="73"/>
                </scope>
            </method>
            <method name="handle" type="void" line="81">
                <params>
                    <param name="callbacks" type="Callback[]"/>
                </params>
                <scope line="82">
                    <declaration name="callBack" type="Callback" line="83"/>
                    <scope line="85"/>
                    <scope line="88"/>
                    <scope line="92"/>
                </scope>
            </method>
        </class>
    </source>