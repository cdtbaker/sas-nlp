<?xml version="1.0" encoding="UTF-8"?>
    <source package="
 * COPYRIGHT (c) Eastman Kodak Company, 1997                      
 * As  an unpublished  work pursuant to Title 17 of the United    
 * States Code.  All rights reserved.                             
 */
package sun.java2d.cmm.lcms">
        <import package="java.awt.color.ICC_Profile"/>
        <import package="java.awt.color.ProfileDataException"/>
        <import package="java.awt.color.CMMException"/>
        <import package="java.awt.color.ColorSpace"/>
        <import package="java.awt.image.BufferedImage"/>
        <import package="java.awt.image.Raster"/>
        <import package="java.awt.image.WritableRaster"/>
        <import package="java.awt.image.ColorModel"/>
        <import package="java.awt.image.DirectColorModel"/>
        <import package="java.awt.image.ComponentColorModel"/>
        <import package="java.awt.image.SampleModel"/>
        <import package="java.awt.image.DataBuffer"/>
        <import package="java.awt.image.SinglePixelPackedSampleModel"/>
        <import package="java.awt.image.ComponentSampleModel"/>
        <import package="sun.java2d.cmm"/>
        <import package="sun.java2d.cmm.lcms"/>
        <javadoc line="26">
            COPYRIGHT (c) Eastman Kodak Company, 1997                      
              As  an unpublished  work pursuant to Title 17 of the United    
              States Code.  All rights reserved.            
        </javadoc>
        <class name="LCMSTransform" line="56">
            <comment line="72">
                                
            </comment>
            <comment line="566">
                                
            </comment>
            <comment line="567">
                                
            </comment>
            <comment line="568">
                the number of colors is (size of the array)  (number of inputoutput                
            </comment>
            <implements interface="ColorTransform"/>
            <declaration name="ID" type="long" line="57"/>
            <declaration name="inFormatter" type="int" line="58"/>
            <declaration name="outFormatter" type="int" line="59"/>
            <declaration name="profiles" type="ICC_Profile[]" line="61"/>
            <declaration name="profileIDs" type="long[]" line="62"/>
            <declaration name="renderType" type="int" line="63"/>
            <declaration name="transformType" type="int" line="64"/>
            <declaration name="numInComponents" type="int" line="66"/>
            <declaration name="numOutComponents" type="int" line="67"/>
            <declaration name="disposerReferent" type="Object" line="69"/>
            <scope line="72">
                <scope line="73"/>
            </scope>
            <method name="LCMSTransform" type="constructor" line="80">
                <params>
                    <param name="profile" type="ICC_Profile"/>
                    <param name="renderType" type="int"/>
                    <param name="transformType" type="int"/>
                </params>
                <comment line="82">
                                        
                </comment>
                <comment line="91">
                    Note that ICC_Profile.getNumComponents() is quite expensive
                     (it may results in a reading of the profile header).
                     So, here we cache the number of components of input and
                     output profiles for further usage.                    
                </comment>
            </method>
            <method name="LCMSTransform" type="constructor" line="99">
                <params>
                    <param name="transforms" type="ColorTransform[]"/>
                </params>
                <comment line="118">
                    Note that ICC_Profile.getNumComponents() is quite expensive
                     (it may results in a reading of the profile header).
                     So, here we cache the number of components of input and
                     output profiles for further usage.                    
                </comment>
                <declaration name="size" type="int" line="100"/>
                <scope line="101"/>
                <declaration name="j" type="int" line="106"/>
                <scope line="107">
                    <declaration name="curTrans" type="LCMSTransform" line="108"/>
                </scope>
            </method>
            <method name="getNumInComponents" type="int" line="126"/>
            <method name="getNumOutComponents" type="int" line="130"/>
            <method name="doTransform" type="void" line="135">
                <params>
                    <param name="in" type="LCMSImageLayout"/>
                    <param name="out" type="LCMSImageLayout"/>
                </params>
                <comment line="137">
                    update native transfrom if needed                    
                </comment>
                <comment line="143">
                    Disposer will destroy forgotten transform                    
                </comment>
                <scope line="139">
                    <scope line="141"/>
                </scope>
            </method>
            <method name="colorConvert" type="void" line="156">
                <params>
                    <param name="src" type="BufferedImage"/>
                    <param name="dst" type="BufferedImage"/>
                </params>
                <comment line="219">
                    TODO check for src npixels = dst npixels                    
                </comment>
                <comment line="228">
                    process each scanline                    
                </comment>
                <comment line="230">
                    convert src scanline                    
                </comment>
                <comment line="246">
                    color convert srcLine to dstLine                    
                </comment>
                <comment line="249">
                    convert dst scanline                    
                </comment>
                <comment line="286">
                    process each scanline                    
                </comment>
                <comment line="288">
                    convert src scanline                    
                </comment>
                <comment line="304">
                    color convert srcLine to dstLine                    
                </comment>
                <comment line="307">
                    convert dst scanline                    
                </comment>
                <scope line="159"/>
                <declaration name="srcIL" type="LCMSImageLayout" line="163"/>
                <declaration name="srcRas" type="Raster" line="164"/>
                <declaration name="dstRas" type="WritableRaster" line="165"/>
                <declaration name="srcCM" type="ColorModel" line="166"/>
                <declaration name="dstCM" type="ColorModel" line="167"/>
                <declaration name="w" type="int" line="168"/>
                <declaration name="h" type="int" line="169"/>
                <declaration name="srcNumComp" type="int" line="170"/>
                <declaration name="dstNumComp" type="int" line="171"/>
                <declaration name="precision" type="int" line="172"/>
                <declaration name="maxNum" type="float" line="173"/>
                <scope line="174">
                    <scope line="175"/>
                </scope>
                <scope line="180">
                    <scope line="181"/>
                </scope>
                <declaration name="srcMinVal" type="float[]" line="186"/>
                <declaration name="srcInvDiffMinMax" type="float[]" line="187"/>
                <declaration name="cs" type="ColorSpace" line="188"/>
                <scope line="189"/>
                <declaration name="dstMinVal" type="float[]" line="194"/>
                <declaration name="dstDiffMinMax" type="float[]" line="195"/>
                <scope line="196"/>
                <declaration name="dstHasAlpha" type="boolean" line="200"/>
                <declaration name="needSrcAlpha" type="boolean" line="201"/>
                <declaration name="dstColor" type="float[]" line="202"/>
                <scope line="203"/>
                <scope line="205"/>
                <scope line="208">
                    <declaration name="srcLine" type="byte[]" line="209"/>
                    <declaration name="dstLine" type="byte[]" line="210"/>
                    <declaration name="pixel" type="Object" line="211"/>
                    <declaration name="color" type="float[]" line="212"/>
                    <declaration name="alpha" type="float[]" line="213"/>
                    <scope line="214"/>
                    <declaration name="idx" type="int" line="217"/>
                    <scope line="228">
                        <scope line="233">
                            <scope line="236"/>
                            <scope line="241"/>
                        </scope>
                        <scope line="251">
                            <scope line="252"/>
                            <scope line="256"/>
                            <scope line="258"/>
                        </scope>
                    </scope>
                </scope>
                <scope line="265">
                    <declaration name="srcLine" type="short[]" line="266"/>
                    <declaration name="dstLine" type="short[]" line="267"/>
                    <declaration name="pixel" type="Object" line="268"/>
                    <declaration name="color" type="float[]" line="269"/>
                    <declaration name="alpha" type="float[]" line="270"/>
                    <scope line="271"/>
                    <declaration name="idx" type="int" line="274"/>
                    <scope line="286">
                        <scope line="291">
                            <scope line="294"/>
                            <scope line="299"/>
                        </scope>
                        <scope line="309">
                            <scope line="310"/>
                            <scope line="314"/>
                            <scope line="316"/>
                        </scope>
                    </scope>
                </scope>
            </method>
            <method name="colorConvert" type="void" line="328">
                <params>
                    <param name="src" type="Raster"/>
                    <param name="dst" type="WritableRaster"/>
                    <param name="srcMinVal" type="float[]"/>
                    <param name="srcMaxVal" type="float[]"/>
                    <param name="dstMinVal" type="float[]"/>
                    <param name="dstMaxVal" type="float[]"/>
                </params>
                <comment line="332">
                    Can&apos;t pass src and dst directly to CMM, so process per scanline                    
                </comment>
                <comment line="404">
                    process each scanline                    
                </comment>
                <comment line="406">
                    get src scanline                    
                </comment>
                <comment line="417">
                    color convert srcLine to dstLine                    
                </comment>
                <comment line="420">
                    store dst scanline                    
                </comment>
                <declaration name="srcIL" type="LCMSImageLayout" line="329"/>
                <declaration name="srcSM" type="SampleModel" line="332"/>
                <declaration name="dstSM" type="SampleModel" line="333"/>
                <declaration name="srcTransferType" type="int" line="334"/>
                <declaration name="dstTransferType" type="int" line="335"/>
                <declaration name="srcIsFloat" type="boolean" line="336"/>
                <scope line="338"/>
                <scope line="340"/>
                <scope line="344"/>
                <scope line="346"/>
                <declaration name="w" type="int" line="349"/>
                <declaration name="h" type="int" line="350"/>
                <declaration name="srcNumBands" type="int" line="351"/>
                <declaration name="dstNumBands" type="int" line="352"/>
                <declaration name="srcScaleFactor" type="float[]" line="353"/>
                <declaration name="dstScaleFactor" type="float[]" line="354"/>
                <declaration name="srcUseMinVal" type="float[]" line="355"/>
                <declaration name="dstUseMinVal" type="float[]" line="356"/>
                <scope line="357">
                    <scope line="358"/>
                    <scope line="361">
                        <scope line="362"/>
                        <scope line="364"/>
                    </scope>
                </scope>
                <scope line="371">
                    <scope line="372"/>
                    <scope line="375">
                        <scope line="376"/>
                        <scope line="378"/>
                    </scope>
                </scope>
                <declaration name="ys" type="int" line="386"/>
                <declaration name="yd" type="int" line="387"/>
                <declaration name="xs" type="int" line="388"/>
                <declaration name="sample" type="float" line="389"/>
                <declaration name="srcLine" type="short[]" line="390"/>
                <declaration name="dstLine" type="short[]" line="391"/>
                <declaration name="idx" type="int" line="392"/>
                <scope line="404">
                    <scope line="408">
                        <scope line="409"/>
                    </scope>
                    <scope line="422">
                        <scope line="423"/>
                    </scope>
                </scope>
            </method>
            <method name="colorConvert" type="void" line="432">
                <params>
                    <param name="src" type="Raster"/>
                    <param name="dst" type="WritableRaster"/>
                </params>
                <comment line="436">
                    Can&apos;t pass src and dst directly to CMM, so process per scanline                    
                </comment>
                <comment line="485">
                    TODO check for src npixels = dst npixels                    
                </comment>
                <comment line="495">
                    process each scanline                    
                </comment>
                <comment line="497">
                    get src scanline                    
                </comment>
                <comment line="508">
                    color convert srcLine to dstLine                    
                </comment>
                <comment line="511">
                    store dst scanline                    
                </comment>
                <comment line="536">
                    process each scanline                    
                </comment>
                <comment line="538">
                    get src scanline                    
                </comment>
                <comment line="549">
                    color convert srcLine to dstLine                    
                </comment>
                <comment line="552">
                    store dst scanline                    
                </comment>
                <declaration name="srcIL" type="LCMSImageLayout" line="434"/>
                <declaration name="srcSM" type="SampleModel" line="436"/>
                <declaration name="dstSM" type="SampleModel" line="437"/>
                <declaration name="srcTransferType" type="int" line="438"/>
                <declaration name="dstTransferType" type="int" line="439"/>
                <declaration name="w" type="int" line="440"/>
                <declaration name="h" type="int" line="441"/>
                <declaration name="srcNumBands" type="int" line="442"/>
                <declaration name="dstNumBands" type="int" line="443"/>
                <declaration name="precision" type="int" line="444"/>
                <declaration name="maxNum" type="float" line="445"/>
                <scope line="446">
                    <scope line="447"/>
                </scope>
                <scope line="452">
                    <scope line="453"/>
                </scope>
                <declaration name="srcScaleFactor" type="float[]" line="458"/>
                <declaration name="dstScaleFactor" type="float[]" line="459"/>
                <scope line="460">
                    <scope line="461"/>
                    <scope line="463"/>
                </scope>
                <scope line="468">
                    <scope line="469"/>
                    <scope line="471"/>
                </scope>
                <declaration name="ys" type="int" line="476"/>
                <declaration name="yd" type="int" line="477"/>
                <declaration name="xs" type="int" line="478"/>
                <declaration name="sample" type="int" line="479"/>
                <scope line="480">
                    <declaration name="srcLine" type="byte[]" line="481"/>
                    <declaration name="dstLine" type="byte[]" line="482"/>
                    <declaration name="idx" type="int" line="483"/>
                    <scope line="495">
                        <scope line="499">
                            <scope line="500"/>
                        </scope>
                        <scope line="513">
                            <scope line="514"/>
                        </scope>
                    </scope>
                </scope>
                <scope line="521">
                    <declaration name="srcLine" type="short[]" line="522"/>
                    <declaration name="dstLine" type="short[]" line="523"/>
                    <declaration name="idx" type="int" line="524"/>
                    <scope line="536">
                        <scope line="540">
                            <scope line="541"/>
                        </scope>
                        <scope line="554">
                            <scope line="555"/>
                        </scope>
                    </scope>
                </scope>
            </method>
            <method name="colorConvert" type="short[]" line="569">
                <params>
                    <param name="src" type="short[]"/>
                    <param name="dst" type="short[]"/>
                </params>
                <scope line="571"/>
                <declaration name="srcIL" type="LCMSImageLayout" line="575"/>
                <declaration name="dstIL" type="LCMSImageLayout" line="580"/>
            </method>
            <method name="colorConvert" type="byte[]" line="590">
                <params>
                    <param name="src" type="byte[]"/>
                    <param name="dst" type="byte[]"/>
                </params>
                <scope line="591"/>
                <declaration name="srcIL" type="LCMSImageLayout" line="595"/>
                <declaration name="dstIL" type="LCMSImageLayout" line="600"/>
            </method>
        </class>
    </source>