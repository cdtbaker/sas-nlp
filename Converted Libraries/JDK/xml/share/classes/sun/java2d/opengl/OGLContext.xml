<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.java2d.opengl">
        <import package="sun.java2d.pipe.BufferedContext"/>
        <import package="sun.java2d.pipe.RenderBuffer"/>
        <import package="sun.java2d.pipe.RenderQueue"/>
        <import package="sun.java2d.pipe.hw.ContextCapabilities"/>
        <import package="sun.java2d.pipe.BufferedOpCodes"/>
        <import package="sun.java2d.pipe.hw.ContextCapabilities"/>
        <class name="OGLContext" line="35">
            <extends class="BufferedContext"/>
            <javadoc line="35">
                Note that the RenderQueue lock must be acquired before calling any of
                  the methods in this class.                
            </javadoc>
            <declaration name="config" type="OGLGraphicsConfig" line="41"/>
            <method name="OGLContext" type="constructor" line="43">
                <params>
                    <param name="rq" type="RenderQueue"/>
                    <param name="config" type="OGLGraphicsConfig"/>
                </params>
            </method>
            <javadoc line="48">
                Convenience method that delegates to setScratchSurface() below.                
            </javadoc>
            <method name="setScratchSurface" type="void" line="51">
                <params>
                    <param name="gc" type="OGLGraphicsConfig"/>
                </params>
            </method>
            <javadoc line="55">
                Makes the given GraphicsConfig&apos;s context current to its associated
                  &quot;scratch surface&quot;.  Each GraphicsConfig maintains a native context
                  (GLXContext on Unix, HGLRC on Windows) as well as a native pbuffer
                  known as the &quot;scratch surface&quot;.  By making the context current to the
                  scratch surface, we are assured that we have a current context for
                  the relevant GraphicsConfig, and can therefore perform operations
                  depending on the capabilities of that GraphicsConfig.  For example,
                  if the GraphicsConfig supports the GL_ARB_texture_non_power_of_two
                  extension, then we should be able to make a non-pow2 texture for this
                  GraphicsConfig once we make the context current to the scratch surface.
                  This method should be used for operations with an OpenGL texture
                  as the destination surface (e.g. a sw-&gt;texture blit loop), or in those
                  situations where we may not otherwise have a current context (e.g.
                  when disposing a texture-based surface).                
            </javadoc>
            <method name="setScratchSurface" type="void" line="72">
                <params>
                    <param name="pConfigInfo" type="long"/>
                </params>
                <comment line="74">
                    assert OGLRenderQueue.getInstance().lock.isHeldByCurrentThread();                    
                </comment>
                <comment line="76">
                    invalidate the current context                    
                </comment>
                <comment line="79">
                    set the scratch context                    
                </comment>
                <declaration name="rq" type="OGLRenderQueue" line="79"/>
                <declaration name="buf" type="RenderBuffer" line="80"/>
            </method>
            <javadoc line="86">
                Invalidates the currentContext field to ensure that we properly
                  revalidate the OGLContext (make it current, etc.) next time through
                  the validate() method.  This is typically invoked from methods
                  that affect the current context state (e.g. disposing a context or
                  surface).                
            </javadoc>
            <method name="invalidateCurrentContext" type="void" line="93">
                <comment line="95">
                    assert OGLRenderQueue.getInstance().lock.isHeldByCurrentThread();                    
                </comment>
                <comment line="97">
                    invalidate the current Java-level context so that we
                     revalidate everything the next time around                    
                </comment>
                <comment line="104">
                    invalidate the context reference at the native level, and
                     then flush the queue so that we have no pending operations
                     dependent on the current context                    
                </comment>
                <scope line="98"/>
                <declaration name="rq" type="OGLRenderQueue" line="106"/>
            </method>
            <method name="getRenderQueue" type="RenderQueue" line="112"/>
            <method name="getOGLIdString" type="String" line="116"/>
            <javadoc line="116">
                Returns a string representing adapter id (vendor, renderer, version).
                  Must be called on the rendering thread.                
                <return>
                    an id string for the adapter                    
                </return>
            </javadoc>
            <method name="saveState" type="void" line="125">
                <comment line="127">
                    assert rq.lock.isHeldByCurrentThread();                    
                </comment>
                <comment line="129">
                    reset all attributes of this and current contexts                    
                </comment>
                <comment line="135">
                    save the state on the native level                    
                </comment>
            </method>
            <method name="restoreState" type="void" line="141">
                <comment line="143">
                    assert rq.lock.isHeldByCurrentThread();                    
                </comment>
                <comment line="145">
                    reset all attributes of this and current contexts                    
                </comment>
                <comment line="151">
                    restore the state on the native level                    
                </comment>
            </method>
            <class name="OGLContextCaps" line="156">
                <extends class="ContextCapabilities"/>
                <declaration name="CAPS_EXT_FBOBJECT" type="int" line="157"/>
                <javadoc line="157">
                    Indicates the presence of the GL_EXT_framebuffer_object extension.
                      This cap will only be set if the fbobject system property has been
                      enabled and we are able to create an FBO with depth buffer.                    
                </javadoc>
                <declaration name="CAPS_STORED_ALPHA" type="int" line="164"/>
                <javadoc line="164">
                    Indicates that the context supports a stored alpha channel.                    
                </javadoc>
                <declaration name="CAPS_DOUBLEBUFFERED" type="int" line="166"/>
                <javadoc line="166">
                    Indicates that the context is doublebuffered.                    
                </javadoc>
                <declaration name="CAPS_EXT_LCD_SHADER" type="int" line="168"/>
                <javadoc line="168">
                    Indicates the presence of the GL_ARB_fragment_shader extension.
                      This cap will only be set if the lcdshader system property has been
                      enabled and the hardware supports the minimum number of texture units                    
                </javadoc>
                <declaration name="CAPS_EXT_BIOP_SHADER" type="int" line="174"/>
                <javadoc line="174">
                    Indicates the presence of the GL_ARB_fragment_shader extension.
                      This cap will only be set if the biopshader system property has been
                      enabled and the hardware meets our minimum requirements.                    
                </javadoc>
                <declaration name="CAPS_EXT_GRAD_SHADER" type="int" line="180"/>
                <javadoc line="180">
                    Indicates the presence of the GL_ARB_fragment_shader extension.
                      This cap will only be set if the gradshader system property has been
                      enabled and the hardware meets our minimum requirements.                    
                </javadoc>
                <declaration name="CAPS_EXT_TEXRECT" type="int" line="186"/>
                <javadoc line="186">
                    Indicates the presence of the GL_ARB_texture_rectangle extension.                    
                </javadoc>
                <method name="OGLContextCaps" type="constructor" line="189">
                    <params>
                        <param name="caps" type="int"/>
                        <param name="adapterId" type="String"/>
                    </params>
                </method>
                <method name="toString" type="String" line="194">
                    <declaration name="buf" type="StringBuffer" line="195"/>
                    <scope line="196"/>
                    <scope line="199"/>
                    <scope line="202"/>
                    <scope line="205"/>
                    <scope line="208"/>
                    <scope line="211"/>
                    <scope line="214"/>
                </method>
            </class>
        </class>
    </source>