<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.java2d.pipe">
        <import package="java.lang.ref.WeakReference"/>
        <import package="java.awt.Rectangle"/>
        <import package="java.awt.Shape"/>
        <import package="java.awt.PaintContext"/>
        <import package="java.awt.Transparency"/>
        <import package="java.awt.image.ColorModel"/>
        <import package="java.awt.image.Raster"/>
        <import package="java.awt.image.WritableRaster"/>
        <import package="java.awt.image.BufferedImage"/>
        <import package="sun.awt.image.BufImgSurfaceData"/>
        <import package="sun.java2d.SunGraphics2D"/>
        <import package="sun.java2d.SurfaceData"/>
        <import package="sun.java2d.loops.Blit"/>
        <import package="sun.java2d.loops.MaskBlit"/>
        <import package="sun.java2d.loops.CompositeType"/>
        <import package="sun.java2d.loops.GraphicsPrimitiveMgr"/>
        <class name="AlphaPaintPipe" line="45">
            <implements interface="CompositePipe"/>
            <javadoc line="45">
                This class implements a CompositePipe that renders path alpha tiles
                  into a destination according to the Composite attribute of a
                  SunGraphics2D.                
            </javadoc>
            <declaration name="cachedLastRaster" type="WeakReference" line="51"/>
            <declaration name="cachedLastColorModel" type="WeakReference" line="52"/>
            <declaration name="cachedLastData" type="WeakReference" line="53"/>
            <class name="TileContext" line="55">
                <declaration name="sunG2D" type="SunGraphics2D" line="56"/>
                <declaration name="paintCtxt" type="PaintContext" line="57"/>
                <declaration name="paintModel" type="ColorModel" line="58"/>
                <declaration name="lastRaster" type="WeakReference" line="59"/>
                <declaration name="lastData" type="WeakReference" line="60"/>
                <declaration name="lastMask" type="MaskBlit" line="61"/>
                <declaration name="lastBlit" type="Blit" line="62"/>
                <declaration name="dstData" type="SurfaceData" line="63"/>
                <method name="TileContext" type="constructor" line="65">
                    <params>
                        <param name="sg" type="SunGraphics2D"/>
                        <param name="pc" type="PaintContext"/>
                    </params>
                    <scope line="70">
                        <scope line="73"/>
                    </scope>
                </method>
            </class>
            <method name="startSequence" type="Object" line="82">
                <params>
                    <param name="sg" type="SunGraphics2D"/>
                    <param name="s" type="Shape"/>
                    <param name="devR" type="Rectangle"/>
                    <param name="abox" type="int[]"/>
                </params>
                <declaration name="paintContext" type="PaintContext" line="83"/>
            </method>
            <method name="needTile" type="boolean" line="92">
                <params>
                    <param name="context" type="Object"/>
                    <param name="x" type="int"/>
                    <param name="y" type="int"/>
                    <param name="w" type="int"/>
                    <param name="h" type="int"/>
                </params>
            </method>
            <declaration name="TILE_SIZE" type="int" line="96"/>
            <method name="renderPathTile" type="void" line="100">
                <params>
                    <param name="ctx" type="Object"/>
                    <param name="atile" type="byte[]"/>
                    <param name="offset" type="int"/>
                    <param name="tilesize" type="int"/>
                    <param name="x" type="int"/>
                    <param name="y" type="int"/>
                    <param name="w" type="int"/>
                    <param name="h" type="int"/>
                </params>
                <comment line="131">
                    REMIND: This will fail for a non-Writable raster!                    
                </comment>
                <declaration name="context" type="TileContext" line="101"/>
                <declaration name="paintCtxt" type="PaintContext" line="102"/>
                <declaration name="sg" type="SunGraphics2D" line="103"/>
                <declaration name="dstData" type="SurfaceData" line="104"/>
                <declaration name="srcData" type="SurfaceData" line="105"/>
                <declaration name="lastRas" type="Raster" line="106"/>
                <scope line="107">
                    <scope line="110"/>
                </scope>
                <declaration name="paintModel" type="ColorModel" line="115"/>
                <scope line="117">
                    <declaration name="ty" type="int" line="118"/>
                    <declaration name="th" type="int" line="119"/>
                    <scope line="120">
                        <declaration name="tx" type="int" line="121"/>
                        <declaration name="tw" type="int" line="122"/>
                        <declaration name="srcRaster" type="Raster" line="124"/>
                        <scope line="125"/>
                        <scope line="128">
                            <declaration name="bImg" type="BufferedImage" line="132"/>
                        </scope>
                        <scope line="143">
                            <scope line="144">
                                <declaration name="comptype" type="CompositeType" line="145"/>
                                <scope line="148"/>
                            </scope>
                        </scope>
                        <scope line="159">
                            <scope line="160">
                                <declaration name="comptype" type="CompositeType" line="161"/>
                                <scope line="164"/>
                            </scope>
                            <declaration name="toff" type="int" line="173"/>
                        </scope>
                    </scope>
                </scope>
            </method>
            <method name="skipTile" type="void" line="183">
                <params>
                    <param name="context" type="Object"/>
                    <param name="x" type="int"/>
                    <param name="y" type="int"/>
                </params>
            </method>
            <method name="endSequence" type="void" line="187">
                <params>
                    <param name="ctx" type="Object"/>
                </params>
                <comment line="198">
                    Avoid creating new WeakReference if possible                    
                </comment>
                <declaration name="context" type="TileContext" line="188"/>
                <scope line="189"/>
                <scope line="192">
                    <scope line="193">
                        <scope line="197"/>
                    </scope>
                </scope>
            </method>
        </class>
    </source>