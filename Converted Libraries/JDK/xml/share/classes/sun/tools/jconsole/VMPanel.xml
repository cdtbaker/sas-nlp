<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.tools.jconsole">
        <import package="java.awt"/>
        <import package="java.awt.event"/>
        <import package="java.beans"/>
        <import package="java.io"/>
        <import package="java.lang.reflect"/>
        <import package="java.util"/>
        <import package="java.util.List"/>
        <import package="java.util.Timer"/>
        <import package="javax.swing"/>
        <import package="javax.swing.plaf"/>
        <import package="com.sun.tools.jconsole.JConsolePlugin"/>
        <import package="com.sun.tools.jconsole.JConsoleContext"/>
        <import package="com.sun.tools.jconsole.JConsoleContext.ConnectionState"/>
        <import package="sun.tools.jconsole.ProxyClient"/>
        <class name="VMPanel" line="46">
            <extends class="JTabbedPane"/>
            <comment line="65">
                The everConnected flag keeps track of whether the window can be
                 closed if the user clicks Cancel after a failed connection attempt.                
            </comment>
            <comment line="70">
                The initialUpdate flag is used to enable/disable tabs each time
                 a connect or reconnect takes place. This flag avoids having to
                 enable/disable tabs on each update call.                
            </comment>
            <comment line="76">
                Each VMPanel has its own instance of the JConsolePlugin
                 A map of JConsolePlugin to the previous SwingWorker                
            </comment>
            <comment line="81">
                Update these only on the EDT                
            </comment>
            <comment line="156">
                Override to increase right inset for tab area,
                 in order to reserve space for the connect toggle.                
            </comment>
            <comment line="166">
                Override to paint the connect toggle                
            </comment>
            <comment line="281">
                Call on EDT                
            </comment>
            <comment line="302">
                Call on EDT                
            </comment>
            <comment line="308">
                Called on EDT                
            </comment>
            <comment line="354">
                Called on EDT                
            </comment>
            <comment line="383">
                Called on EDT                
            </comment>
            <comment line="427">
                TODO: this method is not needed when all JConsole tabs
                 are migrated to use the new JConsolePlugin API.
                
                 A thread safe clone of all JConsole tabs                
            </comment>
            <comment line="458">
                Call on EDT                
            </comment>
            <comment line="512">
                Note: This method is called on a TimerTask thread. Any GUI manipulation
                 must be performed with invokeLater() or invokeAndWait().                
            </comment>
            <comment line="647">
                Convenience methods                
            </comment>
            <implements interface="PropertyChangeListener"/>
            <declaration name="proxyClient" type="ProxyClient" line="49"/>
            <declaration name="timer" type="Timer" line="50"/>
            <declaration name="updateInterval" type="int" line="51"/>
            <declaration name="hostName" type="String" line="52"/>
            <declaration name="port" type="int" line="53"/>
            <declaration name="vmid" type="int" line="54"/>
            <declaration name="userName" type="String" line="55"/>
            <declaration name="password" type="String" line="56"/>
            <declaration name="url" type="String" line="57"/>
            <declaration name="vmIF" type="VMInternalFrame" line="58"/>
            <declaration name="windowsLaF" type="String" line="59"/>
            <declaration name="tabInfos" type="ArrayList&lt;TabInfo&gt;" line="61"/>
            <declaration name="wasConnected" type="boolean" line="62"/>
            <declaration name="everConnected" type="boolean" line="67"/>
            <declaration name="initialUpdate" type="boolean" line="73"/>
            <declaration name="plugins" type="Map&lt;JConsolePlugin,SwingWorker&lt;?,?&gt;&gt;" line="77"/>
            <declaration name="pluginTabsAdded" type="boolean" line="78"/>
            <declaration name="optionPane" type="JOptionPane" line="81"/>
            <declaration name="progressBar" type="JProgressBar" line="82"/>
            <declaration name="time0" type="long" line="83"/>
            <scope line="85"/>
            <method name="getTabInfos" type="TabInfo[]" line="94"/>
            <method name="VMPanel" type="constructor" line="98">
                <params>
                    <param name="proxyClient" type="ProxyClient"/>
                    <param name="updateInterval" type="int"/>
                </params>
                <comment line="125">
                    Start listening to connection state events                    
                </comment>
                <scope line="108">
                    <scope line="109"/>
                </scope>
                <scope line="115"/>
                <anonymous_class line="128">
                    <method name="mouseClicked" type="void" line="130">
                        <params>
                            <param name="e" type="MouseEvent"/>
                        </params>
                        <scope line="131">
                            <scope line="133"/>
                            <scope line="136"/>
                        </scope>
                    </method>
                </anonymous_class>
            </method>
            <declaration name="connectedIcon16" type="Icon" line="145"/>
            <declaration name="connectedIcon24" type="Icon" line="147"/>
            <declaration name="disconnectedIcon16" type="Icon" line="149"/>
            <declaration name="disconnectedIcon24" type="Icon" line="151"/>
            <declaration name="connectedIconBounds" type="Rectangle" line="153"/>
            <method name="setUI" type="void" line="157">
                <params>
                    <param name="ui" type="TabbedPaneUI"/>
                </params>
                <declaration name="insets" type="Insets" line="158"/>
            </method>
            <method name="paintComponent" type="void" line="166">
                <params>
                    <param name="g" type="Graphics"/>
                </params>
                <declaration name="icon" type="Icon" line="169"/>
                <declaration name="c0" type="Component" line="170"/>
                <scope line="171"/>
                <scope line="173"/>
                <declaration name="insets" type="Insets" line="176"/>
                <declaration name="x" type="int" line="177"/>
                <declaration name="y" type="int" line="178"/>
                <scope line="179"/>
            </method>
            <method name="getToolTipText" type="String" line="186">
                <params>
                    <param name="event" type="MouseEvent"/>
                </params>
                <scope line="187">
                    <scope line="188"/>
                    <scope line="190"/>
                </scope>
                <scope line="193"/>
            </method>
            <method name="addTab" type="void" line="198">
                <params>
                    <param name="tabInfo" type="TabInfo"/>
                </params>
                <declaration name="tab" type="Tab" line="199"/>
                <scope line="200"/>
                <scope line="202"/>
            </method>
            <method name="insertTab" type="void" line="207">
                <params>
                    <param name="tabInfo" type="TabInfo"/>
                    <param name="index" type="int"/>
                </params>
                <declaration name="tab" type="Tab" line="208"/>
                <scope line="209"/>
                <scope line="211"/>
            </method>
            <method name="removeTabAt" type="void" line="216">
                <params>
                    <param name="index" type="int"/>
                </params>
            </method>
            <method name="instantiate" type="Tab" line="220">
                <params>
                    <param name="tabInfo" type="TabInfo"/>
                </params>
                <scope line="221">
                    <declaration name="con" type="Constructor" line="222"/>
                </scope>
                <scope line="224"/>
            </method>
            <method name="isConnected" type="boolean" line="230"/>
            <method name="getUpdateInterval" type="int" line="234"/>
            <javadoc line="238">
                WARNING NEVER CALL THIS METHOD TO MAKE JMX REQUEST
                  IF  assertThread == false.
                  DISPATCHER THREAD IS NOT ASSERTED.
                  IT IS USED TO MAKE SOME LOCAL MANIPULATIONS.                
            </javadoc>
            <method name="getProxyClient" type="ProxyClient" line="244">
                <params>
                    <param name="assertThread" type="boolean"/>
                </params>
                <scope line="245"/>
                <scope line="247"/>
            </method>
            <method name="getProxyClient" type="ProxyClient" line="252">
                <declaration name="threadClass" type="String" line="253"/>
                <scope line="254">
                    <declaration name="msg" type="String" line="255"/>
                </scope>
            </method>
            <method name="cleanUp" type="void" line="262">
                <comment line="264">
                    proxyClient.disconnect();                    
                </comment>
                <comment line="271">
                    Cancel pending update tasks                    
                </comment>
                <comment line="276">
                    Stop listening to connection state events                    
                </comment>
                <scope line="264"/>
                <scope line="267"/>
                <scope line="272"/>
            </method>
            <method name="connect" type="void" line="281">
                <comment line="284">
                    create plugin tabs if not done                    
                </comment>
                <comment line="286">
                    Notify tabs                    
                </comment>
                <comment line="288">
                    Enable/disable tabs on initial update                    
                </comment>
                <comment line="290">
                    Start/Restart update timer on connect/reconnect                    
                </comment>
                <scope line="282"/>
                <scope line="291">
                    <anonymous_class line="292">
                        <method name="run" type="void" line="294"/>
                    </anonymous_class>
                </scope>
            </method>
            <method name="disconnect" type="void" line="302"/>
            <method name="propertyChange" type="void" line="308">
                <params>
                    <param name="ev" type="PropertyChangeEvent"/>
                </params>
                <comment line="327">
                    create tabs if not done                    
                </comment>
                <comment line="330">
                    Notify tabs                    
                </comment>
                <comment line="332">
                    Enable/disable tabs on initial update                    
                </comment>
                <comment line="334">
                    Start/Restart update timer on connect/reconnect                    
                </comment>
                <comment line="346">
                    Notify tabs                    
                </comment>
                <declaration name="prop" type="String" line="309"/>
                <scope line="311">
                    <declaration name="oldState" type="ConnectionState" line="312"/>
                    <declaration name="newState" type="ConnectionState" line="313"/>
                    <scope line="320"/>
                    <scope line="338"/>
                    <scope line="344"/>
                </scope>
            </method>
            <method name="onConnecting" type="void" line="354">
                <declaration name="jc" type="JConsole" line="357"/>
                <declaration name="connectionName" type="String" line="359"/>
                <declaration name="progressPanel" type="JPanel" line="362"/>
                <declaration name="message" type="Object[]" line="365"/>
            </method>
            <method name="closeOptionPane" type="void" line="383">
                <comment line="393">
                    Ignore                    
                </comment>
                <scope line="384">
                    <anonymous_class line="385">
                        <method name="run" type="void" line="386">
                            <comment line="393">
                                Ignore                                
                            </comment>
                            <declaration name="elapsed" type="long" line="387"/>
                            <scope line="388">
                                <scope line="389"/>
                                <scope line="391"/>
                            </scope>
                            <anonymous_class line="395">
                                <method name="run" type="void" line="397"/>
                            </anonymous_class>
                        </method>
                    </anonymous_class>
                </scope>
            </method>
            <method name="updateFrameTitle" type="void" line="407">
                <declaration name="vmIF" type="VMInternalFrame" line="408"/>
                <scope line="409">
                    <declaration name="displayName" type="String" line="410"/>
                    <scope line="411"/>
                </scope>
            </method>
            <method name="getFrame" type="VMInternalFrame" line="418">
                <scope line="419"/>
            </method>
            <method name="getTabs" type="List<Tab>" line="430">
                <declaration name="list" type="ArrayList&lt;Tab&gt;" line="431"/>
                <declaration name="n" type="int" line="432"/>
                <scope line="433">
                    <declaration name="c" type="Component" line="434"/>
                    <scope line="435"/>
                </scope>
            </method>
            <method name="startUpdateTimer" type="void" line="442">
                <scope line="443"/>
                <anonymous_class line="446">
                    <method name="run" type="void" line="448"/>
                </anonymous_class>
                <declaration name="timerTask" type="TimerTask" line="446"/>
                <declaration name="timerName" type="String" line="452"/>
            </method>
            <method name="vmPanelDied" type="void" line="458">
                <comment line="504">
                    Should not happen, but can be ignored.                    
                </comment>
                <declaration name="jc" type="JConsole" line="461"/>
                <declaration name="optionPane" type="JOptionPane" line="463"/>
                <declaration name="connectStr" type="String" line="465"/>
                <declaration name="reconnectStr" type="String" line="466"/>
                <declaration name="cancelStr" type="String" line="467"/>
                <declaration name="msgTitle" type="String" line="469"/>
                <scope line="471"/>
                <scope line="476"/>
                <anonymous_class line="491">
                    <method name="propertyChange" type="void" line="493">
                        <params>
                            <param name="event" type="PropertyChangeEvent"/>
                        </params>
                        <comment line="504">
                            Should not happen, but can be ignored.                            
                        </comment>
                        <scope line="494">
                            <declaration name="value" type="Object" line="495"/>
                            <scope line="497"/>
                            <scope line="499">
                                <scope line="500"/>
                                <scope line="502"/>
                            </scope>
                        </scope>
                    </method>
                </anonymous_class>
            </method>
            <declaration name="lockObject" type="Object" line="513"/>
            <method name="update" type="void" line="515">
                <comment line="540">
                    Update tab                    
                </comment>
                <comment line="543">
                    Enable tab on initial update                    
                </comment>
                <comment line="555">
                    Disable tab on initial update                    
                </comment>
                <comment line="567">
                    plugin GUI update                    
                </comment>
                <comment line="571">
                    schedule SwingWorker to run only if the previous
                     SwingWorker has finished its task and it hasn&apos;t started.                    
                </comment>
                <comment line="583">
                    Set the first enabled tab in the tab&apos;s list
                     as the selected tab on initial update                    
                </comment>
                <comment line="589">
                    Select first enabled tab if current tab isn&apos;t.                    
                </comment>
                <scope line="516">
                    <scope line="517">
                        <scope line="518">
                            <anonymous_class line="519">
                                <method name="run" type="void" line="521"/>
                            </anonymous_class>
                        </scope>
                    </scope>
                    <scope line="528"/>
                    <declaration name="tabs" type="List&lt;Tab&gt;" line="533"/>
                    <declaration name="n" type="int" line="534"/>
                    <scope line="535">
                        <declaration name="index" type="int" line="536"/>
                        <scope line="537">
                            <scope line="538">
                                <scope line="544">
                                    <anonymous_class line="545">
                                        <method name="run" type="void" line="547"/>
                                    </anonymous_class>
                                </scope>
                            </scope>
                        </scope>
                        <scope line="553">
                            <scope line="556">
                                <anonymous_class line="557">
                                    <method name="run" type="void" line="558"/>
                                </anonymous_class>
                            </scope>
                        </scope>
                    </scope>
                    <scope line="567">
                        <declaration name="sw" type="SwingWorker&lt;?,?&gt;" line="568"/>
                        <declaration name="prevSW" type="SwingWorker&lt;?,?&gt;" line="569"/>
                        <scope line="572">
                            <scope line="573">
                                <scope line="575"/>
                            </scope>
                        </scope>
                    </scope>
                    <scope line="585">
                        <anonymous_class line="586">
                            <method name="run" type="void" line="587">
                                <comment line="589">
                                    Select first enabled tab if current tab isn&apos;t.                                    
                                </comment>
                                <declaration name="index" type="int" line="589"/>
                                <scope line="590">
                                    <scope line="591">
                                        <scope line="592"/>
                                    </scope>
                                </scope>
                            </method>
                        </anonymous_class>
                    </scope>
                </scope>
            </method>
            <method name="getHostName" type="String" line="605"/>
            <method name="getPort" type="int" line="609"/>
            <method name="getUserName" type="String" line="613"/>
            <method name="getUrl" type="String" line="617"/>
            <method name="getPassword" type="String" line="621"/>
            <method name="getConnectionName" type="String" line="625"/>
            <method name="getDisplayName" type="String" line="629"/>
            <class name="TabInfo" line="633">
                <declaration name="tabClass" type="Class&lt;? extends Tab&gt;" line="635"/>
                <declaration name="name" type="String" line="636"/>
                <declaration name="tabVisible" type="boolean" line="637"/>
                <method name="TabInfo" type="constructor" line="639">
                    <params>
                        <param name="tabClass" type="Class<? extends Tab>"/>
                        <param name="name" type="String"/>
                        <param name="tabVisible" type="boolean"/>
                    </params>
                </method>
            </class>
            <method name="getText" type="String" line="647">
                <params>
                    <param name="key" type="String"/>
                    <param name="args" type="Object"/>
                </params>
            </method>
            <method name="createPluginTabs" type="void" line="651">
                <comment line="653">
                    add plugin tabs if not done                    
                </comment>
                <scope line="653">
                    <scope line="654">
                        <declaration name="tabs" type="Map&lt;String,JPanel&gt;" line="655"/>
                        <scope line="656"/>
                    </scope>
                </scope>
            </method>
            <method name="fireConnectedChange" type="void" line="664">
                <params>
                    <param name="connected" type="boolean"/>
                </params>
                <scope line="665"/>
            </method>
        </class>
    </source>