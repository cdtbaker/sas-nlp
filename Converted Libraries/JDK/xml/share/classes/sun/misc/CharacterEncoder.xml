<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.misc">
        <import package="java.io.InputStream"/>
        <import package="java.io.ByteArrayInputStream"/>
        <import package="java.io.OutputStream"/>
        <import package="java.io.ByteArrayOutputStream"/>
        <import package="java.io.PrintStream"/>
        <import package="java.io.IOException"/>
        <import package="java.nio.ByteBuffer"/>
        <class name="CharacterEncoder" line="37">
            <javadoc line="37">
                This class defines the encoding half of character encoders.
                  A character encoder is an algorithim for transforming 8 bit binary
                  data into text (generally 7 bit ASCII or 8 bit ISO-Latin-1 text)
                  for transmition over text channels such as e-mail and network news.
                  The character encoders have been structured around a central theme
                  that, in general, the encoded text has the form:
                  &lt;pre&gt;
                  [Buffer Prefix]
                  [Line Prefix][encoded data atoms][Line Suffix]
                  [Buffer Suffix]
                  &lt;/pre&gt;
                  In the CharacterEncoder and CharacterDecoder classes, one complete
                  chunk of data is referred to as a &lt;i&gt;buffer&lt;/i&gt;. Encoded buffers
                  are all text, and decoded buffers (sometimes just referred to as
                  buffers) are binary octets.
                  To create a custom encoder, you must, at a minimum,  overide three
                  abstract methods in this class.
                  &lt;DL&gt;
                  &lt;DD&gt;bytesPerAtom which tells the encoder how many bytes to
                  send to encodeAtom
                  &lt;DD&gt;encodeAtom which encodes the bytes sent to it as text.
                  &lt;DD&gt;bytesPerLine which tells the encoder the maximum number of
                  bytes per line.
                  &lt;/DL&gt;
                  Several useful encoders have already been written and are
                  referenced in the See Also list below.                
                <author>
                    Chuck McManis                    
                </author>
                <see>
                    CharacterDecoder;                    
                </see>
                <see>
                    UCEncoder                    
                </see>
                <see>
                    UUEncoder                    
                </see>
                <see>
                    BASE64Encoder                    
                </see>
            </javadoc>
            <declaration name="pStream" type="PrintStream" line="78"/>
            <javadoc line="78">
                Stream that understands &quot;printing&quot;                
            </javadoc>
            <method name="bytesPerAtom" type="int" line="81"/>
            <javadoc line="81">
                Return the number of bytes per atom of encoding                
            </javadoc>
            <method name="bytesPerLine" type="int" line="84"/>
            <javadoc line="84">
                Return the number of bytes that can be encoded per line                
            </javadoc>
            <javadoc line="87">
                Encode the prefix for the entire buffer. By default is simply
                  opens the PrintStream for use by the other functions.                
            </javadoc>
            <method name="encodeBufferPrefix" type="void" line="91">
                <params>
                    <param name="aStream" type="OutputStream"/>
                </params>
            </method>
            <javadoc line="95">
                Encode the suffix for the entire buffer.                
            </javadoc>
            <method name="encodeBufferSuffix" type="void" line="98">
                <params>
                    <param name="aStream" type="OutputStream"/>
                </params>
            </method>
            <javadoc line="101">
                Encode the prefix that starts every output line.                
            </javadoc>
            <method name="encodeLinePrefix" type="void" line="105">
                <params>
                    <param name="aStream" type="OutputStream"/>
                    <param name="aLength" type="int"/>
                </params>
            </method>
            <javadoc line="108">
                Encode the suffix that ends every output line. By default
                  this method just prints a &lt;newline&gt; into the output stream.                
            </javadoc>
            <method name="encodeLineSuffix" type="void" line="112">
                <params>
                    <param name="aStream" type="OutputStream"/>
                </params>
            </method>
            <method name="encodeAtom" type="void" line="116"/>
            <javadoc line="116">
                Encode one &quot;atom&quot; of information into characters.                
            </javadoc>
            <javadoc line="120">
                This method works around the bizarre semantics of BufferedInputStream&apos;s
                  read method.                
            </javadoc>
            <method name="readFully" type="int" line="125">
                <params>
                    <param name="in" type="InputStream"/>
                    <param name="buffer" type="byte"/>
                </params>
                <scope line="126">
                    <declaration name="q" type="int" line="127"/>
                </scope>
            </method>
            <javadoc line="135">
                Encode bytes from the input stream, and write them as text characters
                  to the output stream. This method will run until it exhausts the
                  input stream, but does not print the line suffix for a final
                  line that is shorter than bytesPerLine().                
            </javadoc>
            <method name="encode" type="void" line="142">
                <params>
                    <param name="inStream" type="InputStream"/>
                    <param name="outStream" type="OutputStream"/>
                </params>
                <declaration name="j" type="int" line="143"/>
                <declaration name="numBytes" type="int" line="144"/>
                <declaration name="tmpbuffer" type="byte" line="145"/>
                <scope line="149">
                    <scope line="151"/>
                    <scope line="155">
                        <scope line="157"/>
                        <scope line="159"/>
                    </scope>
                    <scope line="163"/>
                    <scope line="165"/>
                </scope>
            </method>
            <javadoc line="172">
                Encode the buffer in &lt;i&gt;aBuffer&lt;/i&gt; and write the encoded
                  result to the OutputStream &lt;i&gt;aStream&lt;/i&gt;.                
            </javadoc>
            <method name="encode" type="void" line="177">
                <params>
                    <param name="aBuffer" type="byte"/>
                    <param name="aStream" type="OutputStream"/>
                </params>
                <declaration name="inStream" type="ByteArrayInputStream" line="178"/>
            </method>
            <javadoc line="182">
                A &apos;streamless&apos; version of encode that simply takes a buffer of
                  bytes and returns a string containing the encoded buffer.                
            </javadoc>
            <method name="encode" type="String" line="186">
                <params>
                    <param name="aBuffer" type="byte"/>
                </params>
                <comment line="192">
                    explicit ascii-&gt;unicode conversion                    
                </comment>
                <comment line="195">
                    This should never happen.                    
                </comment>
                <declaration name="outStream" type="ByteArrayOutputStream" line="187"/>
                <declaration name="inStream" type="ByteArrayInputStream" line="188"/>
                <declaration name="retVal" type="String" line="189"/>
                <scope line="190"/>
                <scope line="194"/>
            </method>
            <javadoc line="201">
                Return a byte array from the remaining bytes in this ByteBuffer.
                  &lt;P&gt;
                  The ByteBuffer&apos;s position will be advanced to ByteBuffer&apos;s limit.
                  &lt;P&gt;
                  To avoid an extra copy, the implementation will attempt to return the
                  byte array backing the ByteBuffer.  If this is not possible, a
                  new byte array will be created.                
            </javadoc>
            <method name="getBytes" type="byte[]" line="210">
                <params>
                    <param name="bb" type="ByteBuffer"/>
                </params>
                <comment line="211">
                    This should never return a BufferOverflowException, as we&apos;re
                     careful to allocate just the right amount.                    
                </comment>
                <comment line="217">
                    If it has a usable backing byte buffer, use it.  Use only
                     if the array exactly represents the current ByteBuffer.                    
                </comment>
                <comment line="231">
                    This class doesn&apos;t have a concept of encode(buf, len, off),
                     so if we have a partial buffer, we must reallocate
                     space.                    
                </comment>
                <comment line="238">
                    position() automatically updated                    
                </comment>
                <declaration name="buf" type="byte[]" line="215"/>
                <scope line="221">
                    <declaration name="tmp" type="byte[]" line="222"/>
                    <scope line="224"/>
                </scope>
                <scope line="230"/>
            </method>
            <javadoc line="247">
                Encode the &lt;i&gt;aBuffer&lt;/i&gt; ByteBuffer and write the encoded
                  result to the OutputStream &lt;i&gt;aStream&lt;/i&gt;.
                  &lt;P&gt;
                  The ByteBuffer&apos;s position will be advanced to ByteBuffer&apos;s limit.                
            </javadoc>
            <method name="encode" type="void" line="254">
                <params>
                    <param name="aBuffer" type="ByteBuffer"/>
                    <param name="aStream" type="OutputStream"/>
                </params>
                <declaration name="buf" type="byte[]" line="255"/>
            </method>
            <javadoc line="259">
                A &apos;streamless&apos; version of encode that simply takes a ByteBuffer
                  and returns a string containing the encoded buffer.
                  &lt;P&gt;
                  The ByteBuffer&apos;s position will be advanced to ByteBuffer&apos;s limit.                
            </javadoc>
            <method name="encode" type="String" line="265">
                <params>
                    <param name="aBuffer" type="ByteBuffer"/>
                </params>
                <declaration name="buf" type="byte[]" line="266"/>
            </method>
            <javadoc line="270">
                Encode bytes from the input stream, and write them as text characters
                  to the output stream. This method will run until it exhausts the
                  input stream. It differs from encode in that it will add the
                  line at the end of a final line that is shorter than bytesPerLine().                
            </javadoc>
            <method name="encodeBuffer" type="void" line="277">
                <params>
                    <param name="inStream" type="InputStream"/>
                    <param name="outStream" type="OutputStream"/>
                </params>
                <declaration name="j" type="int" line="278"/>
                <declaration name="numBytes" type="int" line="279"/>
                <declaration name="tmpbuffer" type="byte" line="280"/>
                <scope line="284">
                    <scope line="286"/>
                    <scope line="290">
                        <scope line="291"/>
                        <scope line="293"/>
                    </scope>
                    <scope line="298"/>
                </scope>
            </method>
            <javadoc line="305">
                Encode the buffer in &lt;i&gt;aBuffer&lt;/i&gt; and write the encoded
                  result to the OutputStream &lt;i&gt;aStream&lt;/i&gt;.                
            </javadoc>
            <method name="encodeBuffer" type="void" line="310">
                <params>
                    <param name="aBuffer" type="byte"/>
                    <param name="aStream" type="OutputStream"/>
                </params>
                <declaration name="inStream" type="ByteArrayInputStream" line="311"/>
            </method>
            <javadoc line="315">
                A &apos;streamless&apos; version of encode that simply takes a buffer of
                  bytes and returns a string containing the encoded buffer.                
            </javadoc>
            <method name="encodeBuffer" type="String" line="319">
                <params>
                    <param name="aBuffer" type="byte"/>
                </params>
                <comment line="325">
                    This should never happen.                    
                </comment>
                <declaration name="outStream" type="ByteArrayOutputStream" line="320"/>
                <declaration name="inStream" type="ByteArrayInputStream" line="321"/>
                <scope line="322"/>
                <scope line="324"/>
            </method>
            <javadoc line="331">
                Encode the &lt;i&gt;aBuffer&lt;/i&gt; ByteBuffer and write the encoded
                  result to the OutputStream &lt;i&gt;aStream&lt;/i&gt;.
                  &lt;P&gt;
                  The ByteBuffer&apos;s position will be advanced to ByteBuffer&apos;s limit.                
            </javadoc>
            <method name="encodeBuffer" type="void" line="338">
                <params>
                    <param name="aBuffer" type="ByteBuffer"/>
                    <param name="aStream" type="OutputStream"/>
                </params>
                <declaration name="buf" type="byte[]" line="339"/>
            </method>
            <javadoc line="343">
                A &apos;streamless&apos; version of encode that simply takes a ByteBuffer
                  and returns a string containing the encoded buffer.
                  &lt;P&gt;
                  The ByteBuffer&apos;s position will be advanced to ByteBuffer&apos;s limit.                
            </javadoc>
            <method name="encodeBuffer" type="String" line="349">
                <params>
                    <param name="aBuffer" type="ByteBuffer"/>
                </params>
                <declaration name="buf" type="byte[]" line="350"/>
            </method>
        </class>
    </source>