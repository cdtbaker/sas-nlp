<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.rmi.rmic.newrmic.jrmp">
        <import package="com.sun.javadoc.ClassDoc"/>
        <import package="com.sun.javadoc.MethodDoc"/>
        <import package="com.sun.javadoc.Parameter"/>
        <import package="com.sun.javadoc.Type"/>
        <import package="java.io.IOException"/>
        <import package="java.io.ByteArrayOutputStream"/>
        <import package="java.io.DataOutputStream"/>
        <import package="java.security.MessageDigest"/>
        <import package="java.security.DigestOutputStream"/>
        <import package="java.security.NoSuchAlgorithmException"/>
        <import package="java.util.ArrayList"/>
        <import package="java.util.Arrays"/>
        <import package="java.util.Comparator"/>
        <import package="java.util.List"/>
        <import package="java.util.HashMap"/>
        <import package="java.util.Map"/>
        <import package="sun.rmi.rmic.newrmic.BatchEnvironment"/>
        <import package="sun.rmi.rmic.newrmic.Constants"/>
        <import package="sun.rmi.rmic.newrmic.jrmp.Constants"/>
        <class name="RemoteClass" line="21">
            <javadoc line="21">
                Encapsulates RMI-specific information about a remote implementation
                  class (a class that implements one or more remote interfaces).
                  WARNING: The contents of this source file are not part of any
                  supported API.  Code that depends on them does so at its own risk:
                  they are subject to change or removal without notice.                
                <author>
                    Peter Jones                    
                </author>
            </javadoc>
            <declaration name="env" type="BatchEnvironment" line="30"/>
            <javadoc line="30">
                rmic environment for this object                
            </javadoc>
            <declaration name="implClass" type="ClassDoc" line="34"/>
            <javadoc line="34">
                the remote implementation class this object represents                
            </javadoc>
            <declaration name="remoteInterfaces" type="ClassDoc[]" line="38"/>
            <javadoc line="38">
                remote interfaces implemented by this class                
            </javadoc>
            <declaration name="remoteMethods" type="Method[]" line="42"/>
            <javadoc line="42">
                the remote methods of this class                
            </javadoc>
            <declaration name="interfaceHash" type="long" line="46"/>
            <javadoc line="46">
                stub/skeleton &quot;interface hash&quot; for this class                
            </javadoc>
            <javadoc line="50">
                Creates a RemoteClass instance that represents the RMI-specific
                  information about the specified remote implementation class.
                  If the class is not a valid remote implementation class or if
                  some other error occurs, the return value will be null, and
                  errors will have been reported to the supplied
                  BatchEnvironment.                
            </javadoc>
            <method name="forClass" type="RemoteClass" line="58">
                <params>
                    <param name="env" type="BatchEnvironment"/>
                    <param name="implClass" type="ClassDoc"/>
                </params>
                <declaration name="remoteClass" type="RemoteClass" line="59"/>
                <scope line="60"/>
                <scope line="63"/>
            </method>
            <javadoc line="67">
                Creates a RemoteClass instance for the specified class.  The
                  resulting object is not yet initialized.                
            </javadoc>
            <method name="RemoteClass" type="constructor" line="71">
                <params>
                    <param name="env" type="BatchEnvironment"/>
                    <param name="implClass" type="ClassDoc"/>
                </params>
            </method>
            <javadoc line="75">
                Returns the ClassDoc for this remote implementation class.                
            </javadoc>
            <method name="classDoc" type="ClassDoc" line="78"/>
            <javadoc line="81">
                Returns the remote interfaces implemented by this remote
                  implementation class.
                  A remote interface is an interface that is a subinterface of
                  java.rmi.Remote.  The remote interfaces of a class are the
                  direct superinterfaces of the class and all of its superclasses
                  that are remote interfaces.
                  The order of the array returned is arbitrary, and some elements
                  may be superfluous (i.e., superinterfaces of other interfaces
                  in the array).                
            </javadoc>
            <method name="remoteInterfaces" type="ClassDoc[]" line="92"/>
            <javadoc line="95">
                Returns an array of RemoteClass.Method objects representing all
                  of the remote methods of this remote implementation class (all
                  of the member methods of the class&apos;s remote interfaces).
                  The methods in the array are ordered according to a comparison
                  of strings consisting of their name followed by their
                  descriptor, so each method&apos;s index in the array corresponds to
                  its &quot;operation number&quot; in the JDK 1.1 version of the JRMP
                  stub/skeleton protocol.                
            </javadoc>
            <method name="remoteMethods" type="Method[]" line="105"/>
            <javadoc line="108">
                Returns the &quot;interface hash&quot; used to match a stub/skeleton pair
                  for this remote implementation class in the JDK 1.1 version of
                  the JRMP stub/skeleton protocol.                
            </javadoc>
            <method name="interfaceHash" type="long" line="113"/>
            <javadoc line="116">
                Validates this remote implementation class and computes the
                  RMI-specific information.  Returns true if successful, or false
                  if an error occurred.                
            </javadoc>
            <method name="init" type="boolean" line="121">
                <scope line="122"/>
                <declaration name="remotesImplemented" type="List&amp;lt;ClassDoc&amp;gt;" line="126"/>
                <scope line="127">
                    <scope line="128">
                        <scope line="129">
                            <scope line="131"/>
                        </scope>
                    </scope>
                    <scope line="136">
                        <scope line="137"/>
                        <scope line="140"/>
                    </scope>
                </scope>
                <declaration name="methods" type="Map&amp;lt;String,Method&amp;gt;" line="147"/>
                <declaration name="errors" type="boolean" line="148"/>
                <scope line="149">
                    <scope line="150"/>
                </scope>
                <scope line="154"/>
                <declaration name="orderedKeys" type="String[]" line="157"/>
                <scope line="160">
                    <scope line="162">
                        <declaration name="msg" type="String" line="163"/>
                        <declaration name="exceptions" type="ClassDoc[]" line="164"/>
                        <scope line="165">
                            <scope line="167">
                                <scope line="168"/>
                            </scope>
                        </scope>
                    </scope>
                </scope>
            </method>
            <javadoc line="182">
                Collects and validates all methods from the specified interface
                  and all of its superinterfaces as remote methods.  Remote
                  methods are added to the supplied table.  Returns true if
                  successful, or false if an error occurred.                
            </javadoc>
            <method name="collectRemoteMethods" type="boolean" line="188">
                <params>
                    <param name="intf" type="ClassDoc"/>
                    <param name="table" type="Map&lt;String,Method&gt;"/>
                </params>
                <scope line="189"/>
                <declaration name="errors" type="boolean" line="192"/>
                <scope line="193">
                    <declaration name="hasRemoteException" type="boolean" line="194"/>
                    <scope line="195">
                        <scope line="196"/>
                    </scope>
                    <scope line="201"/>
                    <declaration name="implMethod" type="MethodDoc" line="206"/>
                    <scope line="207">
                        <scope line="208">
                            <scope line="209"/>
                        </scope>
                    </scope>
                    <declaration name="newMethod" type="Method" line="216"/>
                    <declaration name="key" type="String" line="217"/>
                    <declaration name="oldMethod" type="Method" line="218"/>
                    <scope line="219"/>
                </scope>
                <scope line="224">
                    <scope line="225"/>
                </scope>
            </method>
            <javadoc line="231">
                Returns the MethodDoc for the method of this remote
                  implementation class that implements the specified remote
                  method of a remote interface.  Returns null if no matching
                  method was found in this remote implementation class.                
            </javadoc>
            <method name="findImplMethod" type="MethodDoc" line="237">
                <params>
                    <param name="interfaceMethod" type="MethodDoc"/>
                </params>
                <declaration name="name" type="String" line="238"/>
                <declaration name="desc" type="String" line="239"/>
                <scope line="240">
                    <scope line="241"/>
                </scope>
            </method>
            <javadoc line="247">
                Computes the &quot;interface hash&quot; of the stub/skeleton pair for
                  this remote implementation class.  This is the 64-bit value
                  used to enforce compatibility between a stub class and a
                  skeleton class in the JDK 1.1 version of the JRMP stub/skeleton
                  protocol.
                  It is calculated using the first 64 bits of an SHA digest.  The
                  digest is of a stream consisting of the following data:
                  (int) stub version number, always 1
                  for each remote method, in order of operation number:
                  (UTF-8) method name
                  (UTF-8) method descriptor
                  for each declared exception, in alphabetical name order:
                  (UTF-8) name of exception class
                  (where &quot;UTF-8&quot; includes a 16-bit length prefix as written by
                  java.io.DataOutput.writeUTF).                
            </javadoc>
            <method name="computeInterfaceHash" type="long" line="264">
                <declaration name="hash" type="long" line="265"/>
                <declaration name="sink" type="ByteArrayOutputStream" line="266"/>
                <scope line="267">
                    <declaration name="md" type="MessageDigest" line="268"/>
                    <declaration name="out" type="DataOutputStream" line="269"/>
                    <scope line="271">
                        <declaration name="methodDoc" type="MethodDoc" line="272"/>
                        <declaration name="exceptions" type="ClassDoc" line="275"/>
                        <scope line="277"/>
                    </scope>
                    <declaration name="hashArray" type="byte" line="282"/>
                    <scope line="283"/>
                </scope>
                <scope line="287"/>
                <scope line="290"/>
            </method>
            <class name="ClassDocComparator" line="295">
                <implements interface="Comparator">
                    <type_params>
                        <type_param name="ClassDoc"/>
                    </type_params>
                </implements>
                <javadoc line="295">
                    Compares ClassDoc instances according to the lexicographic
                      order of their binary names.                    
                </javadoc>
                <method name="compare" type="int" line="300">
                    <params>
                        <param name="o1" type="ClassDoc"/>
                        <param name="o2" type="ClassDoc"/>
                    </params>
                </method>
            </class>
            <class name="Method" line="304">
                <implements interface="Cloneable"/>
                <javadoc line="304">
                    Encapsulates RMI-specific information about a particular remote
                      method in the remote implementation class represented by the
                      enclosing RemoteClass.                    
                </javadoc>
                <declaration name="methodDoc" type="MethodDoc" line="310"/>
                <javadoc line="310">
                    MethodDoc for this remove method, from one of the remote
                      interfaces that this method was found in.
                      Note that this MethodDoc may be only one of multiple that
                      correspond to this remote method object, if multiple of
                      this class&apos;s remote interfaces contain methods with the
                      same name and descriptor.  Therefore, this MethodDoc may
                      declare more exceptions thrown that this remote method
                      does.                    
                </javadoc>
                <declaration name="operationString" type="String" line="321"/>
                <javadoc line="321">
                    java.rmi.server.Operation string for this remote method                    
                </javadoc>
                <declaration name="nameAndDescriptor" type="String" line="325"/>
                <javadoc line="325">
                    name and descriptor of this remote method                    
                </javadoc>
                <declaration name="methodHash" type="long" line="329"/>
                <javadoc line="329">
                    JRMP &quot;method hash&quot; for this remote method                    
                </javadoc>
                <declaration name="exceptionTypes" type="ClassDoc[]" line="333"/>
                <javadoc line="333">
                    Exceptions declared to be thrown by this remote method.
                      This list may include superfluous entries, such as
                      unchecked exceptions and subclasses of other entries.                    
                </javadoc>
                <javadoc line="339">
                    Creates a new Method instance for the specified method.                    
                </javadoc>
                <method name="Method" type="constructor" line="342">
                    <params>
                        <param name="methodDoc" type="MethodDoc"/>
                    </params>
                </method>
                <javadoc line="350">
                    Returns the MethodDoc object corresponding to this method
                      of a remote interface.                    
                </javadoc>
                <method name="methodDoc" type="MethodDoc" line="354"/>
                <javadoc line="357">
                    Returns the parameter types declared by this method.                    
                </javadoc>
                <method name="parameterTypes" type="Type[]" line="360">
                    <declaration name="parameters" type="Parameter[]" line="361"/>
                    <declaration name="paramTypes" type="Type[]" line="362"/>
                    <scope line="363"/>
                </method>
                <javadoc line="368">
                    Returns the exception types declared to be thrown by this
                      remote method.
                      For methods with the same name and descriptor inherited
                      from multiple remote interfaces, the array will contain the
                      set of exceptions declared in all of the interfaces&apos;
                      methods that can be legally thrown by all of them.                    
                </javadoc>
                <method name="exceptionTypes" type="ClassDoc[]" line="376"/>
                <javadoc line="379">
                    Returns the JRMP &quot;method hash&quot; used to identify this remote
                      method in the JDK 1.2 version of the stub protocol.                    
                </javadoc>
                <method name="methodHash" type="long" line="383"/>
                <javadoc line="386">
                    Returns the string representation of this method
                      appropriate for the construction of a
                      java.rmi.server.Operation object.                    
                </javadoc>
                <method name="operationString" type="String" line="391"/>
                <javadoc line="394">
                    Returns a string consisting of this method&apos;s name followed
                      by its descriptor.                    
                </javadoc>
                <method name="nameAndDescriptor" type="String" line="398"/>
                <javadoc line="401">
                    Returns a new Method object that is a legal combination of
                      this Method object and another one.
                      Doing this requires determining the exceptions declared by
                      the combined method, which must be (only) all of the
                      exceptions declared in both old Methods that may thrown in
                      either of them.                    
                </javadoc>
                <method name="mergeWith" type="Method" line="409">
                    <params>
                        <param name="other" type="Method"/>
                    </params>
                    <scope line="410"/>
                    <declaration name="legalExceptions" type="List&amp;lt;ClassDoc&amp;gt;" line="413"/>
                    <declaration name="merged" type="Method" line="416"/>
                </method>
                <javadoc line="420">
                    Cloning is supported by returning a shallow copy of this
                      object.                    
                </javadoc>
                <method name="clone" type="Method" line="424">
                    <scope line="425"/>
                    <scope line="428"/>
                </method>
                <javadoc line="432">
                    Adds to the supplied list all exceptions in the &quot;froms&quot;
                      array that are subclasses of an exception in the &quot;withs&quot;
                      array.                    
                </javadoc>
                <method name="collectCompatibleExceptions" type="void" line="437">
                    <params>
                        <param name="froms" type="ClassDoc[]"/>
                        <param name="withs" type="ClassDoc[]"/>
                        <param name="list" type="List&lt;ClassDoc&gt;"/>
                    </params>
                    <scope line="438">
                        <scope line="439">
                            <scope line="440">
                                <scope line="441"/>
                            </scope>
                        </scope>
                    </scope>
                </method>
                <javadoc line="449">
                    Computes the JRMP &quot;method hash&quot; of this remote method.  The
                      method hash is a long containing the first 64 bits of the
                      SHA digest from the UTF-8 encoded string of the method name
                      and descriptor.                    
                </javadoc>
                <method name="computeMethodHash" type="long" line="455">
                    <declaration name="hash" type="long" line="456"/>
                    <declaration name="sink" type="ByteArrayOutputStream" line="457"/>
                    <scope line="458">
                        <declaration name="md" type="MessageDigest" line="459"/>
                        <declaration name="out" type="DataOutputStream" line="460"/>
                        <declaration name="methodString" type="String" line="461"/>
                        <declaration name="hashArray" type="byte" line="464"/>
                        <scope line="465"/>
                    </scope>
                    <scope line="469"/>
                    <scope line="472"/>
                </method>
                <javadoc line="477">
                    Computes the string representation of this method
                      appropriate for the construction of a
                      java.rmi.server.Operation object.                    
                </javadoc>
                <method name="computeOperationString" type="String" line="482">
                    <declaration name="returnType" type="Type" line="483"/>
                    <declaration name="op" type="String" line="484"/>
                    <declaration name="parameters" type="Parameter[]" line="485"/>
                    <scope line="486">
                        <scope line="487"/>
                    </scope>
                </method>
            </class>
        </class>
    </source>