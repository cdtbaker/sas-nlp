<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.rmi.transport">
        <import package="java.io.IOException"/>
        <import package="java.rmi.server.UID"/>
        <import package="sun.rmi.server.MarshalOutputStream"/>
        <class name="ConnectionOutputStream" line="32">
            <extends class="MarshalOutputStream"/>
            <javadoc line="32">
                Special stream to keep track of refs being marshaled as return
                  results to determine whether a special ack needs to be sent
                  to the distributed collector.                
                <author>
                    Ann Wollrath                    
                </author>
            </javadoc>
            <declaration name="conn" type="Connection" line="41"/>
            <javadoc line="41">
                connection associated with ConnectionOutputStream                
            </javadoc>
            <declaration name="resultStream" type="boolean" line="43"/>
            <javadoc line="43">
                indicates whether output stream is used to marshal results                
            </javadoc>
            <declaration name="ackID" type="UID" line="45"/>
            <javadoc line="45">
                identifier for gc ack                
            </javadoc>
            <declaration name="dgcAckHandler" type="DGCAckHandler" line="48"/>
            <javadoc line="48">
                to store refs to returned remote object until DGC ack is received                
            </javadoc>
            <javadoc line="51">
                Constructs an marshal output stream using the underlying
                  stream associated with the connection, the parameter c.                
                <param>
                    c is the Connection object associated with the
                      ConnectionOutputStream object being constructed                    
                </param>
                <param>
                    resultStream indicates whether this stream is used
                      to marshal return results                    
                </param>
            </javadoc>
            <method name="ConnectionOutputStream" type="constructor" line="61">
                <params>
                    <param name="conn" type="Connection"/>
                    <param name="resultStream" type="boolean"/>
                </params>
            </method>
            <method name="writeID" type="void" line="68"/>
            <javadoc line="73">
                Returns true if this output stream is used to marshal return
                  results; otherwise returns false.                
            </javadoc>
            <method name="isResultStream" type="boolean" line="77"/>
            <javadoc line="81">
                Saves a reference to the specified object in this stream&apos;s
                  DGCAckHandler.                
            </javadoc>
            <method name="saveObject" type="void" line="85">
                <params>
                    <param name="obj" type="Object"/>
                </params>
                <comment line="87">
                    should always be accessed from same thread                    
                </comment>
                <scope line="87"/>
            </method>
            <javadoc line="93">
                Returns this stream&apos;s DGCAckHandler, or null if it doesn&apos;t have
                  one (saveObject was not invoked).  This method should only be
                  invoked after all objects have been written to the stream,
                  because future objects written may yet cause a DGCAckHandler to
                  be created (by invoking saveObject).                
            </javadoc>
            <method name="getDGCAckHandler" type="DGCAckHandler" line="100"/>
            <method name="done" type="void" line="104">
                <scope line="105"/>
            </method>
        </class>
    </source>