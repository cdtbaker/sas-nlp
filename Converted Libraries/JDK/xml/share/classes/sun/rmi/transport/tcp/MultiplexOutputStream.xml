<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.rmi.transport.tcp">
        <import package="java.io"/>
        <class name="MultiplexOutputStream" line="29">
            <extends class="OutputStream"/>
            <javadoc line="29">
                MultiplexOutputStream manages sending data over a conection managed
                  by a ConnectionMultiplexer object.  Data written is buffered until the
                  internal buffer is full or the flush() method is called, at which
                  point it attempts to push a packet of bytes through to the remote
                  endpoint.  This will never push more bytes than the amount already
                  requested by the remote endpoint (to prevent receive buffer from
                  overflowing), so if the write() and flush() methods will block
                  until their operation can complete if enough bytes cannot be
                  pushed immediately.                
                <author>
                    Peter Jones                    
                </author>
            </javadoc>
            <declaration name="manager" type="ConnectionMultiplexer" line="44"/>
            <javadoc line="44">
                object managing multiplexed connection                
            </javadoc>
            <declaration name="info" type="MultiplexConnectionInfo" line="47"/>
            <javadoc line="47">
                information about the connection this is the output stream for                
            </javadoc>
            <declaration name="buffer" type="byte" line="50"/>
            <javadoc line="50">
                output buffer                
            </javadoc>
            <declaration name="pos" type="int" line="53"/>
            <javadoc line="53">
                current position to write to in output buffer                
            </javadoc>
            <declaration name="requested" type="int" line="56"/>
            <javadoc line="56">
                pending number of bytes requested by remote endpoint                
            </javadoc>
            <declaration name="disconnected" type="boolean" line="59"/>
            <javadoc line="59">
                true if this connection has been disconnected                
            </javadoc>
            <declaration name="lock" type="Object" line="62"/>
            <javadoc line="62">
                lock acquired to access shared variables:
                  requested &amp; disconnected
                  WARNING:  Any of the methods manager.send() should not be
                  invoked while this lock is held, since they could potentially
                  block if the underlying connection&apos;s transport buffers are
                  full, and the manager may need to acquire this lock to process
                  and consume data coming over the underlying connection.                
            </javadoc>
            <javadoc line="73">
                Create a new MultiplexOutputStream for the given manager.                
                <param>
                    manager object that manages this connection                    
                </param>
                <param>
                    info structure for connection this stream writes to                    
                </param>
                <param>
                    bufferLength length of output buffer                    
                </param>
            </javadoc>
            <method name="MultiplexOutputStream" type="constructor" line="83">
                <params>
                    <param name="manager" type="ConnectionMultiplexer"/>
                    <param name="info" type="MultiplexConnectionInfo"/>
                    <param name="bufferLength" type="int"/>
                </params>
            </method>
            <javadoc line="91">
                Write a byte over connection.                
                <param>
                    b byte of data to write                    
                </param>
            </javadoc>
            <method name="write" type="void" line="96">
                <params>
                    <param name="b" type="int"/>
                </params>
            </method>
            <javadoc line="102">
                Write a subarray of bytes over connection.                
                <param>
                    b array containing bytes to write                    
                </param>
                <param>
                    off offset of beginning of bytes to write                    
                </param>
                <param>
                    len number of bytes to write                    
                </param>
            </javadoc>
            <method name="write" type="void" line="110">
                <params>
                    <param name="b" type="byte"/>
                    <param name="off" type="int"/>
                    <param name="len" type="int"/>
                </params>
                <comment line="115">
                    if enough free space in output buffer, just copy into there                    
                </comment>
                <comment line="123">
                    else, flush buffer and send rest directly to avoid array copy                    
                </comment>
                <comment line="151">
                    len = 0;                    
                </comment>
                <declaration name="freeSpace" type="int" line="115"/>
                <scope line="116"/>
                <declaration name="local_requested" type="int" line="124"/>
                <scope line="125">
                    <scope line="126">
                        <scope line="127">
                            <scope line="128"/>
                            <scope line="130"/>
                        </scope>
                    </scope>
                    <scope line="137">
                        <scope line="141"/>
                    </scope>
                    <scope line="145">
                        <scope line="147"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="156">
                Guarantee that all data written to this stream has been pushed
                  over and made available to the remote endpoint.                
            </javadoc>
            <method name="flush" type="void" line="160"/>
            <javadoc line="165">
                Close this connection.                
            </javadoc>
            <method name="close" type="void" line="169"/>
            <javadoc line="173">
                Take note of more bytes requested by conection at remote endpoint.                
                <param>
                    num number of additional bytes requested                    
                </param>
            </javadoc>
            <method name="request" type="void" line="178">
                <params>
                    <param name="num" type="int"/>
                </params>
                <scope line="179"/>
            </method>
            <javadoc line="185">
                Disconnect this stream from all connection activity.                
            </javadoc>
            <method name="disconnect" type="void" line="189">
                <scope line="190"/>
            </method>
            <javadoc line="196">
                Push bytes in output buffer to connection at remote endpoint.
                  This method blocks until at least one byte has been pushed across.                
            </javadoc>
            <method name="push" type="void" line="201">
                <declaration name="local_requested" type="int" line="202"/>
                <scope line="203">
                    <scope line="204">
                        <scope line="205"/>
                        <scope line="207"/>
                    </scope>
                </scope>
                <scope line="214">
                    <scope line="219"/>
                </scope>
                <scope line="223">
                    <scope line="225"/>
                </scope>
            </method>
        </class>
    </source>