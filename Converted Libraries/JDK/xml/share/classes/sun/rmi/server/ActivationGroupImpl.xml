<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.rmi.server">
        <import package="java.io.IOException"/>
        <import package="java.lang.reflect.Constructor"/>
        <import package="java.lang.reflect.InvocationTargetException"/>
        <import package="java.net.ServerSocket"/>
        <import package="java.rmi.MarshalledObject"/>
        <import package="java.rmi.NoSuchObjectException"/>
        <import package="java.rmi.Remote"/>
        <import package="java.rmi.RemoteException"/>
        <import package="java.rmi.activation.Activatable"/>
        <import package="java.rmi.activation.ActivationDesc"/>
        <import package="java.rmi.activation.ActivationException"/>
        <import package="java.rmi.activation.ActivationGroup"/>
        <import package="java.rmi.activation.ActivationGroupID"/>
        <import package="java.rmi.activation.ActivationID"/>
        <import package="java.rmi.activation.UnknownObjectException"/>
        <import package="java.rmi.server.RMIClassLoader"/>
        <import package="java.rmi.server.RMIServerSocketFactory"/>
        <import package="java.rmi.server.RMISocketFactory"/>
        <import package="java.rmi.server.UnicastRemoteObject"/>
        <import package="java.security.AccessController"/>
        <import package="java.security.PrivilegedActionException"/>
        <import package="java.security.PrivilegedExceptionAction"/>
        <import package="java.util.ArrayList"/>
        <import package="java.util.Hashtable"/>
        <import package="java.util.List"/>
        <import package="sun.rmi.registry.RegistryImpl"/>
        <class name="ActivationGroupImpl" line="28">
            <extends class="ActivationGroup"/>
            <javadoc line="28">
                The default activation group implementation.                
                <author>
                    Ann Wollrath                    
                </author>
                <since>
                    1.2                    
                </since>
                <see>
                    java.rmi.activation.ActivationGroup                    
                </see>
            </javadoc>
            <declaration name="serialVersionUID" type="long" line="35"/>
            <declaration name="active" type="Hashtable&lt;ActivationID,ActiveEntry&gt;" line="36"/>
            <javadoc line="36">
                maps persistent IDs to activated remote objects                
            </javadoc>
            <declaration name="groupInactive" type="boolean" line="40"/>
            <declaration name="groupID" type="ActivationGroupID" line="41"/>
            <declaration name="lockedIDs" type="List&lt;ActivationID&gt;" line="42"/>
            <javadoc line="43">
                Creates a default activation group implementation.                
                <param>
                    id the group's identifier                    
                </param>
                <param>
                    data ignored                    
                </param>
            </javadoc>
            <method name="ActivationGroupImpl" type="constructor" line="48">
                <params>
                    <param name="id" type="ActivationGroupID"/>
                    <param name="data" type="MarshalledObject<?>"/>
                </params>
                <declaration name="ssf" type="RMIServerSocketFactory" line="52"/>
                <scope line="54">
                    <scope line="55"/>
                    <scope line="58"/>
                </scope>
            </method>
            <class name="ServerSocketFactoryImpl" line="63">
                <implements interface="RMIServerSocketFactory"/>
                <javadoc line="63">
                    Trivial server socket factory used to export the activation group
                      impl on an unshared port.                    
                </javadoc>
                <method name="createServerSocket" type="ServerSocket" line="68">
                    <params>
                        <param name="port" type="int"/>
                    </params>
                    <declaration name="sf" type="RMISocketFactory" line="69"/>
                    <scope line="70"/>
                </method>
            </class>
            <method name="acquireLock" type="void" line="76">
                <params>
                    <param name="id" type="ActivationID"/>
                </params>
                <declaration name="waitForID" type="ActivationID" line="77"/>
                <scope line="78">
                    <scope line="79">
                        <declaration name="index" type="int" line="80"/>
                        <scope line="81"/>
                        <scope line="85"/>
                    </scope>
                    <scope line="89">
                        <scope line="90">
                            <declaration name="index" type="int" line="91"/>
                            <declaration name="actualID" type="ActivationID" line="93"/>
                        </scope>
                        <scope line="96"/>
                        <scope line="99"/>
                    </scope>
                </scope>
            </method>
            <method name="releaseLock" type="void" line="104">
                <params>
                    <param name="id" type="ActivationID"/>
                </params>
                <scope line="105"/>
                <scope line="108"/>
            </method>
            <javadoc line="112">
                Creates a new instance of an activatable remote object. The
                  &lt;code&gt;Activator&lt;/code&gt; calls this method to create an activatable
                  object in this group. This method should be idempotent; a call to
                  activate an already active object should return the previously
                  activated object.
                  Note: this method assumes that the Activator will only invoke
                  newInstance for the same object in a serial fashion (i.e.,
                  the activator will not allow the group to see concurrent requests
                  to activate the same object.                
                <param>
                    id the object's activation identifier                    
                </param>
                <param>
                    desc the object's activation descriptor                    
                </param>
                <return>
                    a marshalled object containing the activated object's stub                    
                </return>
            </javadoc>
            <method name="newInstance" type="MarshalledObject<? extends Remote>" line="126">
                <params>
                    <param name="id" type="ActivationID"/>
                    <param name="desc" type="ActivationDesc"/>
                </params>
                <scope line="129">
                    <scope line="131"/>
                    <declaration name="entry" type="ActiveEntry" line="134"/>
                    <declaration name="className" type="String" line="136"/>
                    <declaration name="cl" type="Class&lt;? extends Remote&gt;" line="137"/>
                    <declaration name="impl" type="Remote" line="138"/>
                    <declaration name="t" type="Thread" line="139"/>
                    <declaration name="savedCcl" type="ClassLoader" line="140"/>
                    <declaration name="objcl" type="ClassLoader" line="141"/>
                    <declaration name="ccl" type="ClassLoader" line="142"/>
                    <scope line="143">
                        <anonymous_class line="144">
                            <method name="run" type="Remote" line="145">
                                <declaration name="constructor" type="Constructor&lt;? extends Remote&gt;" line="146"/>
                                <scope line="148"/>
                                <scope line="152"/>
                            </method>
                        </anonymous_class>
                    </scope>
                    <scope line="159">
                        <declaration name="e" type="Throwable" line="160"/>
                        <scope line="161"/>
                        <scope line="164"/>
                        <scope line="167"/>
                        <scope line="170"/>
                        <scope line="173"/>
                        <scope line="176"/>
                    </scope>
                </scope>
                <scope line="184"/>
                <scope line="187"/>
                <scope line="190"/>
                <scope line="193"/>
                <scope line="196"/>
            </method>
            <javadoc line="201">
                The group&apos;s &lt;code&gt;inactiveObject&lt;/code&gt; method is called
                  indirectly via a call to the &lt;code&gt;Activatable.inactive&lt;/code&gt;
                  method. A remote object implementation must call
                  &lt;code&gt;Activatable&lt;/code&gt;&apos;s &lt;code&gt;inactive&lt;/code&gt; method when
                  that object deactivates (the object deems that it is no longer
                  active). If the object does not call
                  &lt;code&gt;Activatable.inactive&lt;/code&gt; when it deactivates, the
                  object will never be garbage collected since the group keeps
                  strong references to the objects it creates. &lt;p&gt;
                  The group&apos;s &lt;code&gt;inactiveObject&lt;/code&gt; method
                  unexports the remote object from the RMI runtime so that the
                  object can no longer receive incoming RMI calls. This call will
                  only succeed if the object has no pending/executing calls. If
                  the object does have pending/executing RMI calls, then false
                  will be returned.
                  If the object has no pending/executing calls, the object is
                  removed from the RMI runtime and the group informs its
                  &lt;code&gt;ActivationMonitor&lt;/code&gt; (via the monitor&apos;s
                  &lt;code&gt;inactiveObject&lt;/code&gt; method) that the remote object is
                  not currently active so that the remote object will be
                  re-activated by the activator upon a subsequent activation
                  request.                
                <param>
                    id the object's activation identifier                    
                </param>
                <returns>
                    true if the operation succeeds (the operation will
                      succeed if the object in currently known to be active and is
                      either already unexported or is currently exported and has no
                      pending/executing calls); false is returned if the object has
                      pending/executing calls in which case it cannot be deactivated                    
                </returns>
                <exception>
                    UnknownObjectException if object is unknown (may already
                      be inactive)                    
                </exception>
                <exception>
                    RemoteException if call informing monitor fails                    
                </exception>
            </javadoc>
            <method name="inactiveObject" type="boolean" line="234">
                <params>
                    <param name="id" type="ActivationID"/>
                </params>
                <scope line="235">
                    <scope line="237"/>
                    <declaration name="entry" type="ActiveEntry" line="240"/>
                    <scope line="241"/>
                    <scope line="244"/>
                    <scope line="247"/>
                    <scope line="249"/>
                    <scope line="252"/>
                </scope>
                <scope line="256"/>
            </method>
            <method name="checkInactiveGroup" type="void" line="262">
                <declaration name="groupMarkedInactive" type="boolean" line="263"/>
                <scope line="264">
                    <scope line="265"/>
                </scope>
                <scope line="270">
                    <scope line="271"/>
                    <scope line="274"/>
                    <scope line="276"/>
                    <scope line="279"/>
                </scope>
            </method>
            <javadoc line="283">
                The group&apos;s &lt;code&gt;activeObject&lt;/code&gt; method is called when an
                  object is exported (either by &lt;code&gt;Activatable&lt;/code&gt; object
                  construction or an explicit call to
                  &lt;code&gt;Activatable.exportObject&lt;/code&gt;. The group must inform its
                  &lt;code&gt;ActivationMonitor&lt;/code&gt; that the object is active (via
                  the monitor&apos;s &lt;code&gt;activeObject&lt;/code&gt; method) if the group
                  hasn&apos;t already done so.                
                <param>
                    id the object's identifier                    
                </param>
                <param>
                    obj the remote object implementation                    
                </param>
                <exception>
                    UnknownObjectException if object is not registered                    
                </exception>
                <exception>
                    RemoteException if call informing monitor fails                    
                </exception>
            </javadoc>
            <method name="activeObject" type="void" line="296">
                <params>
                    <param name="id" type="ActivationID"/>
                    <param name="impl" type="Remote"/>
                </params>
                <scope line="297">
                    <scope line="299"/>
                    <scope line="302">
                        <declaration name="entry" type="ActiveEntry" line="303"/>
                        <scope line="305"/>
                        <scope line="308"/>
                    </scope>
                </scope>
                <scope line="312"/>
            </method>
            <class name="ActiveEntry" line="317">
                <javadoc line="317">
                    Entry in table for active object.                    
                </javadoc>
                <declaration name="impl" type="Remote" line="321"/>
                <declaration name="mobj" type="MarshalledObject&lt;Remote&gt;" line="322"/>
                <method name="ActiveEntry" type="constructor" line="323">
                    <params>
                        <param name="impl" type="Remote"/>
                    </params>
                    <scope line="325"/>
                    <scope line="328"/>
                </method>
            </class>
            <javadoc line="333">
                Returns true if the first argument is either equal to, or is a
                  descendant of, the second argument.  Null is treated as the root of
                  the tree.                
            </javadoc>
            <method name="covers" type="boolean" line="338">
                <params>
                    <param name="sub" type="ClassLoader"/>
                    <param name="sup" type="ClassLoader"/>
                </params>
                <scope line="339"/>
                <scope line="342"/>
                <scope line="345">
                    <scope line="346"/>
                </scope>
            </method>
        </class>
    </source>