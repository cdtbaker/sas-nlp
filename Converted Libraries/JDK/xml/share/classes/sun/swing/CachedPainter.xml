<?xml version="1.0" encoding="UTF-8"?>
    <source package="sun.swing">
        <import package="java.awt"/>
        <import package="java.awt.image"/>
        <import package="java.util"/>
        <class name="CachedPainter" line="31">
            <comment line="56">
                CacheMap maps from class to ImageCache.                
            </comment>
            <javadoc line="31">
                A base class used for icons or images that are expensive to paint.
                  A subclass will do the following:
                  &lt;ol&gt;
                  &lt;li&gt;Invoke &lt;code&gt;paint&lt;/code&gt; when you want to paint the image,
                  if you are implementing &lt;code&gt;Icon&lt;/code&gt; you&apos;ll invoke this from
                  &lt;code&gt;paintIcon&lt;/code&gt;.
                  The args argument is useful when additional state is needed.
                  &lt;li&gt;Override &lt;code&gt;paintToImage&lt;/code&gt; to render the image.  The code that
                  lives here is equivalent to what previously would go in
                  &lt;code&gt;paintIcon&lt;/code&gt;, for an &lt;code&gt;Icon&lt;/code&gt;.
                  &lt;/ol&gt;
                  The two ways to use this class are:
                  &lt;ol&gt;
                  &lt;li&gt;Invoke &lt;code&gt;paint&lt;/code&gt; to draw the cached reprensentation at
                  the specified location.
                  &lt;li&gt;Invoke &lt;code&gt;getImage&lt;/code&gt; to get the cached reprensentation and
                  draw the image yourself.  This is primarly useful when you are not
                  using &lt;code&gt;VolatileImage&lt;/code&gt;.
                  &lt;/ol&gt;                
            </javadoc>
            <declaration name="cacheMap" type="Map&lt;Object,ImageCache&gt;" line="56"/>
            <method name="getCache" type="ImageCache" line="60">
                <params>
                    <param name="key" type="Object"/>
                </params>
                <scope line="61">
                    <declaration name="cache" type="ImageCache" line="62"/>
                    <scope line="63"/>
                </scope>
            </method>
            <javadoc line="71">
                Creates an instance of &lt;code&gt;CachedPainter&lt;/code&gt; that will cache up
                  to &lt;code&gt;cacheCount&lt;/code&gt; images of this class.                
                <param>
                    cacheCount Max number of images to cache                    
                </param>
            </javadoc>
            <method name="CachedPainter" type="constructor" line="77">
                <params>
                    <param name="cacheCount" type="int"/>
                </params>
            </method>
            <javadoc line="81">
                Renders the cached image to the the passed in &lt;code&gt;Graphic&lt;/code&gt;.
                  If there is no cached image &lt;code&gt;paintToImage&lt;/code&gt; will be invoked.
                  &lt;code&gt;paintImage&lt;/code&gt; is invoked to paint the cached image.                
                <param>
                    c Component rendering to, this may be null.                    
                </param>
                <param>
                    g Graphics to paint to                    
                </param>
                <param>
                    x X-coordinate to render to                    
                </param>
                <param>
                    y Y-coordinate to render to                    
                </param>
                <param>
                    w Width to render in                    
                </param>
                <param>
                    h Height to render in                    
                </param>
                <param>
                    arg Variable arguments that will be passed to paintToImage                    
                </param>
            </javadoc>
            <method name="paint" type="void" line="95">
                <params>
                    <param name="c" type="Component"/>
                    <param name="g" type="Graphics"/>
                    <param name="x" type="int"/>
                    <param name="y" type="int"/>
                    <param name="w" type="int"/>
                    <param name="h" type="int"/>
                    <param name="args" type="Object"/>
                </params>
                <comment line="103">
                    If c is non-null, synchronize on the tree lock.
                     This is necessary because asking for the
                     GraphicsConfiguration will grab a tree lock.                    
                </comment>
                <scope line="96"/>
                <scope line="99">
                    <scope line="100">
                        <scope line="101"/>
                    </scope>
                </scope>
                <scope line="109">
                    <scope line="110"/>
                </scope>
            </method>
            <method name="paint0" type="void" line="117">
                <params>
                    <param name="c" type="Component"/>
                    <param name="g" type="Graphics"/>
                    <param name="x" type="int"/>
                    <param name="y" type="int"/>
                    <param name="w" type="int"/>
                    <param name="h" type="int"/>
                    <param name="args" type="Object"/>
                </params>
                <comment line="127">
                    See if we need to recreate the image                    
                </comment>
                <comment line="139">
                    Recreate the image                    
                </comment>
                <comment line="145">
                    Render to the Image                    
                </comment>
                <comment line="151">
                    Render to the passed in Graphics                    
                </comment>
                <comment line="154">
                    If we did this 3 times and the contents are still lost
                     assume we&apos;re painting to a VolatileImage that is bogus and
                     give up.  Presumably we&apos;ll be called again to paint.                    
                </comment>
                <declaration name="key" type="Object" line="118"/>
                <declaration name="config" type="GraphicsConfiguration" line="119"/>
                <declaration name="cache" type="ImageCache" line="120"/>
                <declaration name="image" type="Image" line="121"/>
                <declaration name="attempts" type="int" line="122"/>
                <scope line="123">
                    <declaration name="draw" type="boolean" line="124"/>
                    <scope line="125"/>
                    <scope line="137"/>
                    <scope line="143">
                        <declaration name="g2" type="Graphics" line="145"/>
                    </scope>
                </scope>
            </method>
            <method name="paintToImage" type="void" line="160"/>
            <javadoc line="160">
                Paints the representation to cache to the supplied Graphics.                
                <param>
                    c Component painting to, may be null.                    
                </param>
                <param>
                    image Image to paint to                    
                </param>
                <param>
                    g Graphics to paint to, obtained from the passed in Image.                    
                </param>
                <param>
                    w Width to paint to                    
                </param>
                <param>
                    h Height to paint to                    
                </param>
                <param>
                    args Arguments supplied to <code>paint</code>                    
                </param>
            </javadoc>
            <javadoc line="174">
                Paints the image to the specified location.                
                <param>
                    c Component painting to                    
                </param>
                <param>
                    g Graphics to paint to                    
                </param>
                <param>
                    x X coordinate to paint to                    
                </param>
                <param>
                    y Y coordinate to paint to                    
                </param>
                <param>
                    w Width to paint to                    
                </param>
                <param>
                    h Height to paint to                    
                </param>
                <param>
                    image Image to paint                    
                </param>
                <param>
                    args Arguments supplied to <code>paint</code>                    
                </param>
            </javadoc>
            <method name="paintImage" type="void" line="188">
                <params>
                    <param name="c" type="Component"/>
                    <param name="g" type="Graphics"/>
                    <param name="x" type="int"/>
                    <param name="y" type="int"/>
                    <param name="w" type="int"/>
                    <param name="h" type="int"/>
                    <param name="image" type="Image"/>
                    <param name="args" type="Object[]"/>
                </params>
            </method>
            <javadoc line="192">
                Creates the image to cache.  This returns an opaque image, subclasses
                  that require translucency or transparency will need to override this
                  method.                
                <param>
                    c Component painting to                    
                </param>
                <param>
                    w Width of image to create                    
                </param>
                <param>
                    h Height to image to create                    
                </param>
                <param>
                    config GraphicsConfiguration that will be
                      rendered to, this may be null.                    
                </param>
                <param>
                    args Arguments passed to paint                    
                </param>
            </javadoc>
            <method name="createImage" type="Image" line="205">
                <params>
                    <param name="c" type="Component"/>
                    <param name="w" type="int"/>
                    <param name="h" type="int"/>
                    <param name="config" type="GraphicsConfiguration"/>
                    <param name="args" type="Object[]"/>
                </params>
                <scope line="206"/>
            </method>
            <javadoc line="212">
                Clear the image cache                
            </javadoc>
            <method name="flush" type="void" line="215">
                <scope line="216"/>
            </method>
            <method name="getGraphicsConfiguration" type="GraphicsConfiguration" line="221">
                <params>
                    <param name="c" type="Component"/>
                </params>
                <scope line="222"/>
            </method>
        </class>
    </source>