<?xml version="1.0" encoding="UTF-8"?>
    <source package="">
        <import package="java.applet.Applet"/>
        <import package="java.awt.Image"/>
        <import package="java.awt.Graphics"/>
        <import package="java.awt.Dimension"/>
        <import package="java.awt.event.MouseEvent"/>
        <import package="java.awt.event.MouseListener"/>
        <import package="java.awt.event.MouseMotionListener"/>
        <import package="java.net.URL"/>
        <import package="java.awt.image.IndexColorModel"/>
        <import package="java.awt.image.MemoryImageSource"/>
        <import package="java.io.BufferedReader"/>
        <import package="java.io.IOException"/>
        <import package="java.io.InputStream"/>
        <import package="java.io.InputStreamReader"/>
        <import package="java.io.StreamTokenizer"/>
        <import package="java.util.HashMap"/>
        <import package="java.util.Map"/>
        <import package="java.util.logging.Level"/>
        <import package="java.util.logging.Logger"/>
        <class name="XYZChemModel" line="20">
            <javadoc line="20">
                The representation of a Chemical .xyz model                
            </javadoc>
            <declaration name="vert" type="float" line="24"/>
            <declaration name="atoms" type="Atom" line="25"/>
            <declaration name="tvert" type="int" line="26"/>
            <declaration name="ZsortMap" type="int" line="27"/>
            <declaration name="nvert" type="int" line="28"/>
            <declaration name="atomTable" type="Map&lt;String,Atom&gt;" line="29"/>
            <declaration name="defaultAtom" type="Atom" line="30"/>
            <scope line="31"/>
            <declaration name="transformed" type="boolean" line="41"/>
            <declaration name="mat" type="Matrix3D" line="42"/>
            <declaration name="xmin" type="float" line="43"/>
            <method name="XYZChemModel" type="constructor" line="44"/>
            <javadoc line="49">
                Create a Chemical model by parsing an input stream                
            </javadoc>
            <method name="XYZChemModel" type="constructor" line="52">
                <params>
                    <param name="is" type="InputStream"/>
                </params>
                <declaration name="st" type="StreamTokenizer" line="54"/>
                <scope line="57">
                    <scope line="58">
                        <declaration name="name" type="String" line="65"/>
                        <declaration name="x" type="double" line="66"/>
                        <scope line="67">
                            <scope line="69">
                                <scope line="71"/>
                            </scope>
                        </scope>
                        <scope line="77"/>
                    </scope>
                </scope>
                <scope line="84"/>
                <scope line="86"/>
            </method>
            <javadoc line="90">
                Add a vertex to this model                
            </javadoc>
            <method name="addVert" type="int" line="93">
                <params>
                    <param name="name" type="String"/>
                    <param name="x" type="float"/>
                    <param name="y" type="float"/>
                    <param name="z" type="float"/>
                </params>
                <declaration name="i" type="int" line="94"/>
                <scope line="95">
                    <scope line="96"/>
                    <scope line="101">
                        <declaration name="nv" type="float" line="103"/>
                        <declaration name="na" type="Atom" line="106"/>
                    </scope>
                </scope>
                <declaration name="a" type="Atom" line="111"/>
                <scope line="112"/>
            </method>
            <javadoc line="122">
                Transform all the points in this model                
            </javadoc>
            <method name="transform" type="void" line="125">
                <scope line="126"/>
                <scope line="129"/>
            </method>
            <javadoc line="135">
                Paint this model to a graphics context.  It uses the matrix associated
                  with this model to map from model space to screen space.
                  The next version of the browser should have double buffering,
                  which will make this much nicer                
            </javadoc>
            <method name="paint" type="void" line="141">
                <params>
                    <param name="g" type="Graphics"/>
                </params>
                <scope line="142"/>
                <declaration name="v" type="int" line="146"/>
                <declaration name="zs" type="int" line="147"/>
                <scope line="148">
                    <scope line="150"/>
                </scope>
                <scope line="154">
                    <declaration name="flipped" type="boolean" line="155"/>
                    <scope line="156">
                        <declaration name="a" type="int" line="157"/>
                        <declaration name="b" type="int" line="158"/>
                        <scope line="159"/>
                    </scope>
                    <scope line="165"/>
                </scope>
                <declaration name="lim" type="int" line="169"/>
                <scope line="170"/>
                <scope line="173">
                    <declaration name="j" type="int" line="174"/>
                    <declaration name="grey" type="int" line="175"/>
                    <scope line="176"/>
                    <scope line="179"/>
                </scope>
            </method>
            <javadoc line="185">
                Find the bounding box of this model                
            </javadoc>
            <method name="findBB" type="void" line="188">
                <scope line="189"/>
                <declaration name="v" type="float" line="192"/>
                <declaration name="_xmin" type="float" line="193"/>
                <declaration name="_ymin" type="float" line="194"/>
                <declaration name="_zmin" type="float" line="195"/>
                <scope line="196">
                    <declaration name="x" type="float" line="197"/>
                    <scope line="198"/>
                    <scope line="201"/>
                    <declaration name="y" type="float" line="204"/>
                    <scope line="205"/>
                    <scope line="208"/>
                    <declaration name="z" type="float" line="211"/>
                    <scope line="212"/>
                    <scope line="215"/>
                </scope>
            </method>
        </class>
        <class name="XYZApp" line="227">
            <extends class="Applet"/>
            <implements interface="Runnable"/>
            <implements interface="MouseListener"/>
            <implements interface="MouseMotionListener"/>
            <javadoc line="227">
                An applet to put a Chemical model into a page                
            </javadoc>
            <declaration name="md" type="XYZChemModel" line="231"/>
            <declaration name="painted" type="boolean" line="232"/>
            <declaration name="xfac" type="float" line="233"/>
            <declaration name="prevx" type="int" line="234"/>
            <declaration name="scalefudge" type="float" line="235"/>
            <declaration name="amat" type="Matrix3D" line="236"/>
            <declaration name="mdname" type="String" line="237"/>
            <declaration name="message" type="String" line="238"/>
            <declaration name="backBuffer" type="Image" line="239"/>
            <declaration name="backGC" type="Graphics" line="240"/>
            <declaration name="backSize" type="Dimension" line="241"/>
            <method name="newBackBuffer" type="void" line="242">
                <scope line="244"/>
            </method>
            <method name="init" type="void" line="250">
                <scope line="252"/>
                <scope line="255"/>
                <scope line="259"/>
            </method>
            <method name="destroy" type="void" line="267"/>
            <method name="run" type="void" line="271">
                <declaration name="is" type="InputStream" line="272"/>
                <scope line="273">
                    <declaration name="m" type="XYZChemModel" line="276"/>
                    <declaration name="xw" type="float" line="280"/>
                    <declaration name="yw" type="float" line="281"/>
                    <declaration name="zw" type="float" line="282"/>
                    <scope line="283"/>
                    <scope line="286"/>
                    <declaration name="f1" type="float" line="289"/>
                    <declaration name="f2" type="float" line="290"/>
                </scope>
                <scope line="293"/>
                <scope line="298">
                    <scope line="299"/>
                </scope>
                <scope line="303"/>
            </method>
            <method name="start" type="void" line="307">
                <scope line="308"/>
            </method>
            <method name="stop" type="void" line="312"/>
            <method name="mouseClicked" type="void" line="314">
                <params>
                    <param name="e" type="MouseEvent"/>
                </params>
            </method>
            <method name="mousePressed" type="void" line="316">
                <params>
                    <param name="e" type="MouseEvent"/>
                </params>
            </method>
            <method name="mouseReleased" type="void" line="321">
                <params>
                    <param name="e" type="MouseEvent"/>
                </params>
            </method>
            <method name="mouseEntered" type="void" line="323">
                <params>
                    <param name="e" type="MouseEvent"/>
                </params>
            </method>
            <method name="mouseExited" type="void" line="325">
                <params>
                    <param name="e" type="MouseEvent"/>
                </params>
            </method>
            <method name="mouseDragged" type="void" line="327">
                <params>
                    <param name="e" type="MouseEvent"/>
                </params>
                <declaration name="x" type="int" line="328"/>
                <declaration name="y" type="int" line="329"/>
                <declaration name="xtheta" type="float" line="331"/>
                <declaration name="ytheta" type="float" line="332"/>
                <scope line="336"/>
            </method>
            <method name="mouseMoved" type="void" line="344">
                <params>
                    <param name="e" type="MouseEvent"/>
                </params>
            </method>
            <method name="update" type="void" line="346">
                <params>
                    <param name="g" type="Graphics"/>
                </params>
                <scope line="347"/>
            </method>
            <method name="paint" type="void" line="352">
                <params>
                    <param name="g" type="Graphics"/>
                </params>
                <scope line="353">
                    <scope line="360">
                        <scope line="361"/>
                    </scope>
                    <scope line="369"/>
                </scope>
                <scope line="374"/>
            </method>
            <method name="setPainted" type="void" line="379"/>
            <method name="getAppletInfo" type="String" line="383"/>
            <method name="getParameterInfo" type="String[][]" line="386">
                <declaration name="info" type="String[][]" line="387"/>
            </method>
        </class>
        <class name="Atom" line="391">
            <declaration name="applet" type="Applet" line="392"/>
            <declaration name="data" type="byte[]" line="393"/>
            <declaration name="R" type="int" line="394"/>
            <declaration name="hx" type="int" line="395"/>
            <declaration name="hy" type="int" line="396"/>
            <declaration name="bgGrey" type="int" line="397"/>
            <declaration name="nBalls" type="int" line="398"/>
            <declaration name="maxr" type="int" line="399"/>
            <declaration name="Rl" type="int" line="400"/>
            <declaration name="Gl" type="int" line="401"/>
            <declaration name="Bl" type="int" line="402"/>
            <declaration name="balls" type="Image" line="403"/>
            <scope line="404">
                <declaration name="mr" type="int" line="406"/>
                <scope line="407">
                    <declaration name="x0" type="int" line="408"/>
                    <declaration name="p" type="int" line="409"/>
                    <scope line="410">
                        <declaration name="x" type="int" line="411"/>
                        <declaration name="y" type="int" line="412"/>
                        <declaration name="r" type="int" line="413"/>
                        <scope line="414"/>
                    </scope>
                </scope>
            </scope>
            <method name="setApplet" type="void" line="422">
                <params>
                    <param name="app" type="Applet"/>
                </params>
            </method>
            <method name="Atom" type="constructor" line="425">
                <params>
                    <param name="Rl" type="int"/>
                    <param name="Gl" type="int"/>
                    <param name="Bl" type="int"/>
                </params>
            </method>
            <method name="blend" type="int" line="430">
                <params>
                    <param name="fg" type="int"/>
                    <param name="bg" type="int"/>
                    <param name="fgfactor" type="float"/>
                </params>
            </method>
            <method name="Setup" type="void" line="433">
                <declaration name="red" type="byte" line="435"/>
                <declaration name="green" type="byte" line="437"/>
                <declaration name="blue" type="byte" line="439"/>
                <scope line="441">
                    <declaration name="b" type="float" line="442"/>
                    <scope line="443">
                        <declaration name="d" type="float" line="444"/>
                    </scope>
                    <declaration name="model" type="IndexColorModel" line="449"/>
                </scope>
            </method>
            <method name="paint" type="void" line="453">
                <params>
                    <param name="gc" type="Graphics"/>
                    <param name="x" type="int"/>
                    <param name="y" type="int"/>
                    <param name="r" type="int"/>
                </params>
                <declaration name="ba" type="Image" line="454"/>
                <scope line="455"/>
                <declaration name="i" type="Image" line="459"/>
                <declaration name="size" type="int" line="460"/>
            </method>
        </class>
    </source>