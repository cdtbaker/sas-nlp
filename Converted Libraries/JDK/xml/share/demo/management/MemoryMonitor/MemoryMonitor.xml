<?xml version="1.0" encoding="UTF-8"?>
    <source package="">
        <import package="java.awt"/>
        <import package="java.awt.event"/>
        <import package="java.awt.image.BufferedImage"/>
        <import package="java.awt.geom.Line2D"/>
        <import package="java.awt.geom.Rectangle2D"/>
        <import package="java.util.Date"/>
        <import package="javax.swing"/>
        <import package="javax.swing.border.EtchedBorder"/>
        <import package="javax.swing.border.TitledBorder"/>
        <import package="java.lang.management"/>
        <class name="MemoryMonitor" line="45">
            <extends class="JPanel"/>
            <comment line="60">
                Get memory pools.                
            </comment>
            <comment line="63">
                Total number of memory pools.                
            </comment>
            <comment line="358">
                Test thread to consume memory                
            </comment>
            <javadoc line="45">
                Demo code which plots the memory usage by all memory pools.
                  The memory usage is sampled at some time interval using
                  java.lang.management API. This demo code is modified based
                  java2d MemoryMonitor demo.                
            </javadoc>
            <declaration name="serialVersionUID" type="long" line="53"/>
            <declaration name="dateStampCB" type="JCheckBox" line="54"/>
            <declaration name="surf" type="Surface" line="55"/>
            <declaration name="controls" type="JPanel" line="56"/>
            <declaration name="doControls" type="boolean" line="57"/>
            <declaration name="tf" type="JTextField" line="58"/>
            <declaration name="mpools" type="java.util.List&lt;MemoryPoolMXBean&gt;" line="60"/>
            <declaration name="numPools" type="int" line="63"/>
            <method name="MemoryMonitor" type="constructor" line="65">
                <declaration name="font" type="Font" line="71"/>
                <declaration name="label" type="JLabel" line="72"/>
                <anonymous_class line="84">
                    <method name="mouseClicked" type="void" line="86">
                        <params>
                            <param name="e" type="MouseEvent"/>
                        </params>
                        <scope line="88"/>
                        <scope line="91">
                            <scope line="92"/>
                            <scope line="94"/>
                        </scope>
                    </method>
                </anonymous_class>
            </method>
            <class name="Surface" line="105">
                <extends class="JPanel"/>
                <implements interface="Runnable"/>
                <declaration name="thread" type="Thread" line="107"/>
                <declaration name="sleepAmount" type="long" line="108"/>
                <declaration name="usageHistCount" type="int" line="109"/>
                <declaration name="w" type="int" line="110"/>
                <declaration name="bimg" type="BufferedImage" line="111"/>
                <declaration name="big" type="Graphics2D" line="112"/>
                <declaration name="font" type="Font" line="113"/>
                <declaration name="columnInc" type="int" line="114"/>
                <declaration name="usedMem" type="float" line="115"/>
                <declaration name="ptNum" type="int" line="116"/>
                <declaration name="ascent" type="int" line="117"/>
                <declaration name="graphOutlineRect" type="Rectangle" line="118"/>
                <declaration name="mfRect" type="Rectangle2D" line="119"/>
                <declaration name="muRect" type="Rectangle2D" line="120"/>
                <declaration name="graphLine" type="Line2D" line="121"/>
                <declaration name="graphColor" type="Color" line="122"/>
                <declaration name="mfColor" type="Color" line="123"/>
                <declaration name="usedStr" type="String" line="124"/>
                <method name="Surface" type="constructor" line="127">
                    <anonymous_class line="129">
                        <method name="mouseClicked" type="void" line="131">
                            <params>
                                <param name="e" type="MouseEvent"/>
                            </params>
                        </method>
                    </anonymous_class>
                </method>
                <method name="getMinimumSize" type="Dimension" line="140"/>
                <method name="getMaximumSize" type="Dimension" line="145"/>
                <method name="getPreferredSize" type="Dimension" line="150"/>
                <method name="paint" type="void" line="156">
                    <params>
                        <param name="g" type="Graphics"/>
                    </params>
                    <comment line="169">
                        index of memory pool.                        
                    </comment>
                    <scope line="158"/>
                    <declaration name="k" type="int" line="169"/>
                    <scope line="170">
                        <scope line="171">
                            <scope line="173"/>
                        </scope>
                    </scope>
                </method>
                <method name="plotMemoryUsage" type="void" line="183">
                    <params>
                        <param name="x1" type="int"/>
                        <param name="y1" type="int"/>
                        <param name="x2" type="int"/>
                        <param name="y2" type="int"/>
                        <param name="npool" type="int"/>
                    </params>
                    <comment line="189">
                        .. Draw allocated and used strings ..                        
                    </comment>
                    <comment line="192">
                        Print Max memory allocated for this memory pool.                        
                    </comment>
                    <comment line="196">
                        Print the memory pool name.                        
                    </comment>
                    <comment line="199">
                        Print the memory used by this memory pool.                        
                    </comment>
                    <comment line="205">
                        Calculate remaining size                        
                    </comment>
                    <comment line="212">
                        .. Memory Free ..                        
                    </comment>
                    <comment line="222">
                        .. Memory Used ..                        
                    </comment>
                    <comment line="230">
                        .. Draw History Graph ..                        
                    </comment>
                    <comment line="244">
                        .. Draw row ..                        
                    </comment>
                    <comment line="250">
                        .. Draw animated column movement ..                        
                    </comment>
                    <comment line="264">
                        Plot memory usage by this memory pool.                        
                    </comment>
                    <comment line="270">
                        save memory usage history.                        
                    </comment>
                    <comment line="275">
                        width of memory usage history.                        
                    </comment>
                    <comment line="297">
                        throw out oldest point                        
                    </comment>
                    <declaration name="mp" type="MemoryPoolMXBean" line="185"/>
                    <declaration name="usedMemory" type="float" line="186"/>
                    <declaration name="totalMemory" type="float" line="187"/>
                    <declaration name="ssH" type="float" line="206"/>
                    <declaration name="remainingHeight" type="float" line="207"/>
                    <declaration name="blockHeight" type="float" line="208"/>
                    <declaration name="blockWidth" type="float" line="209"/>
                    <declaration name="remainingWidth" type="float" line="210"/>
                    <declaration name="MemUsage" type="int" line="214"/>
                    <declaration name="i" type="int" line="215"/>
                    <scope line="216"/>
                    <scope line="224"/>
                    <declaration name="graphX" type="int" line="234"/>
                    <declaration name="graphY" type="int" line="235"/>
                    <declaration name="graphW" type="int" line="236"/>
                    <declaration name="graphH" type="int" line="237"/>
                    <declaration name="graphRow" type="int" line="242"/>
                    <scope line="245"/>
                    <declaration name="graphColumn" type="int" line="251"/>
                    <scope line="253"/>
                    <scope line="257"/>
                    <scope line="265"/>
                    <declaration name="w1" type="int" line="275"/>
                    <scope line="276"/>
                    <scope line="278"/>
                    <scope line="284">
                        <scope line="285">
                            <scope line="286">
                                <declaration name="h1" type="int" line="287"/>
                                <declaration name="h2" type="int" line="288"/>
                            </scope>
                            <scope line="290">
                                <declaration name="h1" type="int" line="291"/>
                            </scope>
                        </scope>
                    </scope>
                    <scope line="296">
                        <scope line="298"/>
                    </scope>
                    <scope line="302"/>
                </method>
                <method name="start" type="void" line="308"/>
                <method name="stop" type="void" line="316"/>
                <method name="run" type="void" line="322">
                    <declaration name="me" type="Thread" line="324"/>
                    <scope line="326">
                        <scope line="327"/>
                        <scope line="329"/>
                    </scope>
                    <scope line="332">
                        <declaration name="d" type="Dimension" line="333"/>
                        <scope line="334">
                            <declaration name="fm" type="FontMetrics" line="340"/>
                        </scope>
                        <scope line="345"/>
                        <scope line="347"/>
                        <scope line="348"/>
                    </scope>
                </method>
            </class>
            <class name="Memeater" line="358">
                <extends class="ClassLoader"/>
                <implements interface="Runnable"/>
                <declaration name="y" type="Object" line="359"/>
                <method name="Memeater" type="constructor" line="360"/>
                <method name="run" type="void" line="362">
                    <comment line="372">
                        to consume perm gen storage                        
                    </comment>
                    <comment line="374">
                        the classes are small so we load 10 at a time                        
                    </comment>
                    <comment line="379">
                        ignore exception                        
                    </comment>
                    <declaration name="k" type="int" line="364"/>
                    <scope line="365">
                        <scope line="368"/>
                        <scope line="370"/>
                        <scope line="373">
                            <scope line="375"/>
                        </scope>
                        <scope line="378"/>
                    </scope>
                </method>
                <method name="loadNext" type="Class<?>" line="386">
                    <comment line="388">
                        public class TestNNNNNN extends java.lang.Object{                        
                    </comment>
                    <comment line="389">
                        public TestNNNNNN();                        
                    </comment>
                    <comment line="390">
                        Code:                        
                    </comment>
                    <comment line="391">
                        0:    aload_0                        
                    </comment>
                    <comment line="392">
                        1:    invokespecial   #1; //Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V                        
                    </comment>
                    <comment line="393">
                        4:    return                        
                    </comment>
                    <comment line="394">
                        }                        
                    </comment>
                    <comment line="417">
                        TestNNNNNN                        
                    </comment>
                    <comment line="428">
                        construct class file                        
                    </comment>
                    <declaration name="begin" type="int" line="396"/>
                    <declaration name="end" type="int" line="405"/>
                    <declaration name="name" type="String" line="419"/>
                    <declaration name="value" type="byte" line="421"/>
                    <scope line="422"/>
                    <scope line="424"/>
                    <declaration name="len" type="int" line="430"/>
                    <declaration name="b" type="byte" line="431"/>
                    <declaration name="pos" type="int" line="432"/>
                    <scope line="433"/>
                    <scope line="436"/>
                    <scope line="439"/>
                </method>
                <declaration name="count" type="int" line="446"/>
            </class>
            <method name="main" type="void" line="450">
                <params>
                    <param name="s" type="String"/>
                </params>
                <declaration name="demo" type="MemoryMonitor" line="451"/>
                <anonymous_class line="452">
                    <method name="windowClosing" type="void" line="454">
                        <params>
                            <param name="e" type="WindowEvent"/>
                        </params>
                    </method>
                    <method name="windowDeiconified" type="void" line="456">
                        <params>
                            <param name="e" type="WindowEvent"/>
                        </params>
                    </method>
                    <method name="windowIconified" type="void" line="458">
                        <params>
                            <param name="e" type="WindowEvent"/>
                        </params>
                    </method>
                </anonymous_class>
                <declaration name="l" type="WindowListener" line="452"/>
                <declaration name="f" type="JFrame" line="460"/>
                <declaration name="thr" type="Thread" line="467"/>
            </method>
        </class>
    </source>