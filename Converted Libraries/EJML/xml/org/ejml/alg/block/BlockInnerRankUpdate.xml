<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.ejml.alg.block">
        <import package="org.ejml.data.D1Submatrix64F"/>
        <class name="BlockInnerRankUpdate" line="24">
            <javadoc line="24">
                Performs rank-n update operations on the inner blocks of a {@link org.ejml.data.BlockMatrix64F}It is assumed and not checked that the submatrices are aligned along the matrix&apos;s blocks.                
                <author>
                    Peter Abeles                    
                </author>
            </javadoc>
            <javadoc line="33">
                &lt;p&gt;
                  Performs:&lt;br&gt;
                  &lt;br&gt;
                  A = A + &amp;alpha; B &lt;sup&gt;T&lt;/sup&gt;B
                  &lt;/p&gt;                
                <param>
                    blockLength Size of the block in the block matrix.                    
                </param>
                <param>
                    alpha scaling factor for right hand side.                    
                </param>
                <param>
                    A Block aligned submatrix.                    
                </param>
                <param>
                    B Block aligned submatrix.                    
                </param>
            </javadoc>
            <method name="rankNUpdate" type="void" line="47">
                <params>
                    <param name="blockLength" type="int"/>
                    <param name="alpha" type="double"/>
                    <param name="A" type="D1Submatrix64F"/>
                    <param name="B" type="D1Submatrix64F"/>
                </params>
                <declaration name="heightB" type="int" line="49"/>
                <declaration name="N" type="int" line="53"/>
                <scope line="60">
                    <declaration name="indexB_i" type="int" line="62"/>
                    <declaration name="widthB_i" type="int" line="63"/>
                    <declaration name="rowA" type="int" line="65"/>
                    <declaration name="heightA" type="int" line="66"/>
                    <scope line="68">
                        <declaration name="widthB_j" type="int" line="70"/>
                        <declaration name="indexA" type="int" line="72"/>
                        <declaration name="indexB_j" type="int" line="73"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="82">
                &lt;p&gt;
                  Rank N update function for a symmetric inner submatrix and only operates on the upper
                  triangular portion of the submatrix.&lt;br&gt;
                  &lt;br&gt;
                  A = A - B &lt;sup&gt;T&lt;/sup&gt;B
                  &lt;/p&gt;                
            </javadoc>
            <method name="symmRankNMinus_U" type="void" line="92">
                <params>
                    <param name="blockLength" type="int"/>
                    <param name="A" type="D1Submatrix64F"/>
                    <param name="B" type="D1Submatrix64F"/>
                </params>
                <comment line="123">
                    only the upper portion of this block needs to be modified since it is along a diagonal                    
                </comment>
                <declaration name="heightB" type="int" line="94"/>
                <declaration name="N" type="int" line="98"/>
                <scope line="106">
                    <declaration name="indexB_i" type="int" line="108"/>
                    <declaration name="widthB_i" type="int" line="109"/>
                    <declaration name="rowA" type="int" line="111"/>
                    <declaration name="heightA" type="int" line="112"/>
                    <scope line="114">
                        <declaration name="widthB_j" type="int" line="116"/>
                        <declaration name="indexA" type="int" line="118"/>
                        <declaration name="indexB_j" type="int" line="119"/>
                        <scope line="121"/>
                        <scope line="125"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="133">
                &lt;p&gt;
                  Rank N update function for a symmetric inner submatrix and only operates on the lower
                  triangular portion of the submatrix.&lt;br&gt;
                  &lt;br&gt;
                  A = A - BB&lt;sup&gt;T&lt;/sup&gt;&lt;br&gt;
                  &lt;/p&gt;                
            </javadoc>
            <method name="symmRankNMinus_L" type="void" line="143">
                <params>
                    <param name="blockLength" type="int"/>
                    <param name="A" type="D1Submatrix64F"/>
                    <param name="B" type="D1Submatrix64F"/>
                </params>
                <declaration name="widthB" type="int" line="144"/>
                <declaration name="N" type="int" line="148"/>
                <scope line="155">
                    <declaration name="heightB_i" type="int" line="158"/>
                    <declaration name="indexB_i" type="int" line="159"/>
                    <declaration name="rowA" type="int" line="161"/>
                    <declaration name="heightA" type="int" line="162"/>
                    <scope line="164">
                        <declaration name="widthB_j" type="int" line="166"/>
                        <declaration name="indexA" type="int" line="168"/>
                        <declaration name="indexB_j" type="int" line="169"/>
                        <scope line="171"/>
                        <scope line="174"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="182">
                &lt;p&gt;
                  Performs the following operation on a block:&lt;br&gt;
                  &lt;br&gt;
                  c = c - a&lt;sup&gt;T&lt;/sup&gt;a&lt;br&gt;
                  &lt;/p&gt;                
            </javadoc>
            <method name="multTransABlockMinus" type="void" line="191">
                <params>
                    <param name="dataA" type="double[]"/>
                    <param name="dataC" type="double[]"/>
                    <param name="indexA" type="int"/>
                    <param name="indexB" type="int"/>
                    <param name="indexC" type="int"/>
                    <param name="heightA" type="int"/>
                    <param name="widthA" type="int"/>
                    <param name="widthC" type="int"/>
                </params>
                <comment line="193">
                    for( int i = 0; i &lt; widthA; i++ ) {
                                for( int k = 0; k &lt; heightA; k++ ) {
                    
                                    double valA = dataA[k*widthA + i + indexA];
                                    for( int j = 0; j &lt; widthC; j++ ) {
                                        dataC[ i*widthC + j + indexC ] -= valA * dataA[k*widthC + j + indexB];
                                    }
                                }
                            }                    
                </comment>
                <comment line="207">
                    for( int k = 0; k &lt; heightA; k++ ) {                    
                </comment>
                <declaration name="rowB" type="int" line="202"/>
                <declaration name="endLoopK" type="int" line="203"/>
                <declaration name="startA" type="int" line="204"/>
                <scope line="207">
                    <declaration name="a" type="int" line="208"/>
                    <declaration name="c" type="int" line="209"/>
                    <declaration name="endA" type="int" line="211"/>
                    <declaration name="endB" type="int" line="212"/>
                    <scope line="214">
                        <declaration name="valA" type="double" line="215"/>
                        <declaration name="b" type="int" line="217"/>
                        <scope line="218"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="225">
                &lt;p&gt;
                  Performs the following operation on the upper triangular portion of a block:&lt;br&gt;
                  &lt;br&gt;
                  c = c - a&lt;sup&gt;T&lt;/sup&gt;a&lt;br&gt;
                  &lt;/p&gt;                
            </javadoc>
            <method name="multTransABlockMinus_U" type="void" line="234">
                <params>
                    <param name="dataA" type="double[]"/>
                    <param name="dataC" type="double[]"/>
                    <param name="indexA" type="int"/>
                    <param name="indexB" type="int"/>
                    <param name="indexC" type="int"/>
                    <param name="heightA" type="int"/>
                    <param name="widthA" type="int"/>
                    <param name="widthC" type="int"/>
                </params>
                <comment line="236">
                    for( int i = 0; i &lt; widthA; i++ ) {
                                for( int k = 0; k &lt; heightA; k++ ) {
                    
                                    double valA = dataA[k*widthA + i + indexA];
                                    for( int j = i; j &lt; widthC; j++ ) {
                                        dataC[ i*widthC + j + indexC ] -= valA * dataA[k*widthC + j + indexB];
                                    }
                                }
                            }                    
                </comment>
                <comment line="256">
                    for( int j = i; j &lt; widthC; j++ ) {                    
                </comment>
                <scope line="245">
                    <scope line="246">
                        <declaration name="valA" type="double" line="248"/>
                        <declaration name="b" type="int" line="249"/>
                        <declaration name="c" type="int" line="250"/>
                        <declaration name="endC" type="int" line="252"/>
                        <scope line="254"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="262">
                &lt;p&gt;
                  Performs the following operation on a block:&lt;br&gt;
                  &lt;br&gt;
                  c = c - aa&lt;sup&gt;T&lt;/sup&gt;&lt;br&gt;
                  &lt;/p&gt;                
            </javadoc>
            <method name="multTransBBlockMinus" type="void" line="271">
                <params>
                    <param name="dataA" type="double[]"/>
                    <param name="dataC" type="double[]"/>
                    <param name="indexA" type="int"/>
                    <param name="indexB" type="int"/>
                    <param name="indexC" type="int"/>
                    <param name="widthA" type="int"/>
                    <param name="heightA" type="int"/>
                    <param name="widthC" type="int"/>
                </params>
                <comment line="273">
                    for( int i = 0; i &lt; heightA; i++ ) {
                                for( int j = 0; j &lt; widthC; j++ ) {
                                    double sum = 0;
                                    for( int k = 0; k &lt; widthA; k++ ) {
                                        sum += dataA[i*widthA + k + indexA] * dataA[j*widthA + k + indexB];
                                    }
                                    dataC[ i*widthC + j + indexC ] -= sum;
                                }
                            }                    
                </comment>
                <comment line="290">
                    for( int j = 0; j &lt; widthC; j++  ) {                    
                </comment>
                <declaration name="rowA" type="int" line="282"/>
                <declaration name="c" type="int" line="283"/>
                <scope line="284">
                    <declaration name="endA" type="int" line="285"/>
                    <declaration name="rowB" type="int" line="286"/>
                    <declaration name="endLoopJ" type="int" line="287"/>
                    <scope line="290">
                        <declaration name="a" type="int" line="291"/>
                        <declaration name="b" type="int" line="292"/>
                        <declaration name="sum" type="double" line="294"/>
                        <scope line="295"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="304">
                &lt;p&gt;
                  Performs the following operation on the lower triangular portion of a block:&lt;br&gt;
                  &lt;br&gt;
                  c = c - aa&lt;sup&gt;T&lt;/sup&gt;&lt;br&gt;
                  &lt;/p&gt;                
            </javadoc>
            <method name="multTransBBlockMinus_L" type="void" line="313">
                <params>
                    <param name="dataA" type="double[]"/>
                    <param name="dataC" type="double[]"/>
                    <param name="indexA" type="int"/>
                    <param name="indexB" type="int"/>
                    <param name="indexC" type="int"/>
                    <param name="widthA" type="int"/>
                    <param name="heightA" type="int"/>
                    <param name="widthC" type="int"/>
                </params>
                <comment line="315">
                    for( int i = 0; i &lt; heightA; i++ ) {
                                for( int j = 0; j &lt;= i; j++ ) {
                                    double sum = 0;
                                    for( int k = 0; k &lt; widthA; k++ ) {
                                        sum += dataA[i*widthA + k + indexA] * dataA[j*widthA + k + indexB];
                                    }
                                    dataC[ i*widthC + j + indexC ] -= sum;
                                }
                            }                    
                </comment>
                <scope line="324">
                    <declaration name="rowA" type="int" line="325"/>
                    <declaration name="endA" type="int" line="326"/>
                    <declaration name="rowB" type="int" line="327"/>
                    <declaration name="rowC" type="int" line="328"/>
                    <scope line="329">
                        <declaration name="sum" type="double" line="330"/>
                        <declaration name="a" type="int" line="332"/>
                        <declaration name="b" type="int" line="333"/>
                        <scope line="335"/>
                    </scope>
                </scope>
            </method>
        </class>
    </source>