<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.ejml.alg.dense.decomposition.qr">
        <import package="org.ejml.data.DenseMatrix64F"/>
        <import package="org.ejml.ops.CommonOps"/>
        <class name="QrUpdate" line="4">
            <javadoc line="4">
                &lt;p&gt;
                  The effects of adding and removing rows from the A matrix in a QR decomposition can
                  be computed much faster than simply recomputing the whole decomposition.  There are many real
                  world situations where this is useful.  For example, when computing a rolling solution to
                  the most recent N measurements.
                  &lt;/p&gt;
                  &lt;p&gt;
                  Definitions: A &amp;isin; &amp;real; &lt;sup&gt;m &amp;times; n&lt;/sup&gt;, m &amp;ge; n, rank(A) = n and that A = QR, where
                  Q &amp;isin; &amp;real; &lt;sup&gt;m &amp;times; m&lt;/sup&gt; is orthogonal, and R &amp;isin; &amp;real; &lt;sup&gt;m &amp;times; n&lt;/sup&gt; is
                  upper triangular.
                  &lt;/p&gt;
                  &lt;p&gt;
                   IMPORTANT USAGE NOTE  If auto grow is set to true then the internal data structures will grow automatically
                  to accommodate the matrices passed in.  When adding elements to the decomposition the matrices must have enough
                  data elements to grow before hand.
                  &lt;/p&gt;
                  &lt;p&gt;
                  For more information see David S. Watkins, &quot;Fundamentals of Matrix Computations&quot; 2nd edition, pages 249-259.
                  It is also possible to add and remove columns efficiently, but this is less common and is not supported at
                  this time.
                  &lt;/p&gt;                
                <author>
                    Peter Abeles                    
                </author>
            </javadoc>
            <declaration name="Q" type="DenseMatrix64F" line="29"/>
            <declaration name="U_tran" type="DenseMatrix64F" line="30"/>
            <declaration name="Qm" type="DenseMatrix64F" line="31"/>
            <declaration name="r_row" type="double" line="32"/>
            <declaration name="maxCols" type="int" line="33"/>
            <declaration name="maxRows" type="int" line="34"/>
            <declaration name="m" type="int" line="35"/>
            <declaration name="m_m" type="int" line="36"/>
            <declaration name="autoGrow" type="boolean" line="37"/>
            <javadoc line="38">
                Creates an update which can decompose matrices up to the specified size.  Autogrow
                  is set to false.                
                <param>
                    maxRows                    
                </param>
                <param>
                    maxCols                    
                </param>
            </javadoc>
            <method name="QrUpdate" type="constructor" line="44">
                <params>
                    <param name="maxRows" type="int"/>
                    <param name="maxCols" type="int"/>
                </params>
            </method>
            <javadoc line="48">
                Creates an update which can decompose matrices up to the specified size.  Autogrow
                  is configurable.                
                <param>
                    maxRows                    
                </param>
                <param>
                    maxCols                    
                </param>
                <param>
                    autoGrow                    
                </param>
            </javadoc>
            <method name="QrUpdate" type="constructor" line="55">
                <params>
                    <param name="maxRows" type="int"/>
                    <param name="maxCols" type="int"/>
                    <param name="autoGrow" type="boolean"/>
                </params>
            </method>
            <javadoc line="59">
                Does not predeclare data and it will autogrow.                
            </javadoc>
            <method name="QrUpdate" type="constructor" line="62"/>
            <javadoc line="65">
                Declares the internal data structures so that it can process matrices up to the specified size.                
                <param>
                    maxRows                    
                </param>
                <param>
                    maxCols                    
                </param>
            </javadoc>
            <method name="declareInternalData" type="void" line="70">
                <params>
                    <param name="maxRows" type="int"/>
                    <param name="maxCols" type="int"/>
                </params>
            </method>
            <javadoc line="77">
                &lt;p&gt;
                  Adjusts the values of the Q and R matrices to take in account the effects of inserting
                  a row to the &apos;A&apos; matrix at the specified location.  This operation requires about 6mn + O(n) flops.
                  &lt;/p&gt;
                  &lt;p&gt;
                  If Q and/or R does not have enough data elements to grow then an exception is thrown.
                  &lt;/p&gt;
                  &lt;p&gt;
                  The adjustment done is by computing a series of planar Givens rotations that make the adjusted R
                  matrix upper triangular again.  This is then used to modify the Q matrix.
                  &lt;/p&gt;                
                <param>
                    Q The Q matrix which is to be modified, must be big enough to grow.  Must be n by n..  Is modified.                    
                </param>
                <param>
                    R The R matrix which is to be modified, must be big enough to grow.  Must be m by n.  Is modified.                    
                </param>
                <param>
                    row The row being inserted.  Not modified.                    
                </param>
                <param>
                    rowIndex Which row index it is to be inserted at.                    
                </param>
                <param>
                    resizeR Should the number of rows in R be changed?  The additional rows are all zero.                    
                </param>
            </javadoc>
            <method name="addRow" type="void" line="95">
                <params>
                    <param name="Q" type="DenseMatrix64F"/>
                    <param name="R" type="DenseMatrix64F"/>
                    <param name="row" type="double[]"/>
                    <param name="rowIndex" type="int"/>
                    <param name="resizeR" type="boolean"/>
                </params>
            </method>
            <javadoc line="107">
                &lt;p&gt;
                  Adjusts the values of the Q and R matrices to take in account the effects of removing
                  a row from the &apos;A&apos; matrix at the specified location.  This operation requires about 6mn + O(n) flops.
                  &lt;/p&gt;
                  &lt;p&gt;
                  The adjustment is done by computing a series of planar Givens rotations that make the removed row in Q
                  equal to [1 0 ... 0].
                  &lt;/p&gt;                
                <param>
                    Q The Q matrix.  Is modified.                    
                </param>
                <param>
                    R The R matrix.  Is modified.                    
                </param>
                <param>
                    rowIndex Which index of the row that is being removed.                    
                </param>
                <param>
                    resizeR should the shape of R be adjusted?                    
                </param>
            </javadoc>
            <method name="deleteRow" type="void" line="121">
                <params>
                    <param name="Q" type="DenseMatrix64F"/>
                    <param name="R" type="DenseMatrix64F"/>
                    <param name="rowIndex" type="int"/>
                    <param name="resizeR" type="boolean"/>
                </params>
                <scope line="123"/>
            </method>
            <javadoc line="134">
                Provides the results of a QR decomposition.  These will be modified by adding or removing
                  rows from the original &apos;A&apos; matrix.                
                <param>
                    Q The Q matrix which is to be modified.  Is modified later and reference saved.                    
                </param>
                <param>
                    R The R matrix which is to be modified.  Is modified later and reference saved.                    
                </param>
            </javadoc>
            <method name="setQR" type="void" line="140">
                <params>
                    <param name="Q" type="DenseMatrix64F"/>
                    <param name="R" type="DenseMatrix64F"/>
                    <param name="growRows" type="int"/>
                </params>
                <scope line="141"/>
                <scope line="148">
                    <scope line="149"/>
                    <scope line="152"/>
                </scope>
            </method>
            <javadoc line="157">
                Updates the Q matrix to take in account the inserted matrix.                
                <param>
                    rowIndex where the matrix has been inserted.                    
                </param>
            </javadoc>
            <method name="updateInsertQ" type="void" line="161">
                <params>
                    <param name="rowIndex" type="int"/>
                </params>
                <scope line="164">
                    <scope line="165">
                        <declaration name="sum" type="double" line="166"/>
                        <scope line="167"/>
                    </scope>
                </scope>
                <scope line="173"/>
                <scope line="176">
                    <scope line="177">
                        <declaration name="sum" type="double" line="178"/>
                        <scope line="179"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="186">
                Updates the Q matrix to take inaccount the row that was removed by only multiplying e
                  lements that need to be.  There is still some room for improvement here...                
                <param>
                    rowIndex                    
                </param>
            </javadoc>
            <method name="updateRemoveQ" type="void" line="191">
                <params>
                    <param name="rowIndex" type="int"/>
                </params>
                <scope line="194">
                    <scope line="195">
                        <declaration name="sum" type="double" line="196"/>
                        <scope line="197"/>
                    </scope>
                </scope>
                <scope line="203">
                    <scope line="204">
                        <declaration name="sum" type="double" line="205"/>
                        <scope line="206"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="213">
                Updates the R matrix to take in account the removed row.                
            </javadoc>
            <method name="updateRemoveR" type="void" line="216">
                <scope line="217">
                    <scope line="218">
                        <declaration name="sum" type="double" line="219"/>
                        <scope line="220"/>
                    </scope>
                </scope>
            </method>
            <method name="applyFirstGivens" type="void" line="227">
                <params>
                    <param name="row" type="double[]"/>
                </params>
                <declaration name="c" type="double" line="228"/>
                <declaration name="xi" type="double" line="229"/>
                <declaration name="xj" type="double" line="230"/>
                <declaration name="r" type="double" line="231"/>
                <scope line="232"/>
                <scope line="237"/>
                <scope line="242">
                    <declaration name="vali" type="double" line="243"/>
                    <declaration name="valj" type="double" line="244"/>
                </scope>
            </method>
            <method name="applyLaterGivens" type="void" line="254">
                <scope line="255">
                    <declaration name="c" type="double" line="256"/>
                    <declaration name="xi" type="double" line="257"/>
                    <declaration name="xj" type="double" line="258"/>
                    <declaration name="r" type="double" line="259"/>
                    <scope line="260"/>
                    <scope line="265"/>
                    <scope line="270">
                        <declaration name="vali" type="double" line="271"/>
                        <declaration name="valj" type="double" line="272"/>
                    </scope>
                    <scope line="276">
                        <declaration name="q1" type="double" line="277"/>
                        <declaration name="q2" type="double" line="278"/>
                    </scope>
                </scope>
            </method>
            <method name="computeRemoveGivens" type="void" line="284">
                <params>
                    <param name="selectedRow" type="int"/>
                </params>
                <declaration name="xj" type="double" line="286"/>
                <scope line="287">
                    <declaration name="c" type="double" line="288"/>
                    <declaration name="xi" type="double" line="289"/>
                    <declaration name="r" type="double" line="290"/>
                    <scope line="291"/>
                    <scope line="296"/>
                    <scope line="301">
                        <declaration name="q1" type="double" line="302"/>
                        <declaration name="q2" type="double" line="303"/>
                    </scope>
                </scope>
            </method>
            <method name="getU_tran" type="DenseMatrix64F" line="309"/>
        </class>
    </source>