<?xml version="1.0" encoding="UTF-8"?>
    <source package="cern.jet.stat.quantile">
        <class name="EquiDepthHistogram" line="2">
            <extends class="cern.colt.PersistentObject"/>
            <javadoc line="2">
                Read-only equi-depth histogram for selectivity estimation.
                  Assume you have collected statistics over a data set, among them a one-dimensional equi-depth histogram (quantiles).
                  Then an applications or DBMS might want to estimate the &lt;i&gt;selectivity&lt;/i&gt; of some range query &lt;tt&gt;[from,to]&lt;/tt&gt;, i.e. the percentage of data set elements contained in the query range.
                  This class does not collect equi-depth histograms but only space efficiently stores already produced histograms and provides operations for selectivity estimation.
                  Uses linear interpolation.
                  &lt;p&gt;
                  This class stores a list &lt;tt&gt;l&lt;/tt&gt; of &lt;tt&gt;float&lt;/tt&gt; values for which holds:
                  &lt;li&gt;Let &lt;tt&gt;v&lt;/tt&gt; be a list of values (sorted ascending) an equi-depth histogram has been computed over.&lt;/li&gt;
                  &lt;li&gt;Let &lt;tt&gt;s=l.length&lt;/tt&gt;.&lt;/li&gt;
                  &lt;li&gt;Let &lt;tt&gt;p=(0, 1/s-1), 2/s-1,..., s-1/s-1=1.0)&lt;/tt&gt; be a list of the &lt;tt&gt;s&lt;/tt&gt; percentages.&lt;/li&gt;
                  &lt;li&gt;Then for each &lt;tt&gt;i=0..s-1: l[i] = e : v.contains(e) &amp;&amp; v[0],..., v[p[i]v.length] &amp;lt;= e&lt;/tt&gt;.&lt;/li&gt;
                  &lt;li&gt;(In particular: &lt;tt&gt;l[0]=min(v)=v[0]&lt;/tt&gt; and &lt;tt&gt;l[s-1]=max(v)=v[s-1]&lt;/tt&gt;.)&lt;/li&gt;                
                <author>
                    wolfgang.hoschek@cern.ch                    
                </author>
                <version>
                    1.0, 09/24/99                    
                </version>
            </javadoc>
            <declaration name="binBoundaries" type="float[]" line="19"/>
            <javadoc line="20">
                Constructs an equi-depth histogram with the given quantile elements.
                  Quantile elements must be sorted ascending and have the form specified in the class documentation.                
            </javadoc>
            <method name="EquiDepthHistogram" type="constructor" line="24">
                <params>
                    <param name="quantileElements" type="float[]"/>
                </params>
            </method>
            <javadoc line="27">
                Returns the bin index of the given element.
                  In other words, returns a handle to the range the element falls into.                
                <param>
                    element the element to search for.                    
                </param>
                <throws>
                    java.lang.IllegalArgumentException if the element is not contained in any bin.                    
                </throws>
            </javadoc>
            <method name="binOfElement" type="int" line="33">
                <params>
                    <param name="element" type="float"/>
                </params>
                <declaration name="index" type="int" line="34"/>
                <scope line="35"/>
                <scope line="38">
                    <scope line="40"/>
                </scope>
            </method>
            <javadoc line="47">
                Returns the number of bins. In other words, returns the number of subdomains partitioning the entire value domain.                
            </javadoc>
            <method name="bins" type="int" line="50"/>
            <javadoc line="53">
                Returns the end of the range associated with the given bin.                
                <throws>
                    ArrayIndexOutOfBoundsException if <tt>binIndex &lt; 0 || binIndex &gt;= bins()</tt>.                    
                </throws>
            </javadoc>
            <method name="endOfBin" type="float" line="57">
                <params>
                    <param name="binIndex" type="int"/>
                </params>
            </method>
            <javadoc line="60">
                Returns the percentage of elements in the range (from,to]. Does linear interpolation.                
                <param>
                    from the start point (exclusive).                    
                </param>
                <param>
                    to the end point (inclusive).                    
                </param>
                <returns>
                    a number in the closed interval <tt>[0.0,1.0]</tt>.                    
                </returns>
            </javadoc>
            <method name="percentFromTo" type="double" line="66">
                <params>
                    <param name="from" type="float"/>
                    <param name="to" type="float"/>
                </params>
            </method>
            <javadoc line="69">
                Returns how many percent of the elements contained in the receiver are &lt;tt&gt;&amp;lt;= element&lt;/tt&gt;.
                  Does linear interpolation.                
                <param>
                    the element to search for.                    
                </param>
                <returns>
                    a number in the closed interval <tt>[0.0,1.0]</tt>.                    
                </returns>
            </javadoc>
            <method name="phi" type="double" line="75">
                <params>
                    <param name="element" type="float"/>
                </params>
                <declaration name="size" type="int" line="76"/>
                <declaration name="binWidth" type="double" line="79"/>
                <declaration name="index" type="int" line="80"/>
                <scope line="81"/>
                <declaration name="insertionPoint" type="int" line="84"/>
                <declaration name="from" type="double" line="85"/>
                <declaration name="to" type="double" line="86"/>
                <declaration name="p" type="double" line="87"/>
            </method>
            <javadoc line="90">
                Returns the number of bin boundaries.                
            </javadoc>
            <method name="size" type="int" line="94"/>
            <javadoc line="97">
                Returns the start of the range associated with the given bin.                
                <throws>
                    ArrayIndexOutOfBoundsException if <tt>binIndex &lt; 0 || binIndex &gt;= bins()</tt>.                    
                </throws>
            </javadoc>
            <method name="startOfBin" type="float" line="101">
                <params>
                    <param name="binIndex" type="int"/>
                </params>
            </method>
            <javadoc line="104">
                Not yet commented.                
            </javadoc>
            <method name="test" type="void" line="107">
                <params>
                    <param name="element" type="float"/>
                </params>
                <declaration name="quantileElements" type="float[]" line="108"/>
                <declaration name="histo" type="EquiDepthHistogram" line="109"/>
            </method>
        </class>
    </source>