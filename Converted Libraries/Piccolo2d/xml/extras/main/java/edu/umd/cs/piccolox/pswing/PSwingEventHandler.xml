<?xml version="1.0" encoding="UTF-8"?>
    <source package="edu.umd.cs.piccolox.pswing">
        <import package="java.awt.Component"/>
        <import package="java.awt.Container"/>
        <import package="java.awt.Point"/>
        <import package="java.awt.event.InputEvent"/>
        <import package="java.awt.event.MouseEvent"/>
        <import package="java.awt.event.MouseWheelEvent"/>
        <import package="java.awt.geom.AffineTransform"/>
        <import package="java.awt.geom.NoninvertibleTransformException"/>
        <import package="java.awt.geom.Point2D"/>
        <import package="javax.swing.SwingUtilities"/>
        <import package="edu.umd.cs.piccolo.PCamera"/>
        <import package="edu.umd.cs.piccolo.PLayer"/>
        <import package="edu.umd.cs.piccolo.PNode"/>
        <import package="edu.umd.cs.piccolo.event.PInputEvent"/>
        <import package="edu.umd.cs.piccolo.event.PInputEventListener"/>
        <import package="edu.umd.cs.piccolo.util.PAffineTransform"/>
        <import package="edu.umd.cs.piccolo.util.PAffineTransformException"/>
        <class name="PSwingEventHandler" line="19">
            <implements interface="PInputEventListener"/>
            <javadoc line="19">
                Event handler to send MousePressed, MouseReleased, MouseMoved, MouseClicked,
                  and MouseDragged events on Swing components within a PCanvas.                
                <author>
                    Ben Bederson                    
                </author>
                <author>
                    Lance Good                    
                </author>
                <author>
                    Sam Reid                    
                </author>
            </javadoc>
            <declaration name="listenNode" type="PNode" line="27"/>
            <javadoc line="27">
                Used to listen for events.                
            </javadoc>
            <declaration name="active" type="boolean" line="31"/>
            <javadoc line="31">
                Tracks whether this event handler is active.                
            </javadoc>
            <declaration name="previousComponent" type="Component" line="35"/>
            <javadoc line="35">
                The previous component - used to generate mouseEntered and mouseExited
                  events.                
            </javadoc>
            <declaration name="prevPoint" type="Point2D" line="40"/>
            <javadoc line="40">
                Previous point used for mouseEntered and exited events.                
            </javadoc>
            <declaration name="previousOffset" type="Point2D" line="44"/>
            <javadoc line="44">
                Previous offset used for mouseEntered and exited events.                
            </javadoc>
            <declaration name="recursing" type="boolean" line="48"/>
            <javadoc line="48">
                Used to avoid accidental recursive handling.                
            </javadoc>
            <declaration name="leftButtonData" type="ButtonData" line="52"/>
            <javadoc line="52">
                Used for tracking the left button&apos;s state.                
            </javadoc>
            <declaration name="middleButtonData" type="ButtonData" line="56"/>
            <javadoc line="56">
                Used for tracking the middle button&apos;s state.                
            </javadoc>
            <declaration name="rightButtonData" type="ButtonData" line="60"/>
            <javadoc line="60">
                Used for tracking the right button&apos;s state.                
            </javadoc>
            <declaration name="canvas" type="PSwingCanvas" line="64"/>
            <javadoc line="64">
                The Canvas in which all this pswing activity is taking place.                
            </javadoc>
            <javadoc line="68">
                Constructs a new PSwingEventHandler for the given canvas, and a node that
                  will receive the mouse events.                
                <param>
                    canvas the canvas associated with this PSwingEventHandler.                    
                </param>
                <param>
                    listenNode the node the mouse listeners will be attached to.                    
                </param>
            </javadoc>
            <method name="PSwingEventHandler" type="constructor" line="74">
                <params>
                    <param name="canvas" type="PSwingCanvas"/>
                    <param name="listenNode" type="PNode"/>
                </params>
            </method>
            <javadoc line="78">
                Constructs a new PSwingEventHandler for the given canvas.                
                <param>
                    canvas to associate this event handler to                    
                </param>
            </javadoc>
            <method name="PSwingEventHandler" type="constructor" line="82">
                <params>
                    <param name="canvas" type="PSwingCanvas"/>
                </params>
            </method>
            <javadoc line="85">
                Sets whether this event handler can fire events.                
                <param>
                    active true if this event handler can fire events                    
                </param>
            </javadoc>
            <method name="setActive" type="void" line="89">
                <params>
                    <param name="active" type="boolean"/>
                </params>
                <scope line="90">
                    <scope line="91"/>
                </scope>
                <scope line="96"/>
            </method>
            <javadoc line="101">
                Returns if this event handler is active.                
                <return>
                    true if can fire events                    
                </return>
            </javadoc>
            <method name="isActive" type="boolean" line="105"/>
            <javadoc line="108">
                Finds the best visible component or subcomponent at the specified
                  location.                
                <param>
                    component component to test children or self for                    
                </param>
                <param>
                    x x component of location                    
                </param>
                <param>
                    y y component of location                    
                </param>
                <return>
                    the component or subcomponent at the specified location.                    
                </return>
            </javadoc>
            <method name="findShowingComponentAt" type="Component" line="116">
                <params>
                    <param name="component" type="Component"/>
                    <param name="x" type="int"/>
                    <param name="y" type="int"/>
                </params>
                <scope line="117"/>
                <scope line="120">
                    <declaration name="contain" type="Container" line="121"/>
                    <declaration name="child" type="Component" line="122"/>
                    <scope line="123"/>
                </scope>
            </method>
            <method name="findShowingChildAt" type="Component" line="129">
                <params>
                    <param name="container" type="Container"/>
                    <param name="x" type="int"/>
                    <param name="y" type="int"/>
                </params>
                <declaration name="children" type="Component[]" line="130"/>
                <scope line="131">
                    <declaration name="child" type="Component" line="132"/>
                    <scope line="133">
                        <declaration name="p" type="Point" line="134"/>
                        <scope line="135"/>
                        <scope line="138"/>
                        <scope line="141"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="148">
                Determines if any Swing components in Piccolo2D should receive the given
                  MouseEvent and forwards the event to that component. However,
                  mouseEntered and mouseExited are independent of the buttons. Also, notice
                  the notes on mouseEntered and mouseExited.                
                <param>
                    pSwingMouseEvent event being dispatched                    
                </param>
                <param>
                    aEvent Piccolo2D event translation of the pSwingMouseEvent                    
                </param>
            </javadoc>
            <method name="dispatchEvent" type="void" line="156">
                <params>
                    <param name="pSwingMouseEvent" type="PSwingEvent"/>
                    <param name="aEvent" type="PInputEvent"/>
                </params>
                <declaration name="mEvent" type="MouseEvent" line="157"/>
                <declaration name="pickedNode" type="PNode" line="158"/>
                <declaration name="currentNode" type="PNode" line="159"/>
                <declaration name="comp" type="Component" line="160"/>
                <declaration name="point" type="Point" line="161"/>
                <declaration name="offset" type="Point" line="162"/>
                <scope line="163">
                    <declaration name="swing" type="PSwing" line="164"/>
                    <declaration name="grabNode" type="PNode" line="165"/>
                    <scope line="170"/>
                    <scope line="173">
                        <scope line="174"/>
                        <scope line="177"/>
                        <scope line="180"/>
                    </scope>
                </scope>
                <scope line="185">
                    <scope line="186"/>
                    <scope line="189"/>
                    <scope line="192"/>
                </scope>
                <scope line="196">
                    <declaration name="tempEvent" type="MouseEvent" line="197"/>
                    <declaration name="e2" type="PSwingEvent" line="198"/>
                </scope>
                <scope line="201">
                    <declaration name="mWEvent" type="MouseWheelEvent" line="202"/>
                    <declaration name="tempEvent" type="MouseWheelEvent" line="203"/>
                    <declaration name="e2" type="PSwingMouseWheelEvent" line="204"/>
                </scope>
                <scope line="207">
                    <scope line="208">
                        <declaration name="tempEvent" type="MouseEvent" line="209"/>
                        <declaration name="e2" type="PSwingEvent" line="210"/>
                    </scope>
                    <scope line="214">
                        <declaration name="tempEvent" type="MouseEvent" line="215"/>
                        <declaration name="e2" type="PSwingEvent" line="216"/>
                    </scope>
                </scope>
                <scope line="223">
                    <declaration name="tempEvent" type="MouseEvent" line="224"/>
                    <declaration name="e2" type="PSwingEvent" line="225"/>
                </scope>
                <scope line="229"/>
            </method>
            <method name="extractSwingOffset" type="Point" line="233">
                <params>
                    <param name="comp" type="Component"/>
                    <param name="swing" type="PSwing"/>
                </params>
                <declaration name="offsetX" type="int" line="234"/>
                <declaration name="offsetY" type="int" line="235"/>
                <scope line="236"/>
            </method>
            <method name="isRightMouseButtonOnComponent" type="boolean" line="242">
                <params>
                    <param name="mEvent" type="MouseEvent"/>
                </params>
            </method>
            <method name="isMiddleMouseButtonOnComponent" type="boolean" line="245">
                <params>
                    <param name="mEvent" type="MouseEvent"/>
                </params>
            </method>
            <method name="isLeftMouseButtonOnComponent" type="boolean" line="248">
                <params>
                    <param name="mEvent" type="MouseEvent"/>
                </params>
            </method>
            <method name="isMousePress" type="boolean" line="251">
                <params>
                    <param name="pSwingMouseEvent" type="PSwingEvent"/>
                </params>
            </method>
            <method name="isWheelEvent" type="boolean" line="254">
                <params>
                    <param name="pSwingMouseEvent" type="PSwingEvent"/>
                </params>
            </method>
            <method name="isPressOrClickOrMove" type="boolean" line="257">
                <params>
                    <param name="pSwingMouseEvent" type="PSwingEvent"/>
                </params>
            </method>
            <method name="isDragOrRelease" type="boolean" line="260">
                <params>
                    <param name="pSwingMouseEvent" type="PSwingEvent"/>
                </params>
            </method>
            <method name="createEnterEvent" type="MouseEvent" line="263">
                <params>
                    <param name="comp" type="Component"/>
                    <param name="e1" type="MouseEvent"/>
                    <param name="offX" type="int"/>
                    <param name="offY" type="int"/>
                </params>
            </method>
            <method name="createExitEvent" type="MouseEvent" line="266">
                <params>
                    <param name="e1" type="MouseEvent"/>
                </params>
            </method>
            <method name="handleButton" type="void" line="269">
                <params>
                    <param name="e1" type="PSwingEvent"/>
                    <param name="aEvent" type="PInputEvent"/>
                    <param name="buttonData" type="ButtonData"/>
                </params>
                <declaration name="m1" type="MouseEvent" line="270"/>
                <scope line="271">
                    <declaration name="pt" type="Point2D" line="272"/>
                    <declaration name="tempEvent" type="MouseEvent" line="274"/>
                    <declaration name="e2" type="PSwingEvent" line="275"/>
                </scope>
                <scope line="278"/>
                <scope line="282"/>
            </method>
            <method name="involvesSceneNode" type="boolean" line="286">
                <params>
                    <param name="buttonData" type="ButtonData"/>
                </params>
            </method>
            <method name="dispatchEvent" type="void" line="289">
                <params>
                    <param name="target" type="Component"/>
                    <param name="event" type="PSwingEvent"/>
                </params>
                <anonymous_class line="290">
                    <method name="run" type="void" line="291"/>
                </anonymous_class>
            </method>
            <javadoc line="297">
                Transforms the given point from camera coordinates to the node&apos;s local
                  system.                
                <param>
                    camera camera from which coordinates are measured                    
                </param>
                <param>
                    pt point to transform (will be modified)                    
                </param>
                <param>
                    node node from which local coordinates are measured                    
                </param>
            </javadoc>
            <method name="cameraToLocal" type="void" line="304">
                <params>
                    <param name="camera" type="PCamera"/>
                    <param name="pt" type="Point2D"/>
                    <param name="node" type="PNode"/>
                </params>
                <scope line="305">
                    <scope line="306">
                        <declaration name="inverse" type="AffineTransform" line="307"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="313">
                Returns true if the provided layer has a PLayer ancestor.                
                <param>
                    node node being tested                    
                </param>
                <return>
                    true if node is a descendant of a PLayer                    
                </return>
            </javadoc>
            <method name="descendsFromLayer" type="boolean" line="318">
                <params>
                    <param name="node" type="PNode"/>
                </params>
                <declaration name="searchNode" type="PNode" line="319"/>
                <scope line="320">
                    <scope line="322"/>
                </scope>
            </method>
            <javadoc line="328">
                Returns the inverse transform for the provided transform. Throws
                  exception if transform is non invertible.                
                <param>
                    transform transform to invert                    
                </param>
                <return>
                    inverted transform                    
                </return>
            </javadoc>
            <method name="invertTransform" type="AffineTransform" line="334">
                <params>
                    <param name="transform" type="PAffineTransform"/>
                </params>
                <scope line="335"/>
                <scope line="338"/>
            </method>
            <javadoc line="342">
                Process a Piccolo2D event and (if active) dispatch the corresponding
                  Swing event.                
                <param>
                    aEvent Piccolo2D event being tested for dispatch to swing                    
                </param>
                <param>
                    type is not used in this method                    
                </param>
            </javadoc>
            <method name="processEvent" type="void" line="348">
                <params>
                    <param name="aEvent" type="PInputEvent"/>
                    <param name="type" type="int"/>
                </params>
                <scope line="349"/>
                <declaration name="sourceSwingEvent" type="InputEvent" line="352"/>
                <scope line="353"/>
            </method>
            <method name="processMouseEvent" type="void" line="358">
                <params>
                    <param name="aEvent" type="PInputEvent"/>
                    <param name="swingMouseEvent" type="MouseEvent"/>
                </params>
                <scope line="359">
                    <declaration name="pSwingMouseEvent" type="PSwingEvent" line="361"/>
                    <scope line="363"/>
                </scope>
            </method>
            <class name="ButtonData" line="369">
                <javadoc line="369">
                    Internal Utility class for handling button interactivity.                    
                </javadoc>
                <declaration name="focusNode" type="PNode" line="373"/>
                <declaration name="focusComponent" type="Component" line="374"/>
                <declaration name="focusOffX" type="int" line="375"/>
                <declaration name="focusOffY" type="int" line="376"/>
                <method name="setState" type="void" line="377">
                    <params>
                        <param name="visualNode" type="PNode"/>
                        <param name="comp" type="Component"/>
                        <param name="offX" type="int"/>
                        <param name="offY" type="int"/>
                    </params>
                </method>
                <method name="getFocusedComponent" type="Component" line="383"/>
                <method name="getPNode" type="PNode" line="386"/>
                <method name="getOffsetX" type="int" line="389"/>
                <method name="getOffsetY" type="int" line="392"/>
                <method name="mouseReleased" type="void" line="395"/>
            </class>
        </class>
    </source>