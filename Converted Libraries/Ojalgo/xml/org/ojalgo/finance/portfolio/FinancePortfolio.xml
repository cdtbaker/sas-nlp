<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.ojalgo.finance.portfolio">
        <import package="org.ojalgo.constant.PrimitiveMath"/>
        <import package="java.math.BigDecimal"/>
        <import package="java.util.List"/>
        <import package="org.ojalgo.constant.PrimitiveMath"/>
        <import package="org.ojalgo.function.PrimitiveFunction"/>
        <import package="org.ojalgo.matrix.BasicMatrix"/>
        <import package="org.ojalgo.matrix.BasicMatrix.Factory"/>
        <import package="org.ojalgo.matrix.PrimitiveMatrix"/>
        <import package="org.ojalgo.random.RandomUtils"/>
        <import package="org.ojalgo.random.process.GeometricBrownianMotion"/>
        <import package="org.ojalgo.type.StandardType"/>
        <import package="org.ojalgo.type.TypeUtils"/>
        <import package="org.ojalgo.type.context.NumberContext"/>
        <class name="FinancePortfolio" line="15">
            <implements interface="Comparable">
                <type_params>
                    <type_param name="FinancePortfolio"/>
                </type_params>
            </implements>
            <javadoc line="15">
                A FinancePortfolio is primarily a set of portfolio asset weights.                
                <author>
                    apete                    
                </author>
            </javadoc>
            <interface name="Context">
                <method name="calculatePortfolioReturn" type="double" line="21"/>
                <method name="calculatePortfolioVariance" type="double" line="22"/>
                <method name="getAssetReturns" type="BasicMatrix<?>" line="23"/>
                <method name="getAssetVolatilities" type="BasicMatrix<?>" line="24"/>
                <method name="getCorrelations" type="BasicMatrix<?>" line="25"/>
                <method name="getCovariances" type="BasicMatrix<?>" line="26"/>
                <method name="size" type="int" line="27"/>
            </interface>
            <declaration name="MATRIX_FACTORY" type="Factory&lt;PrimitiveMatrix&gt;" line="29"/>
            <declaration name="WEIGHT_CONTEXT" type="NumberContext" line="30"/>
            <method name="FinancePortfolio" type="constructor" line="31"/>
            <method name="compareTo" type="int" line="34">
                <params>
                    <param name="ref" type="FinancePortfolio"/>
                </params>
            </method>
            <method name="forecast" type="GeometricBrownianMotion" line="37">
                <declaration name="tmpInitialValue" type="double" line="38"/>
                <declaration name="tmpExpectedValue" type="double" line="39"/>
                <declaration name="tmpValueVariance" type="double" line="40"/>
                <declaration name="tmpHorizon" type="double" line="41"/>
            </method>
            <method name="getConformance" type="double" line="44">
                <params>
                    <param name="aReference" type="FinancePortfolio"/>
                </params>
                <declaration name="tmpMyWeights" type="BasicMatrix&lt;?&gt;" line="45"/>
                <declaration name="tmpRefWeights" type="BasicMatrix&lt;?&gt;" line="46"/>
                <declaration name="tmpNumerator" type="double" line="47"/>
                <declaration name="tmpDenom1" type="double" line="48"/>
                <declaration name="tmpDenom2" type="double" line="49"/>
            </method>
            <method name="getLossProbability" type="double" line="52"/>
            <method name="getLossProbability" type="double" line="55">
                <params>
                    <param name="aTimePeriod" type="Number"/>
                </params>
                <declaration name="tmpProc" type="GeometricBrownianMotion" line="56"/>
                <declaration name="tmpDoubleValue" type="double" line="57"/>
                <declaration name="tmpValue" type="double" line="58"/>
            </method>
            <method name="getMeanReturn" type="double" line="61"/>
            <javadoc line="61">
                The mean/expected return of this instrument. May return either the absolute or excess return of the instrument.
                  The context in which an instance is used should make it clear which. Calling {@linkplain #shift(Number)} with an
                  appropriate argument will transform between absolute and excess return.                
            </javadoc>
            <javadoc line="67">
                The instrument&apos;s return variance. Subclasses must override either {@linkplain #getReturnVariance()} or{@linkplain #getVolatility()}.                
            </javadoc>
            <method name="getReturnVariance" type="double" line="70">
                <declaration name="tmpVolatility" type="double" line="71"/>
            </method>
            <method name="getSharpeRatio" type="double" line="74"/>
            <method name="getSharpeRatio" type="double" line="77">
                <params>
                    <param name="aRiskFreeReturn" type="Number"/>
                </params>
                <scope line="78"/>
                <scope line="81"/>
            </method>
            <javadoc line="85">
                Value at Risk (VaR) is the maximum loss not exceeded with a given probability defined as the confidence level,
                  over a given period of time.                
            </javadoc>
            <method name="getValueAtRisk" type="double" line="89">
                <params>
                    <param name="aConfidenceLevel" type="Number"/>
                    <param name="aTimePeriod" type="Number"/>
                </params>
                <declaration name="aReturn" type="double" line="90"/>
                <declaration name="aStdDev" type="double" line="91"/>
                <declaration name="tmpConfidenceScale" type="double" line="92"/>
                <declaration name="tmpTimePeriod" type="double" line="93"/>
            </method>
            <method name="getValueAtRisk95" type="double" line="96"/>
            <javadoc line="99">
                Volatility refers to the standard deviation of the change in value of an asset with a specific time horizon. It
                  is often used to quantify the risk of the asset over that time period. Subclasses must override either{@linkplain #getReturnVariance()} or {@linkplain #getVolatility()}.                
            </javadoc>
            <method name="getVolatility" type="double" line="103"/>
            <method name="getWeights" type="List<BigDecimal>" line="106"/>
            <javadoc line="106">
                This method returns a list of the weights of the Portfolio&apos;s contained assets. An asset weight is NOT restricted
                  to being a share/percentage - it can be anything. Most subclasses do however assume that the list of asset
                  weights are shares/percentages that sum up to 100%. Calling {@linkplain #normalise()} will transform any set of
                  weights to that form.                
            </javadoc>
            <javadoc line="113">
                Normalised weights Portfolio                
            </javadoc>
            <method name="normalise" type="FinancePortfolio" line="116"/>
            <method name="toString" type="String" line="119"/>
            <method name="reset" type="void" line="122"/>
        </class>
    </source>