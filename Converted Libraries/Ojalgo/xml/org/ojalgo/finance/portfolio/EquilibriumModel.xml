<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.ojalgo.finance.portfolio">
        <import package="java.math.BigDecimal"/>
        <import package="java.util.ArrayList"/>
        <import package="java.util.List"/>
        <import package="org.ojalgo.ProgrammingError"/>
        <import package="org.ojalgo.matrix.BasicMatrix"/>
        <import package="org.ojalgo.scalar.Scalar"/>
        <import package="org.ojalgo.type.TypeUtils"/>
        <class name="EquilibriumModel" line="33">
            <extends class="FinancePortfolio"/>
            <implements interface="FinancePortfolio.Context"/>
            <declaration name="myAssetReturns" type="BasicMatrix&amp;lt;?&amp;gt;" line="35"/>
            <declaration name="myAssetVolatilities" type="BasicMatrix&amp;lt;?&amp;gt;" line="36"/>
            <declaration name="myAssetWeights" type="BasicMatrix&amp;lt;?&amp;gt;" line="37"/>
            <declaration name="myMarketEquilibrium" type="MarketEquilibrium" line="38"/>
            <declaration name="myMeanReturn" type="Scalar&amp;lt;?&amp;gt;" line="39"/>
            <declaration name="myReturnVariance" type="Scalar&amp;lt;?&amp;gt;" line="40"/>
            <method name="EquilibriumModel" type="constructor" line="43"/>
            <method name="EquilibriumModel" type="constructor" line="50">
                <params>
                    <param name="context" type="Context"/>
                </params>
            </method>
            <method name="EquilibriumModel" type="constructor" line="57">
                <params>
                    <param name="marketEquilibrium" type="MarketEquilibrium"/>
                </params>
            </method>
            <method name="calculatePortfolioReturn" type="double" line="64">
                <params>
                    <param name="weightsPortfolio" type="FinancePortfolio"/>
                </params>
                <declaration name="tmpWeights" type="List&amp;lt;BigDecimal&amp;gt;" line="65"/>
                <declaration name="tmpAssetWeights" type="BasicMatrix&amp;lt;?&amp;gt;" line="66"/>
                <declaration name="tmpAssetReturns" type="BasicMatrix&amp;lt;?&amp;gt;" line="67"/>
            </method>
            <method name="calculatePortfolioVariance" type="double" line="71">
                <params>
                    <param name="weightsPortfolio" type="FinancePortfolio"/>
                </params>
                <declaration name="tmpWeights" type="List&amp;lt;BigDecimal&amp;gt;" line="72"/>
                <declaration name="tmpAssetWeights" type="BasicMatrix&amp;lt;?&amp;gt;" line="73"/>
            </method>
            <method name="getAssetReturns" type="BasicMatrix&lt;?&gt;" line="77">
                <scope line="78"/>
            </method>
            <method name="getAssetVolatilities" type="BasicMatrix&lt;?&gt;" line="84">
                <scope line="85"/>
            </method>
            <method name="getAssetWeights" type="BasicMatrix&lt;?&gt;" line="91">
                <scope line="92">
                    <declaration name="tmpAssetWeights" type="BasicMatrix&amp;lt;?&amp;gt;" line="93"/>
                    <scope line="94"/>
                </scope>
            </method>
            <method name="getCorrelations" type="BasicMatrix&lt;?&gt;" line="101"/>
            <method name="getCovariances" type="BasicMatrix&lt;?&gt;" line="105"/>
            <method name="getMarketEquilibrium" type="MarketEquilibrium" line="109"/>
            <method name="getMeanReturn" type="double" line="114">
                <scope line="115">
                    <declaration name="tmpAssetWeights" type="BasicMatrix&amp;lt;?&amp;gt;" line="116"/>
                    <declaration name="tmpAssetReturns" type="BasicMatrix&amp;lt;?&amp;gt;" line="117"/>
                    <scope line="118"/>
                </scope>
            </method>
            <method name="getReturnVariance" type="double" line="126">
                <scope line="127"/>
            </method>
            <method name="getRiskAversion" type="Scalar&lt;?&gt;" line="133"/>
            <method name="getSymbols" type="String[]" line="137"/>
            <method name="getWeights" type="List&lt;BigDecimal&gt;" line="142">
                <declaration name="tmpAssetWeights" type="BasicMatrix&amp;lt;?&amp;gt;" line="144"/>
                <scope line="146"/>
                <scope line="150"/>
            </method>
            <method name="setRiskAversion" type="void" line="156">
                <params>
                    <param name="aFactor" type="Number"/>
                </params>
            </method>
            <method name="size" type="int" line="163"/>
            <method name="toSimpleAssets" type="List&lt;SimpleAsset&gt;" line="167">
                <declaration name="tmpReturns" type="BasicMatrix&amp;lt;?&amp;gt;" line="169"/>
                <declaration name="tmpCovariances" type="BasicMatrix&amp;lt;?&amp;gt;" line="170"/>
                <declaration name="tmpWeights" type="List&amp;lt;BigDecimal&amp;gt;" line="171"/>
                <declaration name="retVal" type="ArrayList&amp;lt;SimpleAsset&amp;gt;" line="173"/>
                <scope line="175">
                    <declaration name="tmpMeanReturn" type="double" line="176"/>
                    <declaration name="tmpVolatility" type="double" line="177"/>
                    <declaration name="tmpWeight" type="BigDecimal" line="178"/>
                </scope>
            </method>
            <method name="toSimplePortfolio" type="SimplePortfolio" line="185"/>
            <method name="toString" type="String" line="190"/>
            <method name="calculateAssetReturns" type="BasicMatrix&lt;?&gt;" line="194"/>
            <method name="calculateAssetReturns" type="BasicMatrix&lt;?&gt;" line="196">
                <params>
                    <param name="aWeightsVctr" type="BasicMatrix&lt;?&gt;"/>
                </params>
            </method>
            <method name="calculateAssetWeights" type="BasicMatrix&lt;?&gt;" line="200"/>
            <method name="calculateAssetWeights" type="BasicMatrix&lt;?&gt;" line="202">
                <params>
                    <param name="aReturnsVctr" type="BasicMatrix&lt;?&gt;"/>
                </params>
            </method>
            <method name="calculatePortfolioReturn" type="Scalar&lt;?&gt;" line="206">
                <params>
                    <param name="aWeightsVctr" type="BasicMatrix&lt;?&gt;"/>
                    <param name="aReturnsVctr" type="BasicMatrix&lt;?&gt;"/>
                </params>
            </method>
            <method name="calculatePortfolioVariance" type="Scalar&lt;?&gt;" line="210">
                <params>
                    <param name="aWeightsVctr" type="BasicMatrix&lt;?&gt;"/>
                </params>
            </method>
            <method name="calibrate" type="void" line="214">
                <params>
                    <param name="aWeightsVctr" type="BasicMatrix&lt;?&gt;"/>
                    <param name="aReturnsVctr" type="BasicMatrix&lt;?&gt;"/>
                </params>
                <declaration name="tmpRiskAvesrion" type="Scalar&amp;lt;?&amp;gt;" line="216"/>
            </method>
            <method name="reset" type="void" line="222"/>
        </class>
    </source>