<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.ojalgo.finance.portfolio">
        <import package="java.math.BigDecimal"/>
        <import package="java.util.ArrayList"/>
        <import package="java.util.List"/>
        <import package="org.ojalgo.ProgrammingError"/>
        <import package="org.ojalgo.matrix.BasicMatrix"/>
        <import package="org.ojalgo.scalar.Scalar"/>
        <import package="org.ojalgo.type.TypeUtils"/>
        <class name="EquilibriumModel" line="9">
            <extends class="FinancePortfolio"/>
            <implements interface="FinancePortfolio.Context"/>
            <declaration name="myAssetReturns" type="BasicMatrix" line="10"/>
            <declaration name="myAssetVolatilities" type="BasicMatrix" line="11"/>
            <declaration name="myAssetWeights" type="BasicMatrix" line="12"/>
            <declaration name="myMarketEquilibrium" type="MarketEquilibrium" line="13"/>
            <declaration name="myMeanReturn" type="Scalar&lt;?&gt;" line="14"/>
            <declaration name="myReturnVariance" type="Scalar&lt;?&gt;" line="15"/>
            <method name="EquilibriumModel" type="constructor" line="16"/>
            <method name="EquilibriumModel" type="constructor" line="20">
                <params>
                    <param name="aPortfolio" type="Context"/>
                </params>
            </method>
            <method name="EquilibriumModel" type="constructor" line="24">
                <params>
                    <param name="aMarketEquilibrium" type="MarketEquilibrium"/>
                </params>
            </method>
            <method name="calculatePortfolioReturn" type="double" line="28">
                <params>
                    <param name="weightsPortfolio" type="FinancePortfolio"/>
                </params>
                <declaration name="tmpWeights" type="List&lt;BigDecimal&gt;" line="29"/>
                <declaration name="tmpAssetWeights" type="BasicMatrix" line="30"/>
                <declaration name="tmpAssetReturns" type="BasicMatrix" line="31"/>
            </method>
            <method name="calculatePortfolioVariance" type="double" line="34">
                <params>
                    <param name="weightsPortfolio" type="FinancePortfolio"/>
                </params>
                <declaration name="tmpWeights" type="List&lt;BigDecimal&gt;" line="35"/>
                <declaration name="tmpAssetWeights" type="BasicMatrix" line="36"/>
            </method>
            <method name="getAssetReturns" type="BasicMatrix" line="39">
                <scope line="40"/>
            </method>
            <method name="getAssetVolatilities" type="BasicMatrix" line="45">
                <scope line="46"/>
            </method>
            <method name="getAssetWeights" type="BasicMatrix" line="51">
                <scope line="52">
                    <declaration name="tmpAssetWeights" type="BasicMatrix" line="53"/>
                    <scope line="54"/>
                </scope>
            </method>
            <method name="getCorrelations" type="BasicMatrix" line="60"/>
            <method name="getCovariances" type="BasicMatrix" line="63"/>
            <method name="getMarketEquilibrium" type="MarketEquilibrium" line="66"/>
            <method name="getMeanReturn" type="double" line="69">
                <scope line="70">
                    <declaration name="tmpAssetWeights" type="BasicMatrix" line="71"/>
                    <declaration name="tmpAssetReturns" type="BasicMatrix" line="72"/>
                    <scope line="73"/>
                </scope>
            </method>
            <method name="getReturnVariance" type="double" line="79">
                <scope line="80"/>
            </method>
            <method name="getRiskAversion" type="Scalar<?>" line="85"/>
            <method name="getSymbols" type="String[]" line="88"/>
            <method name="getWeights" type="List<BigDecimal>" line="91">
                <declaration name="tmpAssetWeights" type="BasicMatrix" line="92"/>
                <scope line="93"/>
                <scope line="96"/>
            </method>
            <method name="setRiskAversion" type="void" line="100">
                <params>
                    <param name="aFactor" type="Number"/>
                </params>
            </method>
            <method name="size" type="int" line="104"/>
            <method name="toSimpleAssets" type="List<SimpleAsset>" line="107">
                <declaration name="tmpReturns" type="BasicMatrix" line="108"/>
                <declaration name="tmpCovariances" type="BasicMatrix" line="109"/>
                <declaration name="tmpWeights" type="List&lt;BigDecimal&gt;" line="110"/>
                <declaration name="retVal" type="ArrayList&lt;SimpleAsset&gt;" line="111"/>
                <scope line="112">
                    <declaration name="tmpMeanReturn" type="double" line="113"/>
                    <declaration name="tmpVolatility" type="double" line="114"/>
                    <declaration name="tmpWeight" type="BigDecimal" line="115"/>
                </scope>
            </method>
            <method name="toSimplePortfolio" type="SimplePortfolio" line="120"/>
            <method name="toString" type="String" line="123"/>
            <method name="calculateAssetReturns" type="BasicMatrix" line="126"/>
            <method name="calculateAssetReturns" type="BasicMatrix" line="127">
                <params>
                    <param name="aWeightsVctr" type="BasicMatrix"/>
                </params>
            </method>
            <method name="calculateAssetWeights" type="BasicMatrix" line="130"/>
            <method name="calculateAssetWeights" type="BasicMatrix" line="131">
                <params>
                    <param name="aReturnsVctr" type="BasicMatrix"/>
                </params>
            </method>
            <method name="calculatePortfolioReturn" type="Scalar<?>" line="134">
                <params>
                    <param name="aWeightsVctr" type="BasicMatrix"/>
                    <param name="aReturnsVctr" type="BasicMatrix"/>
                </params>
            </method>
            <method name="calculatePortfolioVariance" type="Scalar<?>" line="137">
                <params>
                    <param name="aWeightsVctr" type="BasicMatrix"/>
                </params>
            </method>
            <method name="calibrate" type="void" line="140">
                <params>
                    <param name="aWeightsVctr" type="BasicMatrix"/>
                    <param name="aReturnsVctr" type="BasicMatrix"/>
                </params>
                <declaration name="tmpRiskAvesrion" type="Scalar&lt;?&gt;" line="141"/>
            </method>
            <method name="reset" type="void" line="144"/>
        </class>
    </source>