<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.genetics">
        <import package="java.util.ArrayList"/>
        <import package="java.util.List"/>
        <import package="org.apache.commons.math3.exception.DimensionMismatchException"/>
        <import package="org.apache.commons.math3.exception.MathIllegalArgumentException"/>
        <import package="org.apache.commons.math3.exception.NotStrictlyPositiveException"/>
        <import package="org.apache.commons.math3.exception.NumberIsTooLargeException"/>
        <import package="org.apache.commons.math3.exception.util.LocalizedFormats"/>
        <import package="org.apache.commons.math3.random.RandomGenerator"/>
        <class name="NPointCrossover" line="10">
            <type_params>
                <type_param name="T"/>
            </type_params>
            <implements interface="CrossoverPolicy"/>
            <javadoc line="10">
                N-point crossover policy. For each iteration a random crossover point is
                  selected and the first part from each parent is copied to the corresponding
                  child, and the second parts are copied crosswise.
                  Example (2-point crossover):
                  &lt;pre&gt;
                  -C- denotes a crossover point
                  -C-       -C-                         -C-        -C-
                  p1 = (1 0  | 1 0 0 1 | 0 1 1)    X    p2 = (0 1  | 1 0 1 0  | 1 1 1)
                  \----/ \-------/ \-----/              \----/ \--------/ \-----/
                  ||      ()       ||                  ||      ()       ||
                  VV      ()      VV                  VV      ()        VV
                  /----\ /--------\ /-----\             /----\ /--------\ /-----\
                  c1 = (1 0  | 1 0 1 0  | 0 1 1)    X   c2 = (0 1  | 1 0 0 1  | 0 1 1)
                  &lt;/pre&gt;
                  This policy works only on {@link AbstractListChromosome}, and therefore it
                  is parameterized by T. Moreover, the chromosomes must have same lengths.                
                <param>
                    <T>
                      generic type of the {@link AbstractListChromosome}s for crossover                    
                </param>
                <since>
                    3.1                    
                </since>
                <version>
                    $Id: NPointCrossover.java 1385297 2012-09-16 16:05:57Z tn $                    
                </version>
            </javadoc>
            <declaration name="crossoverPoints" type="int" line="33"/>
            <javadoc line="33">
                The number of crossover points.                
            </javadoc>
            <javadoc line="37">
                Creates a new {@link NPointCrossover} policy using the given number of points.
                  &lt;p&gt;
                  &lt;b&gt;Note&lt;/b&gt;: the number of crossover points must be &amp;lt; &lt;code&gt;chromosome length - 1&lt;/code&gt;.
                  This condition can only be checked at runtime, as the chromosome length is not known in advance.                
                <param>
                    crossoverPoints the number of crossover points                    
                </param>
                <throws>
                    NotStrictlyPositiveException if the number of {@code crossoverPoints} is not strictly positive                    
                </throws>
            </javadoc>
            <method name="NPointCrossover" type="constructor" line="45">
                <params>
                    <param name="crossoverPoints" type="int"/>
                </params>
                <scope line="46"/>
            </method>
            <javadoc line="51">
                Returns the number of crossover points used by this {@link CrossoverPolicy}.                
                <return>
                    the number of crossover points                    
                </return>
            </javadoc>
            <method name="getCrossoverPoints" type="int" line="55"/>
            <javadoc line="58">
                Performs a N-point crossover. N random crossover points are selected and are used
                  to divide the parent chromosomes into segments. The segments are copied in alternate
                  order from the two parents to the corresponding child chromosomes.
                  Example (2-point crossover):
                  &lt;pre&gt;
                  -C- denotes a crossover point
                  -C-       -C-                         -C-        -C-
                  p1 = (1 0  | 1 0 0 1 | 0 1 1)    X    p2 = (0 1  | 1 0 1 0  | 1 1 1)
                  \----/ \-------/ \-----/              \----/ \--------/ \-----/
                  ||      ()       ||                  ||      ()       ||
                  VV      ()      VV                  VV      ()        VV
                  /----\ /--------\ /-----\             /----\ /--------\ /-----\
                  c1 = (1 0  | 1 0 1 0  | 0 1 1)    X   c2 = (0 1  | 1 0 0 1  | 0 1 1)
                  &lt;/pre&gt;                
                <param>
                    first first parent (p1)                    
                </param>
                <param>
                    second second parent (p2)                    
                </param>
                <return>
                    pair of two children (c1,c2)                    
                </return>
                <throws>
                    MathIllegalArgumentException iff one of the chromosomes is
                      not an instance of {@link AbstractListChromosome}                    
                </throws>
                <throws>
                    DimensionMismatchException if the length of the two chromosomes is different                    
                </throws>
            </javadoc>
            <method name="crossover" type="ChromosomePair" line="80">
                <params>
                    <param name="first" type="Chromosome"/>
                    <param name="second" type="Chromosome"/>
                </params>
                <scope line="81"/>
            </method>
            <javadoc line="86">
                Helper for {@link #crossover(Chromosome,Chromosome)}. Performs the actual crossover.                
                <param>
                    first the first chromosome                    
                </param>
                <param>
                    second the second chromosome                    
                </param>
                <return>
                    the pair of new chromosomes that resulted from the crossover                    
                </return>
                <throws>
                    DimensionMismatchException if the length of the two chromosomes is different                    
                </throws>
                <throws>
                    NumberIsTooLargeException if the number of crossoverPoints is too large for the actual chromosomes                    
                </throws>
            </javadoc>
            <method name="mate" type="ChromosomePair" line="94">
                <params>
                    <param name="first" type="AbstractListChromosome<T>"/>
                    <param name="second" type="AbstractListChromosome<T>"/>
                </params>
                <declaration name="length" type="int" line="95"/>
                <scope line="96"/>
                <scope line="99"/>
                <declaration name="parent1Rep" type="List&lt;T&gt;" line="102"/>
                <declaration name="parent2Rep" type="List&lt;T&gt;" line="103"/>
                <declaration name="child1Rep" type="ArrayList&lt;T&gt;" line="104"/>
                <declaration name="child2Rep" type="ArrayList&lt;T&gt;" line="105"/>
                <declaration name="random" type="RandomGenerator" line="106"/>
                <declaration name="c1" type="ArrayList&lt;T&gt;" line="107"/>
                <declaration name="c2" type="ArrayList&lt;T&gt;" line="108"/>
                <declaration name="remainingPoints" type="int" line="109"/>
                <declaration name="lastIndex" type="int" line="110"/>
                <scope line="111">
                    <declaration name="crossoverIndex" type="int" line="112"/>
                    <scope line="113"/>
                    <declaration name="tmp" type="ArrayList&lt;T&gt;" line="117"/>
                </scope>
                <scope line="122"/>
            </method>
        </class>
    </source>