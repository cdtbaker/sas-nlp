<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.optimization.univariate">
        <import package="org.apache.commons.math3.util.Precision"/>
        <import package="org.apache.commons.math3.util.FastMath"/>
        <import package="org.apache.commons.math3.exception.NumberIsTooSmallException"/>
        <import package="org.apache.commons.math3.exception.NotStrictlyPositiveException"/>
        <import package="org.apache.commons.math3.optimization.ConvergenceChecker"/>
        <import package="org.apache.commons.math3.optimization.GoalType"/>
        <class name="BrentOptimizer" line="26">
            <extends class="BaseAbstractUnivariateOptimizer"/>
            <javadoc line="26">
                For a function defined on some interval {@code (lo, hi)}, this class
                  finds an approximation {@code x} to the point at which the function
                  attains its minimum.
                  It implements Richard Brent&apos;s algorithm (from his book &quot;Algorithms for
                  Minimization without Derivatives&quot;, p. 79) for finding minima of real
                  univariate functions.
                  &lt;br/&gt;
                  This code is an adaptation, partly based on the Python code from SciPy
                  (module &quot;optimize.py&quot; v0.5); the original algorithm is also modified
                  &lt;ul&gt;
                  &lt;li&gt;to use an initial guess provided by the user,&lt;/li&gt;
                  &lt;li&gt;to ensure that the best point encountered is the one returned.&lt;/li&gt;
                  &lt;/ul&gt;                
                <version>
                    $Id: BrentOptimizer.java 1462503 2013-03-29 15:48:27Z luc $                    
                </version>
                <deprecated>
                    As of 3.1 (to be removed in 4.0).                    
                </deprecated>
                <since>
                    2.0                    
                </since>
            </javadoc>
            <declaration name="GOLDEN_SECTION" type="double" line="47"/>
            <javadoc line="47">
                Golden section.                
            </javadoc>
            <declaration name="MIN_RELATIVE_TOLERANCE" type="double" line="51"/>
            <javadoc line="51">
                Minimum relative tolerance.                
            </javadoc>
            <declaration name="relativeThreshold" type="double" line="55"/>
            <javadoc line="55">
                Relative threshold.                
            </javadoc>
            <declaration name="absoluteThreshold" type="double" line="59"/>
            <javadoc line="59">
                Absolute threshold.                
            </javadoc>
            <javadoc line="64">
                The arguments are used implement the original stopping criterion
                  of Brent&apos;s algorithm.{@code abs} and {@code rel} define a tolerance{@code tol = rel |x| + abs}. {@code rel} should be no smaller than
                  &lt;em&gt;2 macheps&lt;/em&gt; and preferably not much less than &lt;em&gt;sqrt(macheps)&lt;/em&gt;,
                  where &lt;em&gt;macheps&lt;/em&gt; is the relative machine precision. {@code abs} must
                  be positive.                
                <param>
                    rel Relative threshold.                    
                </param>
                <param>
                    abs Absolute threshold.                    
                </param>
                <param>
                    checker Additional, user-defined, convergence checking
                      procedure.                    
                </param>
                <throws>
                    NotStrictlyPositiveException if {@code abs &lt;= 0}.                    
                </throws>
                <throws>
                    NumberIsTooSmallException if {@code rel &lt; 2  Math.ulp(1d)}.                    
                </throws>
            </javadoc>
            <method name="BrentOptimizer" type="constructor" line="82">
                <params>
                    <param name="rel" type="double"/>
                    <param name="abs" type="double"/>
                    <param name="checker" type="ConvergenceChecker<UnivariatePointValuePair>"/>
                </params>
                <scope line="85"/>
                <scope line="88"/>
            </method>
            <javadoc line="96">
                The arguments are used for implementing the original stopping criterion
                  of Brent&apos;s algorithm.{@code abs} and {@code rel} define a tolerance{@code tol = rel |x| + abs}. {@code rel} should be no smaller than
                  &lt;em&gt;2 macheps&lt;/em&gt; and preferably not much less than &lt;em&gt;sqrt(macheps)&lt;/em&gt;,
                  where &lt;em&gt;macheps&lt;/em&gt; is the relative machine precision. {@code abs} must
                  be positive.                
                <param>
                    rel Relative threshold.                    
                </param>
                <param>
                    abs Absolute threshold.                    
                </param>
                <throws>
                    NotStrictlyPositiveException if {@code abs &lt;= 0}.                    
                </throws>
                <throws>
                    NumberIsTooSmallException if {@code rel &lt; 2  Math.ulp(1d)}.                    
                </throws>
            </javadoc>
            <method name="BrentOptimizer" type="constructor" line="111">
                <params>
                    <param name="rel" type="double"/>
                    <param name="abs" type="double"/>
                </params>
            </method>
            <javadoc line="115">
                {@inheritDoc}                
            </javadoc>
            <method name="doOptimize" type="UnivariatePointValuePair" line="117">
                <comment line="124">
                    Optional additional convergence criteria.                    
                </comment>
                <comment line="153">
                    Best point encountered so far (which is the initial guess).                    
                </comment>
                <comment line="162">
                    Default stopping criterion.                    
                </comment>
                <comment line="170">
                    Fit parabola.                    
                </comment>
                <comment line="188">
                    Parabolic interpolation step.                    
                </comment>
                <comment line="192">
                    f must not be evaluated too close to a or b.                    
                </comment>
                <comment line="201">
                    Golden section step.                    
                </comment>
                <comment line="210">
                    Golden section step.                    
                </comment>
                <comment line="219">
                    Update by at least &quot;tol1&quot;.                    
                </comment>
                <comment line="235">
                    User-defined convergence checker.                    
                </comment>
                <comment line="248">
                    Update a, b, v, w and x.                    
                </comment>
                <comment line="280">
                    Default termination (Brent&apos;s criterion).                    
                </comment>
                <declaration name="isMinim" type="boolean" line="118"/>
                <declaration name="lo" type="double" line="119"/>
                <declaration name="mid" type="double" line="120"/>
                <declaration name="hi" type="double" line="121"/>
                <declaration name="checker" type="ConvergenceChecker&lt;UnivariatePointValuePair&gt;" line="124"/>
                <declaration name="a" type="double" line="127"/>
                <declaration name="b" type="double" line="128"/>
                <scope line="129"/>
                <scope line="132"/>
                <declaration name="x" type="double" line="137"/>
                <declaration name="v" type="double" line="138"/>
                <declaration name="w" type="double" line="139"/>
                <declaration name="d" type="double" line="140"/>
                <declaration name="e" type="double" line="141"/>
                <declaration name="fx" type="double" line="142"/>
                <scope line="143"/>
                <declaration name="fv" type="double" line="146"/>
                <declaration name="fw" type="double" line="147"/>
                <declaration name="previous" type="UnivariatePointValuePair" line="149"/>
                <declaration name="current" type="UnivariatePointValuePair" line="150"/>
                <declaration name="best" type="UnivariatePointValuePair" line="153"/>
                <declaration name="iter" type="int" line="155"/>
                <scope line="156">
                    <declaration name="m" type="double" line="157"/>
                    <declaration name="tol1" type="double" line="158"/>
                    <declaration name="tol2" type="double" line="159"/>
                    <declaration name="stop" type="boolean" line="162"/>
                    <scope line="163">
                        <declaration name="p" type="double" line="164"/>
                        <declaration name="q" type="double" line="165"/>
                        <declaration name="r" type="double" line="166"/>
                        <declaration name="u" type="double" line="167"/>
                        <scope line="169">
                            <scope line="175"/>
                            <scope line="177"/>
                            <scope line="186">
                                <scope line="192">
                                    <scope line="193"/>
                                    <scope line="195"/>
                                </scope>
                            </scope>
                            <scope line="199">
                                <scope line="201"/>
                                <scope line="203"/>
                            </scope>
                        </scope>
                        <scope line="208">
                            <scope line="210"/>
                            <scope line="212"/>
                        </scope>
                        <scope line="219">
                            <scope line="220"/>
                            <scope line="222"/>
                        </scope>
                        <scope line="225"/>
                        <declaration name="fu" type="double" line="229"/>
                        <scope line="230"/>
                        <scope line="243"/>
                        <scope line="248">
                            <scope line="249"/>
                            <scope line="251"/>
                        </scope>
                        <scope line="260">
                            <scope line="261"/>
                            <scope line="263"/>
                            <scope line="267"/>
                            <scope line="274"/>
                        </scope>
                    </scope>
                    <scope line="279"/>
                </scope>
            </method>
            <javadoc line="290">
                Selects the best of two points.                
                <param>
                    a Point and value.                    
                </param>
                <param>
                    b Point and value.                    
                </param>
                <param>
                    isMinim {@code true} if the selected point must be the one with
                      the lowest value.                    
                </param>
                <return>
                    the best point, or {@code null} if {@code a} and {@code b} are
                      both {@code null}. When {@code a} and {@code b} have the same function
                      value, {@code a} is returned.                    
                </return>
            </javadoc>
            <method name="best" type="UnivariatePointValuePair" line="303">
                <params>
                    <param name="a" type="UnivariatePointValuePair"/>
                    <param name="b" type="UnivariatePointValuePair"/>
                    <param name="isMinim" type="boolean"/>
                </params>
                <scope line="304"/>
                <scope line="307"/>
                <scope line="311"/>
                <scope line="313"/>
            </method>
        </class>
    </source>