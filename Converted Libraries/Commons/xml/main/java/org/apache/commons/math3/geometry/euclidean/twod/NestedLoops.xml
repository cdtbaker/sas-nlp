<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.geometry.euclidean.twod">
        <import package="java.util.ArrayList"/>
        <import package="java.util.Iterator"/>
        <import package="org.apache.commons.math3.exception.MathIllegalArgumentException"/>
        <import package="org.apache.commons.math3.exception.util.LocalizedFormats"/>
        <import package="org.apache.commons.math3.geometry.Point"/>
        <import package="org.apache.commons.math3.geometry.euclidean.oned.IntervalsSet"/>
        <import package="org.apache.commons.math3.geometry.partitioning.Region"/>
        <import package="org.apache.commons.math3.geometry.partitioning.RegionFactory"/>
        <import package="org.apache.commons.math3.geometry.partitioning.SubHyperplane"/>
        <class name="NestedLoops" line="30">
            <javadoc line="30">
                This class represent a tree of nested 2D boundary loops.
                  &lt;p&gt;This class is used for piecewise polygons construction.
                  Polygons are built using the outline edges as
                  representative of boundaries, the orientation of these lines are
                  meaningful. However, we want to allow the user to specify its
                  outline loops without having to take care of this orientation. This
                  class is devoted to correct mis-oriented loops.&lt;p&gt;
                  &lt;p&gt;Orientation is computed assuming the piecewise polygon is finite,
                  i.e. the outermost loops have their exterior side facing points at
                  infinity, and hence are oriented counter-clockwise. The orientation of
                  internal loops is computed as the reverse of the orientation of
                  their immediate surrounding loop.&lt;/p&gt;                
                <version>
                    $Id: NestedLoops.java 1555174 2014-01-03 18:06:20Z luc $                    
                </version>
                <since>
                    3.0                    
                </since>
            </javadoc>
            <declaration name="loop" type="Vector2D[]" line="50"/>
            <javadoc line="50">
                Boundary loop.                
            </javadoc>
            <declaration name="surrounded" type="ArrayList&amp;lt;NestedLoops&amp;gt;" line="53"/>
            <javadoc line="53">
                Surrounded loops.                
            </javadoc>
            <declaration name="polygon" type="Region&amp;lt;Euclidean2D&amp;gt;" line="56"/>
            <javadoc line="56">
                Polygon enclosing a finite region.                
            </javadoc>
            <declaration name="originalIsClockwise" type="boolean" line="59"/>
            <javadoc line="59">
                Indicator for original loop orientation.                
            </javadoc>
            <declaration name="tolerance" type="double" line="62"/>
            <javadoc line="62">
                Tolerance below which points are considered identical.                
            </javadoc>
            <javadoc line="65">
                Simple Constructor.
                  &lt;p&gt;Build an empty tree of nested loops. This instance will become
                  the root node of a complete tree, it is not associated with any
                  loop by itself, the outermost loops are in the root tree child
                  nodes.&lt;/p&gt;                
                <param>
                    tolerance tolerance below which points are considered identical                    
                </param>
                <since>
                    3.3                    
                </since>
            </javadoc>
            <method name="NestedLoops" type="constructor" line="73">
                <params>
                    <param name="tolerance" type="double"/>
                </params>
            </method>
            <javadoc line="78">
                Constructor.
                  &lt;p&gt;Build a tree node with neither parent nor children&lt;/p&gt;                
                <param>
                    loop boundary loop (will be reversed in place if needed)                    
                </param>
                <param>
                    tolerance tolerance below which points are considered identical                    
                </param>
                <exception>
                    MathIllegalArgumentException if an outline has an open boundary loop                    
                </exception>
                <since>
                    3.3                    
                </since>
            </javadoc>
            <method name="NestedLoops" type="constructor" line="86">
                <params>
                    <param name="loop" type="Vector2D[]"/>
                    <param name="tolerance" type="double"/>
                </params>
                <comment line="97">
                    build the polygon defined by the loop                    
                </comment>
                <comment line="112">
                    ensure the polygon encloses a finite region of the plane                    
                </comment>
                <scope line="88"/>
                <declaration name="edges" type="ArrayList&amp;lt;SubHyperplane&amp;lt;Euclidean2D&amp;gt;&amp;gt;" line="97"/>
                <declaration name="current" type="Vector2D" line="98"/>
                <scope line="99">
                    <declaration name="previous" type="Vector2D" line="100"/>
                    <declaration name="line" type="Line" line="102"/>
                    <declaration name="region" type="IntervalsSet" line="103"/>
                </scope>
                <scope line="112"/>
                <scope line="115"/>
            </method>
            <javadoc line="121">
                Add a loop in a tree.                
                <param>
                    bLoop boundary loop (will be reversed in place if needed)                    
                </param>
                <exception>
                    MathIllegalArgumentException if an outline has crossing
                      boundary loops or open boundary loops                    
                </exception>
            </javadoc>
            <method name="add" type="void" line="126">
                <params>
                    <param name="bLoop" type="Vector2D[]"/>
                </params>
            </method>
            <javadoc line="130">
                Add a loop in a tree.                
                <param>
                    node boundary loop (will be reversed in place if needed)                    
                </param>
                <exception>
                    MathIllegalArgumentException if an outline has boundary
                      loops that cross each other                    
                </exception>
            </javadoc>
            <method name="add" type="void" line="135">
                <params>
                    <param name="node" type="NestedLoops"/>
                </params>
                <comment line="138">
                    check if we can go deeper in the tree                    
                </comment>
                <comment line="146">
                    check if we can absorb some of the instance children                    
                </comment>
                <comment line="155">
                    we should be separate from the remaining children                    
                </comment>
                <scope line="138">
                    <scope line="139"/>
                </scope>
                <scope line="146">
                    <declaration name="child" type="NestedLoops" line="147"/>
                    <scope line="148"/>
                </scope>
                <declaration name="factory" type="RegionFactory&amp;lt;Euclidean2D&amp;gt;" line="155"/>
                <scope line="156">
                    <scope line="157"/>
                </scope>
            </method>
            <javadoc line="166">
                Correct the orientation of the loops contained in the tree.
                  &lt;p&gt;This is this method that really inverts the loops that where
                  provided through the {@link #add(Vector2D[]) add} method if
                  they are mis-oriented&lt;/p&gt;                
            </javadoc>
            <method name="correctOrientation" type="void" line="171">
                <scope line="172"/>
            </method>
            <javadoc line="177">
                Set the loop orientation.                
                <param>
                    clockwise if true, the loop should be set to clockwise
                      orientation                    
                </param>
            </javadoc>
            <method name="setClockWise" type="void" line="181">
                <params>
                    <param name="clockwise" type="boolean"/>
                </params>
                <comment line="185">
                    we need to inverse the original loop                    
                </comment>
                <comment line="195">
                    go deeper in the tree                    
                </comment>
                <scope line="183">
                    <declaration name="min" type="int" line="185"/>
                    <declaration name="max" type="int" line="186"/>
                    <scope line="187">
                        <declaration name="tmp" type="Vector2D" line="188"/>
                    </scope>
                </scope>
                <scope line="195"/>
            </method>
        </class>
    </source>