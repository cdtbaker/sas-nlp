<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.geometry.euclidean.threed">
        <import package="java.util.ArrayList"/>
        <import package="org.apache.commons.math3.geometry.euclidean.twod.Euclidean2D"/>
        <import package="org.apache.commons.math3.geometry.euclidean.twod.PolygonsSet"/>
        <import package="org.apache.commons.math3.geometry.euclidean.twod.Vector2D"/>
        <import package="org.apache.commons.math3.geometry.partitioning.AbstractSubHyperplane"/>
        <import package="org.apache.commons.math3.geometry.partitioning.BSPTree"/>
        <import package="org.apache.commons.math3.geometry.partitioning.BSPTreeVisitor"/>
        <import package="org.apache.commons.math3.geometry.partitioning.BoundaryAttribute"/>
        <import package="org.apache.commons.math3.geometry.partitioning.RegionFactory"/>
        <import package="org.apache.commons.math3.geometry.partitioning.SubHyperplane"/>
        <import package="org.apache.commons.math3.util.FastMath"/>
        <class name="OutlineExtractor" line="32">
            <javadoc line="32">
                Extractor for {@link PolygonsSet polyhedrons sets} outlines.
                  &lt;p&gt;This class extracts the 2D outlines from {{@link PolygonsSetpolyhedrons sets} in a specified projection plane.&lt;/p&gt;                
                <version>
                    $Id: OutlineExtractor.java 1416643 2012-12-03 19:37:14Z tn $                    
                </version>
                <since>
                    3.0                    
                </since>
            </javadoc>
            <declaration name="u" type="Vector3D" line="40"/>
            <javadoc line="40">
                Abscissa axis of the projection plane.                
            </javadoc>
            <declaration name="v" type="Vector3D" line="43"/>
            <javadoc line="43">
                Ordinate axis of the projection plane.                
            </javadoc>
            <declaration name="w" type="Vector3D" line="46"/>
            <javadoc line="46">
                Normal of the projection plane (viewing direction).                
            </javadoc>
            <javadoc line="49">
                Build an extractor for a specific projection plane.                
                <param>
                    u abscissa axis of the projection point                    
                </param>
                <param>
                    v ordinate axis of the projection point                    
                </param>
            </javadoc>
            <method name="OutlineExtractor" type="constructor" line="53">
                <params>
                    <param name="u" type="Vector3D"/>
                    <param name="v" type="Vector3D"/>
                </params>
            </method>
            <javadoc line="59">
                Extract the outline of a polyhedrons set.                
                <param>
                    polyhedronsSet polyhedrons set whose outline must be extracted                    
                </param>
                <return>
                    an outline, as an array of loops.                    
                </return>
            </javadoc>
            <method name="getOutline" type="Vector2D[][]" line="63">
                <params>
                    <param name="polyhedronsSet" type="PolyhedronsSet"/>
                </params>
                <comment line="65">
                    project all boundary facets into one polygons set                    
                </comment>
                <comment line="70">
                    Remove the spurious intermediate vertices from the outline                    
                </comment>
                <comment line="78">
                    the point should be removed                    
                </comment>
                <comment line="84">
                    the point remains in the loop                    
                </comment>
                <comment line="89">
                    resize the array                    
                </comment>
                <declaration name="projector" type="BoundaryProjector" line="66"/>
                <declaration name="projected" type="PolygonsSet" line="68"/>
                <declaration name="outline" type="Vector2D[][]" line="71"/>
                <scope line="72">
                    <declaration name="rawLoop" type="Vector2D[]" line="73"/>
                    <declaration name="end" type="int" line="74"/>
                    <declaration name="j" type="int" line="75"/>
                    <scope line="76">
                        <scope line="77">
                            <scope line="79"/>
                        </scope>
                        <scope line="83"/>
                    </scope>
                    <scope line="88"/>
                </scope>
            </method>
            <javadoc line="99">
                Check if a point is geometrically between its neighbour in an array.
                  &lt;p&gt;The neighbours are computed considering the array is a loop
                  (i.e. point at index (n-1) is before point at index 0)&lt;/p&gt;                
                <param>
                    loop points array                    
                </param>
                <param>
                    n number of points to consider in the array                    
                </param>
                <param>
                    i index of the point to check (must be between 0 and n-1)                    
                </param>
                <return>
                    true if the point is exactly between its neighbours                    
                </return>
            </javadoc>
            <method name="pointIsBetween" type="boolean" line="107">
                <params>
                    <param name="loop" type="Vector2D[]"/>
                    <param name="n" type="int"/>
                    <param name="i" type="int"/>
                </params>
                <declaration name="previous" type="Vector2D" line="108"/>
                <declaration name="current" type="Vector2D" line="109"/>
                <declaration name="next" type="Vector2D" line="110"/>
                <declaration name="dx1" type="double" line="111"/>
                <declaration name="dy1" type="double" line="112"/>
                <declaration name="dx2" type="double" line="113"/>
                <declaration name="dy2" type="double" line="114"/>
                <declaration name="cross" type="double" line="115"/>
                <declaration name="dot" type="double" line="116"/>
                <declaration name="d1d2" type="double" line="117"/>
            </method>
            <class name="BoundaryProjector" line="121">
                <implements interface="BSPTreeVisitor">
                    <type_params>
                        <type_param name="Euclidean3D"/>
                    </type_params>
                </implements>
                <javadoc line="121">
                    Visitor projecting the boundary facets on a plane.                    
                </javadoc>
                <declaration name="projected" type="PolygonsSet" line="124"/>
                <javadoc line="124">
                    Projection of the polyhedrons set on the plane.                    
                </javadoc>
                <javadoc line="127">
                    Simple constructor.                    
                </javadoc>
                <method name="BoundaryProjector" type="constructor" line="129"/>
                <javadoc line="133">
                    {@inheritDoc}                    
                </javadoc>
                <method name="visitOrder" type="Order" line="134">
                    <params>
                        <param name="node" type="BSPTree<Euclidean3D>"/>
                    </params>
                </method>
                <javadoc line="138">
                    {@inheritDoc}                    
                </javadoc>
                <method name="visitInternalNode" type="void" line="139">
                    <params>
                        <param name="node" type="BSPTree<Euclidean3D>"/>
                    </params>
                    <declaration name="attribute" type="BoundaryAttribute&lt;Euclidean3D&gt;" line="140"/>
                    <scope line="143"/>
                    <scope line="146"/>
                </method>
                <javadoc line="151">
                    {@inheritDoc}                    
                </javadoc>
                <method name="visitLeafNode" type="void" line="152">
                    <params>
                        <param name="node" type="BSPTree<Euclidean3D>"/>
                    </params>
                </method>
                <javadoc line="155">
                    Add he contribution of a boundary facet.                    
                    <param>
                        facet boundary facet                        
                    </param>
                    <param>
                        reversed if true, the facet has the inside on its plus side                        
                    </param>
                </javadoc>
                <method name="addContribution" type="void" line="159">
                    <params>
                        <param name="facet" type="SubHyperplane<Euclidean3D>"/>
                        <param name="reversed" type="boolean"/>
                    </params>
                    <comment line="161">
                        extract the vertices of the facet                        
                    </comment>
                    <comment line="173">
                        the facet is seen from the inside,                        
                    </comment>
                    <comment line="174">
                        we need to invert its boundary orientation                        
                    </comment>
                    <comment line="192">
                        use the reverted vertices                        
                    </comment>
                    <comment line="197">
                        compute the projection of the facet in the outline plane                        
                    </comment>
                    <comment line="216">
                        the previous point is a real vertex                        
                    </comment>
                    <comment line="217">
                        it defines one bounding point of the edge                        
                    </comment>
                    <comment line="225">
                        the current point is a real vertex                        
                    </comment>
                    <comment line="226">
                        it defines one bounding point of the edge                        
                    </comment>
                    <comment line="243">
                        add the contribution of the facet to the global outline                        
                    </comment>
                    <declaration name="absFacet" type="AbstractSubHyperplane&lt;Euclidean3D,Euclidean2D&gt;" line="162"/>
                    <declaration name="plane" type="Plane" line="165"/>
                    <declaration name="scal" type="double" line="167"/>
                    <scope line="168">
                        <declaration name="vertices" type="Vector2D[][]" line="169"/>
                        <scope line="172">
                            <declaration name="newVertices" type="Vector2D[][]" line="175"/>
                            <scope line="176">
                                <declaration name="loop" type="Vector2D[]" line="177"/>
                                <declaration name="newLoop" type="Vector2D[]" line="178"/>
                                <scope line="179">
                                    <scope line="181"/>
                                </scope>
                                <scope line="184">
                                    <scope line="185"/>
                                </scope>
                            </scope>
                        </scope>
                        <declaration name="edges" type="ArrayList&lt;SubHyperplane&lt;Euclidean2D&gt;&gt;" line="198"/>
                        <scope line="199">
                            <declaration name="closed" type="boolean" line="200"/>
                            <declaration name="previous" type="int" line="201"/>
                            <declaration name="previous3D" type="Vector3D" line="202"/>
                            <declaration name="current" type="int" line="203"/>
                            <declaration name="pPoint" type="Vector2D" line="204"/>
                            <scope line="206">
                                <declaration name="current3D" type="Vector3D" line="208"/>
                                <declaration name="cPoint" type="Vector2D" line="209"/>
                                <declaration name="line" type="org.apache.commons.math3.geometry.euclidean.twod.Line" line="211"/>
                                <declaration name="edge" type="SubHyperplane&lt;Euclidean2D&gt;" line="213"/>
                                <scope line="215">
                                    <declaration name="angle" type="double" line="218"/>
                                    <declaration name="l" type="org.apache.commons.math3.geometry.euclidean.twod.Line" line="219"/>
                                </scope>
                                <scope line="224">
                                    <declaration name="angle" type="double" line="227"/>
                                    <declaration name="l" type="org.apache.commons.math3.geometry.euclidean.twod.Line" line="228"/>
                                </scope>
                            </scope>
                        </scope>
                        <declaration name="projectedFacet" type="PolygonsSet" line="241"/>
                    </scope>
                </method>
                <javadoc line="249">
                    Get the projection of the polyhedrons set on the plane.                    
                    <return>
                        projection of the polyhedrons set on the plane                        
                    </return>
                </javadoc>
                <method name="getProjected" type="PolygonsSet" line="252"/>
            </class>
        </class>
    </source>