<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.stat.regression">
        <import package="org.apache.commons.math3.exception.DimensionMismatchException"/>
        <import package="org.apache.commons.math3.exception.MathIllegalArgumentException"/>
        <import package="org.apache.commons.math3.exception.NoDataException"/>
        <import package="org.apache.commons.math3.exception.NullArgumentException"/>
        <import package="org.apache.commons.math3.exception.NumberIsTooSmallException"/>
        <import package="org.apache.commons.math3.exception.util.LocalizedFormats"/>
        <import package="org.apache.commons.math3.linear.NonSquareMatrixException"/>
        <import package="org.apache.commons.math3.linear.RealMatrix"/>
        <import package="org.apache.commons.math3.linear.Array2DRowRealMatrix"/>
        <import package="org.apache.commons.math3.linear.RealVector"/>
        <import package="org.apache.commons.math3.linear.ArrayRealVector"/>
        <import package="org.apache.commons.math3.stat.descriptive.moment.Variance"/>
        <import package="org.apache.commons.math3.util.FastMath"/>
        <class name="AbstractMultipleLinearRegression" line="15">
            <implements interface="MultipleLinearRegression"/>
            <javadoc line="15">
                Abstract base class for implementations of MultipleLinearRegression.                
                <version>
                    $Id: AbstractMultipleLinearRegression.java 1416643 2012-12-03 19:37:14Z tn $                    
                </version>
                <since>
                    2.0                    
                </since>
            </javadoc>
            <declaration name="xMatrix" type="RealMatrix" line="21"/>
            <javadoc line="21">
                X sample data.                
            </javadoc>
            <declaration name="yVector" type="RealVector" line="25"/>
            <javadoc line="25">
                Y sample data.                
            </javadoc>
            <declaration name="noIntercept" type="boolean" line="29"/>
            <javadoc line="29">
                Whether or not the regression model includes an intercept.  True means no intercept.                
            </javadoc>
            <javadoc line="33">
                @return the X sample data.                
            </javadoc>
            <method name="getX" type="RealMatrix" line="36"/>
            <javadoc line="39">
                @return the Y sample data.                
            </javadoc>
            <method name="getY" type="RealVector" line="42"/>
            <javadoc line="45">
                @return true if the model has no intercept term; false otherwise                
                <since>
                    2.2                    
                </since>
            </javadoc>
            <method name="isNoIntercept" type="boolean" line="49"/>
            <javadoc line="52">
                @param noIntercept true means the model is to be estimated without an intercept term                
                <since>
                    2.2                    
                </since>
            </javadoc>
            <method name="setNoIntercept" type="void" line="56">
                <params>
                    <param name="noIntercept" type="boolean"/>
                </params>
            </method>
            <javadoc line="59">
                &lt;p&gt;Loads model x and y sample data from a flat input array, overriding any previous sample.
                  &lt;/p&gt;
                  &lt;p&gt;Assumes that rows are concatenated with y values first in each row.  For example, an input
                  &lt;code&gt;data&lt;/code&gt; array containing the sequence of values (1, 2, 3, 4, 5, 6, 7, 8, 9) with
                  &lt;code&gt;nobs = 3&lt;/code&gt; and &lt;code&gt;nvars = 2&lt;/code&gt; creates a regression dataset with two
                  independent variables, as below:
                  &lt;pre&gt;
                  y   x[0]  x[1]
                  --------------
                  1     2     3
                  4     5     6
                  7     8     9
                  &lt;/pre&gt;
                  &lt;/p&gt;
                  &lt;p&gt;Note that there is no need to add an initial unitary column (column of 1&apos;s) when
                  specifying a model including an intercept term.  If {@link #isNoIntercept()} is &lt;code&gt;true&lt;/code&gt;,
                  the X matrix will be created without an initial column of &quot;1&quot;s; otherwise this column will
                  be added.
                  &lt;/p&gt;
                  &lt;p&gt;Throws IllegalArgumentException if any of the following preconditions fail:
                  &lt;ul&gt;&lt;li&gt;&lt;code&gt;data&lt;/code&gt; cannot be null&lt;/li&gt;
                  &lt;li&gt;&lt;code&gt;data.length = nobs  (nvars + 1)&lt;/li&gt;
                  &lt;li&gt;&lt;code&gt;nobs &gt; nvars&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;
                  &lt;/p&gt;                
                <param>
                    data input data array                    
                </param>
                <param>
                    nobs number of observations (rows)                    
                </param>
                <param>
                    nvars number of independent variables (columns, not counting y)                    
                </param>
                <throws>
                    NullArgumentException if the data array is null                    
                </throws>
                <throws>
                    DimensionMismatchException if the length of the data array is not equal
                      to <code>nobs  (nvars + 1)</code>                    
                </throws>
                <throws>
                    NumberIsTooSmallException if <code>nobs</code> is smaller than
                      <code>nvars</code>                    
                </throws>
            </javadoc>
            <method name="newSampleData" type="void" line="93">
                <params>
                    <param name="data" type="double[]"/>
                    <param name="nobs" type="int"/>
                    <param name="nvars" type="int"/>
                </params>
                <scope line="94"/>
                <scope line="97"/>
                <scope line="100"/>
                <declaration name="y" type="double[]" line="103"/>
                <declaration name="cols" type="int" line="104"/>
                <declaration name="x" type="double[][]" line="105"/>
                <declaration name="pointer" type="int" line="106"/>
                <scope line="107">
                    <scope line="109"/>
                    <scope line="112"/>
                </scope>
            </method>
            <javadoc line="119">
                Loads new y sample data, overriding any previous data.                
                <param>
                    y the array representing the y sample                    
                </param>
                <throws>
                    NullArgumentException if y is null                    
                </throws>
                <throws>
                    NoDataException if y is empty                    
                </throws>
            </javadoc>
            <method name="newYSampleData" type="void" line="125">
                <params>
                    <param name="y" type="double[]"/>
                </params>
                <scope line="126"/>
                <scope line="129"/>
            </method>
            <javadoc line="134">
                &lt;p&gt;Loads new x sample data, overriding any previous data.
                  &lt;/p&gt;
                  The input &lt;code&gt;x&lt;/code&gt; array should have one row for each sample
                  observation, with columns corresponding to independent variables.
                  For example, if &lt;pre&gt;
                  &lt;code&gt; x = new double[][] {{1, 2}, {3, 4}, {5, 6}} &lt;/code&gt;&lt;/pre&gt;
                  then &lt;code&gt;setXSampleData(x) &lt;/code&gt; results in a model with two independent
                  variables and 3 observations:
                  &lt;pre&gt;
                  x[0]  x[1]
                  ----------
                  1    2
                  3    4
                  5    6
                  &lt;/pre&gt;
                  &lt;/p&gt;
                  &lt;p&gt;Note that there is no need to add an initial unitary column (column of 1&apos;s) when
                  specifying a model including an intercept term.
                  &lt;/p&gt;                
                <param>
                    x the rectangular array representing the x sample                    
                </param>
                <throws>
                    NullArgumentException if x is null                    
                </throws>
                <throws>
                    NoDataException if x is empty                    
                </throws>
                <throws>
                    DimensionMismatchException if x is not rectangular                    
                </throws>
            </javadoc>
            <method name="newXSampleData" type="void" line="159">
                <params>
                    <param name="x" type="double[][]"/>
                </params>
                <scope line="160"/>
                <scope line="163"/>
                <scope line="166"/>
                <scope line="169">
                    <declaration name="nVars" type="int" line="170"/>
                    <declaration name="xAug" type="double[][]" line="171"/>
                    <scope line="172">
                        <scope line="173"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="182">
                Validates sample data.  Checks that
                  &lt;ul&gt;&lt;li&gt;Neither x nor y is null or empty;&lt;/li&gt;
                  &lt;li&gt;The length (i.e. number of rows) of x equals the length of y&lt;/li&gt;
                  &lt;li&gt;x has at least one more row than it has columns (i.e. there is
                  sufficient data to estimate regression coefficients for each of the
                  columns in x plus an intercept.&lt;/li&gt;
                  &lt;/ul&gt;                
                <param>
                    x the [n,k] array representing the x data                    
                </param>
                <param>
                    y the [n,1] array representing the y data                    
                </param>
                <throws>
                    NullArgumentException if {@code x} or {@code y} is null                    
                </throws>
                <throws>
                    DimensionMismatchException if {@code x} and {@code y} do not
                      have the same length                    
                </throws>
                <throws>
                    NoDataException if {@code x} or {@code y} are zero-length                    
                </throws>
                <throws>
                    MathIllegalArgumentException if the number of rows of {@code x}is not larger than the number of columns + 1                    
                </throws>
            </javadoc>
            <method name="validateSampleData" type="void" line="198">
                <params>
                    <param name="x" type="double[][]"/>
                    <param name="y" type="double[]"/>
                </params>
                <scope line="199"/>
                <scope line="202"/>
                <scope line="205"/>
                <scope line="208"/>
            </method>
            <javadoc line="212">
                Validates that the x data and covariance matrix have the same
                  number of rows and that the covariance matrix is square.                
                <param>
                    x the [n,k] array representing the x sample                    
                </param>
                <param>
                    covariance the [n,n] array representing the covariance matrix                    
                </param>
                <throws>
                    DimensionMismatchException if the number of rows in x is not equal
                      to the number of rows in covariance                    
                </throws>
                <throws>
                    NonSquareMatrixException if the covariance matrix is not square                    
                </throws>
            </javadoc>
            <method name="validateCovarianceData" type="void" line="221">
                <params>
                    <param name="x" type="double[][]"/>
                    <param name="covariance" type="double[][]"/>
                </params>
                <scope line="222"/>
                <scope line="225"/>
            </method>
            <javadoc line="229">
                {@inheritDoc}                
            </javadoc>
            <method name="estimateRegressionParameters" type="double[]" line="232">
                <declaration name="b" type="RealVector" line="233"/>
            </method>
            <javadoc line="236">
                {@inheritDoc}                
            </javadoc>
            <method name="estimateResiduals" type="double[]" line="239">
                <declaration name="b" type="RealVector" line="240"/>
                <declaration name="e" type="RealVector" line="241"/>
            </method>
            <javadoc line="244">
                {@inheritDoc}                
            </javadoc>
            <method name="estimateRegressionParametersVariance" type="double[][]" line="247"/>
            <javadoc line="250">
                {@inheritDoc}                
            </javadoc>
            <method name="estimateRegressionParametersStandardErrors" type="double[]" line="253">
                <declaration name="betaVariance" type="double[][]" line="254"/>
                <declaration name="sigma" type="double" line="255"/>
                <declaration name="length" type="int" line="256"/>
                <declaration name="result" type="double[]" line="257"/>
                <scope line="258"/>
            </method>
            <javadoc line="263">
                {@inheritDoc}                
            </javadoc>
            <method name="estimateRegressandVariance" type="double" line="266"/>
            <javadoc line="269">
                Estimates the variance of the error.                
                <return>
                    estimate of the error variance                    
                </return>
                <since>
                    2.2                    
                </since>
            </javadoc>
            <method name="estimateErrorVariance" type="double" line="274"/>
            <javadoc line="277">
                Estimates the standard error of the regression.                
                <return>
                    regression standard error                    
                </return>
                <since>
                    2.2                    
                </since>
            </javadoc>
            <method name="estimateRegressionStandardError" type="double" line="282"/>
            <method name="calculateBeta" type="RealVector" line="285"/>
            <javadoc line="285">
                Calculates the beta of multiple linear regression in matrix notation.                
                <return>
                    beta                    
                </return>
            </javadoc>
            <method name="calculateBetaVariance" type="RealMatrix" line="290"/>
            <javadoc line="290">
                Calculates the beta variance of multiple linear regression in matrix
                  notation.                
                <return>
                    beta variance                    
                </return>
            </javadoc>
            <javadoc line="296">
                Calculates the variance of the y values.                
                <return>
                    Y variance                    
                </return>
            </javadoc>
            <method name="calculateYVariance" type="double" line="300"/>
            <javadoc line="303">
                &lt;p&gt;Calculates the variance of the error term.&lt;/p&gt;
                  Uses the formula &lt;pre&gt;
                  var(u) = u &amp;middot; u / (n - k)
                  &lt;/pre&gt;
                  where n and k are the row and column dimensions of the design
                  matrix X.                
                <return>
                    error variance estimate                    
                </return>
                <since>
                    2.2                    
                </since>
            </javadoc>
            <method name="calculateErrorVariance" type="double" line="313">
                <declaration name="residuals" type="RealVector" line="314"/>
            </method>
            <javadoc line="317">
                Calculates the residuals of multiple linear regression in matrix
                  notation.
                  &lt;pre&gt;
                  u = y - X  b
                  &lt;/pre&gt;                
                <return>
                    The residuals [n,1] matrix                    
                </return>
            </javadoc>
            <method name="calculateResiduals" type="RealVector" line="325">
                <declaration name="b" type="RealVector" line="326"/>
            </method>
        </class>
    </source>