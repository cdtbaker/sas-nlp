<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.fraction">
        <import package="java.io.Serializable"/>
        <import package="java.math.BigInteger"/>
        <import package="org.apache.commons.math3.FieldElement"/>
        <import package="org.apache.commons.math3.exception.util.LocalizedFormats"/>
        <import package="org.apache.commons.math3.exception.MathArithmeticException"/>
        <import package="org.apache.commons.math3.exception.NullArgumentException"/>
        <import package="org.apache.commons.math3.util.ArithmeticUtils"/>
        <import package="org.apache.commons.math3.util.FastMath"/>
        <class name="Fraction" line="29">
            <extends class="Number"/>
            <implements interface="FieldElement">
                <type_params>
                    <type_param name="Fraction"/>
                </type_params>
            </implements>
            <implements interface="Comparable">
                <type_params>
                    <type_param name="Fraction"/>
                </type_params>
            </implements>
            <implements interface="Serializable"/>
            <javadoc line="29">
                Representation of a rational number.
                  implements Serializable since 2.0                
                <since>
                    1.1                    
                </since>
                <version>
                    $Id: Fraction.java 1519204 2013-08-31 19:43:02Z tn $                    
                </version>
            </javadoc>
            <declaration name="TWO" type="Fraction" line="41"/>
            <javadoc line="41">
                A fraction representing &quot;2 / 1&quot;.                
            </javadoc>
            <declaration name="ONE" type="Fraction" line="44"/>
            <javadoc line="44">
                A fraction representing &quot;1&quot;.                
            </javadoc>
            <declaration name="ZERO" type="Fraction" line="47"/>
            <javadoc line="47">
                A fraction representing &quot;0&quot;.                
            </javadoc>
            <declaration name="FOUR_FIFTHS" type="Fraction" line="50"/>
            <javadoc line="50">
                A fraction representing &quot;4/5&quot;.                
            </javadoc>
            <declaration name="ONE_FIFTH" type="Fraction" line="53"/>
            <javadoc line="53">
                A fraction representing &quot;1/5&quot;.                
            </javadoc>
            <declaration name="ONE_HALF" type="Fraction" line="56"/>
            <javadoc line="56">
                A fraction representing &quot;1/2&quot;.                
            </javadoc>
            <declaration name="ONE_QUARTER" type="Fraction" line="59"/>
            <javadoc line="59">
                A fraction representing &quot;1/4&quot;.                
            </javadoc>
            <declaration name="ONE_THIRD" type="Fraction" line="62"/>
            <javadoc line="62">
                A fraction representing &quot;1/3&quot;.                
            </javadoc>
            <declaration name="THREE_FIFTHS" type="Fraction" line="65"/>
            <javadoc line="65">
                A fraction representing &quot;3/5&quot;.                
            </javadoc>
            <declaration name="THREE_QUARTERS" type="Fraction" line="68"/>
            <javadoc line="68">
                A fraction representing &quot;3/4&quot;.                
            </javadoc>
            <declaration name="TWO_FIFTHS" type="Fraction" line="71"/>
            <javadoc line="71">
                A fraction representing &quot;2/5&quot;.                
            </javadoc>
            <declaration name="TWO_QUARTERS" type="Fraction" line="74"/>
            <javadoc line="74">
                A fraction representing &quot;2/4&quot;.                
            </javadoc>
            <declaration name="TWO_THIRDS" type="Fraction" line="77"/>
            <javadoc line="77">
                A fraction representing &quot;2/3&quot;.                
            </javadoc>
            <declaration name="MINUS_ONE" type="Fraction" line="80"/>
            <javadoc line="80">
                A fraction representing &quot;-1 / 1&quot;.                
            </javadoc>
            <declaration name="serialVersionUID" type="long" line="83"/>
            <javadoc line="83">
                Serializable version identifier                
            </javadoc>
            <declaration name="DEFAULT_EPSILON" type="double" line="86"/>
            <javadoc line="86">
                The default epsilon used for convergence.                
            </javadoc>
            <declaration name="denominator" type="int" line="89"/>
            <javadoc line="89">
                The denominator.                
            </javadoc>
            <declaration name="numerator" type="int" line="92"/>
            <javadoc line="92">
                The numerator.                
            </javadoc>
            <javadoc line="95">
                Create a fraction given the double value.                
                <param>
                    value the double value to convert to a fraction.                    
                </param>
                <throws>
                    FractionConversionException if the continued fraction failed to
                      converge.                    
                </throws>
            </javadoc>
            <method name="Fraction" type="constructor" line="101">
                <params>
                    <param name="value" type="double"/>
                </params>
            </method>
            <javadoc line="105">
                Create a fraction given the double value and maximum error allowed.
                  &lt;p&gt;
                  References:
                  &lt;ul&gt;
                  &lt;li&gt;&lt;a href=&quot;http://mathworld.wolfram.com/ContinuedFraction.html&quot;&gt;
                  Continued Fraction&lt;/a&gt; equations (11) and (22)-(26)&lt;/li&gt;
                  &lt;/ul&gt;
                  &lt;/p&gt;                
                <param>
                    value the double value to convert to a fraction.                    
                </param>
                <param>
                    epsilon maximum error allowed.  The resulting fraction is within{@code epsilon} of {@code value}, in absolute terms.                    
                </param>
                <param>
                    maxIterations maximum number of convergents                    
                </param>
                <throws>
                    FractionConversionException if the continued fraction failed to
                      converge.                    
                </throws>
            </javadoc>
            <method name="Fraction" type="constructor" line="123">
                <params>
                    <param name="value" type="double"/>
                    <param name="epsilon" type="double"/>
                    <param name="maxIterations" type="int"/>
                </params>
            </method>
            <javadoc line="127">
                Create a fraction given the double value and maximum denominator.
                  &lt;p&gt;
                  References:
                  &lt;ul&gt;
                  &lt;li&gt;&lt;a href=&quot;http://mathworld.wolfram.com/ContinuedFraction.html&quot;&gt;
                  Continued Fraction&lt;/a&gt; equations (11) and (22)-(26)&lt;/li&gt;
                  &lt;/ul&gt;
                  &lt;/p&gt;                
                <param>
                    value the double value to convert to a fraction.                    
                </param>
                <param>
                    maxDenominator The maximum allowed value for denominator                    
                </param>
                <throws>
                    FractionConversionException if the continued fraction failed to
                      converge                    
                </throws>
            </javadoc>
            <method name="Fraction" type="constructor" line="143">
                <params>
                    <param name="value" type="double"/>
                    <param name="maxDenominator" type="int"/>
                </params>
            </method>
            <javadoc line="147">
                Create a fraction given the double value and either the maximum error
                  allowed or the maximum number of denominator digits.
                  &lt;p&gt;
                  NOTE: This constructor is called with EITHER
                  - a valid epsilon value and the maxDenominator set to Integer.MAX_VALUE
                  (that way the maxDenominator has no effect).
                  OR
                  - a valid maxDenominator value and the epsilon value set to zero
                  (that way epsilon only has effect if there is an exact match before
                  the maxDenominator value is reached).
                  &lt;/p&gt;&lt;p&gt;
                  It has been done this way so that the same code can be (re)used for both
                  scenarios. However this could be confusing to users if it were part of
                  the public API and this constructor should therefore remain PRIVATE.
                  &lt;/p&gt;
                  See JIRA issue ticket MATH-181 for more details:
                  https://issues.apache.org/jira/browse/MATH-181                
                <param>
                    value the double value to convert to a fraction.                    
                </param>
                <param>
                    epsilon maximum error allowed.  The resulting fraction is within{@code epsilon} of {@code value}, in absolute terms.                    
                </param>
                <param>
                    maxDenominator maximum denominator value allowed.                    
                </param>
                <param>
                    maxIterations maximum number of convergents                    
                </param>
                <throws>
                    FractionConversionException if the continued fraction failed to
                      converge.                    
                </throws>
            </javadoc>
            <method name="Fraction" type="constructor" line="180">
                <params>
                    <param name="value" type="double"/>
                    <param name="epsilon" type="double"/>
                    <param name="maxDenominator" type="int"/>
                    <param name="maxIterations" type="int"/>
                </params>
                <comment line="189">
                    check for (almost) integer arguments, which should not go to iterations.                    
                </comment>
                <comment line="214">
                    in maxDenominator mode, if the last fraction was very close to the actual value
                     q2 may overflow in the next iteration; in this case return the last one.                    
                </comment>
                <declaration name="overflow" type="long" line="181"/>
                <declaration name="r0" type="double" line="182"/>
                <declaration name="a0" type="long" line="183"/>
                <scope line="184"/>
                <scope line="189"/>
                <declaration name="p0" type="long" line="195"/>
                <declaration name="q0" type="long" line="196"/>
                <declaration name="p1" type="long" line="197"/>
                <declaration name="q1" type="long" line="198"/>
                <declaration name="p2" type="long" line="200"/>
                <declaration name="q2" type="long" line="201"/>
                <declaration name="n" type="int" line="203"/>
                <declaration name="stop" type="boolean" line="204"/>
                <scope line="205">
                    <declaration name="r1" type="double" line="207"/>
                    <declaration name="a1" type="long" line="208"/>
                    <scope line="212">
                        <scope line="215"/>
                    </scope>
                    <declaration name="convergent" type="double" line="221"/>
                    <scope line="222"/>
                    <scope line="229"/>
                </scope>
                <scope line="234"/>
                <scope line="238"/>
                <scope line="241"/>
            </method>
            <javadoc line="248">
                Create a fraction from an int.
                  The fraction is num / 1.                
                <param>
                    num the numerator.                    
                </param>
            </javadoc>
            <method name="Fraction" type="constructor" line="253">
                <params>
                    <param name="num" type="int"/>
                </params>
            </method>
            <javadoc line="257">
                Create a fraction given the numerator and denominator.  The fraction is
                  reduced to lowest terms.                
                <param>
                    num the numerator.                    
                </param>
                <param>
                    den the denominator.                    
                </param>
                <throws>
                    MathArithmeticException if the denominator is {@code zero}                    
                </throws>
            </javadoc>
            <method name="Fraction" type="constructor" line="264">
                <params>
                    <param name="num" type="int"/>
                    <param name="den" type="int"/>
                </params>
                <comment line="279">
                    reduce numerator and denominator by greatest common denominator.                    
                </comment>
                <comment line="286">
                    move sign to numerator.                    
                </comment>
                <scope line="265"/>
                <scope line="269">
                    <scope line="271"/>
                </scope>
                <declaration name="d" type="int" line="279"/>
                <scope line="280"/>
                <scope line="286"/>
            </method>
            <javadoc line="294">
                Returns the absolute value of this fraction.                
                <return>
                    the absolute value.                    
                </return>
            </javadoc>
            <method name="abs" type="Fraction" line="298">
                <declaration name="ret" type="Fraction" line="299"/>
                <scope line="300"/>
                <scope line="302"/>
            </method>
            <javadoc line="308">
                Compares this object to another based on size.                
                <param>
                    object the object to compare to                    
                </param>
                <return>
                    -1 if this is less than &lt;tt&gt;object&lt;/tt&gt;, +1 if this is greater
                      than &lt;tt&gt;object&lt;/tt&gt;, 0 if they are equal.                    
                </return>
            </javadoc>
            <method name="compareTo" type="int" line="314">
                <params>
                    <param name="object" type="Fraction"/>
                </params>
                <declaration name="nOd" type="long" line="315"/>
                <declaration name="dOn" type="long" line="316"/>
            </method>
            <javadoc line="320">
                Gets the fraction as a &lt;tt&gt;double&lt;/tt&gt;. This calculates the fraction as
                  the numerator divided by denominator.                
                <return>
                    the fraction as a &lt;tt&gt;double&lt;/tt&gt;                    
                </return>
            </javadoc>
            <method name="doubleValue" type="double" line="326"/>
            <javadoc line="330">
                Test for the equality of two fractions.  If the lowest term
                  numerator and denominators are the same for both fractions, the two
                  fractions are considered to be equal.                
                <param>
                    other fraction to test for equality to this fraction                    
                </param>
                <return>
                    true if two fractions are equal, false if object is
                      &lt;tt&gt;null&lt;/tt&gt;, not an instance of {@link Fraction}, or not equal
                      to this fraction instance.                    
                </return>
            </javadoc>
            <method name="equals" type="boolean" line="340">
                <params>
                    <param name="other" type="Object"/>
                </params>
                <comment line="346">
                    since fractions are always in lowest terms, numerators and
                     denominators can be compared directly for equality.                    
                </comment>
                <scope line="341"/>
                <scope line="344">
                    <declaration name="rhs" type="Fraction" line="347"/>
                </scope>
            </method>
            <javadoc line="354">
                Gets the fraction as a &lt;tt&gt;float&lt;/tt&gt;. This calculates the fraction as
                  the numerator divided by denominator.                
                <return>
                    the fraction as a &lt;tt&gt;float&lt;/tt&gt;                    
                </return>
            </javadoc>
            <method name="floatValue" type="float" line="360"/>
            <javadoc line="364">
                Access the denominator.                
                <return>
                    the denominator.                    
                </return>
            </javadoc>
            <method name="getDenominator" type="int" line="368"/>
            <javadoc line="372">
                Access the numerator.                
                <return>
                    the numerator.                    
                </return>
            </javadoc>
            <method name="getNumerator" type="int" line="376"/>
            <javadoc line="380">
                Gets a hashCode for the fraction.                
                <return>
                    a hash code value for this object                    
                </return>
            </javadoc>
            <method name="hashCode" type="int" line="385"/>
            <javadoc line="389">
                Gets the fraction as an &lt;tt&gt;int&lt;/tt&gt;. This returns the whole number part
                  of the fraction.                
                <return>
                    the whole number fraction part                    
                </return>
            </javadoc>
            <method name="intValue" type="int" line="395"/>
            <javadoc line="399">
                Gets the fraction as a &lt;tt&gt;long&lt;/tt&gt;. This returns the whole number part
                  of the fraction.                
                <return>
                    the whole number fraction part                    
                </return>
            </javadoc>
            <method name="longValue" type="long" line="405"/>
            <javadoc line="409">
                Return the additive inverse of this fraction.                
                <return>
                    the negation of this fraction.                    
                </return>
            </javadoc>
            <method name="negate" type="Fraction" line="413">
                <scope line="414"/>
            </method>
            <javadoc line="420">
                Return the multiplicative inverse of this fraction.                
                <return>
                    the reciprocal fraction                    
                </return>
            </javadoc>
            <method name="reciprocal" type="Fraction" line="424"/>
            <javadoc line="428">
                &lt;p&gt;Adds the value of this fraction to another, returning the result in reduced form.
                  The algorithm follows Knuth, 4.5.1.&lt;/p&gt;                
                <param>
                    fraction  the fraction to add, must not be {@code null}                    
                </param>
                <return>
                    a {@code Fraction} instance with the resulting values                    
                </return>
                <throws>
                    NullArgumentException if the fraction is {@code null}                    
                </throws>
                <throws>
                    MathArithmeticException if the resulting numerator or denominator exceeds{@code Integer.MAX_VALUE}                    
                </throws>
            </javadoc>
            <method name="add" type="Fraction" line="438">
                <params>
                    <param name="fraction" type="Fraction"/>
                </params>
                <comment line="440">
                                        
                </comment>
            </method>
            <javadoc line="442">
                Add an integer to the fraction.                
                <param>
                    i the &lt;tt&gt;integer&lt;/tt&gt; to add.                    
                </param>
                <return>
                    this + i                    
                </return>
            </javadoc>
            <method name="add" type="Fraction" line="447">
                <params>
                    <param name="i" type="int"/>
                </params>
            </method>
            <javadoc line="451">
                &lt;p&gt;Subtracts the value of another fraction from the value of this one,
                  returning the result in reduced form.&lt;/p&gt;                
                <param>
                    fraction  the fraction to subtract, must not be {@code null}                    
                </param>
                <return>
                    a {@code Fraction} instance with the resulting values                    
                </return>
                <throws>
                    NullArgumentException if the fraction is {@code null}                    
                </throws>
                <throws>
                    MathArithmeticException if the resulting numerator or denominator
                      cannot be represented in an {@code int}.                    
                </throws>
            </javadoc>
            <method name="subtract" type="Fraction" line="461">
                <params>
                    <param name="fraction" type="Fraction"/>
                </params>
                <comment line="463">
                                        
                </comment>
            </method>
            <javadoc line="465">
                Subtract an integer from the fraction.                
                <param>
                    i the &lt;tt&gt;integer&lt;/tt&gt; to subtract.                    
                </param>
                <return>
                    this - i                    
                </return>
            </javadoc>
            <method name="subtract" type="Fraction" line="470">
                <params>
                    <param name="i" type="int"/>
                </params>
            </method>
            <javadoc line="474">
                Implement add and subtract using algorithm described in Knuth 4.5.1.                
                <param>
                    fraction the fraction to subtract, must not be {@code null}                    
                </param>
                <param>
                    isAdd true to add, false to subtract                    
                </param>
                <return>
                    a {@code Fraction} instance with the resulting values                    
                </return>
                <throws>
                    NullArgumentException if the fraction is {@code null}                    
                </throws>
                <throws>
                    MathArithmeticException if the resulting numerator or denominator
                      cannot be represented in an {@code int}.                    
                </throws>
            </javadoc>
            <method name="addSub" type="Fraction" line="484">
                <params>
                    <param name="fraction" type="Fraction"/>
                    <param name="isAdd" type="boolean"/>
                </params>
                <comment line="489">
                    zero is identity for addition.                    
                </comment>
                <comment line="496">
                    if denominators are randomly distributed, d1 will be 1 about 61%
                     of the time.                    
                </comment>
                <comment line="500">
                    result is ( (u*v&apos; +/- u&apos;v) / u&apos;v&apos;)                    
                </comment>
                <comment line="508">
                    the quantity &apos;t&apos; requires 65 bits of precision; see knuth 4.5.1
                     exercise 7.  we&apos;re going to use a BigInteger.
                     t = u(v&apos;/d1) +/- v(u&apos;/d1)                    
                </comment>
                <comment line="516">
                    but d2 doesn&apos;t need extra precision because
                     d2 = gcd(t,d1) = gcd(t mod d1, d1)                    
                </comment>
                <comment line="521">
                    result is (t/d2) / (u&apos;/d1)(v&apos;/d2)                    
                </comment>
                <scope line="485"/>
                <scope line="489"/>
                <scope line="492"/>
                <declaration name="d1" type="int" line="497"/>
                <scope line="498">
                    <declaration name="uvp" type="int" line="500"/>
                    <declaration name="upv" type="int" line="501"/>
                </scope>
                <declaration name="uvp" type="BigInteger" line="510"/>
                <declaration name="upv" type="BigInteger" line="512"/>
                <declaration name="t" type="BigInteger" line="514"/>
                <declaration name="tmodd1" type="int" line="517"/>
                <declaration name="d2" type="int" line="518"/>
                <declaration name="w" type="BigInteger" line="521"/>
                <scope line="522"/>
            </method>
            <javadoc line="531">
                &lt;p&gt;Multiplies the value of this fraction by another, returning the
                  result in reduced form.&lt;/p&gt;                
                <param>
                    fraction  the fraction to multiply by, must not be {@code null}                    
                </param>
                <return>
                    a {@code Fraction} instance with the resulting values                    
                </return>
                <throws>
                    NullArgumentException if the fraction is {@code null}                    
                </throws>
                <throws>
                    MathArithmeticException if the resulting numerator or denominator exceeds{@code Integer.MAX_VALUE}                    
                </throws>
            </javadoc>
            <method name="multiply" type="Fraction" line="541">
                <params>
                    <param name="fraction" type="Fraction"/>
                </params>
                <comment line="549">
                    knuth 4.5.1
                     make sure we don&apos;t overflow unless the result *must* overflow.                    
                </comment>
                <scope line="542"/>
                <scope line="545"/>
                <declaration name="d1" type="int" line="550"/>
                <declaration name="d2" type="int" line="551"/>
            </method>
            <javadoc line="557">
                Multiply the fraction by an integer.                
                <param>
                    i the &lt;tt&gt;integer&lt;/tt&gt; to multiply by.                    
                </param>
                <return>
                    this  i                    
                </return>
            </javadoc>
            <method name="multiply" type="Fraction" line="562">
                <params>
                    <param name="i" type="int"/>
                </params>
            </method>
            <javadoc line="566">
                &lt;p&gt;Divide the value of this fraction by another.&lt;/p&gt;                
                <param>
                    fraction  the fraction to divide by, must not be {@code null}                    
                </param>
                <return>
                    a {@code Fraction} instance with the resulting values                    
                </return>
                <throws>
                    IllegalArgumentException if the fraction is {@code null}                    
                </throws>
                <throws>
                    MathArithmeticException if the fraction to divide by is zero                    
                </throws>
                <throws>
                    MathArithmeticException if the resulting numerator or denominator exceeds{@code Integer.MAX_VALUE}                    
                </throws>
            </javadoc>
            <method name="divide" type="Fraction" line="576">
                <params>
                    <param name="fraction" type="Fraction"/>
                </params>
                <scope line="577"/>
                <scope line="580"/>
            </method>
            <javadoc line="587">
                Divide the fraction by an integer.                
                <param>
                    i the &lt;tt&gt;integer&lt;/tt&gt; to divide by.                    
                </param>
                <return>
                    this  i                    
                </return>
            </javadoc>
            <method name="divide" type="Fraction" line="592">
                <params>
                    <param name="i" type="int"/>
                </params>
            </method>
            <javadoc line="596">
                &lt;p&gt;
                  Gets the fraction percentage as a &lt;tt&gt;double&lt;/tt&gt;. This calculates the
                  fraction as the numerator divided by denominator multiplied by 100.
                  &lt;/p&gt;                
                <return>
                    the fraction percentage as a &lt;tt&gt;double&lt;/tt&gt;.                    
                </return>
            </javadoc>
            <method name="percentageValue" type="double" line="604"/>
            <javadoc line="608">
                &lt;p&gt;Creates a {@code Fraction} instance with the 2 parts
                  of a fraction Y/Z.&lt;/p&gt;
                  &lt;p&gt;Any negative signs are resolved to be on the numerator.&lt;/p&gt;                
                <param>
                    numerator  the numerator, for example the three in &apos;three sevenths&apos;                    
                </param>
                <param>
                    denominator  the denominator, for example the seven in &apos;three sevenths&apos;                    
                </param>
                <return>
                    a new fraction instance, with the numerator and denominator reduced                    
                </return>
                <throws>
                    MathArithmeticException if the denominator is {@code zero}                    
                </throws>
            </javadoc>
            <method name="getReducedFraction" type="Fraction" line="619">
                <params>
                    <param name="numerator" type="int"/>
                    <param name="denominator" type="int"/>
                </params>
                <comment line="626">
                    normalize zero.                    
                </comment>
                <comment line="628">
                    allow 2^k/-2^31 as a valid fraction (where k&gt;0)                    
                </comment>
                <comment line="641">
                    simplify fraction.                    
                </comment>
                <scope line="620"/>
                <scope line="624"/>
                <scope line="628"/>
                <scope line="631">
                    <scope line="633"/>
                </scope>
                <declaration name="gcd" type="int" line="641"/>
            </method>
            <javadoc line="647">
                &lt;p&gt;
                  Returns the {@code String} representing this fraction, ie
                  &quot;num / dem&quot; or just &quot;num&quot; if the denominator is one.
                  &lt;/p&gt;                
                <return>
                    a string representation of the fraction.                    
                </return>
                <see>
                    java.lang.Object#toString()                    
                </see>
            </javadoc>
            <method name="toString" type="String" line="657">
                <declaration name="str" type="String" line="658"/>
                <scope line="659"/>
                <scope line="661"/>
                <scope line="663"/>
            </method>
            <javadoc line="669">
                {@inheritDoc}                
            </javadoc>
            <method name="getField" type="FractionField" line="670"/>
        </class>
    </source>