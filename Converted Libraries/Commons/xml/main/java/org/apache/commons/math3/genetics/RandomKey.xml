<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.genetics">
        <import package="java.util.ArrayList"/>
        <import package="java.util.Arrays"/>
        <import package="java.util.Collections"/>
        <import package="java.util.Comparator"/>
        <import package="java.util.List"/>
        <import package="org.apache.commons.math3.exception.DimensionMismatchException"/>
        <import package="org.apache.commons.math3.exception.MathIllegalArgumentException"/>
        <import package="org.apache.commons.math3.exception.util.LocalizedFormats"/>
        <class name="RandomKey" line="10">
            <type_params>
                <type_param name="T"/>
            </type_params>
            <extends class="AbstractListChromosome">
                <type_params>
                    <type_param name="Double"/>
                </type_params>
            </extends>
            <implements interface="PermutationChromosome">
                <type_params>
                    <type_param name="T"/>
                </type_params>
            </implements>
            <javadoc line="10">
                Random Key chromosome is used for permutation representation. It is a vector
                  of a fixed length of real numbers in [0,1] interval. The index of the i-th
                  smallest value in the vector represents an i-th member of the permutation.
                  &lt;p&gt;
                  For example, the random key [0.2, 0.3, 0.8, 0.1] corresponds to the
                  permutation of indices (3,0,1,2). If the original (unpermuted) sequence would
                  be (a,b,c,d), this would mean the sequence (d,a,b,c).
                  &lt;p&gt;
                  With this representation, common operators like n-point crossover can be
                  used, because any such chromosome represents a valid permutation.
                  &lt;p&gt;
                  Since the chromosome (and thus its arrayRepresentation) is immutable, the
                  array representation is sorted only once in the constructor.
                  &lt;p&gt;
                  For details, see:
                  &lt;ul&gt;
                  &lt;li&gt;Bean, J.C.: Genetic algorithms and random keys for sequencing and
                  optimization. ORSA Journal on Computing 6 (1994) 154-160&lt;/li&gt;
                  &lt;li&gt;Rothlauf, F.: Representations for Genetic and Evolutionary Algorithms.
                  Volume 104 of Studies in Fuzziness and Soft Computing. Physica-Verlag,
                  Heidelberg (2002)&lt;/li&gt;
                  &lt;/ul&gt;                
                <param>
                    <T>
                      type of the permuted objects                    
                </param>
                <since>
                    2.0                    
                </since>
                <version>
                    $Id: RandomKey.java 1416643 2012-12-03 19:37:14Z tn $                    
                </version>
            </javadoc>
            <declaration name="sortedRepresentation" type="List&lt;Double&gt;" line="39"/>
            <javadoc line="39">
                Cache of sorted representation (unmodifiable).                
            </javadoc>
            <declaration name="baseSeqPermutation" type="List&lt;Integer&gt;" line="43"/>
            <javadoc line="43">
                Base sequence [0,1,...,n-1], permuted accorting to the representation (unmodifiable).                
            </javadoc>
            <javadoc line="47">
                Constructor.                
                <param>
                    representation list of [0,1] values representing the permutation                    
                </param>
                <throws>
                    InvalidRepresentationException iff the <code>representation</code> can not represent a valid chromosome                    
                </throws>
            </javadoc>
            <method name="RandomKey" type="constructor" line="52">
                <params>
                    <param name="representation" type="List<Double>"/>
                </params>
                <declaration name="sortedRepr" type="List&lt;Double&gt;" line="54"/>
            </method>
            <javadoc line="59">
                Constructor.                
                <param>
                    representation array of [0,1] values representing the permutation                    
                </param>
                <throws>
                    InvalidRepresentationException iff the <code>representation</code> can not represent a valid chromosome                    
                </throws>
            </javadoc>
            <method name="RandomKey" type="constructor" line="64">
                <params>
                    <param name="representation" type="Double[]"/>
                </params>
            </method>
            <javadoc line="67">
                {@inheritDoc}                
            </javadoc>
            <method name="decode" type="List<T>" line="70">
                <params>
                    <param name="sequence" type="List<T>"/>
                </params>
            </method>
            <javadoc line="73">
                Decodes a permutation represented by &lt;code&gt;representation&lt;/code&gt; and
                  returns a (generic) list with the permuted values.                
                <param>
                    <S>
                      generic type of the sequence values                    
                </param>
                <param>
                    sequence the unpermuted sequence                    
                </param>
                <param>
                    representation representation of the permutation ([0,1] vector)                    
                </param>
                <param>
                    sortedRepr sorted <code>representation</code>                    
                </param>
                <return>
                    list with the sequence values permuted according to the representation                    
                </return>
                <throws>
                    DimensionMismatchException iff the length of the <code>sequence</code>,
                      <code>representation</code> or <code>sortedRepr</code> lists are not equal                    
                </throws>
            </javadoc>
            <method name="decodeGeneric" type="List<S>" line="85">
                <params>
                    <param name="sequence" type="List<S>"/>
                    <param name="representation" type="List<Double>"/>
                    <param name="sortedRepr" type="List<Double>"/>
                </params>
                <declaration name="l" type="int" line="86"/>
                <scope line="87"/>
                <scope line="90"/>
                <declaration name="reprCopy" type="List&lt;Double&gt;" line="93"/>
                <declaration name="res" type="List&lt;S&gt;" line="94"/>
                <scope line="95">
                    <declaration name="index" type="int" line="96"/>
                </scope>
            </method>
            <javadoc line="102">
                Returns &lt;code&gt;true&lt;/code&gt; iff &lt;code&gt;another&lt;/code&gt; is a RandomKey and
                  encodes the same permutation.                
                <param>
                    another chromosome to compare                    
                </param>
                <return>
                    true iff chromosomes encode the same permutation                    
                </return>
            </javadoc>
            <method name="isSame" type="boolean" line="108">
                <params>
                    <param name="another" type="Chromosome"/>
                </params>
                <scope line="109"/>
                <declaration name="anotherRk" type="RandomKey&lt;?&gt;" line="112"/>
                <scope line="113"/>
                <declaration name="thisPerm" type="List&lt;Integer&gt;" line="116"/>
                <declaration name="anotherPerm" type="List&lt;Integer&gt;" line="117"/>
                <scope line="118">
                    <scope line="119"/>
                </scope>
            </method>
            <javadoc line="125">
                {@inheritDoc}                
            </javadoc>
            <method name="checkValidity" type="void" line="128">
                <params>
                    <param name="chromosomeRepresentation" type="List<Double>"/>
                </params>
                <scope line="129">
                    <scope line="130"/>
                </scope>
            </method>
            <javadoc line="135">
                Generates a representation corresponding to a random permutation of
                  length l which can be passed to the RandomKey constructor.                
                <param>
                    l length of the permutation                    
                </param>
                <return>
                    representation of a random permutation                    
                </return>
            </javadoc>
            <method name="randomPermutation" type="List<Double>" line="141">
                <params>
                    <param name="l" type="int"/>
                </params>
                <declaration name="repr" type="List&lt;Double&gt;" line="142"/>
                <scope line="143"/>
            </method>
            <javadoc line="148">
                Generates a representation corresponding to an identity permutation of
                  length l which can be passed to the RandomKey constructor.                
                <param>
                    l length of the permutation                    
                </param>
                <return>
                    representation of an identity permutation                    
                </return>
            </javadoc>
            <method name="identityPermutation" type="List<Double>" line="154">
                <params>
                    <param name="l" type="int"/>
                </params>
                <declaration name="repr" type="List&lt;Double&gt;" line="155"/>
                <scope line="156"/>
            </method>
            <javadoc line="161">
                Generates a representation of a permutation corresponding to the
                  &lt;code&gt;data&lt;/code&gt; sorted by &lt;code&gt;comparator&lt;/code&gt;. The
                  &lt;code&gt;data&lt;/code&gt; is not modified during the process.
                  This is useful if you want to inject some permutations to the initial
                  population.                
                <param>
                    <S>
                      type of the data                    
                </param>
                <param>
                    data list of data determining the order                    
                </param>
                <param>
                    comparator how the data will be compared                    
                </param>
                <return>
                    list representation of the permutation corresponding to the parameters                    
                </return>
            </javadoc>
            <method name="comparatorPermutation" type="List<Double>" line="173">
                <params>
                    <param name="data" type="List<S>"/>
                    <param name="comparator" type="Comparator<S>"/>
                </params>
                <declaration name="sortedData" type="List&lt;S&gt;" line="174"/>
            </method>
            <javadoc line="178">
                Generates a representation of a permutation corresponding to a
                  permutation which yields &lt;code&gt;permutedData&lt;/code&gt; when applied to
                  &lt;code&gt;originalData&lt;/code&gt;.
                  This method can be viewed as an inverse to {@link #decode(List)}.                
                <param>
                    <S>
                      type of the data                    
                </param>
                <param>
                    originalData the original, unpermuted data                    
                </param>
                <param>
                    permutedData the data, somehow permuted                    
                </param>
                <return>
                    representation of a permutation corresponding to the permutation
                      <code>originalData -> permutedData</code>                    
                </return>
                <throws>
                    DimensionMismatchException iff the length of <code>originalData</code>
                      and <code>permutedData</code> lists are not equal                    
                </throws>
                <throws>
                    MathIllegalArgumentException iff the <code>permutedData</code> and
                      <code>originalData</code> lists contain different data                    
                </throws>
            </javadoc>
            <method name="inducedPermutation" type="List<Double>" line="194">
                <params>
                    <param name="originalData" type="List<S>"/>
                    <param name="permutedData" type="List<S>"/>
                </params>
                <scope line="195"/>
                <declaration name="l" type="int" line="198"/>
                <declaration name="origDataCopy" type="List&lt;S&gt;" line="199"/>
                <declaration name="res" type="Double[]" line="200"/>
                <scope line="201">
                    <declaration name="index" type="int" line="202"/>
                    <scope line="203"/>
                </scope>
            </method>
            <method name="toString" type="String" line="211"/>
            <javadoc line="214">
                Helper for constructor. Generates a list of natural numbers (0,1,...,l-1).                
                <param>
                    l length of list to generate                    
                </param>
                <return>
                    list of integers from 0 to l-1                    
                </return>
            </javadoc>
            <method name="baseSequence" type="List<Integer>" line="219">
                <params>
                    <param name="l" type="int"/>
                </params>
                <declaration name="baseSequence" type="List&lt;Integer&gt;" line="220"/>
                <scope line="221"/>
            </method>
        </class>
    </source>