<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.geometry.spherical.twod">
        <import package="java.util.ArrayList"/>
        <import package="java.util.List"/>
        <import package="org.apache.commons.math3.exception.MathInternalError"/>
        <import package="org.apache.commons.math3.geometry.euclidean.threed.Vector3D"/>
        <import package="org.apache.commons.math3.geometry.partitioning.BSPTree"/>
        <import package="org.apache.commons.math3.geometry.partitioning.BSPTreeVisitor"/>
        <import package="org.apache.commons.math3.util.FastMath"/>
        <import package="org.apache.commons.math3.util.MathUtils"/>
        <class name="PropertiesComputer" line="29">
            <implements interface="BSPTreeVisitor">
                <type_params>
                    <type_param name="Sphere2D"/>
                </type_params>
            </implements>
            <javadoc line="29">
                Visitor computing geometrical properties.                
                <version>
                    $Id: PropertiesComputer.java 1567599 2014-02-12 11:12:45Z luc $                    
                </version>
                <since>
                    3.3                    
                </since>
            </javadoc>
            <declaration name="tolerance" type="double" line="35"/>
            <javadoc line="35">
                Tolerance below which points are consider to be identical.                
            </javadoc>
            <declaration name="summedArea" type="double" line="38"/>
            <javadoc line="38">
                Summed area.                
            </javadoc>
            <declaration name="summedBarycenter" type="Vector3D" line="41"/>
            <javadoc line="41">
                Summed barycenter.                
            </javadoc>
            <declaration name="convexCellsInsidePoints" type="List&amp;lt;Vector3D&amp;gt;" line="44"/>
            <javadoc line="44">
                List of points strictly inside convex cells.                
            </javadoc>
            <javadoc line="47">
                Simple constructor.                
                <param>
                    tolerance below which points are consider to be identical                    
                </param>
            </javadoc>
            <method name="PropertiesComputer" type="constructor" line="50">
                <params>
                    <param name="tolerance" type="double"/>
                </params>
            </method>
            <javadoc line="57">
                {@inheritDoc}                
            </javadoc>
            <method name="visitOrder" type="Order" line="58">
                <params>
                    <param name="node" type="BSPTree&lt;Sphere2D&gt;"/>
                </params>
            </method>
            <javadoc line="62">
                {@inheritDoc}                
            </javadoc>
            <method name="visitInternalNode" type="void" line="63">
                <params>
                    <param name="node" type="BSPTree&lt;Sphere2D&gt;"/>
                </params>
                <comment line="65">
                    nothing to do here                    
                </comment>
            </method>
            <javadoc line="67">
                {@inheritDoc}                
            </javadoc>
            <method name="visitLeafNode" type="void" line="68">
                <params>
                    <param name="node" type="BSPTree&lt;Sphere2D&gt;"/>
                </params>
                <comment line="72">
                    transform this inside leaf cell into a simple convex polygon                    
                </comment>
                <comment line="79">
                    extract the start of the single loop boundary of the convex cell                    
                </comment>
                <comment line="82">
                    this should never happen                    
                </comment>
                <comment line="86">
                    compute the geometrical properties of the convex cell                    
                </comment>
                <comment line="91">
                    add the cell contribution to the global properties                    
                </comment>
                <scope line="69">
                    <declaration name="convex" type="SphericalPolygonsSet" line="72"/>
                    <declaration name="boundary" type="List&amp;lt;Vertex&amp;gt;" line="79"/>
                    <scope line="80"/>
                    <declaration name="area" type="double" line="86"/>
                    <declaration name="barycenter" type="Vector3D" line="87"/>
                </scope>
            </method>
            <javadoc line="97">
                Compute convex cell area.                
                <param>
                    start start vertex of the convex cell boundary                    
                </param>
                <return>
                    area                    
                </return>
            </javadoc>
            <method name="convexCellArea" type="double" line="101">
                <params>
                    <param name="start" type="Vertex"/>
                </params>
                <comment line="107">
                    loop around the cell                    
                </comment>
                <comment line="110">
                    find path interior angle at vertex                    
                </comment>
                <comment line="123">
                    compute area using extended Girard theorem
                     see Spherical Trigonometry: For the Use of Colleges and Schools by I. Todhunter
                     article 99 in chapter VIII Area Of a Spherical Triangle. Spherical Excess.
                     book available from project Gutenberg at http:www.gutenberg.org/ebooks/19770                    
                </comment>
                <declaration name="n" type="int" line="103"/>
                <declaration name="sum" type="double" line="104"/>
                <scope line="107">
                    <declaration name="previousPole" type="Vector3D" line="110"/>
                    <declaration name="nextPole" type="Vector3D" line="111"/>
                    <declaration name="point" type="Vector3D" line="112"/>
                    <declaration name="alpha" type="double" line="113"/>
                    <scope line="115"/>
                </scope>
            </method>
            <javadoc line="130">
                Compute convex cell barycenter.                
                <param>
                    start start vertex of the convex cell boundary                    
                </param>
                <return>
                    barycenter                    
                </return>
            </javadoc>
            <method name="convexCellBarycenter" type="Vector3D" line="134">
                <params>
                    <param name="start" type="Vertex"/>
                </params>
                <comment line="140">
                    loop around the cell                    
                </comment>
                <declaration name="n" type="int" line="136"/>
                <declaration name="sumB" type="Vector3D" line="137"/>
                <scope line="140"/>
            </method>
            <javadoc line="149">
                Get the area.                
                <return>
                    area                    
                </return>
            </javadoc>
            <method name="getArea" type="double" line="152"/>
            <javadoc line="156">
                Get the barycenter.                
                <return>
                    barycenter                    
                </return>
            </javadoc>
            <method name="getBarycenter" type="S2Point" line="159">
                <scope line="160"/>
                <scope line="162"/>
            </method>
            <javadoc line="167">
                Get the points strictly inside convex cells.                
                <return>
                    points strictly inside convex cells                    
                </return>
            </javadoc>
            <method name="getConvexCellsInsidePoints" type="List&lt;Vector3D&gt;" line="170"/>
        </class>
    </source>