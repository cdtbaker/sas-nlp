<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.optimization.direct">
        <import package="java.util.ArrayList"/>
        <import package="java.util.Arrays"/>
        <import package="java.util.List"/>
        <import package="org.apache.commons.math3.analysis.MultivariateFunction"/>
        <import package="org.apache.commons.math3.exception.DimensionMismatchException"/>
        <import package="org.apache.commons.math3.exception.NotPositiveException"/>
        <import package="org.apache.commons.math3.exception.NotStrictlyPositiveException"/>
        <import package="org.apache.commons.math3.exception.OutOfRangeException"/>
        <import package="org.apache.commons.math3.exception.TooManyEvaluationsException"/>
        <import package="org.apache.commons.math3.linear.Array2DRowRealMatrix"/>
        <import package="org.apache.commons.math3.linear.EigenDecomposition"/>
        <import package="org.apache.commons.math3.linear.MatrixUtils"/>
        <import package="org.apache.commons.math3.linear.RealMatrix"/>
        <import package="org.apache.commons.math3.optimization.ConvergenceChecker"/>
        <import package="org.apache.commons.math3.optimization.OptimizationData"/>
        <import package="org.apache.commons.math3.optimization.GoalType"/>
        <import package="org.apache.commons.math3.optimization.MultivariateOptimizer"/>
        <import package="org.apache.commons.math3.optimization.PointValuePair"/>
        <import package="org.apache.commons.math3.optimization.SimpleValueChecker"/>
        <import package="org.apache.commons.math3.random.MersenneTwister"/>
        <import package="org.apache.commons.math3.random.RandomGenerator"/>
        <import package="org.apache.commons.math3.util.MathArrays"/>
        <class name="CMAESOptimizer" line="24">
            <extends class="BaseAbstractMultivariateSimpleBoundsOptimizer">
                <type_params>
                    <type_param name="MultivariateFunction"/>
                </type_params>
            </extends>
            <implements interface="MultivariateOptimizer"/>
            <javadoc line="24">
                &lt;p&gt;An implementation of the active Covariance Matrix Adaptation Evolution Strategy (CMA-ES)
                  for non-linear, non-convex, non-smooth, global function minimization.
                  The CMA-Evolution Strategy (CMA-ES) is a reliable stochastic optimization method
                  which should be applied if derivative-based methods, e.g. quasi-Newton BFGS or
                  conjugate gradient, fail due to a rugged search landscape (e.g. noise, local
                  optima, outlier, etc.) of the objective function. Like a
                  quasi-Newton method, the CMA-ES learns and applies a variable metric
                  on the underlying search space. Unlike a quasi-Newton method, the
                  CMA-ES neither estimates nor uses gradients, making it considerably more
                  reliable in terms of finding a good, or even close to optimal, solution.&lt;/p&gt;
                  &lt;p&gt;In general, on smooth objective functions the CMA-ES is roughly ten times
                  slower than BFGS (counting objective function evaluations, no gradients provided).
                  For up to &lt;math&gt;N=10&lt;/math&gt; variables also the derivative-free simplex
                  direct search method (Nelder and Mead) can be faster, but it is
                  far less reliable than CMA-ES.&lt;/p&gt;
                  &lt;p&gt;The CMA-ES is particularly well suited for non-separable
                  and/or badly conditioned problems. To observe the advantage of CMA compared
                  to a conventional evolution strategy, it will usually take about
                  &lt;math&gt;30 N&lt;/math&gt; function evaluations. On difficult problems the complete
                  optimization (a single run) is expected to take &lt;em&gt;roughly&lt;/em&gt; between
                  &lt;math&gt;30 N&lt;/math&gt; and &lt;math&gt;300 N&lt;sup&gt;2&lt;/sup&gt;&lt;/math&gt;
                  function evaluations.&lt;/p&gt;
                  &lt;p&gt;This implementation is translated and adapted from the Matlab version
                  of the CMA-ES algorithm as implemented in module {@code cmaes.m} version 3.51.&lt;/p&gt;
                  For more information, please refer to the following links:
                  &lt;ul&gt;
                  &lt;li&gt;&lt;a href=&quot;http://www.lri.fr/~hansen/cmaes.m&quot;&gt;Matlab code&lt;/a&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;a href=&quot;http://www.lri.fr/~hansen/cmaesintro.html&quot;&gt;Introduction to CMA-ES&lt;/a&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/CMA-ES&quot;&gt;Wikipedia&lt;/a&gt;&lt;/li&gt;
                  &lt;/ul&gt;                
                <version>
                    $Id: CMAESOptimizer.java 1462503 2013-03-29 15:48:27Z luc $                    
                </version>
                <deprecated>
                    As of 3.1 (to be removed in 4.0).                    
                </deprecated>
                <since>
                    3.0                    
                </since>
            </javadoc>
            <declaration name="DEFAULT_CHECKFEASABLECOUNT" type="int" line="60"/>
            <javadoc line="60">
                Default value for {@link #checkFeasableCount}: {@value}.                
            </javadoc>
            <declaration name="DEFAULT_STOPFITNESS" type="double" line="64"/>
            <javadoc line="64">
                Default value for {@link #stopFitness}: {@value}.                
            </javadoc>
            <declaration name="DEFAULT_ISACTIVECMA" type="boolean" line="68"/>
            <javadoc line="68">
                Default value for {@link #isActiveCMA}: {@value}.                
            </javadoc>
            <declaration name="DEFAULT_MAXITERATIONS" type="int" line="72"/>
            <javadoc line="72">
                Default value for {@link #maxIterations}: {@value}.                
            </javadoc>
            <declaration name="DEFAULT_DIAGONALONLY" type="int" line="76"/>
            <javadoc line="76">
                Default value for {@link #diagonalOnly}: {@value}.                
            </javadoc>
            <declaration name="DEFAULT_RANDOMGENERATOR" type="RandomGenerator" line="80"/>
            <javadoc line="80">
                Default value for {@link #random}.                
            </javadoc>
            <declaration name="lambda" type="int" line="84"/>
            <javadoc line="84">
                Population size, offspring number. The primary strategy parameter to play
                  with, which can be increased from its default value. Increasing the
                  population size improves global search properties in exchange to speed.
                  Speed decreases, as a rule, at most linearly with increasing population
                  size. It is advisable to begin with the default small population size.                
            </javadoc>
            <declaration name="isActiveCMA" type="boolean" line="92"/>
            <javadoc line="92">
                Covariance update mechanism, default is active CMA. isActiveCMA = true
                  turns on &quot;active CMA&quot; with a negative update of the covariance matrix and
                  checks for positive definiteness. OPTS.CMA.active = 2 does not check for
                  pos. def. and is numerically faster. Active CMA usually speeds up the
                  adaptation.                
            </javadoc>
            <declaration name="checkFeasableCount" type="int" line="100"/>
            <javadoc line="100">
                Determines how often a new random offspring is generated in case it is
                  not feasible / beyond the defined limits, default is 0.                
            </javadoc>
            <declaration name="inputSigma" type="double[]" line="105"/>
            <javadoc line="105">
                @see Sigma                
            </javadoc>
            <declaration name="dimension" type="int" line="109"/>
            <javadoc line="109">
                Number of objective variables/problem dimension                
            </javadoc>
            <declaration name="diagonalOnly" type="int" line="113"/>
            <javadoc line="113">
                Defines the number of initial iterations, where the covariance matrix
                  remains diagonal and the algorithm has internally linear time complexity.
                  diagonalOnly = 1 means keeping the covariance matrix always diagonal and
                  this setting also exhibits linear space complexity. This can be
                  particularly useful for dimension &gt; 100.                
                <see>
                    <a href="http://hal.archives-ouvertes.fr/inria-00287367/en">A Simple Modification in CMA-ES</a>                    
                </see>
            </javadoc>
            <declaration name="isMinimize" type="boolean" line="122"/>
            <javadoc line="122">
                Number of objective variables/problem dimension                
            </javadoc>
            <declaration name="generateStatistics" type="boolean" line="126"/>
            <javadoc line="126">
                Indicates whether statistic data is collected.                
            </javadoc>
            <declaration name="maxIterations" type="int" line="130"/>
            <javadoc line="130">
                Maximal number of iterations allowed.                
            </javadoc>
            <declaration name="stopFitness" type="double" line="134"/>
            <javadoc line="134">
                Limit for fitness value.                
            </javadoc>
            <declaration name="stopTolUpX" type="double" line="138"/>
            <javadoc line="138">
                Stop if x-changes larger stopTolUpX.                
            </javadoc>
            <declaration name="stopTolX" type="double" line="142"/>
            <javadoc line="142">
                Stop if x-change smaller stopTolX.                
            </javadoc>
            <declaration name="stopTolFun" type="double" line="146"/>
            <javadoc line="146">
                Stop if fun-changes smaller stopTolFun.                
            </javadoc>
            <declaration name="stopTolHistFun" type="double" line="150"/>
            <javadoc line="150">
                Stop if back fun-changes smaller stopTolHistFun.                
            </javadoc>
            <declaration name="mu" type="int" line="154"/>
            <javadoc line="154">
                Number of parents/points for recombination.                
            </javadoc>
            <declaration name="logMu2" type="double" line="158"/>
            <javadoc line="158">
                log(mu + 0.5), stored for efficiency.                
            </javadoc>
            <declaration name="weights" type="RealMatrix" line="162"/>
            <javadoc line="162">
                Array for weighted recombination.                
            </javadoc>
            <declaration name="mueff" type="double" line="166"/>
            <javadoc line="166">
                Variance-effectiveness of sum w_i x_i.                
            </javadoc>
            <declaration name="sigma" type="double" line="170"/>
            <javadoc line="170">
                Overall standard deviation - search volume.                
            </javadoc>
            <declaration name="cc" type="double" line="174"/>
            <javadoc line="174">
                Cumulation constant.                
            </javadoc>
            <declaration name="cs" type="double" line="178"/>
            <javadoc line="178">
                Cumulation constant for step-size.                
            </javadoc>
            <declaration name="damps" type="double" line="182"/>
            <javadoc line="182">
                Damping for step-size.                
            </javadoc>
            <declaration name="ccov1" type="double" line="186"/>
            <javadoc line="186">
                Learning rate for rank-one update.                
            </javadoc>
            <declaration name="ccovmu" type="double" line="190"/>
            <javadoc line="190">
                Learning rate for rank-mu update&apos;                
            </javadoc>
            <declaration name="chiN" type="double" line="194"/>
            <javadoc line="194">
                Expectation of ||N(0,I)|| == norm(randn(N,1)).                
            </javadoc>
            <declaration name="ccov1Sep" type="double" line="198"/>
            <javadoc line="198">
                Learning rate for rank-one update - diagonalOnly                
            </javadoc>
            <declaration name="ccovmuSep" type="double" line="202"/>
            <javadoc line="202">
                Learning rate for rank-mu update - diagonalOnly                
            </javadoc>
            <declaration name="xmean" type="RealMatrix" line="206"/>
            <javadoc line="206">
                Objective variables.                
            </javadoc>
            <declaration name="pc" type="RealMatrix" line="210"/>
            <javadoc line="210">
                Evolution path.                
            </javadoc>
            <declaration name="ps" type="RealMatrix" line="214"/>
            <javadoc line="214">
                Evolution path for sigma.                
            </javadoc>
            <declaration name="normps" type="double" line="218"/>
            <javadoc line="218">
                Norm of ps, stored for efficiency.                
            </javadoc>
            <declaration name="B" type="RealMatrix" line="222"/>
            <javadoc line="222">
                Coordinate system.                
            </javadoc>
            <declaration name="D" type="RealMatrix" line="226"/>
            <javadoc line="226">
                Scaling.                
            </javadoc>
            <declaration name="BD" type="RealMatrix" line="230"/>
            <javadoc line="230">
                BD, stored for efficiency.                
            </javadoc>
            <declaration name="diagD" type="RealMatrix" line="234"/>
            <javadoc line="234">
                Diagonal of sqrt(D), stored for efficiency.                
            </javadoc>
            <declaration name="C" type="RealMatrix" line="238"/>
            <javadoc line="238">
                Covariance matrix.                
            </javadoc>
            <declaration name="diagC" type="RealMatrix" line="242"/>
            <javadoc line="242">
                Diagonal of C, used for diagonalOnly.                
            </javadoc>
            <declaration name="iterations" type="int" line="246"/>
            <javadoc line="246">
                Number of iterations already performed.                
            </javadoc>
            <declaration name="fitnessHistory" type="double[]" line="250"/>
            <javadoc line="250">
                History queue of best values.                
            </javadoc>
            <declaration name="historySize" type="int" line="254"/>
            <javadoc line="254">
                Size of history queue of best values.                
            </javadoc>
            <declaration name="random" type="RandomGenerator" line="258"/>
            <javadoc line="258">
                Random generator.                
            </javadoc>
            <declaration name="statisticsSigmaHistory" type="List&lt;Double&gt;" line="262"/>
            <javadoc line="262">
                History of sigma values.                
            </javadoc>
            <declaration name="statisticsMeanHistory" type="List&lt;RealMatrix&gt;" line="266"/>
            <javadoc line="266">
                History of mean matrix.                
            </javadoc>
            <declaration name="statisticsFitnessHistory" type="List&lt;Double&gt;" line="270"/>
            <javadoc line="270">
                History of fitness values.                
            </javadoc>
            <declaration name="statisticsDHistory" type="List&lt;RealMatrix&gt;" line="274"/>
            <javadoc line="274">
                History of D matrix.                
            </javadoc>
            <javadoc line="278">
                Default constructor, uses default parameters                
                <deprecated>
                    As of version 3.1: Parameter {@code lambda} must be
                      passed with the call to {@link #optimize(int,MultivariateFunction,GoalType,OptimizationData[])optimize} (whereas in the current code it is set to an undocumented value).                    
                </deprecated>
            </javadoc>
            <method name="CMAESOptimizer" type="constructor" line="283"/>
            <javadoc line="286">
                @param lambda Population size.                
                <deprecated>
                    As of version 3.1: Parameter {@code lambda} must be
                      passed with the call to {@link #optimize(int,MultivariateFunction,GoalType,OptimizationData[])optimize} (whereas in the current code it is set to an undocumented value)..                    
                </deprecated>
            </javadoc>
            <method name="CMAESOptimizer" type="constructor" line="291">
                <params>
                    <param name="lambda" type="int"/>
                </params>
            </method>
            <javadoc line="294">
                @param lambda Population size.                
                <param>
                    inputSigma Initial standard deviations to sample new points
                      around the initial guess.                    
                </param>
                <deprecated>
                    As of version 3.1: Parameters {@code lambda} and {@code inputSigma} must be
                      passed with the call to {@link #optimize(int,MultivariateFunction,GoalType,OptimizationData[])optimize}.                    
                </deprecated>
            </javadoc>
            <method name="CMAESOptimizer" type="constructor" line="301">
                <params>
                    <param name="lambda" type="int"/>
                    <param name="inputSigma" type="double[]"/>
                </params>
            </method>
            <javadoc line="304">
                @param lambda Population size.                
                <param>
                    inputSigma Initial standard deviations to sample new points
                      around the initial guess.                    
                </param>
                <param>
                    maxIterations Maximal number of iterations.                    
                </param>
                <param>
                    stopFitness Whether to stop if objective function value is smaller than{@code stopFitness}.                    
                </param>
                <param>
                    isActiveCMA Chooses the covariance matrix update method.                    
                </param>
                <param>
                    diagonalOnly Number of initial iterations, where the covariance matrix
                      remains diagonal.                    
                </param>
                <param>
                    checkFeasableCount Determines how often new random objective variables are
                      generated in case they are out of bounds.                    
                </param>
                <param>
                    random Random generator.                    
                </param>
                <param>
                    generateStatistics Whether statistic data is collected.                    
                </param>
                <deprecated>
                    See {@link SimpleValueChecker#SimpleValueChecker()}                    
                </deprecated>
            </javadoc>
            <method name="CMAESOptimizer" type="constructor" line="319">
                <params>
                    <param name="lambda" type="int"/>
                    <param name="inputSigma" type="double[]"/>
                    <param name="maxIterations" type="int"/>
                    <param name="stopFitness" type="double"/>
                    <param name="isActiveCMA" type="boolean"/>
                    <param name="diagonalOnly" type="int"/>
                    <param name="checkFeasableCount" type="int"/>
                    <param name="random" type="RandomGenerator"/>
                    <param name="generateStatistics" type="boolean"/>
                </params>
            </method>
            <javadoc line="322">
                @param lambda Population size.                
                <param>
                    inputSigma Initial standard deviations to sample new points
                      around the initial guess.                    
                </param>
                <param>
                    maxIterations Maximal number of iterations.                    
                </param>
                <param>
                    stopFitness Whether to stop if objective function value is smaller than{@code stopFitness}.                    
                </param>
                <param>
                    isActiveCMA Chooses the covariance matrix update method.                    
                </param>
                <param>
                    diagonalOnly Number of initial iterations, where the covariance matrix
                      remains diagonal.                    
                </param>
                <param>
                    checkFeasableCount Determines how often new random objective variables are
                      generated in case they are out of bounds.                    
                </param>
                <param>
                    random Random generator.                    
                </param>
                <param>
                    generateStatistics Whether statistic data is collected.                    
                </param>
                <param>
                    checker Convergence checker.                    
                </param>
                <deprecated>
                    As of version 3.1: Parameters {@code lambda} and {@code inputSigma} must be
                      passed with the call to {@link #optimize(int,MultivariateFunction,GoalType,OptimizationData[])optimize}.                    
                </deprecated>
            </javadoc>
            <method name="CMAESOptimizer" type="constructor" line="339">
                <params>
                    <param name="lambda" type="int"/>
                    <param name="inputSigma" type="double[]"/>
                    <param name="maxIterations" type="int"/>
                    <param name="stopFitness" type="double"/>
                    <param name="isActiveCMA" type="boolean"/>
                    <param name="diagonalOnly" type="int"/>
                    <param name="checkFeasableCount" type="int"/>
                    <param name="random" type="RandomGenerator"/>
                    <param name="generateStatistics" type="boolean"/>
                    <param name="checker" type="ConvergenceChecker<PointValuePair>"/>
                </params>
            </method>
            <javadoc line="351">
                @param maxIterations Maximal number of iterations.                
                <param>
                    stopFitness Whether to stop if objective function value is smaller than{@code stopFitness}.                    
                </param>
                <param>
                    isActiveCMA Chooses the covariance matrix update method.                    
                </param>
                <param>
                    diagonalOnly Number of initial iterations, where the covariance matrix
                      remains diagonal.                    
                </param>
                <param>
                    checkFeasableCount Determines how often new random objective variables are
                      generated in case they are out of bounds.                    
                </param>
                <param>
                    random Random generator.                    
                </param>
                <param>
                    generateStatistics Whether statistic data is collected.                    
                </param>
                <param>
                    checker Convergence checker.                    
                </param>
                <since>
                    3.1                    
                </since>
            </javadoc>
            <method name="CMAESOptimizer" type="constructor" line="364">
                <params>
                    <param name="maxIterations" type="int"/>
                    <param name="stopFitness" type="double"/>
                    <param name="isActiveCMA" type="boolean"/>
                    <param name="diagonalOnly" type="int"/>
                    <param name="checkFeasableCount" type="int"/>
                    <param name="random" type="RandomGenerator"/>
                    <param name="generateStatistics" type="boolean"/>
                    <param name="checker" type="ConvergenceChecker<PointValuePair>"/>
                </params>
            </method>
            <javadoc line="374">
                @return History of sigma values.                
            </javadoc>
            <method name="getStatisticsSigmaHistory" type="List<Double>" line="377"/>
            <javadoc line="380">
                @return History of mean matrix.                
            </javadoc>
            <method name="getStatisticsMeanHistory" type="List<RealMatrix>" line="383"/>
            <javadoc line="386">
                @return History of fitness values.                
            </javadoc>
            <method name="getStatisticsFitnessHistory" type="List<Double>" line="389"/>
            <javadoc line="392">
                @return History of D matrix.                
            </javadoc>
            <method name="getStatisticsDHistory" type="List<RealMatrix>" line="395"/>
            <class name="Sigma" line="398">
                <implements interface="OptimizationData"/>
                <javadoc line="398">
                    Input sigma values.
                      They define the initial coordinate-wise standard deviations for
                      sampling new search points around the initial guess.
                      It is suggested to set them to the estimated distance from the
                      initial to the desired optimum.
                      Small values induce the search to be more local (and very small
                      values are more likely to find a local optimum close to the initial
                      guess).
                      Too small values might however lead to early termination.                    
                    <since>
                        3.1                        
                    </since>
                </javadoc>
                <declaration name="sigma" type="double[]" line="411"/>
                <javadoc line="411">
                    Sigma values.                    
                </javadoc>
                <javadoc line="415">
                    @param s Sigma values.                    
                    <throws>
                        NotPositiveException if any of the array entries is smaller
                          than zero.                        
                    </throws>
                </javadoc>
                <method name="Sigma" type="constructor" line="420">
                    <params>
                        <param name="s" type="double[]"/>
                    </params>
                    <scope line="421">
                        <scope line="422"/>
                    </scope>
                </method>
                <javadoc line="428">
                    @return the sigma values.                    
                </javadoc>
                <method name="getSigma" type="double[]" line="431"/>
            </class>
            <class name="PopulationSize" line="435">
                <implements interface="OptimizationData"/>
                <javadoc line="435">
                    Population size.
                      The number of offspring is the primary strategy parameter.
                      In the absence of better clues, a good default could be an
                      integer close to {@code 4 + 3 ln(n)}, where {@code n} is the
                      number of optimized parameters.
                      Increasing the population size improves global search properties
                      at the expense of speed (which in general decreases at most
                      linearly with increasing population size).                    
                    <since>
                        3.1                        
                    </since>
                </javadoc>
                <declaration name="lambda" type="int" line="447"/>
                <javadoc line="447">
                    Population size.                    
                </javadoc>
                <javadoc line="451">
                    @param size Population size.                    
                    <throws>
                        NotStrictlyPositiveException if {@code size <= 0}.                        
                    </throws>
                </javadoc>
                <method name="PopulationSize" type="constructor" line="455">
                    <params>
                        <param name="size" type="int"/>
                    </params>
                    <scope line="456"/>
                </method>
                <javadoc line="461">
                    @return the population size.                    
                </javadoc>
                <method name="getPopulationSize" type="int" line="464"/>
            </class>
            <javadoc line="468">
                Optimize an objective function.                
                <param>
                    maxEval Allowed number of evaluations of the objective function.                    
                </param>
                <param>
                    f Objective function.                    
                </param>
                <param>
                    goalType Optimization type.                    
                </param>
                <param>
                    optData Optimization data. The following data will be looked for:
                      <ul>
                      <li>{@link org.apache.commons.math3.optimization.InitialGuess InitialGuess}</li>
                      <li>{@link Sigma}</li>
                      <li>{@link PopulationSize}</li>
                      </ul>                    
                </param>
                <return>
                    the point/value pair giving the optimal value for objective
                      function.                    
                </return>
            </javadoc>
            <method name="optimizeInternal" type="PointValuePair" line="482">
                <params>
                    <param name="maxEval" type="int"/>
                    <param name="f" type="MultivariateFunction"/>
                    <param name="goalType" type="GoalType"/>
                    <param name="optData" type="OptimizationData"/>
                </params>
            </method>
            <javadoc line="486">
                {@inheritDoc}                
            </javadoc>
            <method name="doOptimize" type="PointValuePair" line="489">
                <declaration name="fitfun" type="FitnessFunction" line="492"/>
                <declaration name="guess" type="double[]" line="493"/>
                <declaration name="bestValue" type="double" line="497"/>
                <declaration name="optimum" type="PointValuePair" line="499"/>
                <declaration name="lastResult" type="PointValuePair" line="500"/>
                <scope line="501">
                    <declaration name="arz" type="RealMatrix" line="502"/>
                    <declaration name="arx" type="RealMatrix" line="503"/>
                    <declaration name="fitness" type="double[]" line="504"/>
                    <scope line="505">
                        <declaration name="arxk" type="RealMatrix" line="506"/>
                        <scope line="507">
                            <scope line="508"/>
                            <scope line="511"/>
                            <scope line="514"/>
                        </scope>
                        <scope line="520"/>
                        <scope line="523"/>
                    </scope>
                    <declaration name="arindex" type="int[]" line="527"/>
                    <declaration name="xold" type="RealMatrix" line="528"/>
                    <declaration name="bestArx" type="RealMatrix" line="529"/>
                    <declaration name="bestArz" type="RealMatrix" line="531"/>
                    <declaration name="zmean" type="RealMatrix" line="532"/>
                    <declaration name="hsig" type="boolean" line="533"/>
                    <scope line="534"/>
                    <scope line="537"/>
                    <declaration name="bestFitness" type="double" line="541"/>
                    <declaration name="worstFitness" type="double" line="542"/>
                    <scope line="543">
                        <scope line="547"/>
                    </scope>
                    <scope line="551"/>
                    <declaration name="sqrtDiagC" type="double[]" line="554"/>
                    <declaration name="pcCol" type="double[]" line="555"/>
                    <scope line="556">
                        <scope line="557"/>
                        <scope line="560"/>
                    </scope>
                    <scope line="564">
                        <scope line="565"/>
                    </scope>
                    <declaration name="historyBest" type="double" line="569"/>
                    <declaration name="historyWorst" type="double" line="570"/>
                    <scope line="571"/>
                    <scope line="574"/>
                    <scope line="577"/>
                    <scope line="580">
                        <declaration name="current" type="PointValuePair" line="581"/>
                        <scope line="582"/>
                    </scope>
                    <scope line="587"/>
                    <scope line="590"/>
                    <scope line="595"/>
                </scope>
            </method>
            <javadoc line="604">
                Scans the list of (required and optional) optimization data that
                  characterize the problem.                
                <param>
                    optData Optimization data. The following data will be looked for:
                      <ul>
                      <li>{@link Sigma}</li>
                      <li>{@link PopulationSize}</li>
                      </ul>                    
                </param>
            </javadoc>
            <method name="parseOptimizationData" type="void" line="613">
                <params>
                    <param name="optData" type="OptimizationData"/>
                </params>
                <scope line="614">
                    <scope line="615"/>
                    <scope line="619"/>
                </scope>
            </method>
            <javadoc line="625">
                Checks dimensions and values of boundaries and inputSigma if defined.                
            </javadoc>
            <method name="checkParameters" type="void" line="628">
                <declaration name="init" type="double[]" line="629"/>
                <declaration name="lB" type="double[]" line="630"/>
                <declaration name="uB" type="double[]" line="631"/>
                <scope line="632">
                    <scope line="633"/>
                    <scope line="636">
                        <scope line="637"/>
                        <scope line="640"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="646">
                Initialization of the dynamic search parameters                
                <param>
                    guess Initial guess for the arguments of the fitness function.                    
                </param>
            </javadoc>
            <method name="initializeCMA" type="void" line="650">
                <params>
                    <param name="guess" type="double[]"/>
                </params>
                <scope line="651"/>
                <declaration name="sigmaArray" type="double[][]" line="654"/>
                <scope line="655"/>
                <declaration name="insigma" type="RealMatrix" line="658"/>
                <declaration name="sumw" type="double" line="667"/>
                <declaration name="sumwq" type="double" line="668"/>
                <scope line="669">
                    <declaration name="w" type="double" line="670"/>
                </scope>
                <scope line="696"/>
            </method>
            <javadoc line="700">
                Update of the evolution paths ps and pc.                
                <param>
                    zmean Weighted row matrix of the gaussian random numbers generating
                      the current offspring.                    
                </param>
                <param>
                    xold xmean matrix of the previous generation.                    
                </param>
                <return>
                    hsig flag indicating a small correction.                    
                </return>
            </javadoc>
            <method name="updateEvolutionPaths" type="boolean" line="707">
                <params>
                    <param name="zmean" type="RealMatrix"/>
                    <param name="xold" type="RealMatrix"/>
                </params>
                <declaration name="hsig" type="boolean" line="710"/>
                <scope line="712"/>
            </method>
            <javadoc line="717">
                Update of the covariance matrix C for diagonalOnly &gt; 0                
                <param>
                    hsig Flag indicating a small correction.                    
                </param>
                <param>
                    bestArz Fitness-sorted matrix of the gaussian random values of the
                      current offspring.                    
                </param>
            </javadoc>
            <method name="updateCovarianceDiagonalOnly" type="void" line="723">
                <params>
                    <param name="hsig" type="boolean"/>
                    <param name="bestArz" type="RealMatrix"/>
                </params>
                <declaration name="oldFac" type="double" line="724"/>
                <scope line="728"/>
            </method>
            <javadoc line="735">
                Update of the covariance matrix C.                
                <param>
                    hsig Flag indicating a small correction.                    
                </param>
                <param>
                    bestArx Fitness-sorted matrix of the argument vectors producing the
                      current offspring.                    
                </param>
                <param>
                    arz Unsorted matrix containing the gaussian random values of the
                      current offspring.                    
                </param>
                <param>
                    arindex Indices indicating the fitness-order of the current offspring.                    
                </param>
                <param>
                    xold xmean matrix of the previous generation.                    
                </param>
            </javadoc>
            <method name="updateCovariance" type="void" line="745">
                <params>
                    <param name="hsig" type="boolean"/>
                    <param name="bestArx" type="RealMatrix"/>
                    <param name="arz" type="RealMatrix"/>
                    <param name="arindex" type="int[]"/>
                    <param name="xold" type="RealMatrix"/>
                </params>
                <declaration name="negccov" type="double" line="746"/>
                <scope line="747">
                    <declaration name="arpos" type="RealMatrix" line="748"/>
                    <declaration name="roneu" type="RealMatrix" line="749"/>
                    <declaration name="oldFac" type="double" line="750"/>
                    <scope line="752">
                        <declaration name="negminresidualvariance" type="double" line="754"/>
                        <declaration name="negalphaold" type="double" line="755"/>
                        <declaration name="arReverseIndex" type="int[]" line="756"/>
                        <declaration name="arzneg" type="RealMatrix" line="757"/>
                        <declaration name="arnorms" type="RealMatrix" line="758"/>
                        <declaration name="idxnorms" type="int[]" line="759"/>
                        <declaration name="arnormsSorted" type="RealMatrix" line="760"/>
                        <declaration name="idxReverse" type="int[]" line="761"/>
                        <declaration name="arnormsReverse" type="RealMatrix" line="762"/>
                        <declaration name="idxInv" type="int[]" line="764"/>
                        <declaration name="arnormsInv" type="RealMatrix" line="765"/>
                        <declaration name="negcovMax" type="double" line="766"/>
                        <scope line="767"/>
                        <declaration name="artmp" type="RealMatrix" line="771"/>
                        <declaration name="Cneg" type="RealMatrix" line="772"/>
                    </scope>
                    <scope line="776"/>
                </scope>
            </method>
            <javadoc line="782">
                Update B and D from C.                
                <param>
                    negccov Negative covariance factor.                    
                </param>
            </javadoc>
            <method name="updateBD" type="void" line="786">
                <params>
                    <param name="negccov" type="double"/>
                </params>
                <scope line="787">
                    <declaration name="eig" type="EigenDecomposition" line="789"/>
                    <scope line="793">
                        <scope line="794">
                            <scope line="795"/>
                        </scope>
                        <declaration name="tfac" type="double" line="799"/>
                    </scope>
                    <scope line="803">
                        <declaration name="tfac" type="double" line="804"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="813">
                Pushes the current best fitness value in a history queue.                
                <param>
                    vals History queue.                    
                </param>
                <param>
                    val Current best fitness value.                    
                </param>
            </javadoc>
            <method name="push" type="void" line="818">
                <params>
                    <param name="vals" type="double[]"/>
                    <param name="val" type="double"/>
                </params>
                <scope line="819"/>
            </method>
            <javadoc line="824">
                Sorts fitness values.                
                <param>
                    doubles Array of values to be sorted.                    
                </param>
                <return>
                    a sorted array of indices pointing into doubles.                    
                </return>
            </javadoc>
            <method name="sortedIndices" type="int[]" line="829">
                <params>
                    <param name="doubles" type="double[]"/>
                </params>
                <declaration name="dis" type="DoubleIndex[]" line="830"/>
                <scope line="831"/>
                <declaration name="indices" type="int[]" line="835"/>
                <scope line="836"/>
            </method>
            <class name="DoubleIndex" line="841">
                <implements interface="Comparable">
                    <type_params>
                        <type_param name="DoubleIndex"/>
                    </type_params>
                </implements>
                <javadoc line="841">
                    Used to sort fitness values. Sorting is always in lower value first
                      order.                    
                </javadoc>
                <declaration name="value" type="double" line="846"/>
                <javadoc line="846">
                    Value to compare.                    
                </javadoc>
                <declaration name="index" type="int" line="850"/>
                <javadoc line="850">
                    Index into sorted array.                    
                </javadoc>
                <javadoc line="854">
                    @param value Value to compare.                    
                    <param>
                        index Index into sorted array.                        
                    </param>
                </javadoc>
                <method name="DoubleIndex" type="constructor" line="858">
                    <params>
                        <param name="value" type="double"/>
                        <param name="index" type="int"/>
                    </params>
                </method>
                <javadoc line="862">
                    {@inheritDoc}                    
                </javadoc>
                <method name="compareTo" type="int" line="865">
                    <params>
                        <param name="o" type="DoubleIndex"/>
                    </params>
                </method>
                <javadoc line="868">
                    {@inheritDoc}                    
                </javadoc>
                <method name="equals" type="boolean" line="871">
                    <params>
                        <param name="other" type="Object"/>
                    </params>
                    <scope line="872"/>
                    <scope line="875"/>
                </method>
                <javadoc line="880">
                    {@inheritDoc}                    
                </javadoc>
                <method name="hashCode" type="int" line="883">
                    <declaration name="bits" type="long" line="884"/>
                </method>
            </class>
            <class name="FitnessFunction" line="888">
                <javadoc line="888">
                    Normalizes fitness values to the range [0,1]. Adds a penalty to the
                      fitness value if out of range. The penalty is adjusted by calling
                      setValueRange().                    
                </javadoc>
                <declaration name="valueRange" type="double" line="894"/>
                <javadoc line="894">
                    Determines the penalty for boundary violations                    
                </javadoc>
                <declaration name="isRepairMode" type="boolean" line="898"/>
                <javadoc line="898">
                    Flag indicating whether the objective variables are forced into their
                      bounds if defined                    
                </javadoc>
                <javadoc line="903">
                    Simple constructor.                    
                </javadoc>
                <method name="FitnessFunction" type="constructor" line="906"/>
                <javadoc line="910">
                    @param point Normalized objective variables.                    
                    <return>
                        the objective value + penalty for violated bounds.                        
                    </return>
                </javadoc>
                <method name="value" type="double" line="914">
                    <params>
                        <param name="point" type="double[]"/>
                    </params>
                    <declaration name="value" type="double" line="915"/>
                    <scope line="916">
                        <declaration name="repaired" type="double[]" line="917"/>
                    </scope>
                    <scope line="920"/>
                </method>
                <javadoc line="925">
                    @param x Normalized objective variables.                    
                    <return>
                        {@code true} if in bounds.                        
                    </return>
                </javadoc>
                <method name="isFeasible" type="boolean" line="929">
                    <params>
                        <param name="x" type="double[]"/>
                    </params>
                    <declaration name="lB" type="double[]" line="930"/>
                    <declaration name="uB" type="double[]" line="931"/>
                    <scope line="932">
                        <scope line="933"/>
                        <scope line="936"/>
                    </scope>
                </method>
                <javadoc line="942">
                    @param valueRange Adjusts the penalty computation.                    
                </javadoc>
                <method name="setValueRange" type="void" line="945">
                    <params>
                        <param name="valueRange" type="double"/>
                    </params>
                </method>
                <javadoc line="948">
                    @param x Normalized objective variables.                    
                    <return>
                        the repaired (i.e. all in bounds) objective variables.                        
                    </return>
                </javadoc>
                <method name="repair" type="double[]" line="952">
                    <params>
                        <param name="x" type="double[]"/>
                    </params>
                    <declaration name="lB" type="double[]" line="953"/>
                    <declaration name="uB" type="double[]" line="954"/>
                    <declaration name="repaired" type="double[]" line="955"/>
                    <scope line="956">
                        <scope line="957"/>
                        <scope line="960"/>
                        <scope line="963"/>
                    </scope>
                </method>
                <javadoc line="969">
                    @param x Normalized objective variables.                    
                    <param>
                        repaired Repaired objective variables.                        
                    </param>
                    <return>
                        Penalty value according to the violation of the bounds.                        
                    </return>
                </javadoc>
                <method name="penalty" type="double" line="974">
                    <params>
                        <param name="x" type="double[]"/>
                        <param name="repaired" type="double[]"/>
                    </params>
                    <declaration name="penalty" type="double" line="975"/>
                    <scope line="976">
                        <declaration name="diff" type="double" line="977"/>
                    </scope>
                </method>
            </class>
            <javadoc line="983">
                @param m Input matrix                
                <return>
                    Matrix representing the element-wise logarithm of m.                    
                </return>
            </javadoc>
            <method name="log" type="RealMatrix" line="987">
                <params>
                    <param name="m" type="RealMatrix"/>
                </params>
                <declaration name="d" type="double[][]" line="988"/>
                <scope line="989">
                    <scope line="990"/>
                </scope>
            </method>
            <javadoc line="996">
                @param m Input matrix.                
                <return>
                    Matrix representing the element-wise square root of m.                    
                </return>
            </javadoc>
            <method name="sqrt" type="RealMatrix" line="1000">
                <params>
                    <param name="m" type="RealMatrix"/>
                </params>
                <declaration name="d" type="double[][]" line="1001"/>
                <scope line="1002">
                    <scope line="1003"/>
                </scope>
            </method>
            <javadoc line="1009">
                @param m Input matrix.                
                <return>
                    Matrix representing the element-wise square of m.                    
                </return>
            </javadoc>
            <method name="square" type="RealMatrix" line="1013">
                <params>
                    <param name="m" type="RealMatrix"/>
                </params>
                <declaration name="d" type="double[][]" line="1014"/>
                <scope line="1015">
                    <scope line="1016">
                        <declaration name="e" type="double" line="1017"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="1023">
                @param m Input matrix 1.                
                <param>
                    n Input matrix 2.                    
                </param>
                <return>
                    the matrix where the elements of m and n are element-wise multiplied.                    
                </return>
            </javadoc>
            <method name="times" type="RealMatrix" line="1028">
                <params>
                    <param name="m" type="RealMatrix"/>
                    <param name="n" type="RealMatrix"/>
                </params>
                <declaration name="d" type="double[][]" line="1029"/>
                <scope line="1030">
                    <scope line="1031"/>
                </scope>
            </method>
            <javadoc line="1037">
                @param m Input matrix 1.                
                <param>
                    n Input matrix 2.                    
                </param>
                <return>
                    Matrix where the elements of m and n are element-wise divided.                    
                </return>
            </javadoc>
            <method name="divide" type="RealMatrix" line="1042">
                <params>
                    <param name="m" type="RealMatrix"/>
                    <param name="n" type="RealMatrix"/>
                </params>
                <declaration name="d" type="double[][]" line="1043"/>
                <scope line="1044">
                    <scope line="1045"/>
                </scope>
            </method>
            <javadoc line="1051">
                @param m Input matrix.                
                <param>
                    cols Columns to select.                    
                </param>
                <return>
                    Matrix representing the selected columns.                    
                </return>
            </javadoc>
            <method name="selectColumns" type="RealMatrix" line="1056">
                <params>
                    <param name="m" type="RealMatrix"/>
                    <param name="cols" type="int[]"/>
                </params>
                <declaration name="d" type="double[][]" line="1057"/>
                <scope line="1058">
                    <scope line="1059"/>
                </scope>
            </method>
            <javadoc line="1065">
                @param m Input matrix.                
                <param>
                    k Diagonal position.                    
                </param>
                <return>
                    Upper triangular part of matrix.                    
                </return>
            </javadoc>
            <method name="triu" type="RealMatrix" line="1070">
                <params>
                    <param name="m" type="RealMatrix"/>
                    <param name="k" type="int"/>
                </params>
                <declaration name="d" type="double[][]" line="1071"/>
                <scope line="1072">
                    <scope line="1073"/>
                </scope>
            </method>
            <javadoc line="1079">
                @param m Input matrix.                
                <return>
                    Row matrix representing the sums of the rows.                    
                </return>
            </javadoc>
            <method name="sumRows" type="RealMatrix" line="1083">
                <params>
                    <param name="m" type="RealMatrix"/>
                </params>
                <declaration name="d" type="double[][]" line="1084"/>
                <scope line="1085">
                    <declaration name="sum" type="double" line="1086"/>
                    <scope line="1087"/>
                </scope>
            </method>
            <javadoc line="1094">
                @param m Input matrix.                
                <return>
                    the diagonal n-by-n matrix if m is a column matrix or the column
                      matrix representing the diagonal if m is a n-by-n matrix.                    
                </return>
            </javadoc>
            <method name="diag" type="RealMatrix" line="1099">
                <params>
                    <param name="m" type="RealMatrix"/>
                </params>
                <scope line="1100">
                    <declaration name="d" type="double[][]" line="1101"/>
                    <scope line="1102"/>
                </scope>
                <scope line="1107">
                    <declaration name="d" type="double[][]" line="1108"/>
                    <scope line="1109"/>
                </scope>
            </method>
            <javadoc line="1115">
                Copies a column from m1 to m2.                
                <param>
                    m1 Source matrix.                    
                </param>
                <param>
                    col1 Source column.                    
                </param>
                <param>
                    m2 Target matrix.                    
                </param>
                <param>
                    col2 Target column.                    
                </param>
            </javadoc>
            <method name="copyColumn" type="void" line="1122">
                <params>
                    <param name="m1" type="RealMatrix"/>
                    <param name="col1" type="int"/>
                    <param name="m2" type="RealMatrix"/>
                    <param name="col2" type="int"/>
                </params>
                <scope line="1123"/>
            </method>
            <javadoc line="1127">
                @param n Number of rows.                
                <param>
                    m Number of columns.                    
                </param>
                <return>
                    n-by-m matrix filled with 1.                    
                </return>
            </javadoc>
            <method name="ones" type="RealMatrix" line="1132">
                <params>
                    <param name="n" type="int"/>
                    <param name="m" type="int"/>
                </params>
                <declaration name="d" type="double[][]" line="1133"/>
                <scope line="1134"/>
            </method>
            <javadoc line="1139">
                @param n Number of rows.                
                <param>
                    m Number of columns.                    
                </param>
                <return>
                    n-by-m matrix of 0 values out of diagonal, and 1 values on
                      the diagonal.                    
                </return>
            </javadoc>
            <method name="eye" type="RealMatrix" line="1145">
                <params>
                    <param name="n" type="int"/>
                    <param name="m" type="int"/>
                </params>
                <declaration name="d" type="double[][]" line="1146"/>
                <scope line="1147">
                    <scope line="1148"/>
                </scope>
            </method>
            <javadoc line="1154">
                @param n Number of rows.                
                <param>
                    m Number of columns.                    
                </param>
                <return>
                    n-by-m matrix of zero values.                    
                </return>
            </javadoc>
            <method name="zeros" type="RealMatrix" line="1159">
                <params>
                    <param name="n" type="int"/>
                    <param name="m" type="int"/>
                </params>
            </method>
            <javadoc line="1162">
                @param mat Input matrix.                
                <param>
                    n Number of row replicates.                    
                </param>
                <param>
                    m Number of column replicates.                    
                </param>
                <return>
                    a matrix which replicates the input matrix in both directions.                    
                </return>
            </javadoc>
            <method name="repmat" type="RealMatrix" line="1168">
                <params>
                    <param name="mat" type="RealMatrix"/>
                    <param name="n" type="int"/>
                    <param name="m" type="int"/>
                </params>
                <declaration name="rd" type="int" line="1169"/>
                <declaration name="cd" type="int" line="1170"/>
                <declaration name="d" type="double[][]" line="1171"/>
                <scope line="1172">
                    <scope line="1173"/>
                </scope>
            </method>
            <javadoc line="1179">
                @param start Start value.                
                <param>
                    end End value.                    
                </param>
                <param>
                    step Step size.                    
                </param>
                <return>
                    a sequence as column matrix.                    
                </return>
            </javadoc>
            <method name="sequence" type="RealMatrix" line="1185">
                <params>
                    <param name="start" type="double"/>
                    <param name="end" type="double"/>
                    <param name="step" type="double"/>
                </params>
                <declaration name="size" type="int" line="1186"/>
                <declaration name="d" type="double[][]" line="1187"/>
                <declaration name="value" type="double" line="1188"/>
                <scope line="1189"/>
            </method>
            <javadoc line="1195">
                @param m Input matrix.                
                <return>
                    the maximum of the matrix element values.                    
                </return>
            </javadoc>
            <method name="max" type="double" line="1199">
                <params>
                    <param name="m" type="RealMatrix"/>
                </params>
                <declaration name="max" type="double" line="1200"/>
                <scope line="1201">
                    <scope line="1202">
                        <declaration name="e" type="double" line="1203"/>
                        <scope line="1204"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="1211">
                @param m Input matrix.                
                <return>
                    the minimum of the matrix element values.                    
                </return>
            </javadoc>
            <method name="min" type="double" line="1215">
                <params>
                    <param name="m" type="RealMatrix"/>
                </params>
                <declaration name="min" type="double" line="1216"/>
                <scope line="1217">
                    <scope line="1218">
                        <declaration name="e" type="double" line="1219"/>
                        <scope line="1220"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="1227">
                @param m Input array.                
                <return>
                    the maximum of the array values.                    
                </return>
            </javadoc>
            <method name="max" type="double" line="1231">
                <params>
                    <param name="m" type="double[]"/>
                </params>
                <declaration name="max" type="double" line="1232"/>
                <scope line="1233">
                    <scope line="1234"/>
                </scope>
            </method>
            <javadoc line="1240">
                @param m Input array.                
                <return>
                    the minimum of the array values.                    
                </return>
            </javadoc>
            <method name="min" type="double" line="1244">
                <params>
                    <param name="m" type="double[]"/>
                </params>
                <declaration name="min" type="double" line="1245"/>
                <scope line="1246">
                    <scope line="1247"/>
                </scope>
            </method>
            <javadoc line="1253">
                @param indices Input index array.                
                <return>
                    the inverse of the mapping defined by indices.                    
                </return>
            </javadoc>
            <method name="inverse" type="int[]" line="1257">
                <params>
                    <param name="indices" type="int[]"/>
                </params>
                <declaration name="inverse" type="int[]" line="1258"/>
                <scope line="1259"/>
            </method>
            <javadoc line="1264">
                @param indices Input index array.                
                <return>
                    the indices in inverse order (last is first).                    
                </return>
            </javadoc>
            <method name="reverse" type="int[]" line="1268">
                <params>
                    <param name="indices" type="int[]"/>
                </params>
                <declaration name="reverse" type="int[]" line="1269"/>
                <scope line="1270"/>
            </method>
            <javadoc line="1275">
                @param size Length of random array.                
                <return>
                    an array of Gaussian random numbers.                    
                </return>
            </javadoc>
            <method name="randn" type="double[]" line="1279">
                <params>
                    <param name="size" type="int"/>
                </params>
                <declaration name="randn" type="double[]" line="1280"/>
                <scope line="1281"/>
            </method>
            <javadoc line="1286">
                @param size Number of rows.                
                <param>
                    popSize Population size.                    
                </param>
                <return>
                    a 2-dimensional matrix of Gaussian random numbers.                    
                </return>
            </javadoc>
            <method name="randn1" type="RealMatrix" line="1291">
                <params>
                    <param name="size" type="int"/>
                    <param name="popSize" type="int"/>
                </params>
                <declaration name="d" type="double[][]" line="1292"/>
                <scope line="1293">
                    <scope line="1294"/>
                </scope>
            </method>
        </class>
    </source>