<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.fitting">
        <import package="java.util.Arrays"/>
        <import package="java.util.Comparator"/>
        <import package="org.apache.commons.math3.analysis.function.Gaussian"/>
        <import package="org.apache.commons.math3.exception.NullArgumentException"/>
        <import package="org.apache.commons.math3.exception.NumberIsTooSmallException"/>
        <import package="org.apache.commons.math3.exception.OutOfRangeException"/>
        <import package="org.apache.commons.math3.exception.ZeroException"/>
        <import package="org.apache.commons.math3.exception.NotStrictlyPositiveException"/>
        <import package="org.apache.commons.math3.exception.util.LocalizedFormats"/>
        <import package="org.apache.commons.math3.optim.nonlinear.vector.MultivariateVectorOptimizer"/>
        <import package="org.apache.commons.math3.util.FastMath"/>
        <class name="GaussianFitter" line="31">
            <extends class="CurveFitter">
                <type_params>
                    <type_param name="Gaussian.Parametric"/>
                </type_params>
            </extends>
            <javadoc line="31">
                Fits points to a {@link org.apache.commons.math3.analysis.function.Gaussian.Parametric Gaussian} function.
                  &lt;p&gt;
                  Usage example:
                  &lt;pre&gt;
                  GaussianFitter fitter = new GaussianFitter(
                  new LevenbergMarquardtOptimizer());
                  fitter.addObservedPoint(4.0254623,  531026.0);
                  fitter.addObservedPoint(4.03128248, 984167.0);
                  fitter.addObservedPoint(4.03839603, 1887233.0);
                  fitter.addObservedPoint(4.04421621, 2687152.0);
                  fitter.addObservedPoint(4.05132976, 3461228.0);
                  fitter.addObservedPoint(4.05326982, 3580526.0);
                  fitter.addObservedPoint(4.05779662, 3439750.0);
                  fitter.addObservedPoint(4.0636168,  2877648.0);
                  fitter.addObservedPoint(4.06943698, 2175960.0);
                  fitter.addObservedPoint(4.07525716, 1447024.0);
                  fitter.addObservedPoint(4.08237071, 717104.0);
                  fitter.addObservedPoint(4.08366408, 620014.0);
                  double[] parameters = fitter.fit();
                  &lt;/pre&gt;                
                <since>
                    2.2                    
                </since>
                <version>
                    $Id: GaussianFitter.java 1416643 2012-12-03 19:37:14Z tn $                    
                </version>
                <deprecated>
                    As of 3.3. Please use {@link GaussianCurveFitter} and{@link WeightedObservedPoints} instead.                    
                </deprecated>
            </javadoc>
            <javadoc line="61">
                Constructs an instance using the specified optimizer.                
                <param>
                    optimizer Optimizer to use for the fitting.                    
                </param>
            </javadoc>
            <method name="GaussianFitter" type="constructor" line="66">
                <params>
                    <param name="optimizer" type="MultivariateVectorOptimizer"/>
                </params>
            </method>
            <javadoc line="70">
                Fits a Gaussian function to the observed points.                
                <param>
                    initialGuess First guess values in the following order:
                      &lt;ul&gt;
                      &lt;li&gt;Norm&lt;/li&gt;
                      &lt;li&gt;Mean&lt;/li&gt;
                      &lt;li&gt;Sigma&lt;/li&gt;
                      &lt;/ul&gt;                    
                </param>
                <return>
                    the parameters of the Gaussian function that best fits the
                      observed points (in the same order as above).                    
                </return>
                <since>
                    3.0                    
                </since>
            </javadoc>
            <method name="fit" type="double[]" line="83">
                <params>
                    <param name="initialGuess" type="double[]"/>
                </params>
                <comment line="91">
                    NOPMD                    
                </comment>
                <comment line="92">
                    Do nothing.                    
                </comment>
                <comment line="104">
                    NOPMD                    
                </comment>
                <comment line="105">
                    Do nothing.                    
                </comment>
                <anonymous_class line="84">
                    <method name="value" type="double" line="86">
                        <params>
                            <param name="x" type="double"/>
                            <param name="p" type="double"/>
                        </params>
                        <comment line="91">
                            NOPMD                            
                        </comment>
                        <comment line="92">
                            Do nothing.                            
                        </comment>
                        <declaration name="v" type="double" line="87"/>
                        <scope line="88"/>
                        <scope line="90"/>
                    </method>
                    <method name="gradient" type="double[]" line="97">
                        <params>
                            <param name="x" type="double"/>
                            <param name="p" type="double"/>
                        </params>
                        <comment line="104">
                            NOPMD                            
                        </comment>
                        <comment line="105">
                            Do nothing.                            
                        </comment>
                        <declaration name="v" type="double[]" line="98"/>
                        <scope line="101"/>
                        <scope line="103"/>
                    </method>
                </anonymous_class>
                <declaration name="f" type="Gaussian.Parametric" line="84"/>
            </method>
            <javadoc line="113">
                Fits a Gaussian function to the observed points.                
                <return>
                    the parameters of the Gaussian function that best fits the
                      observed points (in the same order as above).                    
                </return>
            </javadoc>
            <method name="fit" type="double[]" line="119">
                <declaration name="guess" type="double[]" line="120"/>
            </method>
            <class name="ParameterGuesser" line="124">
                <javadoc line="124">
                    Guesses the parameters {@code norm}, {@code mean}, and {@code sigma}of a {@link org.apache.commons.math3.analysis.function.Gaussian.Parametric}based on the specified observed points.                    
                </javadoc>
                <declaration name="norm" type="double" line="130"/>
                <javadoc line="130">
                    Normalization factor.                    
                </javadoc>
                <declaration name="mean" type="double" line="132"/>
                <javadoc line="132">
                    Mean.                    
                </javadoc>
                <declaration name="sigma" type="double" line="134"/>
                <javadoc line="134">
                    Standard deviation.                    
                </javadoc>
                <javadoc line="137">
                    Constructs instance with the specified observed points.                    
                    <param>
                        observations Observed points from which to guess the
                          parameters of the Gaussian.                        
                    </param>
                    <throws>
                        NullArgumentException if {@code observations} is{@code null}.                        
                    </throws>
                    <throws>
                        NumberIsTooSmallException if there are less than 3
                          observations.                        
                    </throws>
                </javadoc>
                <method name="ParameterGuesser" type="constructor" line="147">
                    <params>
                        <param name="observations" type="WeightedObservedPoint[]"/>
                    </params>
                    <scope line="148"/>
                    <scope line="151"/>
                    <declaration name="sorted" type="WeightedObservedPoint[]" line="155"/>
                    <declaration name="params" type="double[]" line="156"/>
                </method>
                <javadoc line="163">
                    Gets an estimation of the parameters.                    
                    <return>
                        the guessed parameters, in the following order:
                          &lt;ul&gt;
                          &lt;li&gt;Normalization factor&lt;/li&gt;
                          &lt;li&gt;Mean&lt;/li&gt;
                          &lt;li&gt;Standard deviation&lt;/li&gt;
                          &lt;/ul&gt;                        
                    </return>
                </javadoc>
                <method name="guess" type="double[]" line="173"/>
                <javadoc line="177">
                    Sort the observations.                    
                    <param>
                        unsorted Input observations.                        
                    </param>
                    <return>
                        the input observations, sorted.                        
                    </return>
                </javadoc>
                <method name="sortObservations" type="WeightedObservedPoint[]" line="183">
                    <params>
                        <param name="unsorted" type="WeightedObservedPoint[]"/>
                    </params>
                    <declaration name="observations" type="WeightedObservedPoint[]" line="184"/>
                    <anonymous_class line="186">
                        <method name="compare" type="int" line="188">
                            <params>
                                <param name="p1" type="WeightedObservedPoint"/>
                                <param name="p2" type="WeightedObservedPoint"/>
                            </params>
                            <scope line="189"/>
                            <scope line="192"/>
                            <scope line="195"/>
                            <scope line="198"/>
                            <scope line="201"/>
                            <scope line="204"/>
                            <scope line="207"/>
                            <scope line="210"/>
                            <scope line="213"/>
                        </method>
                    </anonymous_class>
                    <declaration name="cmp" type="Comparator&amp;lt;WeightedObservedPoint&amp;gt;" line="185"/>
                </method>
                <javadoc line="224">
                    Guesses the parameters based on the specified observed points.                    
                    <param>
                        points Observed points, sorted.                        
                    </param>
                    <return>
                        the guessed parameters (normalization factor, mean and
                          sigma).                        
                    </return>
                </javadoc>
                <method name="basicGuess" type="double[]" line="231">
                    <params>
                        <param name="points" type="WeightedObservedPoint[]"/>
                    </params>
                    <comment line="244">
                        TODO: Exceptions should not be used for flow control.                        
                    </comment>
                    <declaration name="maxYIdx" type="int" line="232"/>
                    <declaration name="n" type="double" line="233"/>
                    <declaration name="m" type="double" line="234"/>
                    <declaration name="fwhmApprox" type="double" line="236"/>
                    <scope line="237">
                        <declaration name="halfY" type="double" line="238"/>
                        <declaration name="fwhmX1" type="double" line="239"/>
                        <declaration name="fwhmX2" type="double" line="240"/>
                    </scope>
                    <scope line="242"/>
                    <declaration name="s" type="double" line="246"/>
                </method>
                <javadoc line="251">
                    Finds index of point in specified points with the largest Y.                    
                    <param>
                        points Points to search.                        
                    </param>
                    <return>
                        the index in specified points array.                        
                    </return>
                </javadoc>
                <method name="findMaxY" type="int" line="257">
                    <params>
                        <param name="points" type="WeightedObservedPoint[]"/>
                    </params>
                    <declaration name="maxYIdx" type="int" line="258"/>
                    <scope line="259">
                        <scope line="260"/>
                    </scope>
                </method>
                <javadoc line="267">
                    Interpolates using the specified points to determine X at the
                      specified Y.                    
                    <param>
                        points Points to use for interpolation.                        
                    </param>
                    <param>
                        startIdx Index within points from which to start the search for
                          interpolation bounds points.                        
                    </param>
                    <param>
                        idxStep Index step for searching interpolation bounds points.                        
                    </param>
                    <param>
                        y Y value for which X should be determined.                        
                    </param>
                    <return>
                        the value of X for the specified Y.                        
                    </return>
                    <throws>
                        ZeroException if {@code idxStep} is 0.                        
                    </throws>
                    <throws>
                        OutOfRangeException if specified {@code y} is not within the
                          range of the specified {@code points}.                        
                    </throws>
                </javadoc>
                <method name="interpolateXAtY" type="double" line="285">
                    <params>
                        <param name="points" type="WeightedObservedPoint[]"/>
                        <param name="startIdx" type="int"/>
                        <param name="idxStep" type="int"/>
                        <param name="y" type="double"/>
                    </params>
                    <scope line="286"/>
                    <declaration name="twoPoints" type="WeightedObservedPoint[]" line="289"/>
                    <declaration name="p1" type="WeightedObservedPoint" line="291"/>
                    <declaration name="p2" type="WeightedObservedPoint" line="292"/>
                    <scope line="293"/>
                    <scope line="296"/>
                </method>
                <javadoc line="303">
                    Gets the two bounding interpolation points from the specified points
                      suitable for determining X at the specified Y.                    
                    <param>
                        points Points to use for interpolation.                        
                    </param>
                    <param>
                        startIdx Index within points from which to start search for
                          interpolation bounds points.                        
                    </param>
                    <param>
                        idxStep Index step for search for interpolation bounds points.                        
                    </param>
                    <param>
                        y Y value for which X should be determined.                        
                    </param>
                    <return>
                        the array containing two points suitable for determining X at
                          the specified Y.                        
                    </return>
                    <throws>
                        ZeroException if {@code idxStep} is 0.                        
                    </throws>
                    <throws>
                        OutOfRangeException if specified {@code y} is not within the
                          range of the specified {@code points}.                        
                    </throws>
                </javadoc>
                <method name="getInterpolationPointsForY" type="WeightedObservedPoint[]" line="322">
                    <params>
                        <param name="points" type="WeightedObservedPoint[]"/>
                        <param name="startIdx" type="int"/>
                        <param name="idxStep" type="int"/>
                        <param name="y" type="double"/>
                    </params>
                    <comment line="341">
                        Boundaries are replaced by dummy values because the raised
                         exception is caught and the message never displayed.
                         TODO: Exceptions should not be used for flow control.                        
                    </comment>
                    <scope line="323"/>
                    <scope line="328">
                        <declaration name="p1" type="WeightedObservedPoint" line="329"/>
                        <declaration name="p2" type="WeightedObservedPoint" line="330"/>
                        <scope line="331">
                            <scope line="332"/>
                            <scope line="334"/>
                        </scope>
                    </scope>
                </method>
                <javadoc line="348">
                    Determines whether a value is between two other values.                    
                    <param>
                        value Value to test whether it is between {@code boundary1}and {@code boundary2}.                        
                    </param>
                    <param>
                        boundary1 One end of the range.                        
                    </param>
                    <param>
                        boundary2 Other end of the range.                        
                    </param>
                    <return>
                        {@code true} if {@code value} is between {@code boundary1} and{@code boundary2} (inclusive), {@code false} otherwise.                        
                    </return>
                </javadoc>
                <method name="isBetween" type="boolean" line="360">
                    <params>
                        <param name="value" type="double"/>
                        <param name="boundary1" type="double"/>
                        <param name="boundary2" type="double"/>
                    </params>
                </method>
            </class>
        </class>
    </source>