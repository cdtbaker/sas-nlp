<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.optimization.direct">
        <import package="java.util.Arrays"/>
        <import package="java.util.Comparator"/>
        <import package="org.apache.commons.math3.analysis.MultivariateFunction"/>
        <import package="org.apache.commons.math3.exception.NotStrictlyPositiveException"/>
        <import package="org.apache.commons.math3.exception.DimensionMismatchException"/>
        <import package="org.apache.commons.math3.exception.ZeroException"/>
        <import package="org.apache.commons.math3.exception.OutOfRangeException"/>
        <import package="org.apache.commons.math3.exception.NullArgumentException"/>
        <import package="org.apache.commons.math3.exception.MathIllegalArgumentException"/>
        <import package="org.apache.commons.math3.exception.util.LocalizedFormats"/>
        <import package="org.apache.commons.math3.optimization.PointValuePair"/>
        <import package="org.apache.commons.math3.optimization.OptimizationData"/>
        <class name="AbstractSimplex" line="34">
            <implements interface="OptimizationData"/>
            <javadoc line="34">
                This class implements the simplex concept.
                  It is intended to be used in conjunction with {@link SimplexOptimizer}.
                  &lt;br/&gt;
                  The initial configuration of the simplex is set by the constructors{@link #AbstractSimplex(double[])} or {@link #AbstractSimplex(double[][])}.
                  The other {@link #AbstractSimplex(int) constructor} will set all steps
                  to 1, thus building a default configuration from a unit hypercube.
                  &lt;br/&gt;
                  Users &lt;em&gt;must&lt;/em&gt; call the {@link #build(double[]) build} method in order
                  to create the data structure that will be acted on by the other methods of
                  this class.                
                <see>
                    SimplexOptimizer                    
                </see>
                <version>
                    $Id: AbstractSimplex.java 1422230 2012-12-15 12:11:13Z erans $                    
                </version>
                <deprecated>
                    As of 3.1 (to be removed in 4.0).                    
                </deprecated>
                <since>
                    3.0                    
                </since>
            </javadoc>
            <declaration name="simplex" type="PointValuePair[]" line="54"/>
            <javadoc line="54">
                Simplex.                
            </javadoc>
            <declaration name="startConfiguration" type="double[][]" line="56"/>
            <javadoc line="56">
                Start simplex configuration.                
            </javadoc>
            <declaration name="dimension" type="int" line="58"/>
            <javadoc line="58">
                Simplex dimension (must be equal to {@code simplex.length - 1}).                
            </javadoc>
            <javadoc line="61">
                Build a unit hypercube simplex.                
                <param>
                    n Dimension of the simplex.                    
                </param>
            </javadoc>
            <method name="AbstractSimplex" type="constructor" line="66">
                <params>
                    <param name="n" type="int"/>
                </params>
            </method>
            <javadoc line="70">
                Build a hypercube simplex with the given side length.                
                <param>
                    n Dimension of the simplex.                    
                </param>
                <param>
                    sideLength Length of the sides of the hypercube.                    
                </param>
            </javadoc>
            <method name="AbstractSimplex" type="constructor" line="77">
                <params>
                    <param name="n" type="int"/>
                    <param name="sideLength" type="double"/>
                </params>
            </method>
            <javadoc line="81">
                The start configuration for simplex is built from a box parallel to
                  the canonical axes of the space. The simplex is the subset of vertices
                  of a box parallel to the canonical axes. It is built as the path followed
                  while traveling from one vertex of the box to the diagonally opposite
                  vertex moving only along the box edges. The first vertex of the box will
                  be located at the start point of the optimization.
                  As an example, in dimension 3 a simplex has 4 vertices. Setting the
                  steps to (1, 10, 2) and the start point to (1, 1, 1) would imply the
                  start simplex would be: { (1, 1, 1), (2, 1, 1), (2, 11, 1), (2, 11, 3) }.
                  The first vertex would be set to the start point at (1, 1, 1) and the
                  last vertex would be set to the diagonally opposite vertex at (2, 11, 3).                
                <param>
                    steps Steps along the canonical axes representing box edges. They
                      may be negative but not zero.                    
                </param>
                <throws>
                    NullArgumentException if {@code steps} is {@code null}.                    
                </throws>
                <throws>
                    ZeroException if one of the steps is zero.                    
                </throws>
            </javadoc>
            <method name="AbstractSimplex" type="constructor" line="99">
                <params>
                    <param name="steps" type="double[]"/>
                </params>
                <comment line="109">
                    Only the relative position of the n final vertices with respect
                     to the first one are stored.                    
                </comment>
                <scope line="100"/>
                <scope line="103"/>
                <scope line="111">
                    <declaration name="vertexI" type="double[]" line="112"/>
                    <scope line="113">
                        <scope line="114"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="122">
                The real initial simplex will be set up by moving the reference
                  simplex such that its first point is located at the start point of the
                  optimization.                
                <param>
                    referenceSimplex Reference simplex.                    
                </param>
                <throws>
                    NotStrictlyPositiveException if the reference simplex does not
                      contain at least one point.                    
                </throws>
                <throws>
                    DimensionMismatchException if there is a dimension mismatch
                      in the reference simplex.                    
                </throws>
                <throws>
                    IllegalArgumentException if one of its vertices is duplicated.                    
                </throws>
            </javadoc>
            <method name="AbstractSimplex" type="constructor" line="134">
                <params>
                    <param name="referenceSimplex" type="double[][]"/>
                </params>
                <comment line="142">
                    Only the relative position of the n final vertices with respect
                     to the first one are stored.                    
                </comment>
                <comment line="147">
                    Loop over vertices.                    
                </comment>
                <comment line="151">
                    Safety checks.                    
                </comment>
                <comment line="170">
                    Store vertex i position relative to vertex 0 position.                    
                </comment>
                <scope line="135"/>
                <declaration name="ref0" type="double[]" line="144"/>
                <scope line="147">
                    <declaration name="refI" type="double[]" line="148"/>
                    <scope line="151"/>
                    <scope line="154">
                        <declaration name="refJ" type="double[]" line="155"/>
                        <declaration name="allEquals" type="boolean" line="156"/>
                        <scope line="157">
                            <scope line="158"/>
                        </scope>
                        <scope line="163"/>
                    </scope>
                    <scope line="170">
                        <declaration name="confI" type="double[]" line="171"/>
                        <scope line="172"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="179">
                Get simplex dimension.                
                <return>
                    the dimension of the simplex.                    
                </return>
            </javadoc>
            <method name="getDimension" type="int" line="184"/>
            <javadoc line="188">
                Get simplex size.
                  After calling the {@link #build(double[]) build} method, this method will
                  will be equivalent to {@code getDimension() + 1}.                
                <return>
                    the size of the simplex.                    
                </return>
            </javadoc>
            <method name="getSize" type="int" line="195"/>
            <method name="iterate" type="void" line="199"/>
            <javadoc line="199">
                Compute the next simplex of the algorithm.                
                <param>
                    evaluationFunction Evaluation function.                    
                </param>
                <param>
                    comparator Comparator to use to sort simplex vertices from best
                      to worst.                    
                </param>
                <throws>
                    org.apache.commons.math3.exception.TooManyEvaluationsExceptionif the algorithm fails to converge.                    
                </throws>
            </javadoc>
            <javadoc line="211">
                Build an initial simplex.                
                <param>
                    startPoint First point of the simplex.                    
                </param>
                <throws>
                    DimensionMismatchException if the start point does not match
                      simplex dimension.                    
                </throws>
            </javadoc>
            <method name="build" type="void" line="218">
                <params>
                    <param name="startPoint" type="double[]"/>
                </params>
                <comment line="224">
                    Set first vertex.                    
                </comment>
                <comment line="228">
                    Set remaining vertices.                    
                </comment>
                <scope line="219"/>
                <scope line="228">
                    <declaration name="confI" type="double[]" line="229"/>
                    <declaration name="vertexI" type="double[]" line="230"/>
                    <scope line="231"/>
                </scope>
            </method>
            <javadoc line="238">
                Evaluate all the non-evaluated points of the simplex.                
                <param>
                    evaluationFunction Evaluation function.                    
                </param>
                <param>
                    comparator Comparator to use to sort simplex vertices from best to worst.                    
                </param>
                <throws>
                    org.apache.commons.math3.exception.TooManyEvaluationsExceptionif the maximal number of evaluations is exceeded.                    
                </throws>
            </javadoc>
            <method name="evaluate" type="void" line="247">
                <params>
                    <param name="evaluationFunction" type="MultivariateFunction"/>
                    <param name="comparator" type="Comparator<PointValuePair>"/>
                </params>
                <comment line="249">
                    Evaluate the objective function at all non-evaluated simplex points.                    
                </comment>
                <comment line="258">
                    Sort the simplex from best to worst.                    
                </comment>
                <scope line="249">
                    <declaration name="vertex" type="PointValuePair" line="250"/>
                    <declaration name="point" type="double[]" line="251"/>
                    <scope line="252"/>
                </scope>
            </method>
            <javadoc line="261">
                Replace the worst point of the simplex by a new point.                
                <param>
                    pointValuePair Point to insert.                    
                </param>
                <param>
                    comparator Comparator to use for sorting the simplex vertices
                      from best to worst.                    
                </param>
            </javadoc>
            <method name="replaceWorstPoint" type="void" line="269">
                <params>
                    <param name="pointValuePair" type="PointValuePair"/>
                    <param name="comparator" type="Comparator<PointValuePair>"/>
                </params>
                <scope line="270">
                    <scope line="271">
                        <declaration name="tmp" type="PointValuePair" line="272"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="280">
                Get the points of the simplex.                
                <return>
                    all the simplex points.                    
                </return>
            </javadoc>
            <method name="getPoints" type="PointValuePair[]" line="285">
                <declaration name="copy" type="PointValuePair[]" line="286"/>
            </method>
            <javadoc line="291">
                Get the simplex point stored at the requested {@code index}.                
                <param>
                    index Location.                    
                </param>
                <return>
                    the point at location {@code index}.                    
                </return>
            </javadoc>
            <method name="getPoint" type="PointValuePair" line="297">
                <params>
                    <param name="index" type="int"/>
                </params>
                <scope line="299"/>
            </method>
            <javadoc line="305">
                Store a new point at location {@code index}.
                  Note that no deep-copy of {@code point} is performed.                
                <param>
                    index Location.                    
                </param>
                <param>
                    point New value.                    
                </param>
            </javadoc>
            <method name="setPoint" type="void" line="312">
                <params>
                    <param name="index" type="int"/>
                    <param name="point" type="PointValuePair"/>
                </params>
                <scope line="314"/>
            </method>
            <javadoc line="320">
                Replace all points.
                  Note that no deep-copy of {@code points} is performed.                
                <param>
                    points New Points.                    
                </param>
            </javadoc>
            <method name="setPoints" type="void" line="326">
                <params>
                    <param name="points" type="PointValuePair[]"/>
                </params>
                <scope line="327"/>
            </method>
            <javadoc line="333">
                Create steps for a unit hypercube.                
                <param>
                    n Dimension of the hypercube.                    
                </param>
                <param>
                    sideLength Length of the sides of the hypercube.                    
                </param>
                <return>
                    the steps.                    
                </return>
            </javadoc>
            <method name="createHypercubeSteps" type="double[]" line="341">
                <params>
                    <param name="n" type="int"/>
                    <param name="sideLength" type="double"/>
                </params>
                <declaration name="steps" type="double[]" line="342"/>
                <scope line="343"/>
            </method>
        </class>
    </source>