<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.analysis.integration">
        <import package="org.apache.commons.math3.analysis.UnivariateFunction"/>
        <import package="org.apache.commons.math3.analysis.integration.gauss.GaussIntegratorFactory"/>
        <import package="org.apache.commons.math3.analysis.integration.gauss.GaussIntegrator"/>
        <import package="org.apache.commons.math3.exception.MathIllegalArgumentException"/>
        <import package="org.apache.commons.math3.exception.MaxCountExceededException"/>
        <import package="org.apache.commons.math3.exception.NotStrictlyPositiveException"/>
        <import package="org.apache.commons.math3.exception.NumberIsTooSmallException"/>
        <import package="org.apache.commons.math3.exception.TooManyEvaluationsException"/>
        <import package="org.apache.commons.math3.exception.util.LocalizedFormats"/>
        <import package="org.apache.commons.math3.util.FastMath"/>
        <class name="IterativeLegendreGaussIntegrator" line="30">
            <extends class="BaseAbstractUnivariateIntegrator"/>
            <javadoc line="30">
                This algorithm divides the integration interval into equally-sized
                  sub-interval and on each of them performs a
                  &lt;a href=&quot;http://mathworld.wolfram.com/Legendre-GaussQuadrature.html&quot;&gt;
                  Legendre-Gauss&lt;/a&gt; quadrature.
                  Because of its &lt;em&gt;non-adaptive&lt;/em&gt; nature, this algorithm can
                  converge to a wrong value for the integral (for example, if the
                  function is significantly different from zero toward the ends of the
                  integration interval).
                  In particular, a change of variables aimed at estimating integrals
                  over infinite intervals as proposed
                  &lt;a href=&quot;http://en.wikipedia.org/w/index.php?title=Numerical_integration#Integrals_over_infinite_intervals&quot;&gt;
                  here&lt;/a&gt; should be avoided when using this class.                
                <version>
                    $Id: IterativeLegendreGaussIntegrator.java 1499765 2013-07-04 14:24:11Z erans $                    
                </version>
                <since>
                    3.1                    
                </since>
            </javadoc>
            <declaration name="FACTORY" type="GaussIntegratorFactory" line="50"/>
            <javadoc line="50">
                Factory that computes the points and weights.                
            </javadoc>
            <declaration name="numberOfPoints" type="int" line="53"/>
            <javadoc line="53">
                Number of integration points (per interval).                
            </javadoc>
            <javadoc line="56">
                Builds an integrator with given accuracies and iterations counts.                
                <param>
                    n Number of integration points.                    
                </param>
                <param>
                    relativeAccuracy Relative accuracy of the result.                    
                </param>
                <param>
                    absoluteAccuracy Absolute accuracy of the result.                    
                </param>
                <param>
                    minimalIterationCount Minimum number of iterations.                    
                </param>
                <param>
                    maximalIterationCount Maximum number of iterations.                    
                </param>
                <throws>
                    NotStrictlyPositiveException if minimal number of iterations
                      or number of points are not strictly positive.                    
                </throws>
                <throws>
                    NumberIsTooSmallException if maximal number of iterations
                      is smaller than or equal to the minimal number of iterations.                    
                </throws>
            </javadoc>
            <method name="IterativeLegendreGaussIntegrator" type="constructor" line="74">
                <params>
                    <param name="n" type="int"/>
                    <param name="relativeAccuracy" type="double"/>
                    <param name="absoluteAccuracy" type="double"/>
                    <param name="minimalIterationCount" type="int"/>
                    <param name="maximalIterationCount" type="int"/>
                </params>
                <scope line="76"/>
            </method>
            <javadoc line="82">
                Builds an integrator with given accuracies.                
                <param>
                    n Number of integration points.                    
                </param>
                <param>
                    relativeAccuracy Relative accuracy of the result.                    
                </param>
                <param>
                    absoluteAccuracy Absolute accuracy of the result.                    
                </param>
                <throws>
                    NotStrictlyPositiveException if {@code n &lt; 1}.                    
                </throws>
            </javadoc>
            <method name="IterativeLegendreGaussIntegrator" type="constructor" line="93">
                <params>
                    <param name="n" type="int"/>
                    <param name="relativeAccuracy" type="double"/>
                    <param name="absoluteAccuracy" type="double"/>
                </params>
            </method>
            <javadoc line="98">
                Builds an integrator with given iteration counts.                
                <param>
                    n Number of integration points.                    
                </param>
                <param>
                    minimalIterationCount Minimum number of iterations.                    
                </param>
                <param>
                    maximalIterationCount Maximum number of iterations.                    
                </param>
                <throws>
                    NotStrictlyPositiveException if minimal number of iterations
                      is not strictly positive.                    
                </throws>
                <throws>
                    NumberIsTooSmallException if maximal number of iterations
                      is smaller than or equal to the minimal number of iterations.                    
                </throws>
                <throws>
                    NotStrictlyPositiveException if {@code n &lt; 1}.                    
                </throws>
            </javadoc>
            <method name="IterativeLegendreGaussIntegrator" type="constructor" line="113">
                <params>
                    <param name="n" type="int"/>
                    <param name="minimalIterationCount" type="int"/>
                    <param name="maximalIterationCount" type="int"/>
                </params>
            </method>
            <javadoc line="118">
                {@inheritDoc}                
            </javadoc>
            <method name="doIntegrate" type="double" line="121">
                <comment line="123">
                    Compute first estimate with a single step.                    
                </comment>
                <comment line="128">
                    Improve integral with a larger number of steps.                    
                </comment>
                <comment line="131">
                    Estimate the error.                    
                </comment>
                <comment line="137">
                    check convergence                    
                </comment>
                <comment line="143">
                    Prepare next iteration.                    
                </comment>
                <declaration name="oldt" type="double" line="123"/>
                <declaration name="n" type="int" line="125"/>
                <scope line="126">
                    <declaration name="t" type="double" line="128"/>
                    <declaration name="delta" type="double" line="131"/>
                    <declaration name="limit" type="double" line="132"/>
                    <scope line="138"/>
                    <declaration name="ratio" type="double" line="143"/>
                </scope>
            </method>
            <javadoc line="150">
                Compute the n-th stage integral.                
                <param>
                    n Number of steps.                    
                </param>
                <return>
                    the value of n-th stage integral.                    
                </return>
                <throws>
                    TooManyEvaluationsException if the maximum number of evaluations
                      is exceeded.                    
                </throws>
            </javadoc>
            <method name="stage" type="double" line="159">
                <params>
                    <param name="n" type="int"/>
                </params>
                <comment line="161">
                    Function to be integrated is stored in the base class.                    
                </comment>
                <comment line="175">
                    Integrate over each sub-interval [a, b].                    
                </comment>
                <anonymous_class line="161">
                    <method name="value" type="double" line="163">
                        <params>
                            <param name="x" type="double"/>
                        </params>
                    </method>
                </anonymous_class>
                <declaration name="f" type="UnivariateFunction" line="161"/>
                <declaration name="min" type="double" line="168"/>
                <declaration name="max" type="double" line="169"/>
                <declaration name="step" type="double" line="170"/>
                <declaration name="sum" type="double" line="172"/>
                <scope line="173">
                    <declaration name="a" type="double" line="175"/>
                    <declaration name="b" type="double" line="176"/>
                    <declaration name="g" type="GaussIntegrator" line="177"/>
                </scope>
            </method>
        </class>
    </source>