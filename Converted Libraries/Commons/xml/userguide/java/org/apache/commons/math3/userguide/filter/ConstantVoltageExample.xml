<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.userguide.filter">
        <import package="java.awt.Color"/>
        <import package="java.awt.Component"/>
        <import package="java.awt.Font"/>
        <import package="java.util.ArrayList"/>
        <import package="java.util.List"/>
        <import package="javax.swing.BorderFactory"/>
        <import package="javax.swing.BoxLayout"/>
        <import package="javax.swing.JComponent"/>
        <import package="javax.swing.JPanel"/>
        <import package="org.apache.commons.math3.filter.DefaultMeasurementModel"/>
        <import package="org.apache.commons.math3.filter.DefaultProcessModel"/>
        <import package="org.apache.commons.math3.filter.KalmanFilter"/>
        <import package="org.apache.commons.math3.filter.MeasurementModel"/>
        <import package="org.apache.commons.math3.filter.ProcessModel"/>
        <import package="org.apache.commons.math3.linear.Array2DRowRealMatrix"/>
        <import package="org.apache.commons.math3.linear.ArrayRealVector"/>
        <import package="org.apache.commons.math3.linear.RealMatrix"/>
        <import package="org.apache.commons.math3.linear.RealVector"/>
        <import package="org.apache.commons.math3.random.RandomGenerator"/>
        <import package="org.apache.commons.math3.random.Well19937c"/>
        <import package="org.apache.commons.math3.userguide.ExampleUtils"/>
        <import package="org.apache.commons.math3.userguide.ExampleUtils.ExampleFrame"/>
        <import package="com.xeiam.xchart.Chart"/>
        <import package="com.xeiam.xchart.ChartBuilder"/>
        <import package="com.xeiam.xchart.Series"/>
        <import package="com.xeiam.xchart.SeriesLineStyle"/>
        <import package="com.xeiam.xchart.SeriesMarker"/>
        <import package="com.xeiam.xchart.XChartPanel"/>
        <import package="com.xeiam.xchart.StyleManager.ChartType"/>
        <import package="com.xeiam.xchart.StyleManager.LegendPosition"/>
        <class name="ConstantVoltageExample" line="51">
            <class name="VoltMeter" line="53">
                <declaration name="initialVoltage" type="double" line="55"/>
                <declaration name="processNoise" type="double" line="56"/>
                <declaration name="measurementNoise" type="double" line="57"/>
                <declaration name="rng" type="RandomGenerator" line="58"/>
                <declaration name="voltage" type="double" line="60"/>
                <method name="VoltMeter" type="constructor" line="62">
                    <params>
                        <param name="voltage" type="double"/>
                        <param name="processNoise" type="double"/>
                        <param name="measurementNoise" type="double"/>
                        <param name="seed" type="int"/>
                    </params>
                </method>
                <javadoc line="70">
                    Returns the real voltage without any measurement noise.                    
                    <return>
                        the real voltage                        
                    </return>
                </javadoc>
                <method name="getVoltage" type="double" line="75"/>
                <method name="getMeasuredVoltage" type="double" line="79"/>
                <method name="step" type="void" line="83">
                    <comment line="85">
                        we apply only the process noise                        
                    </comment>
                </method>
            </class>
            <javadoc line="89">
                constant voltage test                
            </javadoc>
            <method name="constantVoltageTest" type="void" line="90">
                <params>
                    <param name="chart1" type="Chart"/>
                    <param name="chart2" type="Chart"/>
                </params>
                <comment line="94">
                    measurement noise (V) - std dev                    
                </comment>
                <comment line="99">
                    the state transition matrix -&gt; constant                    
                </comment>
                <comment line="102">
                    the control matrix -&gt; no control input                    
                </comment>
                <comment line="105">
                    the measurement matrix -&gt; we measure the voltage directly                    
                </comment>
                <comment line="108">
                    the initial state vector -&gt; slightly wrong                    
                </comment>
                <comment line="111">
                    the process covariance matrix                    
                </comment>
                <comment line="114">
                    the initial error covariance -&gt; assume a large error at the beginning                    
                </comment>
                <comment line="117">
                    the measurement covariance matrix -&gt; put the &quot;real&quot; variance                    
                </comment>
                <comment line="138">
                    get the measured voltage from the volt meter                    
                </comment>
                <comment line="164">
                    Error covariance chart                    
                </comment>
                <declaration name="voltage" type="double" line="92"/>
                <declaration name="measurementNoise" type="double" line="93"/>
                <declaration name="processNoise" type="double" line="94"/>
                <declaration name="voltMeter" type="VoltMeter" line="96"/>
                <declaration name="A" type="RealMatrix" line="99"/>
                <declaration name="B" type="RealMatrix" line="102"/>
                <declaration name="H" type="RealMatrix" line="105"/>
                <declaration name="x0" type="RealVector" line="108"/>
                <declaration name="Q" type="RealMatrix" line="111"/>
                <declaration name="P0" type="RealMatrix" line="114"/>
                <declaration name="R" type="RealMatrix" line="117"/>
                <declaration name="pm" type="ProcessModel" line="119"/>
                <declaration name="mm" type="MeasurementModel" line="120"/>
                <declaration name="filter" type="KalmanFilter" line="121"/>
                <declaration name="xAxis" type="List&amp;lt;Number&amp;gt;" line="123"/>
                <declaration name="realVoltageSeries" type="List&amp;lt;Number&amp;gt;" line="124"/>
                <declaration name="measuredVoltageSeries" type="List&amp;lt;Number&amp;gt;" line="125"/>
                <declaration name="kalmanVoltageSeries" type="List&amp;lt;Number&amp;gt;" line="126"/>
                <declaration name="covSeries" type="List&amp;lt;Number&amp;gt;" line="128"/>
                <scope line="130">
                    <declaration name="measuredVoltage" type="double" line="138"/>
                </scope>
                <declaration name="dataset" type="Series" line="151"/>
            </method>
            <method name="createChart" type="Chart" line="176">
                <params>
                    <param name="title" type="String"/>
                    <param name="width" type="int"/>
                    <param name="height" type="int"/>
                    <param name="position" type="LegendPosition"/>
                    <param name="legendVisible" type="boolean"/>
                </params>
                <comment line="180">
                    Customize Chart                    
                </comment>
                <declaration name="chart" type="Chart" line="177"/>
            </method>
            <method name="createComponent" type="JComponent" line="197">
                <declaration name="container" type="JComponent" line="198"/>
                <declaration name="chart1" type="Chart" line="201"/>
                <declaration name="chart2" type="Chart" line="202"/>
            </method>
            <class name="Display" line="213">
                <extends class="ExampleFrame"/>
                <declaration name="container" type="JComponent" line="216"/>
                <method name="Display" type="constructor" line="218">
                    <declaration name="comp" type="JComponent" line="224"/>
                </method>
                <method name="getMainPanel" type="Component" line="231"/>
            </class>
            <method name="main" type="void" line="236">
                <params>
                    <param name="args" type="String[]"/>
                </params>
            </method>
        </class>
    </source>