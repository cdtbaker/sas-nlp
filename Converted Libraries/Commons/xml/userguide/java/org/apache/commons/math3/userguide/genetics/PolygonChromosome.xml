<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.userguide.genetics">
        <import package="java.awt.AlphaComposite"/>
        <import package="java.awt.Color"/>
        <import package="java.awt.Graphics2D"/>
        <import package="java.awt.RenderingHints"/>
        <import package="java.awt.image.BufferedImage"/>
        <import package="java.util.ArrayList"/>
        <import package="java.util.List"/>
        <import package="org.apache.commons.math3.genetics.AbstractListChromosome"/>
        <import package="org.apache.commons.math3.genetics.Chromosome"/>
        <import package="org.apache.commons.math3.genetics.InvalidRepresentationException"/>
        <class name="PolygonChromosome" line="31">
            <extends class="AbstractListChromosome">
                <type_params>
                    <type_param name="Polygon"/>
                </type_params>
            </extends>
            <javadoc line="31">
                A simple chromosome representing a list of polygons.                
            </javadoc>
            <declaration name="refImage" type="BufferedImage" line="36"/>
            <javadoc line="36">
                The reference image for fitness testing.                
            </javadoc>
            <declaration name="testImage" type="BufferedImage" line="38"/>
            <javadoc line="38">
                The image buffer used to draw the current chromosome during fitness testing.                
            </javadoc>
            <method name="setRefImage" type="void" line="41">
                <params>
                    <param name="ref" type="BufferedImage"/>
                </params>
            </method>
            <method name="setTestImage" type="void" line="45">
                <params>
                    <param name="image" type="BufferedImage"/>
                </params>
            </method>
            <method name="PolygonChromosome" type="constructor" line="49">
                <params>
                    <param name="representation" type="List&lt;Polygon&gt;"/>
                </params>
            </method>
            <method name="checkValidity" type="void" line="54">
                <params>
                    <param name="chromosomeRepresentation" type="List&lt;Polygon&gt;"/>
                </params>
                <comment line="56">
                    do nothing                    
                </comment>
            </method>
            <method name="newFixedLengthChromosome" type="AbstractListChromosome&lt;Polygon&gt;" line="59">
                <params>
                    <param name="chromosomeRepresentation" type="List&lt;Polygon&gt;"/>
                </params>
            </method>
            <javadoc line="63">
                Return the internal representation, which is needed for our custom mutation policy.                
                <return>
                    the list of polygons                    
                </return>
            </javadoc>
            <method name="getPolygonRepresentation" type="List&lt;Polygon&gt;" line="68"/>
            <javadoc line="72">
                Calculate the fitness function for this chromosome.
                  &lt;p&gt;
                  For this purpose, we first draw the polygons on the test buffer, and
                  then compare the resulting image pixel by pixel with the reference image.                
            </javadoc>
            <method name="fitness" type="double" line="78">
                <comment line="93">
                    4 channels: rgba                    
                </comment>
                <comment line="97">
                    ignore the alpha channel for fitness                    
                </comment>
                <declaration name="g2" type="Graphics2D" line="80"/>
                <declaration name="width" type="int" line="82"/>
                <declaration name="height" type="int" line="83"/>
                <declaration name="refPixels" type="int[]" line="88"/>
                <declaration name="testPixels" type="int[]" line="89"/>
                <declaration name="diff" type="int" line="91"/>
                <declaration name="p" type="int" line="92"/>
                <declaration name="idx" type="int" line="93"/>
                <scope line="95">
                    <scope line="96">
                        <declaration name="dp" type="int" line="97"/>
                        <scope line="98"/>
                        <scope line="100"/>
                    </scope>
                </scope>
            </method>
            <method name="draw" type="void" line="109">
                <params>
                    <param name="g" type="Graphics2D"/>
                    <param name="width" type="int"/>
                    <param name="height" type="int"/>
                </params>
                <declaration name="polygons" type="List&amp;lt;Polygon&amp;gt;" line="116"/>
                <scope line="117"/>
            </method>
            <method name="toString" type="String" line="123"/>
            <method name="randomChromosome" type="Chromosome" line="127">
                <params>
                    <param name="polygonLength" type="int"/>
                    <param name="polygonCount" type="int"/>
                </params>
                <declaration name="list" type="List&amp;lt;Polygon&amp;gt;" line="128"/>
                <scope line="129"/>
            </method>
        </class>
    </source>