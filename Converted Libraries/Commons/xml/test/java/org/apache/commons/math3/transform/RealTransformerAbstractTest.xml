<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.transform">
        <import package="java.util.Random"/>
        <import package="org.apache.commons.math3.analysis.UnivariateFunction"/>
        <import package="org.apache.commons.math3.exception.MathIllegalArgumentException"/>
        <import package="org.apache.commons.math3.exception.NotStrictlyPositiveException"/>
        <import package="org.apache.commons.math3.exception.NumberIsTooLargeException"/>
        <import package="org.apache.commons.math3.util.FastMath"/>
        <import package="org.junit.Assert"/>
        <import package="org.junit.Test"/>
        <class name="RealTransformerAbstractTest" line="29">
            <comment line="140">
                Check of preconditions.                
            </comment>
            <comment line="240">
                Accuracy tests of transform of valid data.                
            </comment>
            <comment line="290">
                Utility methods.                
            </comment>
            <comment line="310">
                The tests per se.                
            </comment>
            <javadoc line="29">
                Abstract test for classes implementing the {@link RealTransformer} interface.
                  This abstract test handles the automatic generation of random data of various
                  sizes. For each generated data array, actual values (returned by the
                  transformer to be tested) are compared to expected values, returned by the{@link #transform(double[],TransformType)} (to be implemented by the user:
                  a naive method may be used). Methods are also provided to test that invalid
                  parameters throw the expected exceptions.                
                <since>
                    3.0                    
                </since>
                <version>
                    $Id: RealTransformerAbstractTest.java 1538354 2013-11-03 12:48:40Z tn $                    
                </version>
            </javadoc>
            <declaration name="SEED" type="long" line="43"/>
            <javadoc line="43">
                The common seed of all random number generators used in this test.                
            </javadoc>
            <method name="createRealTransformer" type="RealTransformer" line="46"/>
            <javadoc line="46">
                Returns a new instance of the {@link RealTransformer} to be tested.                
                <return>
                    a the transformer to be tested                    
                </return>
            </javadoc>
            <method name="getInvalidDataSize" type="int" line="53"/>
            <javadoc line="53">
                Returns an invalid data size. Transforms with this data size should
                  trigger a {@link MathIllegalArgumentException}.                
                <param>
                    i the index of the invalid data size ({@code 0 &lt;= i &lt;}{@link #getNumberOfInvalidDataSizes()}                    
                </param>
                <return>
                    an invalid data size                    
                </return>
            </javadoc>
            <method name="getNumberOfInvalidDataSizes" type="int" line="63"/>
            <javadoc line="63">
                Returns the total number of invalid data sizes to be tested. If data
                  array of any
                  size can be handled by the {@link RealTransformer} to be tested, this
                  method should return {@code 0}.                
                <return>
                    the total number of invalid data sizes                    
                </return>
            </javadoc>
            <method name="getNumberOfValidDataSizes" type="int" line="73"/>
            <javadoc line="73">
                Returns the total number of valid data sizes to be tested.                
                <return>
                    the total number of valid data sizes                    
                </return>
            </javadoc>
            <method name="getRelativeTolerance" type="double" line="80"/>
            <javadoc line="80">
                Returns the expected relative accuracy for data arrays of size{@code getValidDataSize(i)}.                
                <param>
                    i the index of the valid data size                    
                </param>
                <return>
                    the expected relative accuracy                    
                </return>
            </javadoc>
            <method name="getValidDataSize" type="int" line="89"/>
            <javadoc line="89">
                Returns a valid data size. This method allows for data arrays of various
                  sizes to be automatically tested (by allowing multiple values of the
                  specified index).                
                <param>
                    i the index of the valid data size ({@code 0 &lt;= i &lt;}{@link #getNumberOfValidDataSizes()}                    
                </param>
                <return>
                    a valid data size                    
                </return>
            </javadoc>
            <method name="getValidFunction" type="UnivariateFunction" line="100"/>
            <javadoc line="100">
                Returns a function for the accuracy check of{@link RealTransformer#transform(UnivariateFunction,double,double,int,TransformType)}.
                  This function should be valid. In other words, none of the above methods
                  should throw an exception when passed this function.                
                <return>
                    a valid function                    
                </return>
            </javadoc>
            <method name="getValidLowerBound" type="double" line="110"/>
            <javadoc line="110">
                Returns a sampling lower bound for the accuracy check of{@link RealTransformer#transform(UnivariateFunction,double,double,int,TransformType)}.
                  This lower bound should be valid. In other words, none of the above
                  methods should throw an exception when passed this bound.                
                <return>
                    a valid lower bound                    
                </return>
            </javadoc>
            <method name="getValidUpperBound" type="double" line="120"/>
            <javadoc line="120">
                Returns a sampling upper bound for the accuracy check of{@link RealTransformer#transform(UnivariateFunction,double,double,int,TransformType)}.
                  This upper bound should be valid. In other words, none of the above
                  methods should throw an exception when passed this bound.                
                <return>
                    a valid bound                    
                </return>
            </javadoc>
            <method name="transform" type="double[]" line="130"/>
            <javadoc line="130">
                Returns the expected transform of the specified real data array.                
                <param>
                    x the real data array to be transformed                    
                </param>
                <param>
                    type the type of transform (forward, inverse) to be performed                    
                </param>
                <return>
                    the expected transform                    
                </return>
            </javadoc>
            <javadoc line="143">
                {@link RealTransformer#transform(double[],TransformType)} should throw a{@link MathIllegalArgumentException} if data size is invalid.                
            </javadoc>
            <method name="testTransformRealInvalidDataSize" type="void" line="148">
                <comment line="159">
                    Expected: do nothing                    
                </comment>
                <declaration name="type" type="TransformType[]" line="149"/>
                <declaration name="transformer" type="RealTransformer" line="150"/>
                <scope line="151">
                    <declaration name="n" type="int" line="152"/>
                    <scope line="153">
                        <scope line="154"/>
                        <scope line="157"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="164">
                {@link RealTransformer#transform(UnivariateFunction,double,double,int,TransformType)}should throw a {@link MathIllegalArgumentException} if number of samples
                  is invalid.                
            </javadoc>
            <method name="testTransformFunctionInvalidDataSize" type="void" line="170">
                <comment line="184">
                    Expected: do nothing                    
                </comment>
                <declaration name="type" type="TransformType[]" line="171"/>
                <declaration name="transformer" type="RealTransformer" line="172"/>
                <declaration name="f" type="UnivariateFunction" line="173"/>
                <declaration name="a" type="double" line="174"/>
                <declaration name="b" type="double" line="175"/>
                <scope line="176">
                    <declaration name="n" type="int" line="177"/>
                    <scope line="178">
                        <scope line="179"/>
                        <scope line="182"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="189">
                {@link RealTransformer#transform(UnivariateFunction,double,double,int,TransformType)}should throw a {@link NotStrictlyPositiveException} if number of samples
                  is not strictly positive.                
            </javadoc>
            <method name="testTransformFunctionNotStrictlyPositiveNumberOfSamples" type="void" line="195">
                <comment line="209">
                    Expected: do nothing                    
                </comment>
                <declaration name="type" type="TransformType[]" line="196"/>
                <declaration name="transformer" type="RealTransformer" line="197"/>
                <declaration name="f" type="UnivariateFunction" line="198"/>
                <declaration name="a" type="double" line="199"/>
                <declaration name="b" type="double" line="200"/>
                <scope line="201">
                    <declaration name="n" type="int" line="202"/>
                    <scope line="203">
                        <scope line="204"/>
                        <scope line="207"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="214">
                {@link RealTransformer#transform(UnivariateFunction,double,double,int,TransformType)}should throw a {@link NumberIsTooLargeException} if sampling bounds are
                  not correctly ordered.                
            </javadoc>
            <method name="testTransformFunctionInvalidBounds" type="void" line="220">
                <comment line="234">
                    Expected: do nothing                    
                </comment>
                <declaration name="type" type="TransformType[]" line="221"/>
                <declaration name="transformer" type="RealTransformer" line="222"/>
                <declaration name="f" type="UnivariateFunction" line="223"/>
                <declaration name="a" type="double" line="224"/>
                <declaration name="b" type="double" line="225"/>
                <scope line="226">
                    <declaration name="n" type="int" line="227"/>
                    <scope line="228">
                        <scope line="229"/>
                        <scope line="232"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="243">
                Accuracy check of {@link RealTransformer#transform(double[],TransformType)}.
                  For each valid data size returned by{@link #getValidDataSize(int) getValidDataSize(i)},
                  a random data array is generated with{@link #createRealData(int) createRealData(i)}. The actual
                  transform is computed and compared to the expected transform, return by{@link #transform(double[],TransformType)}. Actual and expected values
                  should be equal to within the relative error returned by{@link #getRelativeTolerance(int) getRelativeTolerance(i)}.                
            </javadoc>
            <method name="testTransformReal" type="void" line="255">
                <declaration name="type" type="TransformType[]" line="256"/>
                <scope line="257">
                    <declaration name="n" type="int" line="258"/>
                    <declaration name="tol" type="double" line="259"/>
                    <scope line="260"/>
                </scope>
            </method>
            <javadoc line="266">
                Accuracy check of{@link RealTransformer#transform(UnivariateFunction,double,double,int,TransformType)}.
                  For each valid data size returned by{@link #getValidDataSize(int) getValidDataSize(i)},
                  the {@link UnivariateFunction} returned by {@link #getValidFunction()} is
                  sampled. The actual transform is computed and compared to the expected
                  transform, return by {@link #transform(double[],TransformType)}. Actual
                  and expected values should be equal to within the relative error returned
                  by {@link #getRelativeTolerance(int) getRelativeTolerance(i)}.                
            </javadoc>
            <method name="testTransformFunction" type="void" line="278">
                <declaration name="type" type="TransformType[]" line="279"/>
                <scope line="280">
                    <declaration name="n" type="int" line="281"/>
                    <declaration name="tol" type="double" line="282"/>
                    <scope line="283"/>
                </scope>
            </method>
            <javadoc line="293">
                Returns a random array of doubles. Random generator always uses the same
                  seed.                
                <param>
                    n the size of the array to be returned                    
                </param>
                <return>
                    a random array of specified size                    
                </return>
            </javadoc>
            <method name="createRealData" type="double[]" line="300">
                <params>
                    <param name="n" type="int"/>
                </params>
                <declaration name="random" type="Random" line="301"/>
                <declaration name="data" type="double[]" line="302"/>
                <scope line="303"/>
            </method>
            <method name="doTestTransformReal" type="void" line="314">
                <params>
                    <param name="n" type="int"/>
                    <param name="tol" type="double"/>
                    <param name="type" type="TransformType"/>
                </params>
                <declaration name="transformer" type="RealTransformer" line="315"/>
                <declaration name="x" type="double[]" line="316"/>
                <declaration name="expected" type="double[]" line="317"/>
                <declaration name="actual" type="double[]" line="318"/>
                <scope line="319">
                    <declaration name="msg" type="String" line="320"/>
                    <declaration name="delta" type="double" line="321"/>
                </scope>
            </method>
            <method name="doTestTransformFunction" type="void" line="327">
                <params>
                    <param name="n" type="int"/>
                    <param name="tol" type="double"/>
                    <param name="type" type="TransformType"/>
                </params>
                <declaration name="transformer" type="RealTransformer" line="328"/>
                <declaration name="f" type="UnivariateFunction" line="329"/>
                <declaration name="a" type="double" line="330"/>
                <declaration name="b" type="double" line="331"/>
                <declaration name="x" type="double[]" line="332"/>
                <scope line="333">
                    <declaration name="t" type="double" line="334"/>
                </scope>
                <declaration name="expected" type="double[]" line="337"/>
                <declaration name="actual" type="double[]" line="338"/>
                <scope line="339">
                    <declaration name="msg" type="String" line="340"/>
                    <declaration name="delta" type="double" line="341"/>
                </scope>
            </method>
        </class>
    </source>