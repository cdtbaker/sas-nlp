<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.distribution">
        <import package="java.util.ArrayList"/>
        <import package="java.util.Collections"/>
        <import package="java.io.ByteArrayInputStream"/>
        <import package="java.io.ByteArrayOutputStream"/>
        <import package="java.io.IOException"/>
        <import package="java.io.ObjectInputStream"/>
        <import package="java.io.ObjectOutputStream"/>
        <import package="org.apache.commons.math3.TestUtils"/>
        <import package="org.apache.commons.math3.util.FastMath"/>
        <import package="org.apache.commons.math3.analysis.UnivariateFunction"/>
        <import package="org.apache.commons.math3.analysis.integration.BaseAbstractUnivariateIntegrator"/>
        <import package="org.apache.commons.math3.analysis.integration.IterativeLegendreGaussIntegrator"/>
        <import package="org.apache.commons.math3.exception.MathIllegalArgumentException"/>
        <import package="org.apache.commons.math3.exception.NumberIsTooLargeException"/>
        <import package="org.junit.After"/>
        <import package="org.junit.Assert"/>
        <import package="org.junit.Before"/>
        <import package="org.junit.Test"/>
        <class name="RealDistributionAbstractTest" line="40">
            <comment line="77">
                -------------------- Private test instance data -------------------------                
            </comment>
            <comment line="102">
                -------------------- Abstract methods -----------------------------------                
            </comment>
            <comment line="128">
                ---- Default implementations of inverse test data generation methods ----                
            </comment>
            <comment line="140">
                -------------------- Setup / tear down ----------------------------------                
            </comment>
            <comment line="170">
                -------------------- Verification methods -------------------------------                
            </comment>
            <comment line="242">
                ------------------------ Default test cases -----------------------------                
            </comment>
            <comment line="437">
                ------------------ Getters / Setters for test instance data -----------                
            </comment>
            <javadoc line="40">
                Abstract base class for {@link RealDistribution} tests.
                  &lt;p&gt;
                  To create a concrete test class for a continuous distribution
                  implementation, first implement makeDistribution() to return a distribution
                  instance to use in tests. Then implement each of the test data generation
                  methods below.  In each case, the test points and test values arrays
                  returned represent parallel arrays of inputs and expected values for the
                  distribution returned by makeDistribution().  Default implementations
                  are provided for the makeInverseXxx methods that just invert the mapping
                  defined by the arrays returned by the makeCumulativeXxx methods.
                  &lt;p&gt;
                  makeCumulativeTestPoints() -- arguments used to test cumulative probabilities
                  makeCumulativeTestValues() -- expected cumulative probabilites
                  makeDensityTestValues() -- expected density values at cumulativeTestPoints
                  makeInverseCumulativeTestPoints() -- arguments used to test inverse cdf
                  makeInverseCumulativeTestValues() -- expected inverse cdf values
                  &lt;p&gt;
                  To implement additional test cases with different distribution instances and
                  test data, use the setXxx methods for the instance data in test cases and
                  call the verifyXxx methods to verify results.
                  &lt;p&gt;
                  Error tolerance can be overriden by implementing getTolerance().
                  &lt;p&gt;
                  Test data should be validated against reference tables or other packages
                  where possible, and the source of the reference data and/or validation
                  should be documented in the test cases.  A framework for validating
                  distribution data against R is included in the /src/test/R source tree.
                  &lt;p&gt;
                  See {@link NormalDistributionTest} and {@link ChiSquaredDistributionTest}for examples.                
                <version>
                    $Id: RealDistributionAbstractTest.java 1533974 2013-10-20 20:42:41Z psteitz $                    
                </version>
            </javadoc>
            <declaration name="distribution" type="RealDistribution" line="77"/>
            <javadoc line="77">
                Distribution instance used to perform tests                
            </javadoc>
            <declaration name="tolerance" type="double" line="80"/>
            <javadoc line="80">
                Tolerance used in comparing expected and returned values                
            </javadoc>
            <declaration name="cumulativeTestPoints" type="double[]" line="83"/>
            <javadoc line="83">
                Arguments used to test cumulative probability density calculations                
            </javadoc>
            <declaration name="cumulativeTestValues" type="double[]" line="86"/>
            <javadoc line="86">
                Values used to test cumulative probability density calculations                
            </javadoc>
            <declaration name="inverseCumulativeTestPoints" type="double[]" line="89"/>
            <javadoc line="89">
                Arguments used to test inverse cumulative probability density calculations                
            </javadoc>
            <declaration name="inverseCumulativeTestValues" type="double[]" line="92"/>
            <javadoc line="92">
                Values used to test inverse cumulative probability density calculations                
            </javadoc>
            <declaration name="densityTestValues" type="double[]" line="95"/>
            <javadoc line="95">
                Values used to test density calculations                
            </javadoc>
            <declaration name="logDensityTestValues" type="double[]" line="98"/>
            <javadoc line="98">
                Values used to test logarithmic density calculations                
            </javadoc>
            <method name="makeDistribution" type="RealDistribution" line="103"/>
            <javadoc line="103">
                Creates the default continuous distribution instance to use in tests.                
            </javadoc>
            <method name="makeCumulativeTestPoints" type="double[]" line="106"/>
            <javadoc line="106">
                Creates the default cumulative probability test input values                
            </javadoc>
            <method name="makeCumulativeTestValues" type="double[]" line="109"/>
            <javadoc line="109">
                Creates the default cumulative probability test expected values                
            </javadoc>
            <method name="makeDensityTestValues" type="double[]" line="112"/>
            <javadoc line="112">
                Creates the default density test expected values                
            </javadoc>
            <javadoc line="115">
                Creates the default logarithmic density test expected values.
                  The default implementation simply computes the logarithm
                  of each value returned by {@link #makeDensityTestValues()}.                
            </javadoc>
            <method name="makeLogDensityTestValues" type="double[]" line="118">
                <declaration name="densityTestValues" type="double[]" line="119"/>
                <declaration name="logDensityTestValues" type="double[]" line="120"/>
                <scope line="121"/>
            </method>
            <javadoc line="129">
                Creates the default inverse cumulative probability test input values                
            </javadoc>
            <method name="makeInverseCumulativeTestPoints" type="double[]" line="130"/>
            <javadoc line="134">
                Creates the default inverse cumulative probability density test expected values                
            </javadoc>
            <method name="makeInverseCumulativeTestValues" type="double[]" line="135"/>
            <javadoc line="141">
                Setup sets all test instance data to default values                
            </javadoc>
            <method name="setUp" type="void" line="145"/>
            <javadoc line="155">
                Cleans up test instance data                
            </javadoc>
            <method name="tearDown" type="void" line="159"/>
            <javadoc line="171">
                Verifies that cumulative probability density calculations match expected values
                  using current test instance data                
            </javadoc>
            <method name="verifyCumulativeProbabilities" type="void" line="175">
                <comment line="177">
                    verify cumulativeProbability(double)                    
                </comment>
                <comment line="184">
                    verify cumulativeProbability(double, double)
                     XXX In 4.0, &quot;cumulativeProbability(double,double)&quot; must be replaced with &quot;probability&quot; (MATH-839).                    
                </comment>
                <scope line="177"/>
                <scope line="185">
                    <scope line="186">
                        <scope line="187"/>
                        <scope line="191">
                            <scope line="192"/>
                            <scope line="194"/>
                        </scope>
                    </scope>
                </scope>
            </method>
            <javadoc line="203">
                Verifies that inverse cumulative probability density calculations match expected values
                  using current test instance data                
            </javadoc>
            <method name="verifyInverseCumulativeProbabilities" type="void" line="207">
                <scope line="208"/>
            </method>
            <javadoc line="216">
                Verifies that density calculations match expected values                
            </javadoc>
            <method name="verifyDensities" type="void" line="219">
                <scope line="220"/>
            </method>
            <javadoc line="228">
                Verifies that logarithmic density calculations match expected values                
            </javadoc>
            <method name="verifyLogDensities" type="void" line="231">
                <comment line="233">
                    FIXME: when logProbability methods are added to RealDistribution in 4.0, remove cast below                    
                </comment>
                <scope line="233"/>
            </method>
            <javadoc line="243">
                Verifies that cumulative probability density calculations match expected values
                  using default test instance data                
            </javadoc>
            <method name="testCumulativeProbabilities" type="void" line="248"/>
            <javadoc line="252">
                Verifies that inverse cumulative probability density calculations match expected values
                  using default test instance data                
            </javadoc>
            <method name="testInverseCumulativeProbabilities" type="void" line="257"/>
            <javadoc line="261">
                Verifies that density calculations return expected values
                  for default test instance data                
            </javadoc>
            <method name="testDensities" type="void" line="266"/>
            <javadoc line="270">
                Verifies that logarithmic density calculations return expected values
                  for default test instance data                
            </javadoc>
            <method name="testLogDensities" type="void" line="275"/>
            <javadoc line="279">
                Verifies that probability computations are consistent                
            </javadoc>
            <method name="testConsistency" type="void" line="283">
                <comment line="287">
                    check that cdf(x, x) = 0
                     XXX In 4.0, &quot;cumulativeProbability(double,double)&quot; must be replaced with &quot;probability&quot; (MATH-839).                    
                </comment>
                <comment line="293">
                    check that P(a &lt; X &lt;= b) = P(X &lt;= b) - P(X &lt;= a)                    
                </comment>
                <comment line="298">
                    XXX In 4.0, &quot;cumulativeProbability(double,double)&quot; must be replaced with &quot;probability&quot; (MATH-839).                    
                </comment>
                <scope line="284">
                    <declaration name="upper" type="double" line="293"/>
                    <declaration name="lower" type="double" line="294"/>
                    <declaration name="diff" type="double" line="295"/>
                    <declaration name="direct" type="double" line="298"/>
                </scope>
            </method>
            <javadoc line="304">
                Verifies that illegal arguments are correctly handled                
            </javadoc>
            <method name="testIllegalArguments" type="void" line="308">
                <comment line="311">
                    XXX In 4.0, &quot;cumulativeProbability(double,double)&quot; must be replaced with &quot;probability&quot; (MATH-839).                    
                </comment>
                <comment line="315">
                    expected                    
                </comment>
                <comment line="321">
                    expected                    
                </comment>
                <comment line="327">
                    expected                    
                </comment>
                <scope line="309"/>
                <scope line="313"/>
                <scope line="316"/>
                <scope line="319"/>
                <scope line="322"/>
                <scope line="325"/>
            </method>
            <javadoc line="330">
                Test sampling                
            </javadoc>
            <method name="testSampling" type="void" line="334">
                <comment line="337">
                    Use fixed seed                    
                </comment>
                <declaration name="sampleSize" type="int" line="335"/>
                <declaration name="sample" type="double[]" line="337"/>
                <declaration name="quartiles" type="double[]" line="338"/>
                <declaration name="expected" type="double[]" line="339"/>
                <declaration name="counts" type="long[]" line="340"/>
                <scope line="341"/>
            </method>
            <javadoc line="347">
                Verify that density integrals match the distribution.
                  The (filtered, sorted) cumulativeTestPoints array is used to source
                  integration limits. The integral of the density (estimated using a
                  Legendre-Gauss integrator) is compared with the cdf over the same
                  interval. Test points outside of the domain of the density function
                  are discarded.                
            </javadoc>
            <method name="testDensityIntegrals" type="void" line="356">
                <comment line="371">
                    exclude integrals outside domain.                    
                </comment>
                <comment line="378">
                    FIXME @4.0 when rename happens                    
                </comment>
                <comment line="381">
                    Triangle integrals are very slow to converge                    
                </comment>
                <declaration name="tol" type="double" line="357"/>
                <declaration name="integrator" type="BaseAbstractUnivariateIntegrator" line="358"/>
                <anonymous_class line="360">
                    <method name="value" type="double" line="361">
                        <params>
                            <param name="x" type="double"/>
                        </params>
                    </method>
                </anonymous_class>
                <declaration name="d" type="UnivariateFunction" line="360"/>
                <declaration name="integrationTestPoints" type="ArrayList&amp;lt;Double&amp;gt;" line="365"/>
                <scope line="366">
                    <scope line="369"/>
                </scope>
                <scope line="375"/>
            </method>
            <javadoc line="386">
                Verify that isSupportLowerBoundInclusvie returns true iff the lower bound
                  is finite and density is non-NaN, non-infinite there.                
            </javadoc>
            <method name="testIsSupportLowerBoundInclusive" type="void" line="391">
                <declaration name="lowerBound" type="double" line="392"/>
                <declaration name="result" type="double" line="393"/>
            </method>
            <javadoc line="402">
                Verify that isSupportUpperBoundInclusvie returns true iff the upper bound
                  is finite and density is non-NaN, non-infinite there.                
            </javadoc>
            <method name="testIsSupportUpperBoundInclusive" type="void" line="407">
                <declaration name="upperBound" type="double" line="408"/>
                <declaration name="result" type="double" line="409"/>
            </method>
            <method name="testDistributionClone" type="void" line="421">
                <comment line="423">
                    Construct a distribution and initialize its internal random
                     generator, using a fixed seed for deterministic results.                    
                </comment>
                <comment line="428">
                    Clone the distribution.                    
                </comment>
                <comment line="431">
                    Make sure they still produce the same samples.                    
                </comment>
                <declaration name="cloned" type="RealDistribution" line="428"/>
                <declaration name="s1" type="double" line="431"/>
                <declaration name="s2" type="double" line="432"/>
            </method>
            <javadoc line="437">
                @return Returns the cumulativeTestPoints.                
            </javadoc>
            <method name="getCumulativeTestPoints" type="double[]" line="440"/>
            <javadoc line="444">
                @param cumulativeTestPoints The cumulativeTestPoints to set.                
            </javadoc>
            <method name="setCumulativeTestPoints" type="void" line="447">
                <params>
                    <param name="cumulativeTestPoints" type="double[]"/>
                </params>
            </method>
            <javadoc line="451">
                @return Returns the cumulativeTestValues.                
            </javadoc>
            <method name="getCumulativeTestValues" type="double[]" line="454"/>
            <javadoc line="458">
                @param cumulativeTestValues The cumulativeTestValues to set.                
            </javadoc>
            <method name="setCumulativeTestValues" type="void" line="461">
                <params>
                    <param name="cumulativeTestValues" type="double[]"/>
                </params>
            </method>
            <method name="getDensityTestValues" type="double[]" line="465"/>
            <method name="setDensityTestValues" type="void" line="469">
                <params>
                    <param name="densityTestValues" type="double[]"/>
                </params>
            </method>
            <javadoc line="473">
                @return Returns the distribution.                
            </javadoc>
            <method name="getDistribution" type="RealDistribution" line="476"/>
            <javadoc line="480">
                @param distribution The distribution to set.                
            </javadoc>
            <method name="setDistribution" type="void" line="483">
                <params>
                    <param name="distribution" type="RealDistribution"/>
                </params>
            </method>
            <javadoc line="487">
                @return Returns the inverseCumulativeTestPoints.                
            </javadoc>
            <method name="getInverseCumulativeTestPoints" type="double[]" line="490"/>
            <javadoc line="494">
                @param inverseCumulativeTestPoints The inverseCumulativeTestPoints to set.                
            </javadoc>
            <method name="setInverseCumulativeTestPoints" type="void" line="497">
                <params>
                    <param name="inverseCumulativeTestPoints" type="double[]"/>
                </params>
            </method>
            <javadoc line="501">
                @return Returns the inverseCumulativeTestValues.                
            </javadoc>
            <method name="getInverseCumulativeTestValues" type="double[]" line="504"/>
            <javadoc line="508">
                @param inverseCumulativeTestValues The inverseCumulativeTestValues to set.                
            </javadoc>
            <method name="setInverseCumulativeTestValues" type="void" line="511">
                <params>
                    <param name="inverseCumulativeTestValues" type="double[]"/>
                </params>
            </method>
            <javadoc line="515">
                @return Returns the tolerance.                
            </javadoc>
            <method name="getTolerance" type="double" line="518"/>
            <javadoc line="522">
                @param tolerance The tolerance to set.                
            </javadoc>
            <method name="setTolerance" type="void" line="525">
                <params>
                    <param name="tolerance" type="double"/>
                </params>
            </method>
            <javadoc line="529">
                Serialization and deserialization loop of the {@link #distribution}.                
            </javadoc>
            <method name="deepClone" type="RealDistribution" line="534">
                <comment line="536">
                    Serialize to byte array.                    
                </comment>
                <comment line="542">
                    Deserialize from byte array.                    
                </comment>
                <declaration name="bOut" type="ByteArrayOutputStream" line="536"/>
                <declaration name="oOut" type="ObjectOutputStream" line="537"/>
                <declaration name="data" type="byte[]" line="539"/>
                <declaration name="bIn" type="ByteArrayInputStream" line="542"/>
                <declaration name="oIn" type="ObjectInputStream" line="543"/>
                <declaration name="clone" type="Object" line="544"/>
            </method>
        </class>
    </source>