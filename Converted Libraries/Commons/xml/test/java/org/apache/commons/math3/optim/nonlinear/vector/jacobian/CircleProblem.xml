<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.optim.nonlinear.vector.jacobian">
        <import package="java.util.ArrayList"/>
        <import package="org.apache.commons.math3.analysis.MultivariateVectorFunction"/>
        <import package="org.apache.commons.math3.analysis.MultivariateMatrixFunction"/>
        <import package="org.apache.commons.math3.util.MathUtils"/>
        <import package="org.apache.commons.math3.util.FastMath"/>
        <import package="org.apache.commons.math3.optim.nonlinear.vector.ModelFunction"/>
        <import package="org.apache.commons.math3.optim.nonlinear.vector.ModelFunctionJacobian"/>
        <class name="CircleProblem" line="27">
            <javadoc line="27">
                Class that models a circle.
                  The parameters of problem are:
                  &lt;ul&gt;
                  &lt;li&gt;the x-coordinate of the circle center,&lt;/li&gt;
                  &lt;li&gt;the y-coordinate of the circle center,&lt;/li&gt;
                  &lt;li&gt;the radius of the circle.&lt;/li&gt;
                  &lt;/ul&gt;
                  The model functions are:
                  &lt;ul&gt;
                  &lt;li&gt;for each triplet (cx, cy, r), the (x, y) coordinates of a point on the
                  corresponding circle.&lt;/li&gt;
                  &lt;/ul&gt;                
            </javadoc>
            <declaration name="points" type="ArrayList&lt;double[]&gt;" line="42"/>
            <javadoc line="42">
                Cloud of points assumed to be fitted by a circle.                
            </javadoc>
            <declaration name="xSigma" type="double" line="44"/>
            <javadoc line="44">
                Error on the x-coordinate of the points.                
            </javadoc>
            <declaration name="ySigma" type="double" line="46"/>
            <javadoc line="46">
                Error on the y-coordinate of the points.                
            </javadoc>
            <declaration name="resolution" type="int" line="48"/>
            <javadoc line="48">
                Number of points on the circumference (when searching which
                  model point is closest to a given &quot;observation&quot;.                
            </javadoc>
            <javadoc line="52">
                @param xError Assumed error for the x-coordinate of the circle points.                
                <param>
                    yError Assumed error for the y-coordinate of the circle points.                    
                </param>
                <param>
                    searchResolution Number of points to try when searching the one
                      that is closest to a given &quot;observed&quot; point.                    
                </param>
            </javadoc>
            <method name="CircleProblem" type="constructor" line="60">
                <params>
                    <param name="xError" type="double"/>
                    <param name="yError" type="double"/>
                    <param name="searchResolution" type="int"/>
                </params>
            </method>
            <javadoc line="67">
                @param xError Assumed error for the x-coordinate of the circle points.                
                <param>
                    yError Assumed error for the y-coordinate of the circle points.                    
                </param>
            </javadoc>
            <method name="CircleProblem" type="constructor" line="72">
                <params>
                    <param name="xError" type="double"/>
                    <param name="yError" type="double"/>
                </params>
            </method>
            <method name="addPoint" type="void" line="76">
                <params>
                    <param name="px" type="double"/>
                    <param name="py" type="double"/>
                </params>
            </method>
            <method name="target" type="double[]" line="80">
                <declaration name="t" type="double[]" line="81"/>
                <scope line="82">
                    <declaration name="p" type="double[]" line="83"/>
                    <declaration name="index" type="int" line="84"/>
                </scope>
            </method>
            <method name="weight" type="double[]" line="92">
                <declaration name="wX" type="double" line="93"/>
                <declaration name="wY" type="double" line="94"/>
                <declaration name="w" type="double[]" line="95"/>
                <scope line="96">
                    <declaration name="index" type="int" line="97"/>
                </scope>
            </method>
            <method name="getModelFunction" type="ModelFunction" line="105">
                <comment line="125">
                    Find the angle for which the circle passes closest to the
                     current point (using a resolution of 100 points along the
                     circumference).                    
                </comment>
                <anonymous_class line="106">
                    <method name="value" type="double[]" line="107">
                        <params>
                            <param name="params" type="double[]"/>
                        </params>
                        <comment line="125">
                            Find the angle for which the circle passes closest to the
                             current point (using a resolution of 100 points along the
                             circumference).                            
                        </comment>
                        <declaration name="cx" type="double" line="108"/>
                        <declaration name="cy" type="double" line="109"/>
                        <declaration name="r" type="double" line="110"/>
                        <declaration name="model" type="double[]" line="112"/>
                        <declaration name="deltaTheta" type="double" line="114"/>
                        <scope line="115">
                            <declaration name="p" type="double[]" line="116"/>
                            <declaration name="px" type="double" line="117"/>
                            <declaration name="py" type="double" line="118"/>
                            <declaration name="bestX" type="double" line="120"/>
                            <declaration name="bestY" type="double" line="121"/>
                            <declaration name="dMin" type="double" line="122"/>
                            <scope line="127">
                                <declaration name="currentX" type="double" line="128"/>
                                <declaration name="currentY" type="double" line="129"/>
                                <declaration name="dX" type="double" line="130"/>
                                <declaration name="dY" type="double" line="131"/>
                                <declaration name="d" type="double" line="132"/>
                                <scope line="133"/>
                            </scope>
                            <declaration name="index" type="int" line="140"/>
                        </scope>
                    </method>
                </anonymous_class>
            </method>
            <method name="getModelFunctionJacobian" type="ModelFunctionJacobian" line="150">
                <anonymous_class line="151">
                    <method name="value" type="double[][]" line="152">
                        <params>
                            <param name="point" type="double[]"/>
                        </params>
                    </method>
                </anonymous_class>
            </method>
            <method name="jacobian" type="double[][]" line="158">
                <params>
                    <param name="params" type="double[]"/>
                </params>
                <comment line="164">
                    Partial derivative wrt x-coordinate of center.                    
                </comment>
                <comment line="167">
                    Partial derivative wrt y-coordinate of center.                    
                </comment>
                <comment line="170">
                    Partial derivative wrt radius.                    
                </comment>
                <declaration name="jacobian" type="double[][]" line="159"/>
                <scope line="161">
                    <declaration name="index" type="int" line="162"/>
                    <declaration name="p" type="double[]" line="170"/>
                </scope>
            </method>
        </class>
    </source>