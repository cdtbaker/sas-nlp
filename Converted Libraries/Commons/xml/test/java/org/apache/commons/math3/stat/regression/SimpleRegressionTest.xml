<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.stat.regression">
        <import package="java.util.Random"/>
        <import package="org.apache.commons.math3.exception.MathIllegalArgumentException"/>
        <import package="org.apache.commons.math3.exception.OutOfRangeException"/>
        <import package="org.apache.commons.math3.random.ISAACRandom"/>
        <import package="org.apache.commons.math3.util.FastMath"/>
        <import package="org.junit.Assert"/>
        <import package="org.junit.Test"/>
        <class name="SimpleRegressionTest" line="29">
            <comment line="38">
                NIST &quot;Norris&quot; refernce data set from
                 http:www.itl.nist.govdiv898strdllsdataLINKSDATANorris.dat
                 Strangely, order is {y,x}                
            </comment>
            <comment line="53">
                Correlation example from
                 http:www.xycoon.comcorrelation.htm                
            </comment>
            <comment line="63">
                From Moore and Mcabe, &quot;Introduction to the Practice of Statistics&quot;
                 Example 10.3                
            </comment>
            <comment line="71">
                Points to remove in the remove tests                
            </comment>
            <comment line="80">
                Data with bad linear fit                
            </comment>
            <comment line="88">
                Data from NIST NOINT1                
            </comment>
            <comment line="105">
                Data from NIST NOINT2                
            </comment>
            <comment line="579">
                Jira MATH-85 = Bugzilla 39432                
            </comment>
            <comment line="591">
                Test remove X,Y (single observation)                
            </comment>
            <comment line="611">
                Test remove single observation in array                
            </comment>
            <comment line="630">
                Test remove multiple observations                
            </comment>
            <comment line="649">
                Remove observation when empty                
            </comment>
            <comment line="657">
                Remove single observation to empty                
            </comment>
            <comment line="666">
                Remove multiple observations to empty                
            </comment>
            <comment line="675">
                Remove multiple observations past empty (i.e. size of array &gt; n)                
            </comment>
            <javadoc line="29">
                Test cases for the TestStatistic class.                
                <version>
                    $Id: SimpleRegressionTest.java 1547633 2013-12-03 23:03:06Z tn $                    
                </version>
            </javadoc>
            <declaration name="data" type="double[][]" line="42"/>
            <declaration name="corrData" type="double[][]" line="56"/>
            <declaration name="infData" type="double[][]" line="66"/>
            <declaration name="removeSingle" type="double[][]" line="73"/>
            <declaration name="removeMultiple" type="double[][]" line="74"/>
            <declaration name="removeX" type="double" line="75"/>
            <declaration name="removeY" type="double" line="76"/>
            <declaration name="infData2" type="double[][]" line="82"/>
            <declaration name="noint1" type="double[][]" line="90"/>
            <declaration name="noint2" type="double[][]" line="108"/>
            <javadoc line="115">
                Test that the SimpleRegression objects generated from combining two
                  SimpleRegression objects created from subsets of data are identical to
                  SimpleRegression objects created from the combined data.                
            </javadoc>
            <method name="testAppend" type="void" line="121"/>
            <javadoc line="126">
                Checks that adding data to a single model gives the same result
                  as adding &quot;parts&quot; of the dataset to smaller models and using append
                  to aggregate the smaller models.                
                <param>
                    includeIntercept                    
                </param>
            </javadoc>
            <method name="check" type="void" line="133">
                <params>
                    <param name="includeIntercept" type="boolean"/>
                </params>
                <comment line="136">
                    Seed can be changed                    
                </comment>
                <comment line="137">
                    regression of the whole set                    
                </comment>
                <comment line="138">
                    regression with parts.                    
                </comment>
                <comment line="140">
                    loop through each subset of data.                    
                </comment>
                <comment line="142">
                    sub regression                    
                </comment>
                <comment line="143">
                    loop through individual samlpes.                    
                </comment>
                <comment line="145">
                    some noise                    
                </comment>
                <declaration name="sets" type="int" line="134"/>
                <declaration name="rand" type="ISAACRandom" line="135"/>
                <declaration name="whole" type="SimpleRegression" line="136"/>
                <declaration name="parts" type="SimpleRegression" line="137"/>
                <scope line="139">
                    <declaration name="coef" type="double" line="140"/>
                    <declaration name="sub" type="SimpleRegression" line="141"/>
                    <scope line="142">
                        <declaration name="x" type="double" line="143"/>
                        <declaration name="y" type="double" line="144"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="153">
                Returns true iff the statistics reported by model1 are all within tol of
                  those reported by model2.                
                <param>
                    model1 first model                    
                </param>
                <param>
                    model2 second model                    
                </param>
                <param>
                    tol tolerance                    
                </param>
                <return>
                    true if the two models report the same regression stats                    
                </return>
            </javadoc>
            <method name="equals" type="boolean" line="162">
                <params>
                    <param name="model1" type="SimpleRegression"/>
                    <param name="model2" type="SimpleRegression"/>
                    <param name="tol" type="double"/>
                </params>
                <scope line="163"/>
                <scope line="166"/>
                <scope line="169"/>
                <scope line="172"/>
                <scope line="175"/>
                <scope line="178"/>
                <scope line="181"/>
                <scope line="184"/>
                <scope line="187"/>
                <scope line="190"/>
                <scope line="193"/>
                <scope line="196"/>
                <scope line="199"/>
                <scope line="202"/>
                <scope line="205"/>
            </method>
            <method name="testRegressIfaceMethod" type="void" line="212">
                <comment line="224">
                    should not be null                    
                </comment>
                <declaration name="regression" type="SimpleRegression" line="213"/>
                <declaration name="iface" type="UpdatingMultipleLinearRegression" line="214"/>
                <declaration name="regressionNoint" type="SimpleRegression" line="215"/>
                <declaration name="regressionIntOnly" type="SimpleRegression" line="216"/>
                <scope line="217"/>
                <declaration name="fullReg" type="RegressionResults" line="224"/>
                <declaration name="noInt" type="RegressionResults" line="237"/>
                <declaration name="onlyInt" type="RegressionResults" line="247"/>
            </method>
            <javadoc line="259">
                Verify that regress generates exceptions as advertised for bad model specifications.                
            </javadoc>
            <method name="testRegressExceptions" type="void" line="263">
                <comment line="265">
                    No intercept                    
                </comment>
                <comment line="270">
                    null array                    
                </comment>
                <comment line="274">
                    Expected                    
                </comment>
                <comment line="276">
                    empty array                    
                </comment>
                <comment line="280">
                    Expected                    
                </comment>
                <comment line="282">
                    more than 1 regressor                    
                </comment>
                <comment line="286">
                    Expected                    
                </comment>
                <comment line="288">
                    invalid regressor                    
                </comment>
                <comment line="292">
                    Expected                    
                </comment>
                <comment line="295">
                    With intercept                    
                </comment>
                <comment line="300">
                    null array                    
                </comment>
                <comment line="304">
                    Expected                    
                </comment>
                <comment line="306">
                    empty array                    
                </comment>
                <comment line="310">
                    Expected                    
                </comment>
                <comment line="312">
                    more than 2 regressors                    
                </comment>
                <comment line="316">
                    Expected                    
                </comment>
                <comment line="318">
                    wrong order                    
                </comment>
                <comment line="322">
                    Expected                    
                </comment>
                <comment line="324">
                    out of range                    
                </comment>
                <comment line="328">
                    Expected                    
                </comment>
                <comment line="330">
                    out of range                    
                </comment>
                <comment line="334">
                    Expected                    
                </comment>
                <comment line="336">
                    out of range                    
                </comment>
                <comment line="340">
                    Expected                    
                </comment>
                <declaration name="noIntRegression" type="SimpleRegression" line="265"/>
                <scope line="269"/>
                <scope line="272"/>
                <scope line="275"/>
                <scope line="278"/>
                <scope line="281"/>
                <scope line="284"/>
                <scope line="287"/>
                <scope line="290"/>
                <declaration name="regression" type="SimpleRegression" line="295"/>
                <scope line="299"/>
                <scope line="302"/>
                <scope line="305"/>
                <scope line="308"/>
                <scope line="311"/>
                <scope line="314"/>
                <scope line="317"/>
                <scope line="320"/>
                <scope line="323"/>
                <scope line="326"/>
                <scope line="329"/>
                <scope line="332"/>
                <scope line="335"/>
                <scope line="338"/>
            </method>
            <method name="testNoInterceot_noint2" type="void" line="344">
                <declaration name="regression" type="SimpleRegression" line="345"/>
            </method>
            <method name="testNoIntercept_noint1" type="void" line="366">
                <declaration name="regression" type="SimpleRegression" line="367"/>
                <scope line="368"/>
            </method>
            <method name="testNorris" type="void" line="388">
                <comment line="394">
                    Tests against certified values from
                     http:www.itl.nist.gov/div898/strd/lls/data/LINKS/DATA/Norris.dat                    
                </comment>
                <comment line="412">
                    ------------  End certified data tests                    
                </comment>
                <declaration name="regression" type="SimpleRegression" line="389"/>
                <scope line="390"/>
            </method>
            <method name="testCorr" type="void" line="420">
                <declaration name="regression" type="SimpleRegression" line="421"/>
            </method>
            <method name="testNaNs" type="void" line="429">
                <comment line="447">
                    No x variation, so these should still blow...                    
                </comment>
                <comment line="459">
                    but SSTO should be OK                    
                </comment>
                <comment line="467">
                    All should be OK except MSE, s(b0), s(b1) which need one more df                    
                </comment>
                <comment line="482">
                    MSE, MSE, s(b0), s(b1) should all be OK now                    
                </comment>
                <declaration name="regression" type="SimpleRegression" line="430"/>
            </method>
            <method name="testClear" type="void" line="488">
                <declaration name="regression" type="SimpleRegression" line="489"/>
            </method>
            <method name="testInference" type="void" line="501">
                <comment line="503">
                    ----------  verified against R, version 1.8.1 -----
                     infData                    
                </comment>
                <comment line="515">
                    infData2                    
                </comment>
                <comment line="526">
                    ------------- End R-verified tests -------------------------------                    
                </comment>
                <comment line="528">
                    FIXME: get a real example to test against with alpha = .01                    
                </comment>
                <comment line="536">
                    ignored                    
                </comment>
                <declaration name="regression" type="SimpleRegression" line="504"/>
                <scope line="531"/>
                <scope line="534"/>
            </method>
            <method name="testPerfect" type="void" line="541">
                <declaration name="regression" type="SimpleRegression" line="542"/>
                <declaration name="n" type="int" line="543"/>
                <scope line="544"/>
            </method>
            <method name="testPerfectNegative" type="void" line="553">
                <declaration name="regression" type="SimpleRegression" line="554"/>
                <declaration name="n" type="int" line="555"/>
                <scope line="556"/>
            </method>
            <method name="testRandom" type="void" line="565">
                <declaration name="regression" type="SimpleRegression" line="566"/>
                <declaration name="random" type="Random" line="567"/>
                <declaration name="n" type="int" line="568"/>
                <scope line="569"/>
            </method>
            <method name="testSSENonNegative" type="void" line="580">
                <declaration name="y" type="double[]" line="581"/>
                <declaration name="x" type="double[]" line="582"/>
                <declaration name="reg" type="SimpleRegression" line="583"/>
                <scope line="584"/>
            </method>
            <method name="testRemoveXY" type="void" line="592">
                <comment line="594">
                    Create regression with inference data then remove to test                    
                </comment>
                <comment line="599">
                    Use the inference assertions to make sure that everything worked                    
                </comment>
                <declaration name="regression" type="SimpleRegression" line="594"/>
            </method>
            <method name="testRemoveSingle" type="void" line="612">
                <comment line="614">
                    Create regression with inference data then remove to test                    
                </comment>
                <comment line="619">
                    Use the inference assertions to make sure that everything worked                    
                </comment>
                <declaration name="regression" type="SimpleRegression" line="614"/>
            </method>
            <method name="testRemoveMultiple" type="void" line="631">
                <comment line="633">
                    Create regression with inference data then remove to test                    
                </comment>
                <comment line="638">
                    Use the inference assertions to make sure that everything worked                    
                </comment>
                <declaration name="regression" type="SimpleRegression" line="633"/>
            </method>
            <method name="testRemoveObsFromEmpty" type="void" line="650">
                <declaration name="regression" type="SimpleRegression" line="651"/>
            </method>
            <method name="testRemoveObsFromSingle" type="void" line="658">
                <declaration name="regression" type="SimpleRegression" line="659"/>
            </method>
            <method name="testRemoveMultipleToEmpty" type="void" line="667">
                <declaration name="regression" type="SimpleRegression" line="668"/>
            </method>
            <method name="testRemoveMultiplePastEmpty" type="void" line="676">
                <declaration name="regression" type="SimpleRegression" line="677"/>
            </method>
        </class>
    </source>