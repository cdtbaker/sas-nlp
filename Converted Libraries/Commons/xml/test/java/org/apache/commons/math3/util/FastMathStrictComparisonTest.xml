<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.util">
        <import package="java.lang.reflect.InvocationTargetException"/>
        <import package="java.lang.reflect.Method"/>
        <import package="java.lang.reflect.Modifier"/>
        <import package="java.lang.reflect.Type"/>
        <import package="java.util.ArrayList"/>
        <import package="java.util.Arrays"/>
        <import package="java.util.List"/>
        <import package="org.junit.Assert"/>
        <import package="org.junit.Test"/>
        <import package="org.junit.runner.RunWith"/>
        <import package="org.junit.runners.Parameterized"/>
        <import package="org.junit.runners.Parameterized.Parameters"/>
        <class name="FastMathStrictComparisonTest" line="33">
            <comment line="45">
                Values which often need special handling                
            </comment>
            <javadoc line="33">
                Test to compare FastMath results against StrictMath results for boundary values.
                  &lt;p&gt;
                  Running all tests independently: &lt;br/&gt;{@code mvn test -Dtest=FastMathStrictComparisonTest}&lt;br/&gt;
                  or just run tests against a single method (e.g. scalb):&lt;br/&gt;{@code mvn test -Dtest=FastMathStrictComparisonTest -DargLine=&quot;-DtestMethod=scalb&quot;}                
            </javadoc>
            <declaration name="DOUBLE_SPECIAL_VALUES" type="Double[]" line="45"/>
            <declaration name="FLOAT_SPECIAL_VALUES" type="Float[]" line="56"/>
            <declaration name="LONG_SPECIAL_VALUES" type="Object[]" line="64"/>
            <declaration name="INT_SPECIAL_VALUES" type="Object[]" line="69"/>
            <declaration name="mathMethod" type="Method" line="74"/>
            <declaration name="fastMethod" type="Method" line="75"/>
            <declaration name="types" type="Type[]" line="76"/>
            <declaration name="valueArrays" type="Object[][]" line="77"/>
            <method name="FastMathStrictComparisonTest" type="constructor" line="79">
                <params>
                    <param name="m" type="Method"/>
                    <param name="f" type="Method"/>
                    <param name="types" type="Type[]"/>
                    <param name="data" type="Object[][]"/>
                </params>
            </method>
            <method name="test1" type="void" line="87"/>
            <method name="isNumber" type="boolean" line="90">
                <params>
                    <param name="d" type="Double"/>
                </params>
            </method>
            <method name="isNumber" type="boolean" line="94">
                <params>
                    <param name="f" type="Float"/>
                </params>
            </method>
            <method name="reportFailedResults" type="void" line="98">
                <params>
                    <param name="mathMethod" type="Method"/>
                    <param name="params" type="Object[]"/>
                    <param name="expected" type="Object"/>
                    <param name="actual" type="Object"/>
                    <param name="entries" type="int[]"/>
                </params>
                <comment line="107">
                    show difference as hex                    
                </comment>
                <comment line="111">
                    Not 100% sure off-by-one errors are allowed everywhere, so only allow for these methods                    
                </comment>
                <comment line="121">
                    show difference as hex                    
                </comment>
                <declaration name="methodName" type="String" line="99"/>
                <declaration name="format" type="String" line="100"/>
                <declaration name="actL" type="long" line="101"/>
                <declaration name="expL" type="long" line="102"/>
                <scope line="103">
                    <declaration name="exp" type="Double" line="104"/>
                    <declaration name="act" type="Double" line="105"/>
                    <scope line="106">
                        <scope line="109">
                            <scope line="111"/>
                        </scope>
                    </scope>
                </scope>
                <scope line="117">
                    <declaration name="exp" type="Float" line="118"/>
                    <declaration name="act" type="Float" line="119"/>
                    <scope line="120"/>
                </scope>
                <declaration name="sb" type="StringBuilder" line="126"/>
                <declaration name="sep" type="String" line="131"/>
                <scope line="132"/>
                <scope line="138"/>
                <scope line="140"/>
                <scope line="144"/>
                <scope line="146"/>
                <declaration name="message" type="String" line="151"/>
                <declaration name="fatal" type="boolean" line="152"/>
                <scope line="153"/>
                <scope line="155"/>
            </method>
            <method name="callMethods" type="void" line="162">
                <params>
                    <param name="mathMethod" type="Method"/>
                    <param name="fastMethod" type="Method"/>
                    <param name="params" type="Object[]"/>
                    <param name="entries" type="int[]"/>
                </params>
                <scope line="163">
                    <declaration name="expected" type="Object" line="164"/>
                    <declaration name="actual" type="Object" line="165"/>
                    <scope line="166"/>
                </scope>
                <scope line="169"/>
            </method>
            <method name="setupMethodCall" type="void" line="175">
                <params>
                    <param name="mathMethod" type="Method"/>
                    <param name="fastMethod" type="Method"/>
                    <param name="types" type="Type[]"/>
                    <param name="valueArrays" type="Object[][]"/>
                </params>
                <declaration name="params" type="Object[]" line="176"/>
                <declaration name="entry1" type="int" line="177"/>
                <declaration name="entries" type="int[]" line="178"/>
                <scope line="179">
                    <scope line="183">
                        <declaration name="entry2" type="int" line="184"/>
                        <scope line="185"/>
                    </scope>
                    <scope line="191"/>
                </scope>
            </method>
            <method name="data" type="List<Object[]>" line="198">
                <comment line="204">
                    Only test public methods                    
                </comment>
                <comment line="206">
                    Only check methods with at least one parameter                    
                </comment>
                <comment line="208">
                    Get the corresponding FastMath method                    
                </comment>
                <comment line="210">
                    It must be public too                    
                </comment>
                <comment line="231">
                    System.out.println(fastMethod);                    
                </comment>
                <comment line="232">
                    The current implementation runs each method as a separate test.
                     Could be amended to run each value as a separate test                    
                </comment>
                <comment line="237">
                    setupMethodCall(mathMethod, fastMethod, params, data);                    
                </comment>
                <declaration name="singleMethod" type="String" line="199"/>
                <declaration name="list" type="List&lt;Object[]&gt;" line="200"/>
                <scope line="201">
                    <scope line="203">
                        <declaration name="types" type="Type[]" line="204"/>
                        <scope line="205">
                            <scope line="206">
                                <declaration name="fastMethod" type="Method" line="208"/>
                                <scope line="209">
                                    <scope line="210"/>
                                    <declaration name="values" type="Object[][]" line="213"/>
                                    <declaration name="index" type="int" line="214"/>
                                    <scope line="215">
                                        <scope line="216"/>
                                        <scope line="218"/>
                                        <scope line="220"/>
                                        <scope line="222"/>
                                        <scope line="224"/>
                                    </scope>
                                </scope>
                                <scope line="237"/>
                            </scope>
                            <scope line="240"/>
                        </scope>
                    </scope>
                </scope>
            </method>
        </class>
    </source>