<?xml version="1.0" encoding="UTF-8"?>
<source package="org.ejml.alg.dense.linsol.chol">
  <import name="org.ejml.alg.dense.decomposition.TriangularSolver" />
  <import name="org.ejml.alg.dense.decomposition.chol.CholeskyDecompositionCommon" />
  <import name="org.ejml.alg.dense.linsol.LinearSolverAbstract" />
  <import name="org.ejml.data.DenseMatrix64F" />
  <import name="org.ejml.ops.SpecializedOps" />
  <class name="LinearSolverChol" extends="LinearSolverAbstract" startLine="28">
    <javadoc>
      <author>Peter Abeles</author>
    </javadoc>
    <declaration type="CholeskyDecompositionCommon" name="decomp" />
    <declaration type="int" name="n" />
    <declaration type="double" name="vv" />
    <declaration type="double" name="t" />
    <method type="constructor" name="LinearSolverChol" startLine="38" endLine="40" />
    <method type="boolean" name="setA" startLine="43" endLine="54">
      <scope startLine="46" endLine="51" />
      <scope startLine="51" endLine="53" />
    </method>
    <method type="double" name="quality" startLine="57" endLine="59" />
    <javadoc>
      <text>* <p>
 * Using the decomposition, finds the value of 'X' in the linear equation below:<br>
 * A*x = b<br>
 * where A has dimension of n by n, x and b are n by m dimension.
 * </p>
 * <p>
 * *Note* that 'b' and 'x' can be the same matrix instance.
 * </p></text>
      <param>B A matrix that is n by m.  Not modified.</param>
      <param>X An n by m matrix where the solution is writen to.  Modified.</param>
    </javadoc>
    <method type="void" name="solve" startLine="77" endLine="96">
      <scope startLine="78" endLine="80" />
      <declaration type="int" name="numCols" />
      <declaration type="double[]" name="dataB" />
      <declaration type="double[]" name="dataX" />
      <scope startLine="87" endLine="93">
        <scope startLine="88" endLine="92" />
      </scope>
      <scope startLine="93" endLine="95" />
    </method>
    <javadoc>
      <text>* Used internally to find the solution to a single column vector.</text>
    </javadoc>
    <method type="void" name="solveInternalL" startLine="101" endLine="107">
      <comment>solve L*y=b storing y in x</comment>
      <comment>solve L^T*x=y</comment>
    </method>
    <javadoc>
      <text>* Sets the matrix 'inv' equal to the inverse of the matrix that was decomposed.</text>
      <param>inv Where the value of the inverse will be stored.  Modified.</param>
    </javadoc>
    <method type="void" name="invert" startLine="115" endLine="130">
      <scope startLine="116" endLine="118" />
      <scope startLine="119" endLine="121" />
      <declaration type="double[]" name="a" />
      <scope startLine="125" endLine="127" />
      <scope startLine="127" endLine="129" />
    </method>
    <javadoc>
      <text>* Sets the matrix to the inverse using a lower triangular matrix.</text>
    </javadoc>
    <method type="void" name="setToInverseL" startLine="135" endLine="163">
      <scope startLine="140" endLine="149">
        <declaration type="double" name="el_ii" />
        <scope startLine="142" endLine="148">
          <declaration type="double" name="sum" />
          <scope startLine="144" endLine="146" />
        </scope>
      </scope>
      <scope startLine="152" endLine="162">
        <declaration type="double" name="el_ii" />
        <scope startLine="155" endLine="161">
          <declaration type="double" name="sum" />
          <scope startLine="157" endLine="159" />
        </scope>
      </scope>
      <comment>TODO reorder these operations to avoid cache misses</comment>
      <comment>inverts the lower triangular system and saves the result</comment>
      <comment>in the upper triangle to minimize cache misses</comment>
      <comment>solve the system and handle the previous solution being in the upper triangle</comment>
      <comment>takes advantage of symmetry</comment>
    </method>
    <method type="boolean" name="modifiesA" startLine="166" endLine="168" />
    <method type="boolean" name="modifiesB" startLine="171" endLine="173" />
  </class>
</source>
