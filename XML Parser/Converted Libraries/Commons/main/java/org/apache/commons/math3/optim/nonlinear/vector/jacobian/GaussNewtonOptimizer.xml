<?xml version="1.0" encoding="UTF-8"?>
<source package="org.apache.commons.math3.optim.nonlinear.vector.jacobian">
  <import name="org.apache.commons.math3.exception.ConvergenceException" />
  <import name="org.apache.commons.math3.exception.NullArgumentException" />
  <import name="org.apache.commons.math3.exception.MathInternalError" />
  <import name="org.apache.commons.math3.exception.MathUnsupportedOperationException" />
  <import name="org.apache.commons.math3.exception.util.LocalizedFormats" />
  <import name="org.apache.commons.math3.linear.ArrayRealVector" />
  <import name="org.apache.commons.math3.linear.BlockRealMatrix" />
  <import name="org.apache.commons.math3.linear.DecompositionSolver" />
  <import name="org.apache.commons.math3.linear.LUDecomposition" />
  <import name="org.apache.commons.math3.linear.QRDecomposition" />
  <import name="org.apache.commons.math3.linear.RealMatrix" />
  <import name="org.apache.commons.math3.linear.SingularMatrixException" />
  <import name="org.apache.commons.math3.optim.ConvergenceChecker" />
  <import name="org.apache.commons.math3.optim.PointVectorValuePair" />
  <class name="GaussNewtonOptimizer" extends="AbstractLeastSquaresOptimizer" startLine="34">
    <javadoc>
      <text>* Gauss-Newton least-squares solver.
 * <br/>
 * Constraints are not supported: the call to{@link #optimize(OptimizationData[]) optimize} will throw{@link MathUnsupportedOperationException} if bounds are passed to it.
 * <p>
 * This class solve a least-square problem by solving the normal equations
 * of the linearized problem at each iteration. Either LU decomposition or
 * QR decomposition can be used to solve the normal equations. LU decomposition
 * is faster but QR decomposition is more robust for difficult problems.
 * </p></text>
      <version>$Id: GaussNewtonOptimizer.java 1458323 2013-03-19 14:51:30Z erans $</version>
      <since>2.0</since>
    </javadoc>
    <javadoc>
      <text>* Indicator for using LU decomposition.</text>
    </javadoc>
    <declaration type="boolean" name="useLU" />
    <javadoc>
      <text>* Simple constructor with default settings.
 * The normal equations will be solved using LU decomposition.</text>
      <param>checker Convergence checker.</param>
    </javadoc>
    <method type="constructor" name="GaussNewtonOptimizer" startLine="62" endLine="64" />
    <javadoc>
      <param>useLU If {@code true}, the normal equations will be solved
 * using LU decomposition, otherwise they will be solved using QR
 * decomposition.</param>
      <param>checker Convergence checker.</param>
    </javadoc>
    <method type="constructor" name="GaussNewtonOptimizer" startLine="73" endLine="76" />
    <javadoc>
      <text>* {@inheritDoc}</text>
    </javadoc>
    <method type="PointVectorValuePair" name="doOptimize" startLine="80" endLine="168">
      <declaration type="ConvergenceChecker<PointVectorValuePair>" name="checker" />
      <scope startLine="87" endLine="89" />
      <declaration type="double[]" name="targetValues" />
      <declaration type="int" name="nR" />
      <declaration type="RealMatrix" name="weightMatrix" />
      <declaration type="double[]" name="residualsWeights" />
      <scope startLine="97" endLine="99" />
      <declaration type="double[]" name="currentPoint" />
      <declaration type="int" name="nC" />
      <declaration type="PointVectorValuePair" name="current" />
      <scope startLine="106" endLine="165">
        <declaration type="PointVectorValuePair" name="previous" />
        <declaration type="double[]" name="currentObjective" />
        <declaration type="double[]" name="currentResiduals" />
        <declaration type="RealMatrix" name="weightedJacobian" />
        <declaration type="double[]" name="b" />
        <declaration type="double[][]" name="a" />
        <scope startLine="120" endLine="140">
          <declaration type="double[]" name="grad" />
          <declaration type="double" name="weight" />
          <declaration type="double" name="residual" />
          <declaration type="double" name="wr" />
          <scope startLine="128" endLine="130" />
          <scope startLine="133" endLine="139">
            <declaration type="double[]" name="ak" />
            <declaration type="double" name="wgk" />
            <scope startLine="136" endLine="138" />
          </scope>
        </scope>
        <scope startLine="142" endLine="153">
          <declaration type="RealMatrix" name="mA" />
          <declaration type="DecompositionSolver" name="solver" />
          <declaration type="double[]" name="dX" />
          <scope startLine="150" endLine="152" />
        </scope>
        <scope startLine="153" endLine="155" />
        <scope startLine="158" endLine="164">
          <scope startLine="160" endLine="163" />
        </scope>
        <comment>evaluate the objective function and its jacobian</comment>
        <comment>Value of the objective function at "currentPoint".</comment>
        <comment>build the linear problem</comment>
        <comment>compute the normal equation</comment>
        <comment>build the contribution matrix for measurement i</comment>
        <comment>solve the linearized least squares problem</comment>
        <comment>update the estimated parameters</comment>
        <comment>Check convergence.</comment>
      </scope>
      <comment>Computation will be useless without a checker (see "for-loop").</comment>
      <comment>Number of observed data.</comment>
      <comment>Diagonal of the weight matrix.</comment>
      <comment>iterate until convergence is reached</comment>
      <comment>Must never happen.</comment>
    </method>
    <javadoc>
      <throws>MathUnsupportedOperationException if bounds were passed to the{@link #optimize(OptimizationData[]) optimize} method.</throws>
    </javadoc>
    <method type="void" name="checkParameters" startLine="174" endLine="179">
      <scope startLine="176" endLine="178" />
    </method>
  </class>
</source>
