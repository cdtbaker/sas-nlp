<?xml version="1.0" encoding="UTF-8"?>
<source package="org.apache.commons.math3.stat.regression">
  <import name="java.util.Random" />
  <import name="org.apache.commons.math3.exception.MathIllegalArgumentException" />
  <import name="org.apache.commons.math3.exception.OutOfRangeException" />
  <import name="org.junit.Assert" />
  <import name="org.junit.Test" />
  <class name="SimpleRegressionTest" startLine="27">
    <javadoc>
      <text>* Test cases for the TestStatistic class.</text>
      <version>$Id: SimpleRegressionTest.java 1389150 2012-09-23 21:42:51Z psteitz $</version>
    </javadoc>
    <declaration type="double[][]" name="data" />
    <declaration type="double[][]" name="corrData" />
    <declaration type="double[][]" name="infData" />
    <declaration type="double[][]" name="removeSingle" />
    <declaration type="double[][]" name="removeMultiple" />
    <declaration type="double" name="removeX" />
    <declaration type="double" name="removeY" />
    <declaration type="double[][]" name="infData2" />
    <declaration type="double[][]" name="noint1" />
    <declaration type="double[][]" name="noint2" />
    <method type="void" name="testRegressIfaceMethod" startLine="113" endLine="158">
      <declaration type="SimpleRegression" name="regression" />
      <declaration type="UpdatingMultipleLinearRegression" name="iface" />
      <declaration type="SimpleRegression" name="regressionNoint" />
      <declaration type="SimpleRegression" name="regressionIntOnly" />
      <scope startLine="118" endLine="122" />
      <declaration type="RegressionResults" name="fullReg" />
      <declaration type="RegressionResults[]" name="noInt" />
      <declaration type="RegressionResults[]" name="onlyInt" />
      <comment>should not be null</comment>
    </method>
    <javadoc>
      <text>* Verify that regress generates exceptions as advertised for bad model specifications.</text>
    </javadoc>
    <method type="void" name="testRegressExceptions" startLine="164" endLine="242">
      <declaration type="SimpleRegression" name="noIntRegression" />
      <scope startLine="170" endLine="173">
        <comment>null array</comment>
      </scope>
      <scope startLine="173" endLine="175">
        <comment>Expected</comment>
      </scope>
      <scope startLine="176" endLine="179">
        <comment>empty array</comment>
      </scope>
      <scope startLine="179" endLine="181">
        <comment>Expected</comment>
      </scope>
      <scope startLine="182" endLine="185">
        <comment>more than 1 regressor</comment>
      </scope>
      <scope startLine="185" endLine="187">
        <comment>Expected</comment>
      </scope>
      <scope startLine="188" endLine="191">
        <comment>invalid regressor</comment>
      </scope>
      <scope startLine="191" endLine="193">
        <comment>Expected</comment>
      </scope>
      <declaration type="SimpleRegression" name="regression" />
      <scope startLine="200" endLine="203">
        <comment>null array</comment>
      </scope>
      <scope startLine="203" endLine="205">
        <comment>Expected</comment>
      </scope>
      <scope startLine="206" endLine="209">
        <comment>empty array</comment>
      </scope>
      <scope startLine="209" endLine="211">
        <comment>Expected</comment>
      </scope>
      <scope startLine="212" endLine="215">
        <comment>more than 2 regressors</comment>
      </scope>
      <scope startLine="215" endLine="217">
        <comment>Expected</comment>
      </scope>
      <scope startLine="218" endLine="221">
        <comment>wrong order</comment>
      </scope>
      <scope startLine="221" endLine="223">
        <comment>Expected</comment>
      </scope>
      <scope startLine="224" endLine="227">
        <comment>out of range</comment>
      </scope>
      <scope startLine="227" endLine="229">
        <comment>Expected</comment>
      </scope>
      <scope startLine="230" endLine="233">
        <comment>out of range</comment>
      </scope>
      <scope startLine="233" endLine="235">
        <comment>Expected</comment>
      </scope>
      <scope startLine="236" endLine="239">
        <comment>out of range</comment>
      </scope>
      <scope startLine="239" endLine="241">
        <comment>Expected</comment>
      </scope>
      <comment>No intercept</comment>
      <comment>With intercept</comment>
    </method>
    <method type="void" name="testNoInterceot_noint2" startLine="245" endLine="264">
      <declaration type="SimpleRegression" name="regression" />
    </method>
    <method type="void" name="testNoIntercept_noint1" startLine="267" endLine="286">
      <declaration type="SimpleRegression" name="regression" />
      <scope startLine="269" endLine="271" />
    </method>
    <method type="void" name="testNorris" startLine="289" endLine="318">
      <declaration type="SimpleRegression" name="regression" />
      <scope startLine="291" endLine="293" />
      <comment>Tests against certified values from</comment>
      <comment>http:www.itl.nist.gov/div898/strd/lls/data/LINKS/DATA/Norris.dat</comment>
      <comment>------------  End certified data tests</comment>
    </method>
    <method type="void" name="testCorr" startLine="321" endLine="327">
      <declaration type="SimpleRegression" name="regression" />
    </method>
    <method type="void" name="testNaNs" startLine="330" endLine="386">
      <declaration type="SimpleRegression" name="regression" />
      <comment>No x variation, so these should still blow...</comment>
      <comment>but SSTO should be OK</comment>
      <comment>All should be OK except MSE, s(b0), s(b1) which need one more df</comment>
      <comment>MSE, MSE, s(b0), s(b1) should all be OK now</comment>
    </method>
    <method type="void" name="testClear" startLine="389" endLine="399">
      <declaration type="SimpleRegression" name="regression" />
    </method>
    <method type="void" name="testInference" startLine="402" endLine="439">
      <declaration type="SimpleRegression" name="regression" />
      <scope startLine="432" endLine="435" />
      <scope startLine="435" endLine="437">
        <comment>ignored</comment>
      </scope>
      <comment>----------  verified against R, version 1.8.1 -----</comment>
      <comment>infData</comment>
      <comment>infData2</comment>
      <comment>------------- End R-verified tests -------------------------------</comment>
      <comment>FIXME: get a real example to test against with alpha = .01</comment>
    </method>
    <method type="void" name="testPerfect" startLine="442" endLine="451">
      <declaration type="SimpleRegression" name="regression" />
      <declaration type="int" name="n" />
      <scope startLine="445" endLine="447" />
    </method>
    <method type="void" name="testPerfectNegative" startLine="454" endLine="463">
      <declaration type="SimpleRegression" name="regression" />
      <declaration type="int" name="n" />
      <scope startLine="457" endLine="459" />
    </method>
    <method type="void" name="testRandom" startLine="466" endLine="476">
      <declaration type="SimpleRegression" name="regression" />
      <declaration type="Random" name="random" />
      <declaration type="int" name="n" />
      <scope startLine="470" endLine="472" />
    </method>
    <method type="void" name="testSSENonNegative" startLine="481" endLine="489">
      <declaration type="double[]" name="y" />
      <declaration type="double[]" name="x" />
      <declaration type="SimpleRegression" name="reg" />
      <scope startLine="485" endLine="487" />
    </method>
    <method type="void" name="testRemoveXY" startLine="493" endLine="508">
      <declaration type="SimpleRegression" name="regression" />
      <comment>Create regression with inference data then remove to test</comment>
      <comment>Use the inference assertions to make sure that everything worked</comment>
    </method>
    <method type="void" name="testRemoveSingle" startLine="513" endLine="528">
      <declaration type="SimpleRegression" name="regression" />
      <comment>Create regression with inference data then remove to test</comment>
      <comment>Use the inference assertions to make sure that everything worked</comment>
    </method>
    <method type="void" name="testRemoveMultiple" startLine="532" endLine="547">
      <declaration type="SimpleRegression" name="regression" />
      <comment>Create regression with inference data then remove to test</comment>
      <comment>Use the inference assertions to make sure that everything worked</comment>
    </method>
    <method type="void" name="testRemoveObsFromEmpty" startLine="551" endLine="555">
      <declaration type="SimpleRegression" name="regression" />
    </method>
    <method type="void" name="testRemoveObsFromSingle" startLine="559" endLine="564">
      <declaration type="SimpleRegression" name="regression" />
    </method>
    <method type="void" name="testRemoveMultipleToEmpty" startLine="568" endLine="573">
      <declaration type="SimpleRegression" name="regression" />
    </method>
    <method type="void" name="testRemoveMultiplePastEmpty" startLine="577" endLine="582">
      <declaration type="SimpleRegression" name="regression" />
    </method>
    <comment>NIST "Norris" refernce data set from
 http:www.itl.nist.govdiv898strdllsdataLINKSDATANorris.dat
 Strangely, order is {y,x}</comment>
    <comment>Correlation example from
 http:www.xycoon.comcorrelation.htm</comment>
    <comment>From Moore and Mcabe, "Introduction to the Practice of Statistics"
 Example 10.3</comment>
    <comment>Points to remove in the remove tests</comment>
    <comment>Data with bad linear fit</comment>
    <comment>Data from NIST NOINT1</comment>
    <comment>Data from NIST NOINT2</comment>
    <comment>Jira MATH-85 = Bugzilla 39432</comment>
    <comment>Test remove X,Y (single observation)</comment>
    <comment>Test remove single observation in array</comment>
    <comment>Test remove multiple observations</comment>
    <comment>Remove observation when empty</comment>
    <comment>Remove single observation to empty</comment>
    <comment>Remove multiple observations to empty</comment>
    <comment>Remove multiple observations past empty (i.e. size of array > n)</comment>
  </class>
</source>
