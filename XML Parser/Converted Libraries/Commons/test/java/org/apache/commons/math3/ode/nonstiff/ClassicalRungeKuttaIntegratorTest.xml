<?xml version="1.0" encoding="UTF-8"?>
<source package="org.apache.commons.math3.ode.nonstiff">
  <import name="org.apache.commons.math3.exception.DimensionMismatchException" />
  <import name="org.apache.commons.math3.exception.MaxCountExceededException" />
  <import name="org.apache.commons.math3.exception.NoBracketingException" />
  <import name="org.apache.commons.math3.exception.NumberIsTooSmallException" />
  <import name="org.apache.commons.math3.ode.FirstOrderDifferentialEquations" />
  <import name="org.apache.commons.math3.ode.FirstOrderIntegrator" />
  <import name="org.apache.commons.math3.ode.TestProblem1" />
  <import name="org.apache.commons.math3.ode.TestProblem3" />
  <import name="org.apache.commons.math3.ode.TestProblem5" />
  <import name="org.apache.commons.math3.ode.TestProblemAbstract" />
  <import name="org.apache.commons.math3.ode.TestProblemFactory" />
  <import name="org.apache.commons.math3.ode.TestProblemHandler" />
  <import name="org.apache.commons.math3.ode.events.EventHandler" />
  <import name="org.apache.commons.math3.ode.sampling.StepHandler" />
  <import name="org.apache.commons.math3.ode.sampling.StepInterpolator" />
  <import name="org.apache.commons.math3.util.FastMath" />
  <import name="org.junit.Assert" />
  <import name="org.junit.Test" />
  <class name="ClassicalRungeKuttaIntegratorTest" startLine="40">
    <method type="void" name="testMissedEndEvent" startLine="45" endLine="99">
      <declaration type="double" name="t0" />
      <declaration type="double" name="tEvent" />
      <declaration type="double[]" name="k" />
      <declaration type="FirstOrderDifferentialEquations[]" name="ode" />
      <method type="int" name="getDimension" startLine="51" endLine="53" />
      <method type="void" name="computeDerivatives" startLine="55" endLine="59">
        <scope startLine="56" endLine="58" />
      </method>
      <declaration type="ClassicalRungeKuttaIntegrator" name="integrator" />
      <declaration type="double[]" name="y0" />
      <scope startLine="65" endLine="67" />
      <declaration type="double[]" name="y" />
      <declaration type="double" name="finalT" />
      <scope startLine="72" endLine="74" />
      <method type="void" name="init" startLine="78" endLine="79" />
      <method type="void" name="resetState" startLine="81" endLine="82" />
      <method type="double" name="g" startLine="84" endLine="86" />
      <method type="Action" name="eventOccurred" startLine="88" endLine="91" />
      <scope startLine="95" endLine="97" />
    </method>
    <method type="void" name="testSanityChecks" startLine="104" endLine="129">
      <scope startLine="105" endLine="111">
        <declaration type="TestProblem1" name="pb" />
      </scope>
      <scope startLine="111" endLine="112" />
      <scope startLine="113" endLine="119">
        <declaration type="TestProblem1" name="pb" />
      </scope>
      <scope startLine="119" endLine="120" />
      <scope startLine="121" endLine="127">
        <declaration type="TestProblem1" name="pb" />
      </scope>
      <scope startLine="127" endLine="128" />
    </method>
    <method type="void" name="testDecreasingSteps" startLine="134" endLine="179">
      <declaration type="TestProblemAbstract[]" name="problems" />
      <scope startLine="137" endLine="177">
        <declaration type="double" name="previousValueError" />
        <declaration type="double" name="previousTimeError" />
        <scope startLine="141" endLine="175">
          <declaration type="TestProblemAbstract" name="pb" />
          <declaration type="double" name="step" />
          <declaration type="FirstOrderIntegrator" name="integ" />
          <declaration type="TestProblemHandler" name="handler" />
          <declaration type="EventHandler[]" name="functions" />
          <scope startLine="150" endLine="153" />
          <declaration type="double" name="stopTime" />
          <scope startLine="157" endLine="159" />
          <declaration type="double" name="error" />
          <scope startLine="162" endLine="164" />
          <declaration type="double" name="timeError" />
          <scope startLine="168" endLine="170" />
        </scope>
      </scope>
    </method>
    <method type="void" name="testSmallStep" startLine="184" endLine="199">
      <declaration type="TestProblem1" name="pb" />
      <declaration type="double" name="step" />
      <declaration type="FirstOrderIntegrator" name="integ" />
      <declaration type="TestProblemHandler" name="handler" />
    </method>
    <method type="void" name="testBigStep" startLine="204" endLine="219">
      <declaration type="TestProblem1" name="pb" />
      <declaration type="double" name="step" />
      <declaration type="FirstOrderIntegrator" name="integ" />
      <declaration type="TestProblemHandler" name="handler" />
    </method>
    <method type="void" name="testBackward" startLine="224" endLine="239">
      <declaration type="TestProblem5" name="pb" />
      <declaration type="double" name="step" />
      <declaration type="FirstOrderIntegrator" name="integ" />
      <declaration type="TestProblemHandler" name="handler" />
    </method>
    <method type="void" name="testKepler" startLine="244" endLine="254">
      <declaration type="TestProblem3" name="pb" />
      <declaration type="double" name="step" />
      <declaration type="FirstOrderIntegrator" name="integ" />
    </method>
    <class name="KeplerHandler" startLine="256">
      <implements name="StepHandler" />
      <method type="constructor" name="KeplerHandler" startLine="257" endLine="260" />
      <method type="void" name="init" startLine="261" endLine="263" />
      <method type="void" name="handleStep" startLine="265" endLine="281">
        <declaration type="double[]" name="interpolatedY" />
        <declaration type="double[]" name="theoreticalY" />
        <declaration type="double" name="dx" />
        <declaration type="double" name="dy" />
        <declaration type="double" name="error" />
        <scope startLine="272" endLine="274" />
        <scope startLine="275" endLine="280">
          <comment>even with more than 1000 evaluations per period,</comment>
          <comment>RK4 is not able to integrate such an eccentric</comment>
          <comment>orbit with a good accuracy</comment>
        </scope>
      </method>
      <declaration type="double" name="maxError" />
      <declaration type="TestProblem3" name="pb" />
      <method type="void" name="testStepSize" startLine="289" endLine="311">
        <declaration type="double" name="step" />
        <declaration type="FirstOrderIntegrator" name="integ" />
        <method type="void" name="handleStep" startLine="293" endLine="299">
          <scope startLine="294" endLine="298" />
        </method>
        <method type="void" name="init" startLine="300" endLine="301" />
        <method type="void" name="computeDerivatives" startLine="304" endLine="306" />
        <method type="int" name="getDimension" startLine="307" endLine="309" />
      </method>
    </class>
  </class>
</source>
