<?xml version="1.0" encoding="UTF-8"?>
<source package="org.apache.commons.math3">
  <import name="org.junit.runners.BlockJUnit4ClassRunner" />
  <import name="org.junit.runners.model.FrameworkMethod" />
  <import name="org.junit.runners.model.InitializationError" />
  <import name="org.junit.runners.model.Statement" />
  <class name="RetryRunner" extends="BlockJUnit4ClassRunner" startLine="26">
    <javadoc>
      <text>* A test runner that retries tests when assertions fail.</text>
      <version>$Id: RetryRunner.java 1244107 2012-02-14 16:17:55Z erans $</version>
    </javadoc>
    <javadoc>
      <text>* Simple constructor.</text>
      <param>testClass Class to test.</param>
      <throws>InitializationError if default runner cannot be built.</throws>
    </javadoc>
    <method type="constructor" name="RetryRunner" startLine="38" endLine="40" />
    <method type="Statement" name="methodInvoker" startLine="44" endLine="81">
      <declaration type="Statement" name="singleTryStatement" />
      <javadoc>
        <text>* Evaluate the statement.
 * We attempt several runs for the test, at most MAX_ATTEMPTS.
 * if one attempt succeeds, we succeed, if all attempts fail, we
 * fail with the reason corresponding to the last attempt</text>
      </javadoc>
      <method type="void" name="evaluate" startLine="54" endLine="79">
        <declaration type="Throwable" name="failureReason" />
        <declaration type="Retry" name="retry" />
        <scope startLine="58" endLine="61">
          <comment>Do a single test run attempt.</comment>
        </scope>
        <scope startLine="61" endLine="78">
          <declaration type="int" name="numRetries" />
          <scope startLine="64" endLine="74">
            <scope startLine="65" endLine="70" />
            <scope startLine="70" endLine="73" />
          </scope>
          <comment>Do a single test run attempt.</comment>
          <comment>Attempt succeeded, stop evaluation here.</comment>
          <comment>Attempt failed, store the reason.</comment>
          <comment>All attempts failed.</comment>
        </scope>
      </method>
    </method>
  </class>
</source>
