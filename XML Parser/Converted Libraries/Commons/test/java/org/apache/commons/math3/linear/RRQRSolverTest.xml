<?xml version="1.0" encoding="UTF-8"?>
<source package="org.apache.commons.math3.linear">
  <import name="java.util.Random" />
  <import name="org.apache.commons.math3.exception.MathIllegalArgumentException" />
  <import name="org.junit.Test" />
  <import name="org.junit.Assert" />
  <class name="RRQRSolverTest" startLine="27">
    <declaration type="double[][]" name="testData3x3NonSingular" />
    <declaration type="double[][]" name="testData3x3Singular" />
    <declaration type="double[][]" name="testData3x4" />
    <declaration type="double[][]" name="testData4x3" />
    <javadoc>
      <text>* test rank</text>
    </javadoc>
    <method type="void" name="testRank" startLine="55" endLine="69">
      <declaration type="DecompositionSolver" name="solver" />
    </method>
    <javadoc>
      <text>* test solve dimension errors</text>
    </javadoc>
    <method type="void" name="testSolveDimensionErrors" startLine="73" endLine="90">
      <declaration type="DecompositionSolver" name="solver" />
      <declaration type="RealMatrix" name="b" />
      <scope startLine="77" endLine="80" />
      <scope startLine="80" endLine="82">
        <comment>expected behavior</comment>
      </scope>
      <scope startLine="83" endLine="86" />
      <scope startLine="86" endLine="88">
        <comment>expected behavior</comment>
      </scope>
    </method>
    <javadoc>
      <text>* test solve rank errors</text>
    </javadoc>
    <method type="void" name="testSolveRankErrors" startLine="94" endLine="111">
      <declaration type="DecompositionSolver" name="solver" />
      <declaration type="RealMatrix" name="b" />
      <scope startLine="98" endLine="101" />
      <scope startLine="101" endLine="103">
        <comment>expected behavior</comment>
      </scope>
      <scope startLine="104" endLine="107" />
      <scope startLine="107" endLine="109">
        <comment>expected behavior</comment>
      </scope>
    </method>
    <javadoc>
      <text>* test solve</text>
    </javadoc>
    <method type="void" name="testSolve" startLine="115" endLine="146">
      <declaration type="RealMatrix[]" name="b" />
      <declaration type="RealMatrix[]" name="xRef" />
      <declaration type="RRQRDecomposition" name="decomposition" />
      <declaration type="DecompositionSolver" name="solver" />
      <scope startLine="131" endLine="135">
        <declaration type="RealVector" name="x" />
        <declaration type="double" name="error" />
      </scope>
      <scope startLine="138" endLine="144">
        <declaration type="ArrayRealVectorTest.RealVectorTestImpl" name="v" />
        <declaration type="RealVector" name="x" />
        <declaration type="double" name="error" />
      </scope>
      <comment>using RealMatrix</comment>
      <comment>using ArrayRealVector</comment>
      <comment>using RealVector with an alternate implementation</comment>
    </method>
    <method type="void" name="testOverdetermined" startLine="149" endLine="170">
      <declaration type="Random" name="r" />
      <declaration type="int" name="p" />
      <declaration type="int" name="q" />
      <declaration type="RealMatrix" name="a" />
      <declaration type="RealMatrix" name="xRef" />
      <declaration type="RealMatrix" name="b" />
      <declaration type="double" name="noise" />
      <method type="double" name="visit" startLine="161" endLine="163" />
      <declaration type="RealMatrix" name="x" />
      <comment>build a perturbed system: A.X + noise = B</comment>
      <comment>despite perturbation, the least square solution should be pretty good</comment>
    </method>
    <method type="void" name="testUnderdetermined" startLine="173" endLine="190">
      <declaration type="Random" name="r" />
      <declaration type="int" name="p" />
      <declaration type="int" name="q" />
      <declaration type="RealMatrix" name="a" />
      <declaration type="RealMatrix" name="xRef" />
      <declaration type="RealMatrix" name="b" />
      <declaration type="RRQRDecomposition" name="rrqrd" />
      <declaration type="RealMatrix" name="x" />
      <declaration type="RealMatrix" name="permuted" />
      <comment>too many equations, the system cannot be solved at all</comment>
      <comment>the last permuted unknown should have been set to 0</comment>
    </method>
    <method type="RealMatrix" name="createTestMatrix" startLine="192" endLine="201">
      <declaration type="RealMatrix" name="m" />
      <method type="double" name="visit" startLine="196" endLine="198" />
    </method>
  </class>
</source>
