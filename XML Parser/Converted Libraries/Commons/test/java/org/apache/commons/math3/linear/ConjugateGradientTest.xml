<?xml version="1.0" encoding="UTF-8"?>
<source package="org.apache.commons.math3.linear">
  <import name="java.util.Arrays" />
  <import name="org.apache.commons.math3.exception.DimensionMismatchException" />
  <import name="org.apache.commons.math3.exception.MathUnsupportedOperationException" />
  <import name="org.apache.commons.math3.exception.MaxCountExceededException" />
  <import name="org.apache.commons.math3.util.FastMath" />
  <import name="org.apache.commons.math3.util.IterationEvent" />
  <import name="org.apache.commons.math3.util.IterationListener" />
  <import name="org.junit.Assert" />
  <import name="org.junit.Test" />
  <class name="ConjugateGradientTest" startLine="30">
    <method type="void" name="testNonSquareOperator" startLine="33" endLine="40">
      <declaration type="Array2DRowRealMatrix" name="a" />
      <declaration type="IterativeLinearSolver" name="solver" />
      <declaration type="ArrayRealVector" name="b" />
      <declaration type="ArrayRealVector" name="x" />
    </method>
    <method type="void" name="testDimensionMismatchRightHandSide" startLine="43" endLine="50">
      <declaration type="Array2DRowRealMatrix" name="a" />
      <declaration type="IterativeLinearSolver" name="solver" />
      <declaration type="ArrayRealVector" name="b" />
      <declaration type="ArrayRealVector" name="x" />
    </method>
    <method type="void" name="testDimensionMismatchSolution" startLine="53" endLine="60">
      <declaration type="Array2DRowRealMatrix" name="a" />
      <declaration type="IterativeLinearSolver" name="solver" />
      <declaration type="ArrayRealVector" name="b" />
      <declaration type="ArrayRealVector" name="x" />
    </method>
    <method type="void" name="testNonPositiveDefiniteLinearOperator" startLine="63" endLine="76">
      <declaration type="Array2DRowRealMatrix" name="a" />
      <declaration type="IterativeLinearSolver" name="solver" />
      <declaration type="ArrayRealVector" name="b" />
      <declaration type="ArrayRealVector" name="x" />
    </method>
    <method type="void" name="testUnpreconditionedSolution" startLine="79" endLine="99">
      <declaration type="int" name="n" />
      <declaration type="int" name="maxIterations" />
      <declaration type="RealLinearOperator" name="a" />
      <declaration type="InverseHilbertMatrix" name="ainv" />
      <declaration type="IterativeLinearSolver" name="solver" />
      <declaration type="RealVector" name="b" />
      <scope startLine="87" endLine="98">
        <declaration type="RealVector" name="x" />
        <scope startLine="91" endLine="97">
          <declaration type="double" name="actual" />
          <declaration type="double" name="expected" />
          <declaration type="double" name="delta" />
          <declaration type="String" name="msg" />
        </scope>
      </scope>
    </method>
    <method type="void" name="testUnpreconditionedInPlaceSolutionWithInitialGuess" startLine="102" endLine="125">
      <declaration type="int" name="n" />
      <declaration type="int" name="maxIterations" />
      <declaration type="RealLinearOperator" name="a" />
      <declaration type="InverseHilbertMatrix" name="ainv" />
      <declaration type="IterativeLinearSolver" name="solver" />
      <declaration type="RealVector" name="b" />
      <scope startLine="110" endLine="124">
        <declaration type="RealVector" name="x0" />
        <declaration type="RealVector" name="x" />
        <scope startLine="117" endLine="123">
          <declaration type="double" name="actual" />
          <declaration type="double" name="expected" />
          <declaration type="double" name="delta" />
          <declaration type="String" name="msg" />
        </scope>
      </scope>
    </method>
    <method type="void" name="testUnpreconditionedSolutionWithInitialGuess" startLine="128" endLine="152">
      <declaration type="int" name="n" />
      <declaration type="int" name="maxIterations" />
      <declaration type="RealLinearOperator" name="a" />
      <declaration type="InverseHilbertMatrix" name="ainv" />
      <declaration type="IterativeLinearSolver" name="solver" />
      <declaration type="RealVector" name="b" />
      <scope startLine="136" endLine="151">
        <declaration type="RealVector" name="x0" />
        <declaration type="RealVector" name="x" />
        <scope startLine="143" endLine="150">
          <declaration type="double" name="actual" />
          <declaration type="double" name="expected" />
          <declaration type="double" name="delta" />
          <declaration type="String" name="msg" />
        </scope>
      </scope>
    </method>
    <javadoc>
      <text>* Check whether the estimate of the (updated) residual corresponds to the
 * exact residual. This fails to be true for a large number of iterations,
 * due to the loss of orthogonality of the successive search directions.
 * Therefore, in the present test, the number of iterations is limited.</text>
    </javadoc>
    <method type="void" name="testUnpreconditionedResidual" startLine="161" endLine="217">
      <declaration type="int" name="n" />
      <declaration type="int" name="maxIterations" />
      <declaration type="RealLinearOperator" name="a" />
      <declaration type="ConjugateGradient" name="solver" />
      <declaration type="RealVector" name="r" />
      <declaration type="RealVector" name="x" />
      <declaration type="IterationListener" name="listener" />
      <method type="void" name="terminationPerformed" startLine="171" endLine="173" />
      <method type="void" name="iterationStarted" startLine="175" endLine="177" />
      <method type="void" name="iterationPerformed" startLine="179" endLine="186">
        <declaration type="IterativeLinearSolverEvent" name="evt" />
        <declaration type="RealVector" name="v" />
      </method>
      <method type="void" name="initializationPerformed" startLine="188" endLine="190" />
      <declaration type="RealVector" name="b" />
      <scope startLine="194" endLine="216">
        <declaration type="boolean" name="caught" />
        <scope startLine="199" endLine="201" />
        <scope startLine="201" endLine="212">
          <declaration type="RealVector" name="y" />
          <scope startLine="204" endLine="211">
            <declaration type="double" name="actual" />
            <declaration type="double" name="expected" />
            <declaration type="double" name="delta" />
            <declaration type="String" name="msg" />
          </scope>
        </scope>
      </scope>
      <comment>Do nothing</comment>
      <comment>Do nothing</comment>
      <comment>Do nothing</comment>
    </method>
    <method type="void" name="testNonSquarePreconditioner" startLine="220" endLine="243">
      <declaration type="Array2DRowRealMatrix" name="a" />
      <declaration type="RealLinearOperator" name="m" />
      <method type="RealVector" name="operate" startLine="225" endLine="227" />
      <method type="int" name="getRowDimension" startLine="230" endLine="232" />
      <method type="int" name="getColumnDimension" startLine="235" endLine="237" />
      <declaration type="PreconditionedIterativeLinearSolver" name="solver" />
      <declaration type="ArrayRealVector" name="b" />
    </method>
    <method type="void" name="testMismatchedOperatorDimensions" startLine="246" endLine="269">
      <declaration type="Array2DRowRealMatrix" name="a" />
      <declaration type="RealLinearOperator" name="m" />
      <method type="RealVector" name="operate" startLine="251" endLine="253" />
      <method type="int" name="getRowDimension" startLine="256" endLine="258" />
      <method type="int" name="getColumnDimension" startLine="261" endLine="263" />
      <declaration type="PreconditionedIterativeLinearSolver" name="solver" />
      <declaration type="ArrayRealVector" name="b" />
    </method>
    <method type="void" name="testNonPositiveDefinitePreconditioner" startLine="272" endLine="304">
      <declaration type="Array2DRowRealMatrix" name="a" />
      <declaration type="RealLinearOperator" name="m" />
      <method type="RealVector" name="operate" startLine="281" endLine="286">
        <declaration type="ArrayRealVector" name="y" />
      </method>
      <method type="int" name="getRowDimension" startLine="289" endLine="291" />
      <method type="int" name="getColumnDimension" startLine="294" endLine="296" />
      <declaration type="PreconditionedIterativeLinearSolver" name="solver" />
      <declaration type="ArrayRealVector" name="b" />
    </method>
    <method type="void" name="testPreconditionedSolution" startLine="307" endLine="328">
      <declaration type="int" name="n" />
      <declaration type="int" name="maxIterations" />
      <declaration type="RealLinearOperator" name="a" />
      <declaration type="InverseHilbertMatrix" name="ainv" />
      <declaration type="RealLinearOperator" name="m" />
      <declaration type="PreconditionedIterativeLinearSolver" name="solver" />
      <declaration type="RealVector" name="b" />
      <scope startLine="316" endLine="327">
        <declaration type="RealVector" name="x" />
        <scope startLine="320" endLine="326">
          <declaration type="double" name="actual" />
          <declaration type="double" name="expected" />
          <declaration type="double" name="delta" />
          <declaration type="String" name="msg" />
        </scope>
      </scope>
    </method>
    <method type="void" name="testPreconditionedResidual" startLine="331" endLine="389">
      <declaration type="int" name="n" />
      <declaration type="int" name="maxIterations" />
      <declaration type="RealLinearOperator" name="a" />
      <declaration type="RealLinearOperator" name="m" />
      <declaration type="ConjugateGradient" name="solver" />
      <declaration type="RealVector" name="r" />
      <declaration type="RealVector" name="x" />
      <declaration type="IterationListener" name="listener" />
      <method type="void" name="terminationPerformed" startLine="342" endLine="344" />
      <method type="void" name="iterationStarted" startLine="346" endLine="348" />
      <method type="void" name="iterationPerformed" startLine="350" endLine="357">
        <declaration type="IterativeLinearSolverEvent" name="evt" />
        <declaration type="RealVector" name="v" />
      </method>
      <method type="void" name="initializationPerformed" startLine="359" endLine="361" />
      <declaration type="RealVector" name="b" />
      <scope startLine="366" endLine="388">
        <declaration type="boolean" name="caught" />
        <scope startLine="371" endLine="373" />
        <scope startLine="373" endLine="384">
          <declaration type="RealVector" name="y" />
          <scope startLine="376" endLine="383">
            <declaration type="double" name="actual" />
            <declaration type="double" name="expected" />
            <declaration type="double" name="delta" />
            <declaration type="String" name="msg" />
          </scope>
        </scope>
      </scope>
      <comment>Do nothing</comment>
      <comment>Do nothing</comment>
      <comment>Do nothing</comment>
    </method>
    <method type="void" name="testPreconditionedSolution2" startLine="392" endLine="435">
      <declaration type="int" name="n" />
      <declaration type="int" name="maxIterations" />
      <declaration type="Array2DRowRealMatrix" name="a" />
      <declaration type="double" name="daux" />
      <scope startLine="397" endLine="408">
        <scope startLine="400" endLine="407">
          <scope startLine="401" endLine="402" />
          <scope startLine="402" endLine="406">
            <declaration type="double" name="value" />
          </scope>
        </scope>
      </scope>
      <declaration type="RealLinearOperator" name="m" />
      <declaration type="PreconditionedIterativeLinearSolver" name="pcg" />
      <declaration type="IterativeLinearSolver" name="cg" />
      <declaration type="RealVector" name="b" />
      <declaration type="String" name="pattern" />
      <declaration type="String" name="msg" />
      <scope startLine="418" endLine="434">
        <declaration type="RealVector" name="px" />
        <declaration type="RealVector" name="x" />
        <declaration type="int" name="npcg" />
        <declaration type="int" name="ncg" />
        <scope startLine="427" endLine="433">
          <declaration type="double" name="expected" />
          <declaration type="double" name="actual" />
          <declaration type="double" name="delta" />
        </scope>
      </scope>
    </method>
    <method type="void" name="testEventManagement" startLine="438" endLine="511">
      <declaration type="int" name="n" />
      <declaration type="int" name="maxIterations" />
      <declaration type="RealLinearOperator" name="a" />
      <declaration type="IterativeLinearSolver" name="solver" />
      <declaration type="int[][]" name="count" />
      <declaration type="IterationListener" name="listener" />
      <method type="void" name="doTestVectorsAreUnmodifiable" startLine="451" endLine="472">
        <declaration type="IterativeLinearSolverEvent" name="evt" />
        <scope startLine="454" endLine="457" />
        <scope startLine="457" endLine="459">
          <comment>Expected behavior</comment>
        </scope>
        <scope startLine="460" endLine="463" />
        <scope startLine="463" endLine="465">
          <comment>Expected behavior</comment>
        </scope>
        <scope startLine="466" endLine="469" />
        <scope startLine="469" endLine="471">
          <comment>Expected behavior</comment>
        </scope>
      </method>
      <method type="void" name="initializationPerformed" startLine="474" endLine="477" />
      <method type="void" name="iterationPerformed" startLine="479" endLine="484" />
      <method type="void" name="iterationStarted" startLine="486" endLine="491" />
      <method type="void" name="terminationPerformed" startLine="493" endLine="496" />
      <declaration type="RealVector" name="b" />
      <scope startLine="501" endLine="510">
        <declaration type="String" name="msg" />
      </scope>
      <comment>count[0] = number of calls to initializationPerformed
 count[1] = number of calls to iterationStarted
 count[2] = number of calls to iterationPerformed
 count[3] = number of calls to terminationPerformed</comment>
    </method>
    <method type="void" name="testUnpreconditionedNormOfResidual" startLine="514" endLine="557">
      <declaration type="int" name="n" />
      <declaration type="int" name="maxIterations" />
      <declaration type="RealLinearOperator" name="a" />
      <declaration type="IterativeLinearSolver" name="solver" />
      <declaration type="IterationListener" name="listener" />
      <method type="void" name="doTestNormOfResidual" startLine="521" endLine="531">
        <declaration type="IterativeLinearSolverEvent" name="evt" />
        <declaration type="RealVector" name="x" />
        <declaration type="RealVector" name="b" />
        <declaration type="RealVector" name="r" />
        <declaration type="double" name="rnorm" />
      </method>
      <method type="void" name="initializationPerformed" startLine="533" endLine="535" />
      <method type="void" name="iterationPerformed" startLine="537" endLine="539" />
      <method type="void" name="iterationStarted" startLine="541" endLine="543" />
      <method type="void" name="terminationPerformed" startLine="545" endLine="547" />
      <declaration type="RealVector" name="b" />
      <scope startLine="552" endLine="556" />
    </method>
    <method type="void" name="testPreconditionedNormOfResidual" startLine="560" endLine="604">
      <declaration type="int" name="n" />
      <declaration type="int" name="maxIterations" />
      <declaration type="RealLinearOperator" name="a" />
      <declaration type="RealLinearOperator" name="m" />
      <declaration type="PreconditionedIterativeLinearSolver" name="solver" />
      <declaration type="IterationListener" name="listener" />
      <method type="void" name="doTestNormOfResidual" startLine="568" endLine="578">
        <declaration type="IterativeLinearSolverEvent" name="evt" />
        <declaration type="RealVector" name="x" />
        <declaration type="RealVector" name="b" />
        <declaration type="RealVector" name="r" />
        <declaration type="double" name="rnorm" />
      </method>
      <method type="void" name="initializationPerformed" startLine="580" endLine="582" />
      <method type="void" name="iterationPerformed" startLine="584" endLine="586" />
      <method type="void" name="iterationStarted" startLine="588" endLine="590" />
      <method type="void" name="terminationPerformed" startLine="592" endLine="594" />
      <declaration type="RealVector" name="b" />
      <scope startLine="599" endLine="603" />
    </method>
  </class>
</source>
