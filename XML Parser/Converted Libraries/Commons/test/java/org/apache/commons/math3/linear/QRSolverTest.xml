<?xml version="1.0" encoding="UTF-8"?>
<source package="org.apache.commons.math3.linear">
  <import name="java.util.Random" />
  <import name="org.apache.commons.math3.exception.MathIllegalArgumentException" />
  <import name="org.junit.Test" />
  <import name="org.junit.Assert" />
  <class name="QRSolverTest" startLine="27">
    <declaration type="double[][]" name="testData3x3NonSingular" />
    <declaration type="double[][]" name="testData3x3Singular" />
    <declaration type="double[][]" name="testData3x4" />
    <declaration type="double[][]" name="testData4x3" />
    <javadoc>
      <text>* test rank</text>
    </javadoc>
    <method type="void" name="testRank" startLine="55" endLine="69">
      <declaration type="DecompositionSolver" name="solver" />
    </method>
    <javadoc>
      <text>* test solve dimension errors</text>
    </javadoc>
    <method type="void" name="testSolveDimensionErrors" startLine="73" endLine="89">
      <declaration type="DecompositionSolver" name="solver" />
      <declaration type="RealMatrix" name="b" />
      <scope startLine="77" endLine="80" />
      <scope startLine="80" endLine="82">
        <comment>expected behavior</comment>
      </scope>
      <scope startLine="83" endLine="86" />
      <scope startLine="86" endLine="88">
        <comment>expected behavior</comment>
      </scope>
    </method>
    <javadoc>
      <text>* test solve rank errors</text>
    </javadoc>
    <method type="void" name="testSolveRankErrors" startLine="93" endLine="109">
      <declaration type="DecompositionSolver" name="solver" />
      <declaration type="RealMatrix" name="b" />
      <scope startLine="97" endLine="100" />
      <scope startLine="100" endLine="102">
        <comment>expected behavior</comment>
      </scope>
      <scope startLine="103" endLine="106" />
      <scope startLine="106" endLine="108">
        <comment>expected behavior</comment>
      </scope>
    </method>
    <javadoc>
      <text>* test solve</text>
    </javadoc>
    <method type="void" name="testSolve" startLine="113" endLine="143">
      <declaration type="QRDecomposition" name="decomposition" />
      <declaration type="DecompositionSolver" name="solver" />
      <declaration type="RealMatrix[]" name="b" />
      <declaration type="RealMatrix[]" name="xRef" />
      <scope startLine="128" endLine="132">
        <declaration type="RealVector" name="x" />
        <declaration type="double" name="error" />
      </scope>
      <scope startLine="135" endLine="141">
        <declaration type="ArrayRealVectorTest.RealVectorTestImpl" name="v" />
        <declaration type="RealVector" name="x" />
        <declaration type="double" name="error" />
      </scope>
      <comment>using RealMatrix</comment>
      <comment>using ArrayRealVector</comment>
      <comment>using RealVector with an alternate implementation</comment>
    </method>
    <method type="void" name="testOverdetermined" startLine="146" endLine="167">
      <declaration type="Random" name="r" />
      <declaration type="int" name="p" />
      <declaration type="int" name="q" />
      <declaration type="RealMatrix" name="a" />
      <declaration type="RealMatrix" name="xRef" />
      <declaration type="RealMatrix" name="b" />
      <declaration type="double" name="noise" />
      <method type="double" name="visit" startLine="158" endLine="160" />
      <declaration type="RealMatrix" name="x" />
      <comment>build a perturbed system: A.X + noise = B</comment>
      <comment>despite perturbation, the least square solution should be pretty good</comment>
    </method>
    <method type="void" name="testUnderdetermined" startLine="170" endLine="184">
      <declaration type="Random" name="r" />
      <declaration type="int" name="p" />
      <declaration type="int" name="q" />
      <declaration type="RealMatrix" name="a" />
      <declaration type="RealMatrix" name="xRef" />
      <declaration type="RealMatrix" name="b" />
      <declaration type="RealMatrix" name="x" />
      <comment>too many equations, the system cannot be solved at all</comment>
      <comment>the last unknown should have been set to 0</comment>
    </method>
    <method type="RealMatrix" name="createTestMatrix" startLine="186" endLine="195">
      <declaration type="RealMatrix" name="m" />
      <method type="double" name="visit" startLine="190" endLine="192" />
    </method>
  </class>
</source>
