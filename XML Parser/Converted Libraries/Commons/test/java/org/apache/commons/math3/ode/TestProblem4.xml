<?xml version="1.0" encoding="UTF-8"?>
<source package="org.apache.commons.math3.ode">
  <import name="org.apache.commons.math3.ode.events.EventHandler" />
  <import name="org.apache.commons.math3.util.FastMath" />
  <class name="TestProblem4" extends="TestProblemAbstract" startLine="23">
    <javadoc>
      <text>* This class is used in the junit tests for the ODE integrators.
 * <p>This specific problem is the following differential equation :
 * <pre>
 * x'' = -x
 * </pre>
 * And when x decreases down to 0, the state should be changed as follows :
 * <pre>
 * x' -> -x'
 * </pre>
 * The theoretical solution of this problem is x = |sin(t+a)|
 * </p></text>
    </javadoc>
    <javadoc>
      <text>* Time offset.</text>
    </javadoc>
    <declaration type="double" name="a" />
    <javadoc>
      <text>* theoretical state</text>
    </javadoc>
    <declaration type="double[]" name="y" />
    <javadoc>
      <text>* Simple constructor.</text>
    </javadoc>
    <method type="constructor" name="TestProblem4" startLine="48" endLine="57">
      <declaration type="double[]" name="y0" />
      <declaration type="double[]" name="errorScale" />
    </method>
    <javadoc>
      <text>* Copy constructor.</text>
      <param>problem problem to copy</param>
    </javadoc>
    <method type="constructor" name="TestProblem4" startLine="63" endLine="67" />
    <javadoc>
      <text>* {@inheritDoc}</text>
    </javadoc>
    <method type="TestProblem4" name="copy" startLine="71" endLine="73" />
    <method type="EventHandler[]" name="getEventsHandlers" startLine="76" endLine="78" />
    <javadoc>
      <text>* Get the theoretical events times.</text>
      <return>theoretical events times</return>
    </javadoc>
    <method type="double[]" name="getTheoreticalEventsTimes" startLine="85" endLine="93" />
    <method type="void" name="doComputeDerivatives" startLine="96" endLine="99" />
    <method type="double[]" name="computeTheoreticalState" startLine="102" endLine="108">
      <declaration type="double" name="sin" />
      <declaration type="double" name="cos" />
    </method>
    <class name="Bounce" startLine="110">
      <implements name="EventHandler" />
      <declaration type="int" name="sign" />
      <method type="constructor" name="Bounce" startLine="114" endLine="116" />
      <method type="void" name="init" startLine="118" endLine="119" />
      <method type="double" name="g" startLine="121" endLine="123" />
      <method type="Action" name="eventOccurred" startLine="125" endLine="129">
        <comment>this sign change is needed because the state will be reset soon</comment>
      </method>
      <method type="void" name="resetState" startLine="131" endLine="134" />
      <class name="Stop" startLine="138">
        <implements name="EventHandler" />
        <method type="constructor" name="Stop" startLine="140" endLine="141" />
        <method type="void" name="init" startLine="143" endLine="144" />
        <method type="double" name="g" startLine="146" endLine="148" />
        <method type="Action" name="eventOccurred" startLine="150" endLine="152" />
        <method type="void" name="resetState" startLine="154" endLine="155" />
      </class>
    </class>
  </class>
</source>
