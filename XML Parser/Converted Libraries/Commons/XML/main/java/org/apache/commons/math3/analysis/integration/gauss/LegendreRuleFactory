<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.analysis.integration.gauss">
        <import package="org.apache.commons.math3.exception.DimensionMismatchException"/>
        <import package="org.apache.commons.math3.util.Pair"/>
        <class name="LegendreRuleFactory" extends="BaseRuleFactory<Double>" line="22">
            <javadoc line="22">
                Factory that creates Gauss-type quadrature rule using Legendre polynomials.
                 * In this implementation, the lower and upper bounds of the natural interval
                 * of integration are -1 and 1, respectively.
                 * The Legendre polynomials are evaluated using the recurrence relation
                 * presented in &lt;a href=&quot;http://en.wikipedia.org/wiki/Abramowitz_and_Stegun&quot;
                 * Abramowitz and Stegun, 1964&lt;/a&gt;.                
                <@since>
                    e 3.1                    
                </@since>
                <@version>
                    n $Id: LegendreRuleFactory.java 1455194 2013-03-11 15:45:54Z luc $                    
                </@version>
            </javadoc>
            <javadoc line="34">
                {@inheritDoc}                
            </javadoc>
            <method name="computeRule" type="Pair<Double[],Double[]>" line="37">
                <comment line="38">
                    Get previous rule.                    
                </comment>
                <comment line="38">
                    If it has not been computed yet it will trigger a recursive call                    
                </comment>
                <comment line="38">
                    to this method.                    
                </comment>
                <comment line="38">
                    Compute next rule.                    
                </comment>
                <comment line="38">
                    Find i-th root of P[n+1] by bracketing.                    
                </comment>
                <comment line="38">
                    If &quot;numberOfPoints&quot; is odd, 0 is a root.                    
                </comment>
                <comment line="38">
                    Note: as written, the test for oddness will work for negative                    
                </comment>
                <comment line="38">
                    integers too (although it is not necessary here), preventing                    
                </comment>
                <comment line="38">
                    a FindBugs warning.                    
                </comment>
                <scope line="39"/>
                <declaration name="previousPoints" type="Double[]" line="48"/>
                <declaration name="points" type="Double[]" line="51"/>
                <declaration name="weights" type="Double[]" line="52"/>
                <declaration name="iMax" type="int" line="55"/>
                <scope line="56">
                    <declaration name="a" type="double" line="58"/>
                    <declaration name="b" type="double" line="60"/>
                    <declaration name="pma" type="double" line="62"/>
                    <declaration name="pa" type="double" line="64"/>
                    <declaration name="pmb" type="double" line="66"/>
                    <declaration name="pb" type="double" line="68"/>
                    <scope line="69">
                        <declaration name="two_j_p_1" type="int" line="70"/>
                        <declaration name="j_p_1" type="int" line="71"/>
                        <declaration name="ppa" type="double" line="73"/>
                        <declaration name="ppb" type="double" line="75"/>
                    </scope>
                    <declaration name="c" type="double" line="83"/>
                    <declaration name="pmc" type="double" line="85"/>
                    <declaration name="pc" type="double" line="87"/>
                    <declaration name="done" type="boolean" line="88"/>
                    <scope line="89">
                        <scope line="93">
                            <declaration name="ppc" type="double" line="95"/>
                        </scope>
                        <scope line="100">
                            <scope line="101"/>
                            <scope line="105"/>
                        </scope>
                    </scope>
                    <declaration name="d" type="double" line="113"/>
                    <declaration name="w" type="double" line="114"/>
                    <declaration name="idx" type="int" line="119"/>
                </scope>
                <scope line="127">
                    <declaration name="pmc" type="double" line="128"/>
                    <scope line="129"/>
                    <declaration name="d" type="double" line="132"/>
                    <declaration name="w" type="double" line="133"/>
                </scope>
            </method>
        </class>
    </source>