<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.stat.inference">
        <import package="org.apache.commons.math3.distribution.NormalDistribution"/>
        <import package="org.apache.commons.math3.exception.ConvergenceException"/>
        <import package="org.apache.commons.math3.exception.MaxCountExceededException"/>
        <import package="org.apache.commons.math3.exception.NoDataException"/>
        <import package="org.apache.commons.math3.exception.NullArgumentException"/>
        <import package="org.apache.commons.math3.stat.ranking.NaNStrategy"/>
        <import package="org.apache.commons.math3.stat.ranking.NaturalRanking"/>
        <import package="org.apache.commons.math3.stat.ranking.TiesStrategy"/>
        <import package="org.apache.commons.math3.util.FastMath"/>
        <class name="MannWhitneyUTest" line="29">
            <javadoc line="29">
                An implementation of the Mann-Whitney U test (also called Wilcoxon rank-sum test).                
                <@version>
                    n $Id: MannWhitneyUTest.java 1416643 2012-12-03 19:37:14Z tn $                    
                </@version>
            </javadoc>
            <declaration name="naturalRanking" type="NaturalRanking" line="36"/>
            <javadoc line="36">
                Ranking algorithm.                
            </javadoc>
            <javadoc line="39">
                Create a test instance using where NaN&apos;s are left in place and ties get
                 * the average of applicable ranks. Use this unless you are very sure of
                 * what you are doing.                
            </javadoc>
            <method name="MannWhitneyUTest" type="constructor" line="44"/>
            <javadoc line="49">
                Create a test instance using the given strategies for NaN&apos;s and ties.
                 * Only use this if you are sure of what you are doing.                
                <@param>
                    m nanStrategyspecifies the strategy that should be used for Double.NaN's                    
                </@param>
                <@param>
                    m tiesStrategyspecifies the strategy that should be used for ties                    
                </@param>
            </javadoc>
            <method name="MannWhitneyUTest" type="constructor" line="59"/>
            <javadoc line="63">
                Ensures that the provided arrays fulfills the assumptions.                
                <@param>
                    m x first sample                    
                </@param>
                <@param>
                    m y second sample                    
                </@param>
                <@throws>
                    s NullArgumentException if {@code x} or {@code y} are {@code null}.                    
                </@throws>
                <@throws>
                    s NoDataException if {@code x} or {@code y} are zero-length.                    
                </@throws>
            </javadoc>
            <method name="ensureDataConformance" type="void" line="72">
                <scope line="75"/>
                <scope line="79"/>
            </method>
            <javadoc line="84">
                Concatenate the samples into one array.                
                <@param>
                    m x first sample                    
                </@param>
                <@param>
                    m y second sample                    
                </@param>
                <@return>
                    n concatenated array                    
                </@return>
            </javadoc>
            <method name="concatenateSamples" type="double[]" line="89">
                <declaration name="z" type="double[]" line="90"/>
            </method>
            <javadoc line="98">
                Computes the &lt;a
                 * href=&quot;http://en.wikipedia.org/wiki/Mann%E2%80%93Whitney_U&quot;&gt; Mann-Whitney
                 * U statistic&lt;/a&gt; comparing mean for two independent samples possibly of
                 * different length.
                 * &lt;p&gt;
                 * This statistic can be used to perform a Mann-Whitney U test evaluating
                 * the null hypothesis that the two independent samples has equal mean.
                 * &lt;/p&gt;
                 * &lt;p&gt;
                 * Let X&lt;sub&gt;i&lt;/sub&gt; denote the i&apos;th individual of the first sample and
                 * Y&lt;sub&gt;j&lt;/sub&gt; the j&apos;th individual in the second sample. Note that the
                 * samples would often have different length.
                 * &lt;/p&gt;
                 * &lt;p&gt;
                 * &lt;strong&gt;Preconditions&lt;/strong&gt;:
                 * &lt;ul&gt;
                 * &lt;li&gt;All observations in the two samples are independent.&lt;/li&gt;
                 * &lt;li&gt;The observations are at least ordinal (continuous are also ordinal).&lt;/li&gt;
                 * &lt;/ul&gt;
                 * &lt;/p&gt;                
                <@param>
                    m x the first sample                    
                </@param>
                <@param>
                    m y the second sample                    
                </@param>
                <@return>
                    n Mann-Whitney U statistic (maximum of U<sup>x</sup> and U<sup>y</sup>)                    
                </@return>
                <@throws>
                    s NullArgumentException if {@code x} or {@code y} are {@code null}.                    
                </@throws>
                <@throws>
                    s NoDataException if {@code x} or {@code y} are zero-length.                    
                </@throws>
            </javadoc>
            <method name="mannWhitneyU" type="double" line="127">
                <comment line="128">
                    The ranks for x is in the first x.length entries in ranks because x                    
                </comment>
                <comment line="128">
                    U1 = R1 - (n1  (n1 + 1))  2 where R1 is sum of ranks for sample 1,
                     e.g. x, n1 is the number of observations in sample 1.                    
                </comment>
                <comment line="128">
                                        
                </comment>
                <declaration name="z" type="double[]" line="131"/>
                <declaration name="ranks" type="double[]" line="132"/>
                <declaration name="sumRankX" type="double" line="134"/>
                <scope line="140"/>
                <declaration name="U1" type="double" line="148"/>
                <declaration name="U2" type="double" line="153"/>
            </method>
            <javadoc line="158">
                @param Umin smallest Mann-Whitney U value                
                <@param>
                    m n1 number of subjects in first sample                    
                </@param>
                <@param>
                    m n2 number of subjects in second sample                    
                </@param>
                <@return>
                    n two-sided asymptotic p-value                    
                </@return>
                <@throws>
                    s ConvergenceException if the p-value can not be computed
                     * due to a convergence error                    
                </@throws>
                <@throws>
                    s MaxCountExceededException if the maximum number of
                     * iterations is exceeded                    
                </@throws>
            </javadoc>
            <method name="calculateAsymptoticPValue" type="double" line="171">
                <comment line="172">
                    long multiplication to avoid overflow (double not used due to efficiency
                     and to avoid precision loss)                    
                </comment>
                <comment line="172">
                    http://en.wikipedia.org/wiki/Mann%E2%80%93Whitney_U#Normal_approximation                    
                </comment>
                <comment line="172">
                    No try-catch or advertised exception because args are valid                    
                </comment>
                <declaration name="n1n2prod" type="long" line="176"/>
                <declaration name="EU" type="double" line="179"/>
                <declaration name="VarU" type="double" line="180"/>
                <declaration name="z" type="double" line="182"/>
                <declaration name="standardNormal" type="NormalDistribution" line="185"/>
            </method>
            <javadoc line="190">
                Returns the asymptotic &lt;i&gt;observed significance level&lt;/i&gt;, or &lt;a href=
                 * &quot;http://www.cas.lancs.ac.uk/glossary_v1.1/hyptest.html#pvalue&quot;&gt;
                 * p-value&lt;/a&gt;, associated with a &lt;a
                 * href=&quot;http://en.wikipedia.org/wiki/Mann%E2%80%93Whitney_U&quot;&gt; Mann-Whitney
                 * U statistic&lt;/a&gt; comparing mean for two independent samples.
                 * &lt;p&gt;
                 * Let X&lt;sub&gt;i&lt;/sub&gt; denote the i&apos;th individual of the first sample and
                 * Y&lt;sub&gt;j&lt;/sub&gt; the j&apos;th individual in the second sample. Note that the
                 * samples would often have different length.
                 * &lt;/p&gt;
                 * &lt;p&gt;
                 * &lt;strong&gt;Preconditions&lt;/strong&gt;:
                 * &lt;ul&gt;
                 * &lt;li&gt;All observations in the two samples are independent.&lt;/li&gt;
                 * &lt;li&gt;The observations are at least ordinal (continuous are also ordinal).&lt;/li&gt;
                 * &lt;/ul&gt;
                 * &lt;/p&gt;&lt;p&gt;
                 * Ties give rise to biased variance at the moment. See e.g. &lt;a
                 * href=&quot;http://mlsc.lboro.ac.uk/resources/statistics/Mannwhitney.pdf&quot;
                 * &gt;http://mlsc.lboro.ac.uk/resources/statistics/Mannwhitney.pdf&lt;/a&gt;.&lt;/p&gt;                
                <@param>
                    m x the first sample                    
                </@param>
                <@param>
                    m y the second sample                    
                </@param>
                <@return>
                    n asymptotic p-value                    
                </@return>
                <@throws>
                    s NullArgumentException if {@code x} or {@code y} are {@code null}.                    
                </@throws>
                <@throws>
                    s NoDataException if {@code x} or {@code y} are zero-length.                    
                </@throws>
                <@throws>
                    s ConvergenceException if the p-value can not be computed due to a
                     * convergence error                    
                </@throws>
                <@throws>
                    s MaxCountExceededException if the maximum number of iterations
                     * is exceeded                    
                </@throws>
            </javadoc>
            <method name="mannWhitneyUTest" type="double" line="224">
                <comment line="225">
                                        
                </comment>
                <declaration name="Umax" type="double" line="228"/>
                <declaration name="Umin" type="double" line="233"/>
            </method>
        </class>
    </source>