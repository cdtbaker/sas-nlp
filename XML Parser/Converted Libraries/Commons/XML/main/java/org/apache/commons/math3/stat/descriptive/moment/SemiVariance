<?xml version="1.0" encoding="UTF-8"?>
    <source package="org.apache.commons.math3.stat.descriptive.moment">
        <import package="java.io.Serializable"/>
        <import package="org.apache.commons.math3.exception.MathIllegalArgumentException"/>
        <import package="org.apache.commons.math3.exception.NullArgumentException"/>
        <import package="org.apache.commons.math3.stat.descriptive.AbstractUnivariateStatistic"/>
        <import package="org.apache.commons.math3.util.MathUtils"/>
        <class name="SemiVariance" extends="AbstractUnivariateStatistic" line="27">
            <implements interface="Serializable"/>
            <javadoc line="27">
                &lt;p&gt;Computes the semivariance of a set of values with respect to a given cutoff value.
                 * We define the &lt;i&gt;downside semivariance&lt;/i&gt; of a set of values &lt;code&gt;x&lt;/code&gt;
                 * against the &lt;i&gt;cutoff value&lt;/i&gt; &lt;code&gt;cutoff&lt;/code&gt; to be &lt;br/&gt;
                 * &lt;code&gt;&amp;Sigma; (x[i] - target)&lt;sup&gt;2&lt;/sup&gt; / df&lt;/code&gt; &lt;br/&gt;
                 * where the sum is taken over all &lt;code&gt;i&lt;/code&gt; such that &lt;code&gt;x[i] &lt; cutoff&lt;/code&gt;
                 * and &lt;code&gt;df&lt;/code&gt; is the length of &lt;code&gt;x&lt;/code&gt; (non-bias-corrected) or
                 * one less than this number (bias corrected).  The &lt;i&gt;upside semivariance&lt;/i&gt;
                 * is defined similarly, with the sum taken over values of &lt;code&gt;x&lt;/code&gt; that
                 * exceed the cutoff value.&lt;/p&gt;
                 * &lt;p&gt;The cutoff value defaults to the mean, bias correction defaults to &lt;code&gt;true&lt;/code&gt;
                 * and the &quot;variance direction&quot; (upside or downside) defaults to downside.  The variance direction
                 * and bias correction may be set using property setters or their values can provided as
                 * parameters to {@link #evaluate(double[],double,Direction,boolean,int,int)}.&lt;/p&gt;
                 * &lt;p&gt;If the input array is null, &lt;code&gt;evaluate&lt;/code&gt; methods throw
                 * &lt;code&gt;IllegalArgumentException.&lt;/code&gt;  If the array has length 1, &lt;code&gt;0&lt;/code&gt;
                 * is returned, regardless of the value of the &lt;code&gt;cutoff.&lt;/code&gt;
                 * &lt;p&gt;&lt;strong&gt;Note that this class is not intended to be threadsafe.&lt;/strong&gt; If
                 * multiple threads access an instance of this class concurrently, and one or
                 * more of these threads invoke property setters, external synchronization must
                 * be provided to ensure correct results.&lt;/p&gt;                
                <@since>
                    e 2.1                    
                </@since>
                <@version>
                    n $Id: SemiVariance.java 1385386 2012-09-16 22:11:15Z psteitz $                    
                </@version>
            </javadoc>
            <declaration name="UPSIDE_VARIANCE" type="Direction" line="57"/>
            <javadoc line="57">
                The UPSIDE Direction is used to specify that the observations above the
                 * cutoff point will be used to calculate SemiVariance.                
            </javadoc>
            <declaration name="DOWNSIDE_VARIANCE" type="Direction" line="63"/>
            <javadoc line="63">
                The DOWNSIDE Direction is used to specify that the observations below
                 * the cutoff point will be used to calculate SemiVariance                
            </javadoc>
            <declaration name="serialVersionUID" type="long" line="69"/>
            <javadoc line="69">
                Serializable version identifier                
            </javadoc>
            <declaration name="biasCorrected" type="boolean" line="72"/>
            <javadoc line="72">
                Determines whether or not bias correction is applied when computing the
                 * value of the statisic.  True means that bias is corrected.                
            </javadoc>
            <declaration name="varianceDirection" type="Direction" line="78"/>
            <javadoc line="78">
                Determines whether to calculate downside or upside SemiVariance.                
            </javadoc>
            <javadoc line="83">
                Constructs a SemiVariance with default (true) &lt;code&gt;biasCorrected&lt;/code&gt;
                 * property and default (Downside) &lt;code&gt;varianceDirection&lt;/code&gt; property.                
            </javadoc>
            <method name="SemiVariance" type="constructor" line="87"/>
            <javadoc line="90">
                Constructs a SemiVariance with the specified &lt;code&gt;biasCorrected&lt;/code&gt;
                 * property and default (Downside) &lt;code&gt;varianceDirection&lt;/code&gt; property.                
                <@param>
                    m biasCorrected  setting for bias correction - true means
                     * bias will be corrected and is equivalent to using the argumentless
                     * constructor                    
                </@param>
            </javadoc>
            <method name="SemiVariance" type="constructor" line="98"/>
            <javadoc line="103">
                Constructs a SemiVariance with the specified &lt;code&gt;Direction&lt;/code&gt; property
                 * and default (true) &lt;code&gt;biasCorrected&lt;/code&gt; property                
                <@param>
                    m direction  setting for the direction of the SemiVariance
                     * to calculate                    
                </@param>
            </javadoc>
            <method name="SemiVariance" type="constructor" line="110"/>
            <javadoc line="115">
                Constructs a SemiVariance with the specified &lt;code&gt;isBiasCorrected&lt;/code&gt;
                 * property and the specified &lt;code&gt;Direction&lt;/code&gt; property.                
                <@param>
                    m corrected  setting for bias correction - true means
                     * bias will be corrected and is equivalent to using the argumentless
                     * constructor                    
                </@param>
                <@param>
                    m direction  setting for the direction of the SemiVariance
                     * to calculate                    
                </@param>
            </javadoc>
            <method name="SemiVariance" type="constructor" line="126"/>
            <javadoc line="132">
                Copy constructor, creates a new {@code SemiVariance} identical
                 * to the {@code original}                
                <@param>
                    m original the {@code SemiVariance} instance to copy                    
                </@param>
                <@throws>
                    s NullArgumentException  if original is null                    
                </@throws>
            </javadoc>
            <method name="SemiVariance" type="constructor" line="139"/>
            <javadoc line="144">
                {@inheritDoc}                
            </javadoc>
            <method name="copy" type="SemiVariance" line="148">
                <comment line="149">
                    No try-catch or advertised exception because args are guaranteed non-null                    
                </comment>
                <declaration name="result" type="SemiVariance" line="149"/>
            </method>
            <javadoc line="156">
                Copies source to dest.
                 * &lt;p&gt;Neither source nor dest can be null.&lt;/p&gt;                
                <@param>
                    m source SemiVariance to copy                    
                </@param>
                <@param>
                    m dest SemiVariance to copy to                    
                </@param>
                <@throws>
                    s NullArgumentException if either source or dest is null                    
                </@throws>
            </javadoc>
            <method name="copy" type="void" line="165"/>
            <javadoc line="173">
                &lt;p&gt;Returns the {@link SemiVariance} of the designated values against the mean, using
                 * instance properties varianceDirection and biasCorrection.&lt;/p&gt;
                 * &lt;p&gt;Returns &lt;code&gt;NaN&lt;/code&gt; if the array is empty and throws
                 * &lt;code&gt;IllegalArgumentException&lt;/code&gt; if the array is null.&lt;/p&gt;                
                <@param>
                    m values the input array                    
                </@param>
                <@param>
                    m start index of the first array element to include                    
                </@param>
                <@param>
                    m length the number of elements to include                    
                </@param>
                <@return>
                    n the SemiVariance                    
                </@return>
                <@throws>
                    s MathIllegalArgumentException if the parameters are not valid                    
                </@throws>
            </javadoc>
            <method name="evaluate" type="double" line="189">
                <declaration name="m" type="double" line="190"/>
            </method>
            <javadoc line="195">
                This method calculates {@link SemiVariance} for the entire array against the mean, using
                 * the current value of the biasCorrection instance property.                
                <@param>
                    m values the input array                    
                </@param>
                <@param>
                    m direction the {@link Direction} of the semivariance                    
                </@param>
                <@return>
                    n the SemiVariance                    
                </@return>
                <@throws>
                    s MathIllegalArgumentException if values is null                    
                </@throws>
            </javadoc>
            <method name="evaluate" type="double" line="206">
                <declaration name="m" type="double" line="207"/>
            </method>
            <javadoc line="211">
                &lt;p&gt;Returns the {@link SemiVariance} of the designated values against the cutoff, using
                 * instance properties variancDirection and biasCorrection.&lt;/p&gt;
                 * &lt;p&gt;Returns &lt;code&gt;NaN&lt;/code&gt; if the array is empty and throws
                 * &lt;code&gt;MathIllegalArgumentException&lt;/code&gt; if the array is null.&lt;/p&gt;                
                <@param>
                    m values the input array                    
                </@param>
                <@param>
                    m cutoff the reference point                    
                </@param>
                <@return>
                    n the SemiVariance                    
                </@return>
                <@throws>
                    s MathIllegalArgumentException if values is null                    
                </@throws>
            </javadoc>
            <method name="evaluate" type="double" line="224"/>
            <javadoc line="228">
                &lt;p&gt;Returns the {@link SemiVariance} of the designated values against the cutoff in the
                 * given direction, using the current value of the biasCorrection instance property.&lt;/p&gt;
                 * &lt;p&gt;Returns &lt;code&gt;NaN&lt;/code&gt; if the array is empty and throws
                 * &lt;code&gt;MathIllegalArgumentException&lt;/code&gt; if the array is null.&lt;/p&gt;                
                <@param>
                    m values the input array                    
                </@param>
                <@param>
                    m cutoff the reference point                    
                </@param>
                <@param>
                    m direction the {@link Direction} of the semivariance                    
                </@param>
                <@return>
                    n the SemiVariance                    
                </@return>
                <@throws>
                    s MathIllegalArgumentException if values is null                    
                </@throws>
            </javadoc>
            <method name="evaluate" type="double" line="242"/>
            <javadoc line="247">
                &lt;p&gt;Returns the {@link SemiVariance} of the designated values against the cutoff
                 * in the given direction with the provided bias correction.&lt;/p&gt;
                 * &lt;p&gt;Returns &lt;code&gt;NaN&lt;/code&gt; if the array is empty and throws
                 * &lt;code&gt;IllegalArgumentException&lt;/code&gt; if the array is null.&lt;/p&gt;                
                <@param>
                    m values the input array                    
                </@param>
                <@param>
                    m cutoff the reference point                    
                </@param>
                <@param>
                    m direction the {@link Direction} of the semivariance                    
                </@param>
                <@param>
                    m corrected the BiasCorrection flag                    
                </@param>
                <@param>
                    m start index of the first array element to include                    
                </@param>
                <@param>
                    m length the number of elements to include                    
                </@param>
                <@return>
                    n the SemiVariance                    
                </@return>
                <@throws>
                    s MathIllegalArgumentException if the parameters are not valid                    
                </@throws>
            </javadoc>
            <method name="evaluate" type="double" line="265">
                <scope line="268"/>
                <scope line="270">
                    <scope line="271"/>
                    <scope line="273">
                        <declaration name="booleanDirection" type="boolean" line="274"/>
                        <declaration name="dev" type="double" line="276"/>
                        <declaration name="sumsq" type="double" line="277"/>
                        <scope line="278">
                            <scope line="279"/>
                        </scope>
                        <scope line="285"/>
                        <scope line="287"/>
                    </scope>
                </scope>
            </method>
            <javadoc line="294">
                Returns true iff biasCorrected property is set to true.                
                <@return>
                    n the value of biasCorrected.                    
                </@return>
            </javadoc>
            <method name="isBiasCorrected" type="boolean" line="299"/>
            <javadoc line="303">
                Sets the biasCorrected property.                
                <@param>
                    m biasCorrected new biasCorrected property value                    
                </@param>
            </javadoc>
            <method name="setBiasCorrected" type="void" line="308"/>
            <javadoc line="312">
                Returns the varianceDirection property.                
                <@return>
                    n the varianceDirection                    
                </@return>
            </javadoc>
            <method name="getVarianceDirection" type="Direction" line="317"/>
            <javadoc line="321">
                Sets the variance direction                
                <@param>
                    m varianceDirection the direction of the semivariance                    
                </@param>
            </javadoc>
            <method name="setVarianceDirection" type="void" line="326"/>
            <javadoc line="330">
                The direction of the semivariance - either upside or downside. The direction
                 * is represented by boolean, with true corresponding to UPSIDE semivariance.                
            </javadoc>
            <javadoc line="335">
                The UPSIDE Direction is used to specify that the observations above the
                 * cutoff point will be used to calculate SemiVariance                
            </javadoc>
            <javadoc line="341">
                The DOWNSIDE Direction is used to specify that the observations below
                 * the cutoff point will be used to calculate SemiVariance                
            </javadoc>
            <declaration name="direction" type="boolean" line="347"/>
            <javadoc line="347">
                boolean value  UPSIDE &lt;-&gt; true                
            </javadoc>
            <javadoc line="352">
                Create a Direction with the given value.                
                <@param>
                    m b boolean value representing the Direction. True corresponds to UPSIDE.                    
                </@param>
            </javadoc>
            <method name="Direction" type="constructor" line="357"/>
            <javadoc line="361">
                Returns the value of this Direction. True corresponds to UPSIDE.                
                <@return>
                    n true if direction is UPSIDE; false otherwise                    
                </@return>
            </javadoc>
            <method name="getDirection" type="boolean" line="366"/>
        </class>
    </source>