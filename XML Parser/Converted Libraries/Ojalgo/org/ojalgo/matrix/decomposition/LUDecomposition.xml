<?xml version="1.0" encoding="UTF-8"?>
<source package="org.ojalgo.matrix.decomposition">
  <import name="static org.ojalgo.constant.PrimitiveMath.*" />
  <import name="java.math.BigDecimal" />
  <import name="org.ojalgo.access.Access2D" />
  <import name="org.ojalgo.array.SimpleArray" />
  <import name="org.ojalgo.constant.PrimitiveMath" />
  <import name="org.ojalgo.function.aggregator.AggregatorFunction" />
  <import name="org.ojalgo.matrix.MatrixUtils" />
  <import name="org.ojalgo.matrix.jama.JamaLU" />
  <import name="org.ojalgo.matrix.store.BigDenseStore" />
  <import name="org.ojalgo.matrix.store.ComplexDenseStore" />
  <import name="org.ojalgo.matrix.store.LowerTriangularStore" />
  <import name="org.ojalgo.matrix.store.MatrixStore" />
  <import name="org.ojalgo.matrix.store.PrimitiveDenseStore" />
  <import name="org.ojalgo.matrix.store.RowsStore" />
  <import name="org.ojalgo.matrix.store.UpperTriangularStore" />
  <import name="org.ojalgo.matrix.store.WrapperStore" />
  <import name="org.ojalgo.scalar.ComplexNumber" />
  <import name="org.ojalgo.type.context.NumberContext" />
  <class name="LUDecomposition" extends="InPlaceDecomposition<N>" startLine="45">
    <implements name="LU<N>" />
    <javadoc>
      <text>* You create instances of (some subclass of) this class by calling one of the static factory methods:{@linkplain #makeBig()}, {@linkplain #makeComplex()}, {@linkplain #makePrimitive()} or {@linkplain #makeJama()}.</text>
      <author>apete</author>
    </javadoc>
    <class name="Pivot" startLine="53">
      <declaration type="int[]" name="myOrder" />
      <declaration type="int" name="mySign" />
      <declaration type="boolean" name="myModified" />
      <method type="constructor" name="Pivot" startLine="59" endLine="65" />
      <method type="void" name="change" startLine="67" endLine="82">
        <scope startLine="69" endLine="79">
          <declaration type="int" name="temp" />
        </scope>
        <scope startLine="79" endLine="81">
          <comment>Why?!</comment>
        </scope>
      </method>
      <method type="int[]" name="getOrder" startLine="84" endLine="86" />
      <method type="boolean" name="isModified" startLine="88" endLine="90" />
      <method type="int" name="signum" startLine="92" endLine="94" />
      <class name="Big" extends="LUDecomposition<BigDecimal>" startLine="98">
        <method type="constructor" name="Big" startLine="100" endLine="102" />
        <class name="Complex" extends="LUDecomposition<ComplexNumber>" startLine="106">
          <method type="constructor" name="Complex" startLine="108" endLine="110" />
          <class name="Primitive" extends="LUDecomposition<Double>" startLine="114">
            <method type="constructor" name="Primitive" startLine="116" endLine="118" />
            <method type="LU<N>" name="make" startLine="123" endLine="143">
              <declaration type="N" name="tmpNumber" />
              <scope startLine="127" endLine="129" />
              <scope startLine="129" endLine="131" />
              <scope startLine="131" endLine="140">
                <declaration type="int" name="tmpMaxDim" />
                <scope startLine="135" endLine="137" />
                <scope startLine="137" endLine="139" />
                <comment>16,32,2</comment>
              </scope>
              <scope startLine="140" endLine="142" />
            </method>
            <method type="LU<BigDecimal>" name="makeBig" startLine="145" endLine="147" />
            <method type="LU<ComplexNumber>" name="makeComplex" startLine="149" endLine="151" />
            <method type="LU<Double>" name="makeJama" startLine="153" endLine="155" />
            <method type="LU<Double>" name="makePrimitive" startLine="157" endLine="159" />
            <declaration type="Pivot" name="myPivot" />
            <method type="constructor" name="LUDecomposition" startLine="163" endLine="165" />
            <method type="N" name="calculateDeterminant" startLine="167" endLine="170" />
            <method type="boolean" name="compute" startLine="172" endLine="174" />
            <method type="boolean" name="computeWithoutPivoting" startLine="176" endLine="178" />
            <method type="boolean" name="equals" startLine="180" endLine="182" />
            <method type="N" name="getDeterminant" startLine="184" endLine="195">
              <declaration type="AggregatorFunction<N>" name="tmpAggrFunc" />
              <scope startLine="190" endLine="192" />
              <scope startLine="192" endLine="194" />
            </method>
            <method type="MatrixStore<N>" name="getInverse" startLine="198" endLine="200" />
            <method type="MatrixStore<N>" name="getInverse" startLine="203" endLine="206" />
            <method type="MatrixStore<N>" name="getL" startLine="208" endLine="210" />
            <method type="int[]" name="getPivotOrder" startLine="212" endLine="214" />
            <method type="int" name="getRank" startLine="216" endLine="230">
              <declaration type="int" name="retVal" />
              <declaration type="DecompositionStore<N>" name="tmpStore" />
              <declaration type="int" name="tmpMinDim" />
              <scope startLine="223" endLine="227">
                <scope startLine="224" endLine="226" />
              </scope>
            </method>
            <method type="int[]" name="getReducedPivots" startLine="232" endLine="247">
              <declaration type="int[]" name="retVal" />
              <declaration type="int[]" name="tmpFullPivots" />
              <declaration type="DecompositionStore<N>" name="tmpInPlace" />
              <declaration type="int" name="tmpRedInd" />
              <scope startLine="240" endLine="244">
                <scope startLine="241" endLine="243" />
              </scope>
            </method>
            <method type="MatrixStore<N>" name="getU" startLine="249" endLine="251" />
            <method type="boolean" name="isFullSize" startLine="253" endLine="255" />
            <method type="boolean" name="isSolvable" startLine="257" endLine="259" />
            <method type="boolean" name="isSquareAndNotSingular" startLine="261" endLine="273">
              <declaration type="boolean" name="retVal" />
              <declaration type="DecompositionStore<N>" name="tmpStore" />
              <declaration type="int" name="tmpMinDim" />
              <scope startLine="268" endLine="270" />
            </method>
            <method type="MatrixStore<N>" name="reconstruct" startLine="275" endLine="277" />
            <method type="void" name="reset" startLine="280" endLine="285" />
            <javadoc>
              <text>* Solves [this][X] = [aRHS] by first solving
 * <pre>
 * [L][Y] = [aRHS]
 * </pre>
 * and then
 * <pre>
 * [U][X] = [Y]
 * </pre>
 * .</text>
              <param>rhs The right hand side</param>
              <return>[X] The solution will be written to "preallocated" and then returned.</return>
              <see>org.ojalgo.matrix.decomposition.AbstractDecomposition#solve(Access2D,org.ojalgo.matrix.decomposition.DecompositionStore)</see>
            </javadoc>
            <method type="MatrixStore<N>" name="solve" startLine="308" endLine="319">
              <declaration type="DecompositionStore<N>" name="tmpBody" />
            </method>
            <method type="boolean" name="compute" startLine="321" endLine="367">
              <declaration type="DecompositionStore<N>" name="tmpInPlace" />
              <declaration type="int" name="tmpRowDim" />
              <declaration type="int" name="tmpColDim" />
              <declaration type="int" name="tmpMinDim" />
              <declaration type="SimpleArray<N>" name="tmpMultipliers" />
              <scope startLine="336" endLine="364">
                <scope startLine="338" endLine="347">
                  <declaration type="int" name="tmpPivotRow" />
                  <scope startLine="343" endLine="346" />
                </scope>
                <scope startLine="350" endLine="359" />
                <scope startLine="359" endLine="362" />
                <comment>Find next pivot row</comment>
                <comment>Pivot?</comment>
                <comment>Do the calculations...</comment>
                <comment>Calculate multipliers and copy to local column</comment>
                <comment>Current column, below the diagonal</comment>
                <comment>Apply transformations to everything below and to the right of the pivot element</comment>
              </scope>
              <comment>Main loop - along the diagonal</comment>
            </method>
            <method type="MatrixStore<N>" name="invert" startLine="369" endLine="384">
              <declaration type="int[]" name="tmpPivotOrder" />
              <declaration type="int" name="tmpRowDim" />
              <scope startLine="373" endLine="375" />
              <declaration type="DecompositionStore<N>" name="tmpBody" />
            </method>
          </class>
        </class>
      </class>
    </class>
  </class>
</source>
