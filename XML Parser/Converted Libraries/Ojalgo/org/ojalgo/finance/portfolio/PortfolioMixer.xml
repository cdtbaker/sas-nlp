<?xml version="1.0" encoding="UTF-8"?>
<source package="org.ojalgo.finance.portfolio">
  <import name="static org.ojalgo.constant.BigMath.*" />
  <import name="java.math.BigDecimal" />
  <import name="java.util.ArrayList" />
  <import name="java.util.Arrays" />
  <import name="java.util.Collection" />
  <import name="java.util.HashMap" />
  <import name="java.util.List" />
  <import name="java.util.Map.Entry" />
  <import name="org.ojalgo.ProgrammingError" />
  <import name="org.ojalgo.constant.BigMath" />
  <import name="org.ojalgo.optimisation.Expression" />
  <import name="org.ojalgo.optimisation.ExpressionsBasedModel" />
  <import name="org.ojalgo.optimisation.Variable" />
  <import name="org.ojalgo.type.TypeUtils" />
  <class name="PortfolioMixer" startLine="41">
    <declaration type="String" name="ACTIVE" />
    <declaration type="String" name="B" />
    <declaration type="String" name="C" />
    <declaration type="String" name="DIMENSION_MISMATCH" />
    <declaration type="String" name="QUADRATIC_OBJECTIVE_PART" />
    <declaration type="String" name="STRATEGY_COUNT" />
    <declaration type="ArrayList<FinancePortfolio>" name="myComponents" />
    <declaration type="FinancePortfolio" name="myTarget" />
    <declaration type="HashMap<int[],LowerUpper>" name="myAssetConstraints" />
    <declaration type="HashMap<int[],LowerUpper>" name="myComponentConstraints" />
    <method type="constructor" name="PortfolioMixer" startLine="55" endLine="57" />
    <method type="constructor" name="PortfolioMixer" startLine="59" endLine="75">
      <declaration type="int" name="tmpSize" />
      <scope startLine="68" endLine="74">
        <scope startLine="69" endLine="71" />
        <scope startLine="71" endLine="73" />
      </scope>
    </method>
    <method type="constructor" name="PortfolioMixer" startLine="78" endLine="83" />
    <method type="LowerUpper" name="addAssetConstraint" startLine="85" endLine="87" />
    <method type="LowerUpper" name="addComponentConstraint" startLine="89" endLine="91" />
    <method type="List<BigDecimal>" name="mix" startLine="93" endLine="210">
      <declaration type="int" name="tmpNumberOfAssets" />
      <declaration type="int" name="tmpNumberOfComponents" />
      <declaration type="Variable[]" name="tmpVariables" />
      <scope startLine="100" endLine="117">
        <declaration type="Variable" name="tmpVariable" />
        <declaration type="BigDecimal" name="tmpVal" />
        <scope startLine="105" endLine="107" />
      </scope>
      <declaration type="ExpressionsBasedModel" name="tmpModel" />
      <declaration type="Expression" name="tmpQuadObj" />
      <scope startLine="123" endLine="139">
        <scope startLine="124" endLine="131">
          <declaration type="BigDecimal" name="tmpVal" />
          <scope startLine="127" endLine="129" />
        </scope>
        <declaration type="Expression" name="tmpActive" />
        <comment>BasicLogger.logDebug(tmpActive.toString());</comment>
        <comment>BasicLogger.logDebug(tmpActive.getName(), tmpActive.getLinear().getFactors());</comment>
      </scope>
      <declaration type="Expression" name="tmpHundredPercent" />
      <scope startLine="144" endLine="146" />
      <declaration type="Expression" name="tmpStrategyCount" />
      <scope startLine="152" endLine="154" />
      <scope startLine="158" endLine="175">
        <declaration type="int" name="tmpIndex" />
        <declaration type="BigDecimal" name="tmpLower" />
        <declaration type="BigDecimal" name="tmpUpper" />
        <declaration type="Expression" name="tmpExpr" />
        <scope startLine="166" endLine="168" />
        <scope startLine="169" endLine="171" />
        <scope startLine="172" endLine="174" />
        <comment>For now I assume there is only 1 index</comment>
      </scope>
      <scope startLine="177" endLine="195">
        <declaration type="int" name="tmpIndex" />
        <declaration type="BigDecimal" name="tmpLower" />
        <declaration type="BigDecimal" name="tmpUpper" />
        <declaration type="Expression" name="tmpExpr" />
        <scope startLine="187" endLine="188" />
        <scope startLine="189" endLine="191" />
        <scope startLine="192" endLine="194" />
        <comment>For now I assume there is only 1 index</comment>
      </scope>
      <declaration type="ArrayList<BigDecimal>" name="retVal" />
      <scope startLine="206" endLine="208" />
      <comment>BasicLogger.logDebug(QUADRATIC_OBJECTIVE_PART, tmpQuadObj.getQuadratic().getFactors());</comment>
      <comment>BasicLogger.logDebug(tmpHundredPercent.toString());</comment>
      <comment>BasicLogger.logDebug(tmpHundredPercent.getName(), tmpHundredPercent.getLinear().getFactors());</comment>
      <comment>BasicLogger.logDebug(tmpStrategyCount.toString());</comment>
      <comment>BasicLogger.logDebug(tmpStrategyCount.getName(), tmpStrategyCount.getLinear().getFactors());</comment>
      <comment>tmpModel.options.debug_stream = BasicLogger.DEBUG;</comment>
      <comment>tmpModel.options.debug_solver = IntegerSolver.class;</comment>
      <comment>BasicLogger.logDebug(tmpModel.toString());</comment>
      <comment>BasicLogger.logDebug(Arrays.toString(tmpVariables));</comment>
    </method>
  </class>
</source>
