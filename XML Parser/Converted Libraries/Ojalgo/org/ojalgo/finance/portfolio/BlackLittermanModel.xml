<?xml version="1.0" encoding="UTF-8"?>
<source package="org.ojalgo.finance.portfolio">
  <import name="java.math.BigDecimal" />
  <import name="java.util.ArrayList" />
  <import name="java.util.List" />
  <import name="org.ojalgo.ProgrammingError" />
  <import name="org.ojalgo.access.Access2D" />
  <import name="org.ojalgo.access.Access2D.Builder" />
  <import name="org.ojalgo.constant.BigMath" />
  <import name="org.ojalgo.constant.PrimitiveMath" />
  <import name="org.ojalgo.function.PrimitiveFunction" />
  <import name="org.ojalgo.matrix.BasicMatrix" />
  <import name="org.ojalgo.matrix.PrimitiveMatrix" />
  <import name="org.ojalgo.scalar.BigScalar" />
  <import name="org.ojalgo.scalar.Scalar" />
  <import name="org.ojalgo.type.TypeUtils" />
  <class name="BlackLittermanModel" extends="EquilibriumModel" startLine="40">
    <class name="View" extends="FinancePortfolio" startLine="42">
      <javadoc>
        <text>* View/Forecast/Opinion</text>
        <author>apete</author>
      </javadoc>
      <declaration type="BigDecimal" name="myMeanReturn" />
      <declaration type="BlackLittermanModel" name="myModel" />
      <declaration type="BigDecimal" name="myReturnVariance" />
      <declaration type="BigDecimal" name="myScale" />
      <declaration type="List<BigDecimal>" name="myWeights" />
      <method type="constructor" name="View" startLine="55" endLine="61" />
      <method type="constructor" name="View" startLine="64" endLine="72" />
      <method type="double" name="getMeanReturn" startLine="75" endLine="81">
        <scope startLine="76" endLine="78" />
        <scope startLine="78" endLine="80" />
      </method>
      <method type="double" name="getReturnVariance" startLine="84" endLine="107">
        <scope startLine="86" endLine="90" />
        <scope startLine="90" endLine="106">
          <declaration type="BasicMatrix" name="tmpWeights" />
          <declaration type="BigDecimal" name="retVal" />
          <scope startLine="96" endLine="100" />
          <scope startLine="100" endLine="103" />
        </scope>
      </method>
      <method type="List<BigDecimal>" name="getWeights" startLine="110" endLine="112" />
      <method type="void" name="reset" startLine="115" endLine="116" />
      <method type="void" name="setMeanReturn" startLine="118" endLine="120" />
      <method type="void" name="setReturnVariance" startLine="122" endLine="124" />
      <method type="void" name="setScale" startLine="126" endLine="128" />
      <declaration type="BigDecimal" name="myConfidence" />
      <declaration type="BasicMatrix" name="myOriginalWeights" />
      <declaration type="List<FinancePortfolio>" name="myViews" />
      <method type="constructor" name="BlackLittermanModel" startLine="136" endLine="142" />
      <javadoc>
        <param>aMarketEquilibrium The covariance matrix, and market risk aversion</param>
        <param>originalWeights The market portfolio</param>
      </javadoc>
      <method type="constructor" name="BlackLittermanModel" startLine="148" endLine="154" />
      <method type="constructor" name="BlackLittermanModel" startLine="156" endLine="164" />
      <method type="void" name="addView" startLine="166" endLine="168" />
      <method type="void" name="addViewWithBalancedConfidence" startLine="170" endLine="179">
        <declaration type="View" name="tmpView" />
      </method>
      <method type="void" name="addViewWithScaledConfidence" startLine="181" endLine="190">
        <declaration type="View" name="tmpView" />
      </method>
      <javadoc>
        <deprecated>v30</deprecated>
      </javadoc>
      <method type="void" name="addViewWithStandardDeviation" startLine="196" endLine="205">
        <declaration type="View" name="tmpView" />
      </method>
      <javadoc>
        <text>* "weight on views" or "tau"
 * A parameter that describes the general confidence in the views.
 * Typically set to sometghing between 0.0 and 1.0.
 * 0.0 = "No confidence!" Why bother...
 * 1.0 = As confident as the market. This is highly unlikely.</text>
      </javadoc>
      <method type="Scalar<?>" name="getConfidence" startLine="215" endLine="217" />
      <javadoc>
        <see>#getConfidence()</see>
      </javadoc>
      <method type="void" name="setConfidence" startLine="222" endLine="224" />
      <method type="BasicMatrix" name="calculateAssetReturns" startLine="227" endLine="229" />
      <method type="BasicMatrix" name="calculateAssetWeights" startLine="232" endLine="247">
        <declaration type="BasicMatrix" name="tmpViewPortfolios" />
        <declaration type="BasicMatrix" name="tmpViewReturns" />
        <declaration type="BasicMatrix" name="tmpViewVariances" />
        <declaration type="BasicMatrix" name="tmpCovariances" />
        <declaration type="BasicMatrix" name="tmpRightParenthesis" />
        <declaration type="BasicMatrix" name="tmpViewsTransposed" />
        <declaration type="BasicMatrix" name="tmpLeftParenthesis" />
      </method>
      <method type="BasicMatrix" name="getOriginalReturns" startLine="249" endLine="251" />
      <javadoc>
        <see>org.ojalgo.finance.portfolio.BlackLittermanModel#getOriginalWeights()</see>
        <see>org.ojalgo.finance.portfolio.BlackLittermanModel#getAssetWeights()</see>
      </javadoc>
      <method type="BasicMatrix" name="getOriginalWeights" startLine="257" endLine="259" />
      <method type="BasicMatrix" name="getViewPortfolios" startLine="261" endLine="282">
        <declaration type="int" name="tmpRowDim" />
        <declaration type="int" name="tmpColDim" />
        <declaration type="Access2D.Builder<PrimitiveMatrix>" name="retVal" />
        <declaration type="FinancePortfolio" name="tmpView" />
        <declaration type="List<BigDecimal>" name="tmpWeights" />
        <scope startLine="271" endLine="279">
          <scope startLine="276" endLine="278" />
        </scope>
      </method>
      <javadoc>
        <text>* Scaled by risk aversion factor.</text>
      </javadoc>
      <method type="BasicMatrix" name="getViewReturns" startLine="287" endLine="305">
        <declaration type="int" name="tmpRowDim" />
        <declaration type="int" name="tmpColDim" />
        <declaration type="Access2D.Builder<PrimitiveMatrix>" name="retVal" />
        <declaration type="double" name="tmpRet" />
        <declaration type="double" name="tmpRAF" />
        <scope startLine="297" endLine="302" />
      </method>
      <method type="List<FinancePortfolio>" name="getViews" startLine="307" endLine="309" />
      <javadoc>
        <text>* Scaled by tau / weight on views</text>
      </javadoc>
      <method type="BasicMatrix" name="getViewVariances" startLine="314" endLine="340">
        <declaration type="int" name="tmpDim" />
        <declaration type="Builder<PrimitiveMatrix>" name="retVal" />
        <scope startLine="320" endLine="326">
          <scope startLine="322" endLine="324" />
        </scope>
        <scope startLine="326" endLine="337">
          <declaration type="double" name="tmpScale" />
          <declaration type="double" name="tmpVar" />
          <scope startLine="331" endLine="336" />
        </scope>
      </method>
      <method type="BigDecimal" name="calculateVariance" startLine="342" endLine="349">
        <declaration type="BasicMatrix" name="tmpVal" />
      </method>
    </class>
  </class>
</source>
