<?xml version="1.0" encoding="UTF-8"?>
<source package="org.ojalgo.finance.portfolio">
  <import name="java.math.BigDecimal" />
  <import name="java.util.ArrayList" />
  <import name="java.util.List" />
  <import name="org.ojalgo.ProgrammingError" />
  <import name="org.ojalgo.matrix.BasicMatrix" />
  <import name="org.ojalgo.scalar.Scalar" />
  <import name="org.ojalgo.type.TypeUtils" />
  <class name="EquilibriumModel" extends="FinancePortfolio" startLine="33">
    <implements name="FinancePortfolio.Context" />
    <declaration type="BasicMatrix" name="myAssetReturns" />
    <declaration type="BasicMatrix" name="myAssetVolatilities" />
    <declaration type="BasicMatrix" name="myAssetWeights" />
    <declaration type="MarketEquilibrium" name="myMarketEquilibrium" />
    <declaration type="Scalar<?>" name="myMeanReturn" />
    <declaration type="Scalar<?>" name="myReturnVariance" />
    <method type="constructor" name="EquilibriumModel" startLine="43" endLine="48" />
    <method type="constructor" name="EquilibriumModel" startLine="50" endLine="55" />
    <method type="constructor" name="EquilibriumModel" startLine="57" endLine="62" />
    <method type="double" name="calculatePortfolioReturn" startLine="64" endLine="69">
      <declaration type="List<BigDecimal>" name="tmpWeights" />
      <declaration type="BasicMatrix" name="tmpAssetWeights" />
      <declaration type="BasicMatrix" name="tmpAssetReturns" />
    </method>
    <method type="double" name="calculatePortfolioVariance" startLine="71" endLine="75">
      <declaration type="List<BigDecimal>" name="tmpWeights" />
      <declaration type="BasicMatrix" name="tmpAssetWeights" />
    </method>
    <method type="BasicMatrix" name="getAssetReturns" startLine="77" endLine="82">
      <scope startLine="78" endLine="80" />
    </method>
    <method type="BasicMatrix" name="getAssetVolatilities" startLine="84" endLine="89">
      <scope startLine="85" endLine="87" />
    </method>
    <method type="BasicMatrix" name="getAssetWeights" startLine="91" endLine="99">
      <scope startLine="92" endLine="97">
        <declaration type="BasicMatrix" name="tmpAssetWeights" />
        <scope startLine="94" endLine="96" />
      </scope>
    </method>
    <method type="BasicMatrix" name="getCorrelations" startLine="101" endLine="103" />
    <method type="BasicMatrix" name="getCovariances" startLine="105" endLine="107" />
    <method type="MarketEquilibrium" name="getMarketEquilibrium" startLine="109" endLine="111" />
    <method type="double" name="getMeanReturn" startLine="114" endLine="123">
      <scope startLine="115" endLine="121">
        <declaration type="BasicMatrix" name="tmpAssetWeights" />
        <declaration type="BasicMatrix" name="tmpAssetReturns" />
        <scope startLine="118" endLine="120" />
      </scope>
    </method>
    <method type="double" name="getReturnVariance" startLine="126" endLine="131">
      <scope startLine="127" endLine="129" />
    </method>
    <method type="Scalar<?>" name="getRiskAversion" startLine="133" endLine="135" />
    <method type="String[]" name="getSymbols" startLine="137" endLine="139" />
    <method type="List<BigDecimal>" name="getWeights" startLine="142" endLine="154">
      <declaration type="BasicMatrix" name="tmpAssetWeights" />
      <scope startLine="146" endLine="150" />
      <scope startLine="150" endLine="153" />
    </method>
    <method type="void" name="setRiskAversion" startLine="156" endLine="161" />
    <method type="int" name="size" startLine="163" endLine="165" />
    <method type="List<SimpleAsset>" name="toSimpleAssets" startLine="167" endLine="183">
      <declaration type="BasicMatrix" name="tmpReturns" />
      <declaration type="BasicMatrix" name="tmpCovariances" />
      <declaration type="List<BigDecimal>" name="tmpWeights" />
      <declaration type="ArrayList<SimpleAsset>" name="retVal" />
      <scope startLine="175" endLine="180">
        <declaration type="double" name="tmpMeanReturn" />
        <declaration type="double" name="tmpVolatility" />
        <declaration type="BigDecimal" name="tmpWeight" />
      </scope>
    </method>
    <method type="SimplePortfolio" name="toSimplePortfolio" startLine="185" endLine="187" />
    <method type="String" name="toString" startLine="190" endLine="192" />
    <method name="calculateAssetReturns" type="BasicMatrix" startLine="194" endLine="194" />
    <method type="BasicMatrix" name="calculateAssetReturns" startLine="196" endLine="198" />
    <method name="calculateAssetWeights" type="BasicMatrix" startLine="200" endLine="200" />
    <method type="BasicMatrix" name="calculateAssetWeights" startLine="202" endLine="204" />
    <method type="Scalar<?>" name="calculatePortfolioReturn" startLine="206" endLine="208" />
    <method type="Scalar<?>" name="calculatePortfolioVariance" startLine="210" endLine="212" />
    <method type="void" name="calibrate" startLine="214" endLine="219">
      <declaration type="Scalar<?>" name="tmpRiskAvesrion" />
    </method>
    <method type="void" name="reset" startLine="222" endLine="227" />
  </class>
</source>
