<?xml version="1.0" encoding="UTF-8"?>
<source package="edu.umd.cs.piccolo.examples.pswing">
  <import name="edu.umd.cs.piccolox.pswing.PSwing" />
  <import name="edu.umd.cs.piccolox.pswing.PSwingCanvas" />
  <import name="javax.swing.*" />
  <import name="javax.swing.border.CompoundBorder" />
  <import name="javax.swing.border.EmptyBorder" />
  <import name="javax.swing.border.LineBorder" />
  <import name="java.awt.*" />
  <import name="java.awt.event.ActionEvent" />
  <import name="java.awt.event.ActionListener" />
  <import name="java.lang.reflect.InvocationTargetException" />
  <class name="PSwingDynamicComponentExample" extends="JFrame" startLine="43">
    <javadoc>
      <text>* Demonstrates a PSwing problem with dynamic JComponents.
 * <p>
 * This example shows 2 identical JPanels.
 * The panel on the left uses PSwing.
 * The panel on the right uses pure Swing.
 * <p>
 * The JPanel contain various JComponents whose text can be updated by 
 * typing into JTextFields and pressing the "Update" button.
 * The JPanel managed by PSwing is often rendered incorrectly.
 * <p>
 * Please see piccolo2d issue 163 for more information about this problem and solution:
 * http://code.google.com/p/piccolo2d/issues/detail?id=163</text>
      <author>Chris Malley (cmalley@pixelzoom.com)</author>
      <author>Sam Reid</author>
    </javadoc>
    <declaration type="Dimension" name="FRAME_SIZE" />
    <declaration type="int" name="TEXT_FIELD_COLUMNS" />
    <declaration type="ComponentPanel" name="swingPanel" />
    <declaration type="JTextField" name="labelTextField" />
    <method type="constructor" name="PSwingDynamicComponentExample" startLine="68" endLine="162">
      <declaration type="PSwingCanvas" name="canvas" />
      <declaration type="PSwing" name="pswing" />
      <declaration type="JPanel" name="jpanel" />
      <declaration type="JButton" name="updateButton" />
      <method type="void" name="actionPerformed" startLine="98" endLine="100" />
      <declaration type="JButton" name="addComponentButton" />
      <method type="void" name="actionPerformed" startLine="107" endLine="110" />
      <declaration type="JPanel" name="controlPanel" />
      <declaration type="GridBagConstraints" name="c" />
      <declaration type="JPanel" name="mainPanel" />
      <comment>canvas</comment>
      <comment>panel that we'll display using Piccolo</comment>
      <comment>panel that we're display using pure Swing</comment>
      <comment>text fields, for specifying dynamic text</comment>
      <comment>Update button, for applying dynamic text</comment>
      <comment />
      <comment>control panel</comment>
      <comment>JLabel</comment>
      <comment>JCheckBox</comment>
      <comment>JRadioButton</comment>
      <comment>Update button</comment>
      <comment>Add component buttons</comment>
      <comment>main panel</comment>
    </method>
    <method type="void" name="updatePanels" startLine="165" endLine="176">
      <comment>Piccolo (PSwing) panel</comment>
      <comment>Swing panel</comment>
    </method>
    <class name="ComponentPanel" extends="JPanel" startLine="179">
      <declaration type="JLabel" name="label" />
      <declaration type="JCheckBox" name="checkBox" />
      <declaration type="JRadioButton" name="radioButton" />
      <declaration type="GridBagConstraints" name="constraints" />
      <method type="constructor" name="ComponentPanel" startLine="187" endLine="205">
        <comment>components</comment>
        <comment>layout</comment>
      </method>
      <method type="void" name="addComponent" startLine="207" endLine="210" />
      <class name="SleepThread" extends="Thread" startLine="213">
        <method type="constructor" name="SleepThread" startLine="215" endLine="240">
          <method type="void" name="run" startLine="217" endLine="238">
            <scope startLine="218" endLine="237">
              <scope startLine="219" endLine="230">
                <method type="void" name="run" startLine="221" endLine="228">
                  <scope startLine="222" endLine="224" />
                  <scope startLine="225" endLine="227" />
                </method>
              </scope>
              <scope startLine="231" endLine="233" />
              <scope startLine="234" endLine="236" />
            </scope>
          </method>
        </method>
        <method type="void" name="main" startLine="243" endLine="253">
          <method type="void" name="run" startLine="247" endLine="251">
            <declaration type="JFrame" name="frame" />
          </method>
          <comment>This thread serves to make the problem more noticeable.</comment>
          <comment>new SleepThread( 1000 ).start();</comment>
        </method>
      </class>
    </class>
    <comment>applies the text field values to the components in the panels</comment>
    <comment>A panel with a few different types of JComponent.</comment>
    <comment>allow public access to keep our example code short</comment>
  </class>
</source>
